(self.webpackChunkformbuilder_lhcforms=self.webpackChunkformbuilder_lhcforms||[]).push([[792],{8373:q=>{q.exports={definitions:{string:{pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},Element:{type:"object",description:"Base definition for all elements in a resource.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array"}},additionalProperties:!1},Extension:{description:"Optional Extension Element - found in all resources.",properties:{extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array"},id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"hidden"}},url:{description:"Source of the definition for the extension code - a logical name or a URL.",pattern:"^\\S*$",type:"string"},valueBase64Binary:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^(\\s*([0-9a-zA-Z\\+/=]){4}\\s*)+$",type:"string"},valueBoolean:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^true|false$",type:"boolean"},valueCanonical:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^\\S*$",type:"string"},valueCode:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},valueDate:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string"},valueDateTime:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},valueDecimal:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},valueId:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^[A-Za-z0-9\\-\\.]{1,64}$",type:"string"},valueInstant:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))$",type:"string"},valueInteger:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^-?([0]|([1-9][0-9]*))$",type:"number"},valueMarkdown:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},valueOid:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^urn:oid:[0-2](\\.(0|[1-9][0-9]*))+$",type:"string"},valuePositiveInt:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^[1-9][0-9]*$",type:"number"},valueString:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},valueTime:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string"},valueUnsignedInt:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^[0]|([1-9][0-9]*)$",type:"number"},valueUri:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^\\S*$",type:"string"},valueUrl:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^\\S*$",type:"string"},valueUuid:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",pattern:"^urn:uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",type:"string"},valueAddress:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},use:{description:"The purpose of this address.",enum:["home","work","temp","old","billing"],type:"string"},type:{description:"Distinguishes between physical addresses (those you can visit) and mailing addresses (e.g. PO Boxes and care-of addresses). Most addresses are both.",enum:["postal","physical","both"],type:"string"},text:{description:"Specifies the entire address as it should be displayed e.g. on a postal label. This may be provided instead of or as well as the specific parts.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},line:{description:"This component contains the house number, apartment number, street name, street direction,  P.O. Box number, delivery hints, and similar address information.",items:{pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:"array"},city:{description:"The name of the city, town, suburb, village or other community or delivery center.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},district:{description:"The name of the administrative area (county).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},state:{description:"Sub-unit of a country with limited sovereignty in a federally organized country. A code may be used if codes are in common use (e.g. US 2 letter state codes).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},postalCode:{description:"A postal code designating a region defined by the postal service.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},country:{description:"Country - a nation as commonly understood or generally accepted.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},period:{description:"Time period when address was/is in use.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueAge:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueAnnotation:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},authorReference:{description:"The individual responsible for making the annotation.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},authorString:{description:"The individual responsible for making the annotation.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},time:{description:"Indicates when this particular annotation was made.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},text:{description:"The text of the annotation in markdown format.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},valueAttachment:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},contentType:{description:"Identifies the type of the data in the attachment and allows a method to be chosen to interpret or render the data. Includes mime type parameters such as charset where appropriate.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},language:{description:"The human language of the content. The value can be any valid value according to BCP 47.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},data:{description:"The actual data of the attachment - a sequence of bytes, base64 encoded.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},url:{description:"A location where the data can be accessed.",pattern:"^\\S*$",type:"string"},size:{description:"The number of bytes of data that make up this attachment (before base64 encoding, if that is done).",pattern:"^[0]|([1-9][0-9]*)$",type:"number"},hash:{description:"The calculated hash of the data using SHA-1. Represented using base64.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},title:{description:"A label or set of text to display in place of the data.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},creation:{description:"The date that the attachment was first created.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},valueCodeableConcept:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},coding:{description:"A reference to a code defined by a terminology system.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},type:"array"},text:{description:"A human language representation of the concept as seen/selected/uttered by the user who entered the data and/or which represents the intended meaning of the user.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},valueCoding:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},valueContactPoint:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"Telecommunications form for contact point - what communications system is required to make use of the contact.",enum:["phone","fax","email","pager","url","sms","other"],type:"string"},value:{description:"The actual contact point details, in a form that is meaningful to the designated communication system (i.e. phone number or email address).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},use:{description:"Identifies the purpose for the contact point.",enum:["home","work","temp","old","mobile"],type:"string"},rank:{description:"Specifies a preferred order in which to use a set of contacts. ContactPoints with lower rank values are more preferred than those with higher rank values.",pattern:"^[1-9][0-9]*$",type:"number"},period:{description:"Time period when the contact point was/is in use.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueCount:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueDistance:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueDuration:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueHumanName:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},use:{description:"Identifies the purpose for this name.",enum:["usual","official","temp","nickname","anonymous","old","maiden"],type:"string"},text:{description:"Specifies the entire name as it should be displayed e.g. on an application UI. This may be provided instead of or as well as the specific parts.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},family:{description:"The part of a name that links to the genealogy. In some cultures (e.g. Eritrea) the family name of a son is the first name of his father.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},given:{description:"Given name.",items:{pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:"array"},prefix:{description:"Part of the name that is acquired as a title due to academic, legal, employment or nobility status, etc. and that appears at the start of the name.",items:{pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:"array"},suffix:{description:"Part of the name that is acquired as a title due to academic, legal, employment or nobility status, etc. and that appears at the end of the name.",items:{pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:"array"},period:{description:"Indicates the period of time when this name was valid for the named person.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueIdentifier:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},use:{description:"The purpose of this identifier.",enum:["usual","official","temp","secondary","old"],type:"string"},type:{description:"A coded type for the identifier that can be used to determine which identifier to use for a specific purpose.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},coding:{description:"A reference to a code defined by a terminology system.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},type:"array"},text:{description:"A human language representation of the concept as seen/selected/uttered by the user who entered the data and/or which represents the intended meaning of the user.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},system:{description:"Establishes the namespace for the value - that is, a URL that describes a set values that are unique.",pattern:"^\\S*$",type:"string"},value:{description:"The portion of the identifier typically relevant to the user and which is unique within the context of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},period:{description:"Time period during which identifier is/was valid for use.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},assigner:{description:"Organization that issued/manages the identifier.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueMoney:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"Numerical value (with implicit precision).",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},currency:{description:"ISO 4217 Currency Code.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valuePeriod:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},valueQuantity:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueRange:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},low:{description:"The low limit. The boundary is inclusive.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},high:{description:"The high limit. The boundary is inclusive.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueRatio:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},numerator:{description:"The value of the numerator.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},denominator:{description:"The value of the denominator.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueReference:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},valueSampledData:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},origin:{description:"The base quantity that a measured value of zero represents. In addition, this provides the units of the entire measurement series.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},period:{description:"The length of time between sampling times, measured in milliseconds.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},factor:{description:"A correction factor that is applied to the sampled data points before they are added to the origin.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},lowerLimit:{description:'The lower limit of detection of the measured points. This is needed if any of the data points have the value "L" (lower than detection limit).',pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},upperLimit:{description:'The upper limit of detection of the measured points. This is needed if any of the data points have the value "U" (higher than detection limit).',pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},dimensions:{description:"The number of sample points at each time point. If this value is greater than one, then the dimensions will be interlaced - all the sample points for a point in time will be recorded at once.",pattern:"^[1-9][0-9]*$",type:"number"},data:{description:'A series of data points which are decimal values separated by a single space (character u20). The special values "E" (error), "L" (below detection limit) and "U" (above detection limit) can also be used in place of a decimal value.',pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,required:["origin"],type:"object"},valueSignature:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:"An indication of the reason that the entity signed this document. This may be explicitly included as part of the signature information and can be used when determining accountability for various actions concerning the document.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},type:"array"},when:{description:"When the digital signature was signed.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))$",type:"string"},who:{description:"A reference to an application-usable description of the identity that signed  (e.g. the signature used their private key).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},onBehalfOf:{description:"A reference to an application-usable description of the identity that is represented by the signature.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},targetFormat:{description:"A mime type that indicates the technical format of the target resources signed by the signature.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},sigFormat:{description:"A mime type that indicates the technical format of the signature. Important mime types are application/signature+xml for X ML DigSig, application/jose for JWS, and image/* for a graphical image of a signature, etc.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},data:{description:"The base64 encoding of the Signature content. When signature is not recorded electronically this element would be empty.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,required:["type","who"],type:"object"},valueContactDetail:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},name:{description:"The name of an individual to contact.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},telecom:{description:"The contact details for the individual (if a name was provided) or the organization.",items:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"Telecommunications form for contact point - what communications system is required to make use of the contact.",enum:["phone","fax","email","pager","url","sms","other"],type:"string"},value:{description:"The actual contact point details, in a form that is meaningful to the designated communication system (i.e. phone number or email address).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},use:{description:"Identifies the purpose for the contact point.",enum:["home","work","temp","old","mobile"],type:"string"},rank:{description:"Specifies a preferred order in which to use a set of contacts. ContactPoints with lower rank values are more preferred than those with higher rank values.",pattern:"^[1-9][0-9]*$",type:"number"},period:{description:"Time period when the contact point was/is in use.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},type:"array"}},additionalProperties:!1,type:"object"},valueContributor:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:"The type of contributor.",enum:["author","editor","reviewer","endorser"],type:"string"},name:{description:"The name of the individual or organization responsible for the contribution.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},contact:{description:"Contact details to assist a user in finding and communicating with the contributor.",items:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},name:{description:"The name of an individual to contact.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},telecom:{description:"The contact details for the individual (if a name was provided) or the organization.",items:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"Telecommunications form for contact point - what communications system is required to make use of the contact.",enum:["phone","fax","email","pager","url","sms","other"],type:"string"},value:{description:"The actual contact point details, in a form that is meaningful to the designated communication system (i.e. phone number or email address).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},use:{description:"Identifies the purpose for the contact point.",enum:["home","work","temp","old","mobile"],type:"string"},rank:{description:"Specifies a preferred order in which to use a set of contacts. ContactPoints with lower rank values are more preferred than those with higher rank values.",pattern:"^[1-9][0-9]*$",type:"number"},period:{description:"Time period when the contact point was/is in use.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},type:"array"}},additionalProperties:!1,type:"object"},type:"array"}},additionalProperties:!1,type:"object"},valueExpression:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},description:{description:"A brief, natural language description of the condition that effectively communicates the intended semantics.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},name:{description:"A short name assigned to the expression to allow for multiple reuse of the expression in the context where it is defined.",pattern:"^[A-Za-z0-9\\-\\.]{1,64}$",type:"string"},language:{description:"The media type of the language for the expression.",enum:["text/cql","text/fhirpath","application/x-fhir-query"],type:"string"},expression:{description:"An expression in the specified language that returns a value.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},reference:{description:"A URI that defines where the expression is found.",pattern:"^\\S*$",type:"string"}},additionalProperties:!1,type:"object"},valueParameterDefinition:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},name:{description:"The name of the parameter used to allow access to the value of the parameter in evaluation contexts.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},use:{description:"Whether the parameter is input or output for the module.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},min:{description:"The minimum number of times this parameter SHALL appear in the request or response.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"number"},max:{description:"The maximum number of times this element is permitted to appear in the request or response.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},documentation:{description:"A brief discussion of what the parameter is for and how it is used by the module.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:"The type of the parameter.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},profile:{description:"If specified, this indicates a profile that the input data must conform to, or that the output data will conform to.",pattern:"^\\S*$",type:"string"}},additionalProperties:!1,type:"object"},valueRelatedArtifact:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:"The type of relationship to the related artifact.",enum:["documentation","justification","citation","predecessor","successor","derived-from","depends-on","composed-of"],type:"string"},label:{description:"A short label that can be used to reference the citation from elsewhere in the containing artifact, such as a footnote index.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},display:{description:"A brief description of the document or knowledge resource being referenced, suitable for display to a consumer.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},citation:{description:"A bibliographic citation for the related artifact. This text SHOULD be formatted according to an accepted citation format.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},url:{description:"A url for the artifact that can be followed to access the actual content.",pattern:"^\\S*$",type:"string"},document:{description:"The document being referenced, represented as an attachment. This is exclusive with the resource element.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},contentType:{description:"Identifies the type of the data in the attachment and allows a method to be chosen to interpret or render the data. Includes mime type parameters such as charset where appropriate.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},language:{description:"The human language of the content. The value can be any valid value according to BCP 47.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},data:{description:"The actual data of the attachment - a sequence of bytes, base64 encoded.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},url:{description:"A location where the data can be accessed.",pattern:"^\\S*$",type:"string"},size:{description:"The number of bytes of data that make up this attachment (before base64 encoding, if that is done).",pattern:"^[0]|([1-9][0-9]*)$",type:"number"},hash:{description:"The calculated hash of the data using SHA-1. Represented using base64.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},title:{description:"A label or set of text to display in place of the data.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},creation:{description:"The date that the attachment was first created.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},resource:{description:"The related resource, such as a library, value set, profile, or other knowledge resource.",pattern:"^\\S*$",type:"string"}},additionalProperties:!1,type:"object"},valueUsageContext:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A code that identifies the type of context being specified by this usage context.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},valueCodeableConcept:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},coding:{description:"A reference to a code defined by a terminology system.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},type:"array"},text:{description:"A human language representation of the concept as seen/selected/uttered by the user who entered the data and/or which represents the intended meaning of the user.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},valueQuantity:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueRange:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},low:{description:"The low limit. The boundary is inclusive.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},high:{description:"The high limit. The boundary is inclusive.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueReference:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,required:["code"],type:"object"},valueMeta:{description:"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},versionId:{description:"The version specific identifier, as it appears in the version portion of the URL. This value changes when the resource is created, updated, or deleted.",pattern:"^[A-Za-z0-9\\-\\.]{1,64}$",type:"string"},lastUpdated:{description:"When the resource last changed - e.g. when the version changed.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))$",type:"string"},source:{description:"A uri that identifies the source system of the resource. This provides a minimal amount of [[[Provenance]]] information that can be used to track or differentiate the source of information in the resource. The source may identify another FHIR server, document, message, database, etc.",pattern:"^\\S*$",type:"string"},profile:{description:"A list of profiles (references to [[[StructureDefinition]]] resources) that this resource claims to conform to. The URL is a reference to [[[StructureDefinition.url]]].",items:{pattern:"^\\S*$",type:"string"},type:"array"},security:{description:"Security labels applied to this resource. These tags connect specific resources to the overall security policy and infrastructure.",items:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},type:"array"},tag:{description:"Tags applied to this resource. Tags are intended to be used to identify and relate resources to process and workflow, and applications are not required to consider the tags when interpreting the meaning of a resource.",items:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","system","version","code","display","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},type:"array"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object",widget:{id:"hidden"}},uri:{pattern:"^\\S*$",type:"string"},Address:{description:"An address expressed using postal conventions (as opposed to GPS or other location definition formats).  This data type may be used to convey addresses for use in delivering mail as well as for visiting locations which might not be valid for mail delivery.  There are a variety of postal address formats defined around the world.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},use:{description:"The purpose of this address.",enum:["home","work","temp","old","billing"],type:"string"},type:{description:"Distinguishes between physical addresses (those you can visit) and mailing addresses (e.g. PO Boxes and care-of addresses). Most addresses are both.",enum:["postal","physical","both"],type:"string"},text:{description:"Specifies the entire address as it should be displayed e.g. on a postal label. This may be provided instead of or as well as the specific parts.",$ref:"#/definitions/string"},line:{description:"This component contains the house number, apartment number, street name, street direction,  P.O. Box number, delivery hints, and similar address information.",items:{$ref:"#/definitions/string"},type:"array"},city:{description:"The name of the city, town, suburb, village or other community or delivery center.",$ref:"#/definitions/string"},district:{description:"The name of the administrative area (county).",$ref:"#/definitions/string"},state:{description:"Sub-unit of a country with limited sovereignty in a federally organized country. A code may be used if codes are in common use (e.g. US 2 letter state codes).",$ref:"#/definitions/string"},postalCode:{description:"A postal code designating a region defined by the postal service.",$ref:"#/definitions/string"},country:{description:"Country - a nation as commonly understood or generally accepted.",$ref:"#/definitions/string"},period:{description:"Time period when address was/is in use.",$ref:"#/definitions/Period"}},additionalProperties:!1,type:"object"},Period:{description:"A time period defined by a start and end date and optionally time.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},start:{description:"The start of the period. The boundary is inclusive.",$ref:"#/definitions/dateTime"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",$ref:"#/definitions/dateTime"}},additionalProperties:!1,type:"object"},dateTime:{pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},Age:{description:"A duration of time during which an organism (or a process) has existed.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",$ref:"#/definitions/decimal"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",$ref:"#/definitions/string"},system:{description:"The identification of the system that provides the coded form of the unit.",$ref:"#/definitions/uri"},code:{description:"A computer processable form of the unit in some unit representation system.",$ref:"#/definitions/code"}},additionalProperties:!1,type:"object"},decimal:{pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},code:{pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},Annotation:{description:"A  text note which also  contains information about who made the statement and when.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},authorReference:{description:"The individual responsible for making the annotation.",$ref:"#/definitions/Reference"},authorString:{description:"The individual responsible for making the annotation.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},time:{description:"Indicates when this particular annotation was made.",$ref:"#/definitions/dateTime"},text:{description:"The text of the annotation in markdown format.",$ref:"#/definitions/markdown"}},additionalProperties:!1,type:"object"},Reference:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},Identifier:{description:"An identifier - identifies some entity uniquely and unambiguously. Typically this is used for business identifiers.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},use:{description:"The purpose of this identifier.",enum:["usual","official","temp","secondary","old"],type:"string"},type:{description:"A coded type for the identifier that can be used to determine which identifier to use for a specific purpose.",$ref:"#/definitions/CodeableConcept"},system:{description:"Establishes the namespace for the value - that is, a URL that describes a set values that are unique.",$ref:"#/definitions/uri"},value:{description:"The portion of the identifier typically relevant to the user and which is unique within the context of the system.",$ref:"#/definitions/string"},period:{description:"Time period during which identifier is/was valid for use.",$ref:"#/definitions/Period"},assigner:{description:"Organization that issued/manages the identifier.",$ref:"#/definitions/Reference"}},additionalProperties:!1,type:"object"},CodeableConcept:{description:"A concept that may be defined by a formal reference to a terminology or ontology or may be provided by text.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},coding:{description:"A reference to a code defined by a terminology system.",items:{$ref:"#/definitions/Coding"},type:"array"},text:{description:"A human language representation of the concept as seen/selected/uttered by the user who entered the data and/or which represents the intended meaning of the user.",$ref:"#/definitions/string"}},additionalProperties:!1,type:"object"},Coding:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"grid"},fieldsets:[{fields:["id","extension","code","system","display","version","userSelected"],showFields:[{field:"code",col:2},{field:"system",col:5},{field:"display",col:5}]}]},boolean:{pattern:"^true|false$",type:"boolean"},markdown:{pattern:"^[ \\r\\n\\t\\S]+$",type:"string",description:"A string that may contain Github Flavored Markdown syntax for optional processing by a mark down presentation engine"},Attachment:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},contentType:{description:"Identifies the type of the data in the attachment and allows a method to be chosen to interpret or render the data. Includes mime type parameters such as charset where appropriate.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},language:{description:"The human language of the content. The value can be any valid value according to BCP 47.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},data:{description:"The actual data of the attachment - a sequence of bytes, base64 encoded.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},url:{description:"A location where the data can be accessed.",pattern:"^\\S*$",type:"string"},size:{description:"The number of bytes of data that make up this attachment (before base64 encoding, if that is done).",pattern:"^[0]|([1-9][0-9]*)$",type:"number"},hash:{description:"The calculated hash of the data using SHA-1. Represented using base64.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},title:{description:"A label or set of text to display in place of the data.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},creation:{description:"The date that the attachment was first created.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},base64Binary:{pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},url:{pattern:"^\\S*$",type:"string"},unsignedInt:{pattern:"^[0]|([1-9][0-9]*)$",type:"number"},ContactPoint:{description:"Details for all kinds of technology mediated contact points for a person or organization, including telephone, email, etc.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"Telecommunications form for contact point - what communications system is required to make use of the contact.",enum:["phone","fax","email","pager","url","sms","other"],type:"string"},value:{description:"The actual contact point details, in a form that is meaningful to the designated communication system (i.e. phone number or email address).",$ref:"#/definitions/string"},use:{description:"Identifies the purpose for the contact point.",enum:["home","work","temp","old","mobile"],type:"string"},rank:{description:"Specifies a preferred order in which to use a set of contacts. ContactPoints with lower rank values are more preferred than those with higher rank values.",$ref:"#/definitions/positiveInt"},period:{description:"Time period when the contact point was/is in use.",$ref:"#/definitions/Period"}},additionalProperties:!1,type:"object"},positiveInt:{pattern:"^[1-9][0-9]*$",type:"integer",minimum:0,description:"An integer with a value that is positive (e.g. >0)"},Count:{description:"A measured amount (or an amount that can potentially be measured). Note that measured amounts include amounts that are not precisely quantified, including amounts involving arbitrary units and floating currencies.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",$ref:"#/definitions/decimal"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",$ref:"#/definitions/string"},system:{description:"The identification of the system that provides the coded form of the unit.",$ref:"#/definitions/uri"},code:{description:"A computer processable form of the unit in some unit representation system.",$ref:"#/definitions/code"}},additionalProperties:!1,type:"object"},Distance:{description:"A length - a value with a unit that is a physical distance.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",$ref:"#/definitions/decimal"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",$ref:"#/definitions/string"},system:{description:"The identification of the system that provides the coded form of the unit.",$ref:"#/definitions/uri"},code:{description:"A computer processable form of the unit in some unit representation system.",$ref:"#/definitions/code"}},additionalProperties:!1,type:"object"},Duration:{description:"A length of time.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",$ref:"#/definitions/decimal"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",$ref:"#/definitions/string"},system:{description:"The identification of the system that provides the coded form of the unit.",$ref:"#/definitions/uri"},code:{description:"A computer processable form of the unit in some unit representation system.",$ref:"#/definitions/code"}},additionalProperties:!1,type:"object"},HumanName:{description:"A human's name with the ability to identify parts and usage.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},use:{description:"Identifies the purpose for this name.",enum:["usual","official","temp","nickname","anonymous","old","maiden"],type:"string"},text:{description:"Specifies the entire name as it should be displayed e.g. on an application UI. This may be provided instead of or as well as the specific parts.",$ref:"#/definitions/string"},family:{description:"The part of a name that links to the genealogy. In some cultures (e.g. Eritrea) the family name of a son is the first name of his father.",$ref:"#/definitions/string"},given:{description:"Given name.",items:{$ref:"#/definitions/string"},type:"array"},prefix:{description:"Part of the name that is acquired as a title due to academic, legal, employment or nobility status, etc. and that appears at the start of the name.",items:{$ref:"#/definitions/string"},type:"array"},suffix:{description:"Part of the name that is acquired as a title due to academic, legal, employment or nobility status, etc. and that appears at the end of the name.",items:{$ref:"#/definitions/string"},type:"array"},period:{description:"Indicates the period of time when this name was valid for the named person.",$ref:"#/definitions/Period"}},additionalProperties:!1,type:"object"},Money:{description:"An amount of economic utility in some recognized currency.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"Numerical value (with implicit precision).",$ref:"#/definitions/decimal"},currency:{description:"ISO 4217 Currency Code.",$ref:"#/definitions/code"}},additionalProperties:!1,type:"object"},Quantity:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},Range:{description:"A set of ordered Quantities defined by a low and high limit.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},low:{description:"The low limit. The boundary is inclusive.",$ref:"#/definitions/Quantity"},high:{description:"The high limit. The boundary is inclusive.",$ref:"#/definitions/Quantity"}},additionalProperties:!1,type:"object"},Ratio:{description:"A relationship of two Quantity values - expressed as a numerator and a denominator.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},numerator:{description:"The value of the numerator.",$ref:"#/definitions/Quantity"},denominator:{description:"The value of the denominator.",$ref:"#/definitions/Quantity"}},additionalProperties:!1,type:"object"},SampledData:{description:"A series of measurements taken by a device, with upper and lower limits. There may be more than one dimension in the data.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},origin:{description:"The base quantity that a measured value of zero represents. In addition, this provides the units of the entire measurement series.",$ref:"#/definitions/Quantity"},period:{description:"The length of time between sampling times, measured in milliseconds.",$ref:"#/definitions/decimal"},factor:{description:"A correction factor that is applied to the sampled data points before they are added to the origin.",$ref:"#/definitions/decimal"},lowerLimit:{description:'The lower limit of detection of the measured points. This is needed if any of the data points have the value "L" (lower than detection limit).',$ref:"#/definitions/decimal"},upperLimit:{description:'The upper limit of detection of the measured points. This is needed if any of the data points have the value "U" (higher than detection limit).',$ref:"#/definitions/decimal"},dimensions:{description:"The number of sample points at each time point. If this value is greater than one, then the dimensions will be interlaced - all the sample points for a point in time will be recorded at once.",$ref:"#/definitions/positiveInt"},data:{description:'A series of data points which are decimal values separated by a single space (character u20). The special values "E" (error), "L" (below detection limit) and "U" (above detection limit) can also be used in place of a decimal value.',$ref:"#/definitions/string"}},additionalProperties:!1,required:["origin"],type:"object"},Signature:{description:"A signature along with supporting context. The signature may be a digital signature that is cryptographic in nature, or some other signature acceptable to the domain. This other signature may be as simple as a graphical image representing a hand-written signature, or a signature ceremony Different signature approaches have different utilities.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},type:{description:"An indication of the reason that the entity signed this document. This may be explicitly included as part of the signature information and can be used when determining accountability for various actions concerning the document.",items:{$ref:"#/definitions/Coding"},type:"array"},when:{description:"When the digital signature was signed.",$ref:"#/definitions/instant"},who:{description:"A reference to an application-usable description of the identity that signed  (e.g. the signature used their private key).",$ref:"#/definitions/Reference"},onBehalfOf:{description:"A reference to an application-usable description of the identity that is represented by the signature.",$ref:"#/definitions/Reference"},targetFormat:{description:"A mime type that indicates the technical format of the target resources signed by the signature.",$ref:"#/definitions/code"},sigFormat:{description:"A mime type that indicates the technical format of the signature. Important mime types are application/signature+xml for X ML DigSig, application/jose for JWS, and image/* for a graphical image of a signature, etc.",$ref:"#/definitions/code"},data:{description:"The base64 encoding of the Signature content. When signature is not recorded electronically this element would be empty.",$ref:"#/definitions/base64Binary"}},additionalProperties:!1,required:["type","who"],type:"object"},instant:{pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))$",type:"string",description:"An instant in time - known at least to the second"},Timing:{description:"Specifies an event that may occur multiple times. Timing schedules are used to record when things are planned, expected or requested to occur. The most common usage is in dosage instructions for medications. They are also used when planning care of various kinds, and may be used for reporting the schedule to which past regular activities were carried out.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},event:{description:"Identifies specific times when the event occurs.",items:{$ref:"#/definitions/dateTime"},type:"array"},repeat:{description:"A set of rules that describe when the event is scheduled.",$ref:"#/definitions/Timing_Repeat"},code:{description:"A code for the timing schedule (or just text in code.text). Some codes such as BID are ubiquitous, but many institutions define their own additional codes. If a code is provided, the code is understood to be a complete statement of whatever is specified in the structured timing data, and either the code or the data may be used to interpret the Timing, with the exception that .repeat.bounds still applies over the code (and is not contained in the code).",$ref:"#/definitions/CodeableConcept"}},additionalProperties:!1,type:"object"},Timing_Repeat:{description:"Specifies an event that may occur multiple times. Timing schedules are used to record when things are planned, expected or requested to occur. The most common usage is in dosage instructions for medications. They are also used when planning care of various kinds, and may be used for reporting the schedule to which past regular activities were carried out.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},boundsDuration:{description:"Either a duration for the length of the timing schedule, a range of possible length, or outer bounds for start and/or end limits of the timing schedule.",$ref:"#/definitions/Duration"},boundsRange:{description:"Either a duration for the length of the timing schedule, a range of possible length, or outer bounds for start and/or end limits of the timing schedule.",$ref:"#/definitions/Range"},boundsPeriod:{description:"Either a duration for the length of the timing schedule, a range of possible length, or outer bounds for start and/or end limits of the timing schedule.",$ref:"#/definitions/Period"},count:{description:"A total count of the desired number of repetitions across the duration of the entire timing specification. If countMax is present, this element indicates the lower bound of the allowed range of count values.",$ref:"#/definitions/positiveInt"},countMax:{description:"If present, indicates that the count is a range - so to perform the action between [count] and [countMax] times.",$ref:"#/definitions/positiveInt"},duration:{description:"How long this thing happens for when it happens. If durationMax is present, this element indicates the lower bound of the allowed range of the duration.",$ref:"#/definitions/decimal"},durationMax:{description:"If present, indicates that the duration is a range - so to perform the action between [duration] and [durationMax] time length.",$ref:"#/definitions/decimal"},durationUnit:{description:"The units of time for the duration, in UCUM units.",enum:["s","min","h","d","wk","mo","a"],type:"string"},frequency:{description:"The number of times to repeat the action within the specified period. If frequencyMax is present, this element indicates the lower bound of the allowed range of the frequency.",$ref:"#/definitions/positiveInt"},frequencyMax:{description:"If present, indicates that the frequency is a range - so to repeat between [frequency] and [frequencyMax] times within the period or period range.",$ref:"#/definitions/positiveInt"},period:{description:'Indicates the duration of time over which repetitions are to occur; e.g. to express "3 times per day", 3 would be the frequency and "1 day" would be the period. If periodMax is present, this element indicates the lower bound of the allowed range of the period length.',$ref:"#/definitions/decimal"},periodMax:{description:'If present, indicates that the period is a range from [period] to [periodMax], allowing expressing concepts such as "do this once every 3-5 days.',$ref:"#/definitions/decimal"},periodUnit:{description:"The units of time for the period in UCUM units.",enum:["s","min","h","d","wk","mo","a"],type:"string"},dayOfWeek:{description:"If one or more days of week is provided, then the action happens only on the specified day(s).",items:{$ref:"#/definitions/code"},type:"array"},timeOfDay:{description:"Specified time of day for action to take place.",items:{$ref:"#/definitions/time"},type:"array"},when:{description:"An approximate time period during the day, potentially linked to an event of daily living that indicates when the action should occur.",items:{enum:["MORN","MORN.early","MORN.late","NOON","AFT","AFT.early","AFT.late","EVE","EVE.early","EVE.late","NIGHT","PHS","HS","WAKE","C","CM","CD","CV","AC","ACM","ACD","ACV","PC","PCM","PCD","PCV"],type:"string"},type:"array"},offset:{description:"The number of minutes from the event. If the event code does not indicate whether the minutes is before or after the event, then the offset is assumed to be after the event.",$ref:"#/definitions/unsignedInt"}},additionalProperties:!1,type:"object"},time:{pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string",description:"A time during the day, with no date specified"},ContactDetail:{description:"Specifies contact information for a person or organization.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},name:{description:"The name of an individual to contact.",$ref:"#/definitions/string"},telecom:{description:"The contact details for the individual (if a name was provided) or the organization.",items:{$ref:"#/definitions/ContactPoint"},type:"array"}},additionalProperties:!1,type:"object"},Contributor:{description:"A contributor to the content of a knowledge asset, including authors, editors, reviewers, and endorsers.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},type:{description:"The type of contributor.",enum:["author","editor","reviewer","endorser"],type:"string"},name:{description:"The name of the individual or organization responsible for the contribution.",$ref:"#/definitions/string"},contact:{description:"Contact details to assist a user in finding and communicating with the contributor.",items:{$ref:"#/definitions/ContactDetail"},type:"array"}},additionalProperties:!1,type:"object"},DataRequirement:{description:"Describes a required data item for evaluation in terms of the type of data, and optional code or date-based filters of the data.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},type:{description:"The type of the required data, specified as the type name of a resource. For profiles, this value is set to the type of the base resource of the profile.",$ref:"#/definitions/code"},profile:{description:"The profile of the required data, specified as the uri of the profile definition.",items:{$ref:"#/definitions/canonical"},type:"array"},subjectCodeableConcept:{description:"The intended subjects of the data requirement. If this element is not provided, a Patient subject is assumed.",$ref:"#/definitions/CodeableConcept"},subjectReference:{description:"The intended subjects of the data requirement. If this element is not provided, a Patient subject is assumed.",$ref:"#/definitions/Reference"},mustSupport:{description:"Indicates that specific elements of the type are referenced by the knowledge module and must be supported by the consumer in order to obtain an effective evaluation. This does not mean that a value is required for this element, only that the consuming system must understand the element and be able to provide values for it if they are available. \n\nThe value of mustSupport SHALL be a FHIRPath resolveable on the type of the DataRequirement. The path SHALL consist only of identifiers, constant indexers, and .resolve() (see the [Simple FHIRPath Profile](fhirpath.html#simple) for full details).",items:{$ref:"#/definitions/string"},type:"array"},codeFilter:{description:"Code filters specify additional constraints on the data, specifying the value set of interest for a particular element of the data. Each code filter defines an additional constraint on the data, i.e. code filters are AND'ed, not OR'ed.",items:{$ref:"#/definitions/DataRequirement_CodeFilter"},type:"array"},dateFilter:{description:"Date filters specify additional constraints on the data in terms of the applicable date range for specific elements. Each date filter specifies an additional constraint on the data, i.e. date filters are AND'ed, not OR'ed.",items:{$ref:"#/definitions/DataRequirement_DateFilter"},type:"array"},limit:{description:"Specifies a maximum number of results that are required (uses the _count search parameter).",$ref:"#/definitions/positiveInt"},sort:{description:"Specifies the order of the results to be returned.",items:{$ref:"#/definitions/DataRequirement_Sort"},type:"array"}},additionalProperties:!1,type:"object"},canonical:{pattern:"^\\S*$",type:"string"},DataRequirement_CodeFilter:{description:"Describes a required data item for evaluation in terms of the type of data, and optional code or date-based filters of the data.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},path:{description:"The code-valued attribute of the filter. The specified path SHALL be a FHIRPath resolveable on the specified type of the DataRequirement, and SHALL consist only of identifiers, constant indexers, and .resolve(). The path is allowed to contain qualifiers (.) to traverse sub-elements, as well as indexers ([x]) to traverse multiple-cardinality sub-elements (see the [Simple FHIRPath Profile](fhirpath.html#simple) for full details). Note that the index must be an integer constant. The path must resolve to an element of type code, Coding, or CodeableConcept.",$ref:"#/definitions/string"},searchParam:{description:"A token parameter that refers to a search parameter defined on the specified type of the DataRequirement, and which searches on elements of type code, Coding, or CodeableConcept.",$ref:"#/definitions/string"},valueSet:{description:"The valueset for the code filter. The valueSet and code elements are additive. If valueSet is specified, the filter will return only those data items for which the value of the code-valued element specified in the path is a member of the specified valueset.",$ref:"#/definitions/canonical"},code:{description:"The codes for the code filter. If values are given, the filter will return only those data items for which the code-valued attribute specified by the path has a value that is one of the specified codes. If codes are specified in addition to a value set, the filter returns items matching a code in the value set or one of the specified codes.",items:{$ref:"#/definitions/Coding"},type:"array"}},additionalProperties:!1,type:"object"},DataRequirement_DateFilter:{description:"Describes a required data item for evaluation in terms of the type of data, and optional code or date-based filters of the data.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},path:{description:"The date-valued attribute of the filter. The specified path SHALL be a FHIRPath resolveable on the specified type of the DataRequirement, and SHALL consist only of identifiers, constant indexers, and .resolve(). The path is allowed to contain qualifiers (.) to traverse sub-elements, as well as indexers ([x]) to traverse multiple-cardinality sub-elements (see the [Simple FHIRPath Profile](fhirpath.html#simple) for full details). Note that the index must be an integer constant. The path must resolve to an element of type date, dateTime, Period, Schedule, or Timing.",$ref:"#/definitions/string"},searchParam:{description:"A date parameter that refers to a search parameter defined on the specified type of the DataRequirement, and which searches on elements of type date, dateTime, Period, Schedule, or Timing.",$ref:"#/definitions/string"},valueDateTime:{description:"The value of the filter. If period is specified, the filter will return only those data items that fall within the bounds determined by the Period, inclusive of the period boundaries. If dateTime is specified, the filter will return only those data items that are equal to the specified dateTime. If a Duration is specified, the filter will return only those data items that fall within Duration before now.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},valuePeriod:{description:"The value of the filter. If period is specified, the filter will return only those data items that fall within the bounds determined by the Period, inclusive of the period boundaries. If dateTime is specified, the filter will return only those data items that are equal to the specified dateTime. If a Duration is specified, the filter will return only those data items that fall within Duration before now.",$ref:"#/definitions/Period"},valueDuration:{description:"The value of the filter. If period is specified, the filter will return only those data items that fall within the bounds determined by the Period, inclusive of the period boundaries. If dateTime is specified, the filter will return only those data items that are equal to the specified dateTime. If a Duration is specified, the filter will return only those data items that fall within Duration before now.",$ref:"#/definitions/Duration"}},additionalProperties:!1,type:"object"},DataRequirement_Sort:{description:"Describes a required data item for evaluation in terms of the type of data, and optional code or date-based filters of the data.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},path:{description:"The attribute of the sort. The specified path must be resolvable from the type of the required data. The path is allowed to contain qualifiers (.) to traverse sub-elements, as well as indexers ([x]) to traverse multiple-cardinality sub-elements. Note that the index must be an integer constant.",$ref:"#/definitions/string"},direction:{description:"The direction of the sort, ascending or descending.",enum:["ascending","descending"],type:"string"}},additionalProperties:!1,type:"object"},Expression:{description:"A expression that is evaluated in a specified context and returns a value. The context of use of the expression must specify the context in which the expression is evaluated, and how the result of the expression is used.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},description:{description:"A brief, natural language description of the condition that effectively communicates the intended semantics.",$ref:"#/definitions/string"},name:{description:"A short name assigned to the expression to allow for multiple reuse of the expression in the context where it is defined.",$ref:"#/definitions/id"},language:{description:"The media type of the language for the expression.",enum:["text/cql","text/fhirpath","application/x-fhir-query"],type:"string"},expression:{description:"An expression in the specified language that returns a value.",$ref:"#/definitions/string"},reference:{description:"A URI that defines where the expression is found.",$ref:"#/definitions/uri"}},additionalProperties:!1,type:"object"},id:{pattern:"^[A-Za-z0-9\\-\\.]{1,64}$",type:"string",description:'Any combination of letters, numerals, "-" and ".", with a length limit of 64 characters.  (This might be an integer, an unprefixed OID, UUID or any other identifier pattern that meets these constraints.)  Ids are case-insensitive.'},ParameterDefinition:{description:"The parameters to the module. This collection specifies both the input and output parameters. Input parameters are provided by the caller as part of the $evaluate operation. Output parameters are included in the GuidanceResponse.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},name:{description:"The name of the parameter used to allow access to the value of the parameter in evaluation contexts.",$ref:"#/definitions/code"},use:{description:"Whether the parameter is input or output for the module.",$ref:"#/definitions/code"},min:{description:"The minimum number of times this parameter SHALL appear in the request or response.",$ref:"#/definitions/integer"},max:{description:"The maximum number of times this element is permitted to appear in the request or response.",$ref:"#/definitions/string"},documentation:{description:"A brief discussion of what the parameter is for and how it is used by the module.",$ref:"#/definitions/string"},type:{description:"The type of the parameter.",$ref:"#/definitions/code"},profile:{description:"If specified, this indicates a profile that the input data must conform to, or that the output data will conform to.",$ref:"#/definitions/canonical"}},additionalProperties:!1,type:"object"},integer:{pattern:"^-?([0]|([1-9][0-9]*))$",type:"integer"},RelatedArtifact:{description:"Related artifacts such as additional documentation, justification, or bibliographic references.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},type:{description:"The type of relationship to the related artifact.",enum:["documentation","justification","citation","predecessor","successor","derived-from","depends-on","composed-of"],type:"string"},label:{description:"A short label that can be used to reference the citation from elsewhere in the containing artifact, such as a footnote index.",$ref:"#/definitions/string"},display:{description:"A brief description of the document or knowledge resource being referenced, suitable for display to a consumer.",$ref:"#/definitions/string"},citation:{description:"A bibliographic citation for the related artifact. This text SHOULD be formatted according to an accepted citation format.",$ref:"#/definitions/markdown"},url:{description:"A url for the artifact that can be followed to access the actual content.",$ref:"#/definitions/url"},document:{description:"The document being referenced, represented as an attachment. This is exclusive with the resource element.",$ref:"#/definitions/Attachment"},resource:{description:"The related resource, such as a library, value set, profile, or other knowledge resource.",$ref:"#/definitions/canonical"}},additionalProperties:!1,type:"object"},TriggerDefinition:{description:"A description of a triggering event. Triggering events can be named events, data events, or periodic, as determined by the type element.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},type:{description:"The type of triggering event.",enum:["named-event","periodic","data-changed","data-added","data-modified","data-removed","data-accessed","data-access-ended"],type:"string"},name:{description:"A formal name for the event. This may be an absolute URI that identifies the event formally (e.g. from a trigger registry), or a simple relative URI that identifies the event in a local context.",$ref:"#/definitions/string"},timingTiming:{description:"The timing of the event (if this is a periodic trigger).",$ref:"#/definitions/Timing"},timingReference:{description:"The timing of the event (if this is a periodic trigger).",$ref:"#/definitions/Reference"},timingDate:{description:"The timing of the event (if this is a periodic trigger).",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string"},timingDateTime:{description:"The timing of the event (if this is a periodic trigger).",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},data:{description:"The triggering data of the event (if this is a data trigger). If more than one data is requirement is specified, then all the data requirements must be true.",items:{$ref:"#/definitions/DataRequirement"},type:"array"},condition:{description:"A boolean-valued expression that is evaluated in the context of the container of the trigger definition and returns whether or not the trigger fires.",$ref:"#/definitions/Expression"}},additionalProperties:!1,type:"object"},UsageContext:{description:"Specifies clinical/business/etc. metadata that can be used to retrieve, index and/or categorize an artifact. This metadata can either be specific to the applicable population (e.g., age category, DRG) or the specific context of care (e.g., venue, care setting, provider of care).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},code:{description:"A code that identifies the type of context being specified by this usage context.",$ref:"#/definitions/Coding"},valueCodeableConcept:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",$ref:"#/definitions/CodeableConcept"},valueQuantity:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",$ref:"#/definitions/Quantity"},valueRange:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",$ref:"#/definitions/Range"},valueReference:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",$ref:"#/definitions/Reference"}},additionalProperties:!1,required:["code"],type:"object"},Dosage:{description:"Indicates how the medication is/was taken or should be taken by the patient.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},sequence:{description:"Indicates the order in which the dosage instructions should be applied or interpreted.",$ref:"#/definitions/integer"},text:{description:"Free text dosage instructions e.g. SIG.",$ref:"#/definitions/string"},additionalInstruction:{description:'Supplemental instructions to the patient on how to take the medication  (e.g. "with meals" or"take half to one hour before food") or warnings for the patient about the medication (e.g. "may cause drowsiness" or "avoid exposure of skin to direct sunlight or sunlamps").',items:{$ref:"#/definitions/CodeableConcept"},type:"array"},patientInstruction:{description:"Instructions in terms that are understood by the patient or consumer.",$ref:"#/definitions/string"},timing:{description:"When medication should be administered.",$ref:"#/definitions/Timing"},asNeededBoolean:{description:"Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), or it indicates the precondition for taking the Medication (CodeableConcept).",pattern:"^true|false$",type:"boolean"},asNeededCodeableConcept:{description:"Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), or it indicates the precondition for taking the Medication (CodeableConcept).",$ref:"#/definitions/CodeableConcept"},site:{description:"Body site to administer to.",$ref:"#/definitions/CodeableConcept"},route:{description:"How drug should enter body.",$ref:"#/definitions/CodeableConcept"},method:{description:"Technique for administering medication.",$ref:"#/definitions/CodeableConcept"},doseAndRate:{description:"The amount of medication administered.",items:{$ref:"#/definitions/Dosage_DoseAndRate"},type:"array"},maxDosePerPeriod:{description:"Upper limit on medication per unit of time.",$ref:"#/definitions/Ratio"},maxDosePerAdministration:{description:"Upper limit on medication per administration.",$ref:"#/definitions/Quantity"},maxDosePerLifetime:{description:"Upper limit on medication per lifetime of the patient.",$ref:"#/definitions/Quantity"}},additionalProperties:!1,type:"object"},Dosage_DoseAndRate:{description:"Indicates how the medication is/was taken or should be taken by the patient.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},type:{description:"The kind of dose or rate specified, for example, ordered or calculated.",$ref:"#/definitions/CodeableConcept"},doseRange:{description:"Amount of medication per dose.",$ref:"#/definitions/Range"},doseQuantity:{description:"Amount of medication per dose.",$ref:"#/definitions/Quantity"},rateRatio:{description:"Amount of medication per unit of time.",$ref:"#/definitions/Ratio"},rateRange:{description:"Amount of medication per unit of time.",$ref:"#/definitions/Range"},rateQuantity:{description:"Amount of medication per unit of time.",$ref:"#/definitions/Quantity"}},additionalProperties:!1,type:"object"},Meta:{description:"The metadata about a resource. This is content in the resource that is maintained by the infrastructure. Changes to the content might not always be associated with version changes to the resource.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",$ref:"#/definitions/string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},versionId:{description:"The version specific identifier, as it appears in the version portion of the URL. This value changes when the resource is created, updated, or deleted.",$ref:"#/definitions/id"},lastUpdated:{description:"When the resource last changed - e.g. when the version changed.",$ref:"#/definitions/instant"},source:{description:"A uri that identifies the source system of the resource. This provides a minimal amount of [[[Provenance]]] information that can be used to track or differentiate the source of information in the resource. The source may identify another FHIR server, document, message, database, etc.",$ref:"#/definitions/uri"},profile:{description:"A list of profiles (references to [[[StructureDefinition]]] resources) that this resource claims to conform to. The URL is a reference to [[[StructureDefinition.url]]].",items:{$ref:"#/definitions/canonical"},type:"array"},security:{description:"Security labels applied to this resource. These tags connect specific resources to the overall security policy and infrastructure.",items:{$ref:"#/definitions/Coding"},type:"array"},tag:{description:"Tags applied to this resource. Tags are intended to be used to identify and relate resources to process and workflow, and applications are not required to consider the tags when interpreting the meaning of a resource.",items:{$ref:"#/definitions/Coding"},type:"array"}},additionalProperties:!1,type:"object"},Questionnaire_EnableWhen:{description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",title:"Id",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},question:{description:"The linkId for the question whose answer (or lack of answer) governs whether this item is enabled.",title:"Question",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},operator:{description:"Specifies the criteria by which the question is enabled.",enum:["exists","=","!=",">","<",">=","<="],type:"string",title:"Operator"},answerBoolean:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^true|false$",type:"boolean",title:"Answer boolean"},answerDecimal:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number",title:"Answer decimal"},answerInteger:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"integer",title:"Answer integer"},answerDate:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string",title:"Answer date"},answerDateTime:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string",title:"Answer date time"},answerTime:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string",title:"Answer time"},answerString:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",title:"Answer string"},answerCoding:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",title:"Answer coding",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","extension","code","system","display","version","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},answerQuantity:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",title:"Answer quantity",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},answerReference:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",title:"Answer reference",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},Questionnaire_AnswerOption:{description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",title:"Id",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},valueInteger:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"integer",title:"Value integer"},valueDate:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string",title:"Value date"},valueTime:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string",title:"Value time"},valueString:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",title:"Value string"},valueCoding:{description:"A potential answer that's allowed as the answer to this question.",title:"Value coding",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"row-layout"},fieldsets:[{fields:["id","extension","code","system","display","version","userSelected"],showFields:[{code:{col:2}},{system:{col:6}},{display:{col:4}}]}]},valueReference:{description:"A potential answer that's allowed as the answer to this question.",title:"Value reference",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},initialSelected:{description:"Indicates whether the answer value is selected when the list of possible answers is initially shown.",title:"Initial selected",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},Questionnaire_Initial:{description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",title:"Id",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},valueBoolean:{description:"The actual value to for an initial answer.",pattern:"^true|false$",type:"boolean",title:"Value boolean"},valueDecimal:{description:"The actual value to for an initial answer.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number",title:"Value decimal"},valueInteger:{description:"The actual value to for an initial answer.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"integer",title:"Value integer"},valueDate:{description:"The actual value to for an initial answer.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string",title:"Value date"},valueDateTime:{description:"The actual value to for an initial answer.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string",title:"Value date time"},valueTime:{description:"The actual value to for an initial answer.",pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string",title:"Value time"},valueString:{description:"The actual value to for an initial answer.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",title:"Value string"},valueUri:{description:"The actual value to for an initial answer.",pattern:"^\\S*$",type:"string",title:"Value uri"},valueAttachment:{description:"The actual value to for an initial answer.",title:"Value attachment",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},contentType:{description:"Identifies the type of the data in the attachment and allows a method to be chosen to interpret or render the data. Includes mime type parameters such as charset where appropriate.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},language:{description:"The human language of the content. The value can be any valid value according to BCP 47.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},data:{description:"The actual data of the attachment - a sequence of bytes, base64 encoded.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},url:{description:"A location where the data can be accessed.",pattern:"^\\S*$",type:"string"},size:{description:"The number of bytes of data that make up this attachment (before base64 encoding, if that is done).",pattern:"^[0]|([1-9][0-9]*)$",type:"number"},hash:{description:"The calculated hash of the data using SHA-1. Represented using base64.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},title:{description:"A label or set of text to display in place of the data.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},creation:{description:"The date that the attachment was first created.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},valueCoding:{description:"The actual value to for an initial answer.",title:"Value coding",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",widget:{id:"grid"},fieldsets:[{fields:["id","extension","code","system","display","version","userSelected"],showFields:[{field:"code",col:2},{field:"sytem",col:5},{field:"display",col:5}]}]},valueQuantity:{description:"The actual value to for an initial answer.",title:"Value quantity",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueReference:{description:"The actual value to for an initial answer.",title:"Value reference",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},xhtml:{$ref:"#/definitions/string"},__$Item:{}}}},9317:q=>{q.exports={formLayout:{basic:[{showFields:[{field:"title",col:12},{field:"__$codeYesNo",col:12},{field:"code",col:12},{field:"status",col:12},{field:"url",col:12},{field:"description",col:12},{field:"purpose",col:12}]}],advanced:[{showFields:[{field:"__$terminologyServer",col:12},{field:"implicitRules",col:12},{field:"version",col:12},{field:"name",col:12},{field:"date",col:12},{field:"publisher",col:12},{field:"copyright",col:12},{field:"approvalDate",col:12},{field:"lastReviewDate",col:12}]}],targetPage:"formLevel"},overridePropertyLabels:{"/properties/name":"Questionnaire name","/properties/date":"Revision date"},widgets:{inputBox:{id:"string",labelPosition:"left",labelClasses:"col-sm-2 m-0 ps-0 pe-1",controlClasses:"col-sm-10 form-control"},textArea:{id:"textarea",labelPosition:"left",labelClasses:"col-sm-2 m-0 ps-0 pe-1",controlClasses:"col-sm-10 form-control"},inputDate:{id:"date",labelPosition:"left",labelClasses:"col-sm-2 m-0 ps-0 pe-1",controlClasses:"col-sm-3",placeholder:"yyyy-MM-dd"},inputDateTime:{id:"datetime",labelPosition:"left",labelClasses:"col-sm-2 m-0 ps-0 pe-1",controlClasses:"col-sm-3",placeholder:"yyyy-MM-dd hh:mm:ss (AM|PM)"},__$terminologyServer:{id:"terminology-server",placeholder:"Enter url for preferred terminology server",note:"You may wish to set this if you want to provide an answer value set for any item in this questionnaire.",labelPosition:"left",labelWidthClass:"col-sm-2",controlWidthClass:"col-sm-10"}},widgetsMap:{inputBox:["/properties/url","/properties/implicitRules","/properties/version","/properties/title","/properties/name","/properties/publisher","/properties/description","/properties/purpose"],textArea:["/properties/copyright"],inputDate:["/properties/approvalDate","/properties/lastReviewDate"],inputDateTime:["/properties/date"],__$terminologyServer:["/properties/__$terminologyServer"]}}},7958:q=>{q.exports={type:"string",title:"JSON Editor",format:"json",options:{ace:{theme:"ace/theme/vibrant_ink",tabSize:2,useSoftTabs:!0,wrap:!0}}}},409:q=>{q.exports={formLayout:{basic:[{showFields:[{field:"text",col:12},{field:"prefix",col:12},{field:"__$codeYesNo",col:12},{field:"code",col:12},{field:"__$helpText",col:12},{field:"type",col:12},{field:"initial",title:"Default value",col:12},{field:"__$answerOptionMethods",col:12},{field:"answerValueSet",col:12},{field:"answerOption",title:"Answer choices",col:12},{field:"__$itemControl",col:12},{field:"__$itemControlGroup",col:12},{field:"__$units",col:12}]},{showFields:[{field:"repeats",col:12},{field:"required",col:12},{field:"readOnly",col:12},{field:"maxLength",col:12},{field:"__$restrictions",col:12}]},{showFields:[]},{showFields:[]}],advanced:[{showFields:[{field:"linkId",col:12},{field:"enableWhen",col:12},{field:"enableBehavior",col:12},{field:"__$terminologyServer",col:12},{field:"__$observationLinkPeriod",col:12},{field:"__$observationExtract",col:12}]}],targetPage:"itemLevel"},propertyLabels:{text:"Question text",type:"Item type",initial:"Initial value (default)",enableWhen:"Conditional display"}}},7457:q=>{q.exports={description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",type:"object",properties:{resourceType:{description:"This is a Questionnaire resource",type:"string",enum:["Questionnaire"],title:"Resource type",widget:{id:"hidden"}},id:{description:"The logical id of the resource, as used in the URL for the resource. Once assigned, this value never changes.",title:"Id",pattern:"^[A-Za-z0-9\\-\\.]{1,64}$",type:"string",widget:{id:"hidden"}},meta:{description:"The metadata about the resource. This is content that is maintained by the infrastructure. Changes to the content might not always be associated with version changes to the resource.",title:"Meta",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},versionId:{description:"The version specific identifier, as it appears in the version portion of the URL. This value changes when the resource is created, updated, or deleted.",pattern:"^[A-Za-z0-9\\-\\.]{1,64}$",type:"string"},lastUpdated:{description:"When the resource last changed - e.g. when the version changed.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))$",type:"string"},source:{description:"A uri that identifies the source system of the resource. This provides a minimal amount of [[[Provenance]]] information that can be used to track or differentiate the source of information in the resource. The source may identify another FHIR server, document, message, database, etc.",pattern:"^\\S*$",type:"string"},profile:{description:"A list of profiles (references to [[[StructureDefinition]]] resources) that this resource claims to conform to. The URL is a reference to [[[StructureDefinition.url]]].",items:{pattern:"^\\S*$",type:"string",description:"A URI that is a reference to a canonical URL on a FHIR resource"},type:"array"},security:{description:"Security labels applied to this resource. These tags connect specific resources to the overall security policy and infrastructure.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array"},tag:{description:"Tags applied to this resource. Tags are intended to be used to identify and relate resources to process and workflow, and applications are not required to consider the tags when interpreting the meaning of a resource.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array"}},additionalProperties:!1,type:"object",widget:{id:"hidden"}},implicitRules:{description:"A reference to a set of rules that were followed when the resource was constructed, and which must be understood when processing the content. Often, this is a reference to an implementation guide that defines the special rules along with other profiles etc.",title:"Implicit rules",pattern:"^\\S*$",type:"string"},language:{description:"The base language in which the resource is written.",title:"Language",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string",widget:{id:"string",labelPosition:"left",labelWidthClass:"col-sm-2",controlWidthClass:"col-sm-2"}},text:{description:'A human-readable narrative that contains a summary of the resource and can be used to represent the content of the resource to a human. The narrative need not encode all the structured data, but is required to contain sufficient detail to make it "clinically safe" for a human to just read the narrative. Resource definitions may define what content should be represented in the narrative to ensure clinical safety.',title:"Text",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},status:{description:"The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data.",enum:["generated","extensions","additional","empty"],type:"string"},div:{description:"The actual narrative content, a stripped down version of XHTML.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,required:["div"],type:"object"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the resource. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the resource and that modifies the understanding of the element that contains it and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},url:{description:"An absolute URI that is used to identify this questionnaire when it is referenced in a specification, model, design or an instance; also called its canonical identifier. This SHOULD be globally unique and SHOULD be a literal address at which at which an authoritative instance of this questionnaire is (or will be) published. This URL can be the target of a canonical reference. It SHALL remain the same when the questionnaire is stored on different servers.",title:"URL",type:"string",pattern:"^\\S*$"},identifier:{description:"A formal identifier that is used to identify this questionnaire when it is represented in other formats, or referenced in a specification, model, design or an instance.",items:{description:"An identifier - identifies some entity uniquely and unambiguously. Typically this is used for business identifiers.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},use:{description:"The purpose of this identifier.",enum:["usual","official","temp","secondary","old"],type:"string"},type:{description:"A coded type for the identifier that can be used to determine which identifier to use for a specific purpose.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},coding:{description:"A reference to a code defined by a terminology system.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array"},text:{description:"A human language representation of the concept as seen/selected/uttered by the user who entered the data and/or which represents the intended meaning of the user.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},system:{description:"Establishes the namespace for the value - that is, a URL that describes a set values that are unique.",pattern:"^\\S*$",type:"string"},value:{description:"The portion of the identifier typically relevant to the user and which is unique within the context of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},period:{description:"Time period during which identifier is/was valid for use.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},assigner:{description:"Organization that issued/manages the identifier.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},type:"array",title:"Identifier"},version:{description:"The identifier that is used to identify this version of the questionnaire when it is referenced in a specification, model, design or instance. This is an arbitrary value managed by the questionnaire author and is not expected to be globally unique. For example, it might be a timestamp (e.g. yyyymmdd) if a managed version is not available. There is also no expectation that versions can be placed in a lexicographical sequence.",title:"Version",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},name:{description:"A natural language name identifying the questionnaire. This name should be usable as an identifier for the module by machine processing applications such as code generation.",title:"Name",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},title:{description:"A short, descriptive, user-friendly title for the questionnaire.",title:"Title",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},derivedFrom:{description:"The URL of a Questionnaire that this Questionnaire is based on.",items:{pattern:"^\\S*$",type:"string",description:"A URI that is a reference to a canonical URL on a FHIR resource"},type:"array",title:"Derived from"},status:{description:"The status of this questionnaire. Enables tracking the life-cycle of the content.",enum:["draft","active","retired","unknown"],type:"string",title:"Status",widget:{id:"lb-radio",layout:"row",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto ps-0 btn-group btn-group-sm"}},experimental:{description:"A Boolean value to indicate that this questionnaire is authored for testing purposes (or education/evaluation/marketing) and is not intended to be used for genuine usage.",title:"Experimental",pattern:"^true|false$",type:"boolean"},subjectType:{description:"The types of subjects that can be the subject of responses created for the questionnaire.",items:{pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},type:"array",title:"Subject type"},date:{description:"The date  (and optionally time) when the questionnaire was published. The date must change when the business version changes and it must change if the status code changes. In addition, it should change when the substantive content of the questionnaire changes.",title:"Date",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},publisher:{description:"The name of the organization or individual that published the questionnaire.",title:"Publisher",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},contact:{description:"Contact details to assist a user in finding and communicating with the publisher.",items:{description:"Specifies contact information for a person or organization.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},name:{description:"The name of an individual to contact.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},telecom:{description:"The contact details for the individual (if a name was provided) or the organization.",items:{description:"Details for all kinds of technology mediated contact points for a person or organization, including telephone, email, etc.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"Telecommunications form for contact point - what communications system is required to make use of the contact.",enum:["phone","fax","email","pager","url","sms","other"],type:"string"},value:{description:"The actual contact point details, in a form that is meaningful to the designated communication system (i.e. phone number or email address).",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},use:{description:"Identifies the purpose for the contact point.",enum:["home","work","temp","old","mobile"],type:"string"},rank:{description:"Specifies a preferred order in which to use a set of contacts. ContactPoints with lower rank values are more preferred than those with higher rank values.",pattern:"^[1-9][0-9]*$",type:"number"},period:{description:"Time period when the contact point was/is in use.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},type:"array"}},additionalProperties:!1,type:"object"},type:"array",title:"Contact"},description:{description:"A free text natural language description of the questionnaire from a consumer's perspective.",title:"Description",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},useContext:{description:"The content was developed with a focus and intent of supporting the contexts that are listed. These contexts may be general categories (gender, age, ...) or may be references to specific programs (insurance plans, studies, ...) and may be used to assist with indexing and searching for appropriate questionnaire instances.",items:{description:"Specifies clinical/business/etc. metadata that can be used to retrieve, index and/or categorize an artifact. This metadata can either be specific to the applicable population (e.g., age category, DRG) or the specific context of care (e.g., venue, care setting, provider of care).",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},code:{description:"A code that identifies the type of context being specified by this usage context.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},valueCodeableConcept:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},coding:{description:"A reference to a code defined by a terminology system.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array"},text:{description:"A human language representation of the concept as seen/selected/uttered by the user who entered the data and/or which represents the intended meaning of the user.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},valueQuantity:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},valueRange:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},low:{description:"The low limit. The boundary is inclusive.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"},high:{description:"The high limit. The boundary is inclusive.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,type:"object"},valueReference:{description:"A value that defines the context specified in this context of use. The interpretation of the value is defined by the code.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"}},additionalProperties:!1,required:["code"],type:"object"},type:"array",title:"Use context"},jurisdiction:{description:"A legal or geographic region in which the questionnaire is intended to be used.",items:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},coding:{description:"A reference to a code defined by a terminology system.",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array"},text:{description:"A human language representation of the concept as seen/selected/uttered by the user who entered the data and/or which represents the intended meaning of the user.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object"},type:"array",title:"Jurisdiction"},purpose:{description:"Explanation of why this questionnaire is needed and why it has been designed as it has.",title:"Purpose",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},copyright:{description:"A copyright statement relating to the questionnaire and/or its contents. Copyright statements are generally legal restrictions on the use and publishing of the questionnaire.",title:"Copyright",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},approvalDate:{description:"The date on which the resource content was approved by the publisher. Approval happens once when the content is officially approved for usage.",title:"Approval date",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string"},lastReviewDate:{description:"The date on which the resource content was last reviewed. Review happens periodically after approval but does not change the original approval date.",title:"Last review date",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string"},effectivePeriod:{description:"The period during which the questionnaire content was or is planned to be in active use.",title:"Effective period",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},start:{description:"The start of the period. The boundary is inclusive.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"},end:{description:"The end of the period. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object"},__$codeYesNo:{description:"An identifier for this question or group of questions in a particular terminology such as LOINC.",default:!1,type:"boolean",title:"Code",widget:{id:"boolean-radio",optionLabels:[[!1,"No code"],[!0,"Include code"]],labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto btn-group btn-group-sm ps-0"}},code:{description:"An identifier for this question or group of questions in a particular terminology such as LOINC.",items:{properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array",title:"Code",visibleIf:{__$codeYesNo:[!0]},widget:{id:"table",noTableLabel:!0,labelPosition:"left",labelClasses:"col-sm-2",controlClasses:"col-sm-10",addButtonLabel:"Add new code",showFields:[{field:"code",col:3,nolabel:!0},{field:"system",col:4,nolabel:!0},{field:"display",col:4,nolabel:!0}]}},__$terminologyServer:{description:"Enter url for preferred terminology server.",title:"Terminology server",type:"string"}},additionalProperties:!0,required:["resourceType"],definitions:{},steps:[{title:"Form level attributes",optional:!1,rows:[{showFields:[{field:"title",col:12},{field:"code",col:12},{field:"status",col:12},{field:"description",col:12},{field:"purpose",col:12}]}]}],fieldsets:[{fields:["resourceType","title","name","__$codeYesNo","code","status","description","purpose","__$terminologyServer"]},{fields:["url","identifier","version","derivedFrom","experimental","subjectType","date","publisher","copyright","approvalDate","lastReviewDate","effectivePeriod"]},{fields:["id","meta","implicitRules","language","text","extension","modifierExtension","contact","useContext","jurisdiction"]}],widget:{keyField:"resourceType",id:"row-layout"}}},580:q=>{q.exports={description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",type:"object",properties:{__$start:{description:"An internal field to indicate start of loading item. User should not see this.",title:"Start - Should be invisible.",type:"boolean",widget:{id:"hidden"}},id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",title:"Id",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"hidden"}},__$treeNodeId:{description:"Internal unique id used to differentiate individual nodes within a tree structure. It is also used for validation error handling.",title:"Tree Node Id",type:"string",widget:{id:"hidden"}},type:{description:"The type of questionnaire item this is - whether text for display, a grouping of other items or a particular type of data to be captured (string, integer, coded choice, etc.). Header implies group if it has children. No children implies display type",enum:["boolean","decimal","integer","date","dateTime","time","string","text","url","choice","open-choice","attachment","reference","quantity","group","display"],type:"string",title:"Data type",widget:{id:"select",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-10 p-0",selectOptionsMap:{remove:["reference","attachment"],validateType:!0}},default:"string"},__$restrictions:{description:"Choose to add value restrictions to the input.",title:"Restrictions",type:"array",items:{description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",properties:{operator:{description:"Comparing operator to restrict the input value",type:"string",enum:["maxLength","minLength","regex","minValue","maxValue","mazSize","mimeType"],title:"Restriction",widget:{id:"restrictions-operator"}},value:{description:"Value to restrict the input",type:"string",title:"Value"}},additionalProperties:!1,type:"object"},visibleIf:{type:["$EXP$ target.value == 'decimal' || target.value == 'integer' || target.value == 'string' || target.value == 'text' || target.value == 'url'"]},widget:{id:"restrictions",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-10 mt-1",noTableLabel:!0,noCollapseButton:!0,addButtonLabel:"Add new restriction",booleanControlled:!0,booleanLabel:"Use restrictions?",booleanControlledInitial:!1,showFields:[{field:"operator",col:7,nolabel:!0},{field:"value",col:4,nolabel:!0}]}},maxLength:{description:'The maximum number of characters that are permitted in the answer to be considered a "valid" QuestionnaireResponse.',title:"Maximum number of char.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"number",visibleIf:{type:["$EXP$ target.value == 'boolean' || target.value == 'decimal' || target.value == 'integer' || target.value == 'string' || target.value == 'text' || target.value == 'url' || target.value == 'open-choice'"]},widget:{id:"hidden",labelPosition:"left",labelWidthClass:"col-sm-2",controlWidthClass:"col-sm-1"}},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},linkId:{description:"An identifier that is unique within the Questionnaire allowing linkage to the equivalent item in a QuestionnaireResponse resource.",type:"string",title:"Link Id",widget:{id:"editable-link-id",note:"* Link ID is mandatory for each item, and must be unique across the questionnaire. If you change it, make sure to update any places in the questionnaire that reference the link ID.",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col p-0"}},definition:{description:"This element is a URI that refers to an [[[ElementDefinition]]] that provides information about this item, including information that might otherwise be included in the instance of the Questionnaire resource. A detailed description of the construction of the URI is shown in Comments, below. If this element is present then the following element values MAY be derived from the Element Definition if the corresponding elements of this Questionnaire resource instance have no value:\n\n* code (ElementDefinition.code) \n* type (ElementDefinition.type) \n* required (ElementDefinition.min) \n* repeats (ElementDefinition.max) \n* maxLength (ElementDefinition.maxLength) \n* answerValueSet (ElementDefinition.binding)\n* options (ElementDefinition.binding).",title:"Definition",pattern:"^\\S*$",type:"string",widget:{id:"hidden"}},__$codeYesNo:{description:"A terminology code that corresponds to this group or question (e.g. a code from LOINC, which defines many questions and answers).",default:!1,type:"boolean",title:"Question code",widget:{id:"boolean-radio",optionLabels:[[!1,"No code"],[!0,"Include code"]],labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto btn-group btn-group-sm ps-0"}},code:{description:"A terminology code that corresponds to this group or question (e.g. a code from LOINC, which defines many questions and answers).",items:{description:"A reference to a code defined by a terminology system.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array",title:"Code",visibleIf:{__$codeYesNo:[!0]},widget:{id:"table",noTableLabel:!0,labelPosition:"left",labelClasses:"col-sm-2",controlClasses:"col-sm-10",addButtonLabel:"Add new code",showFields:[{field:"code",col:3,nolabel:!0},{field:"system",col:4,nolabel:!0},{field:"display",col:4,nolabel:!0}]}},prefix:{description:"A short label for a particular group, question or set of display text within the questionnaire used for reference by the individual completing the questionnaire.",title:"Prefix",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"string-with-css",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col p-0"}},_prefix:{description:"Extensions for prefix",title:"Questionnaire prefix extensions",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",title:"Extensions for prefix",items:{$ref:"#/definitions/Extension"},type:"array"}},additionalProperties:!1,type:"object",widget:{id:"hidden"}},text:{description:"The name of a section, the text of a question or text content for a display item.",title:"Question text",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"string-with-css",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col p-0"}},_text:{description:"Extensions for text",title:"Questionnaire text extensions",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",title:"Extensions for text",items:{$ref:"#/definitions/Extension"},type:"array"}},additionalProperties:!1,type:"object",widget:{id:"hidden"}},enableWhen:{description:"A constraint indicating that this item should only be enabled (displayed/allow answers to be captured) when the specified condition is true.",items:{description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",properties:{__$answerType:{title:"Source question type",type:"string",widget:{id:"hidden"}},id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",title:"Id",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"hidden"}},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},question:{description:"The linkId for the question whose answer (or lack of answer) governs whether this item is enabled.",title:"Question",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"enable-when-source"}},operator:{description:"Specifies the criteria by which the question is enabled.",enum:["exists","=","!=",">","<",">=","<="],type:"string",title:"Operator",widget:{id:"enable-operator"}},answerBoolean:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^true|false$",type:"boolean",visibleIf:{oneOf:[{__$answerType:["boolean"]},{operator:["$EXP$ target.value == 'exists'"]}]}},answerDecimal:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number",visibleIf:{allOf:[{__$answerType:["decimal"]},{operator:["$EXP$ target.value != 'exists'"]}]}},answerInteger:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"integer",visibleIf:{allOf:[{__$answerType:["integer"]},{operator:["$EXP$ target.value != 'exists'"]}]}},answerDate:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string",visibleIf:{allOf:[{__$answerType:["date"]},{operator:["$EXP$ target.value != 'exists'"]}]}},answerDateTime:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string",visibleIf:{allOf:[{__$answerType:["dateTime"]},{operator:["$EXP$ target.value != 'exists'"]}]}},answerTime:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string",visibleIf:{allOf:[{__$answerType:["time"]},{operator:["$EXP$ target.value != 'exists'"]}]}},answerString:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",visibleIf:{allOf:[{__$answerType:["$EXP$ target.value == 'string' || target.value == 'text' || target.value == 'url'"]},{operator:["$EXP$ target.value != 'exists'"]}]}},answerCoding:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"},__$score:{description:"If desired, enter a number to assign a numerical value to this answer for scoring purposes.",type:"number",title:"Score"}},additionalProperties:!1,type:"object",visibleIf:{allOf:[{__$answerType:["$EXP$ target.value == 'choice' || target.value == 'open-choice'"]},{operator:["$EXP$ target.value == '=' || target.value == '!='"]}]},widget:{id:"enable-when-answer-choice"}},answerQuantity:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string"},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object",visibleIf:{allOf:[{__$answerType:["quantity"]},{operator:["$EXP$ target.value != 'exists'"]}]},widget:{id:"left-label-form-group",labelWidth:4,controlWidth:8,label:!0,showFields:[{field:"value",col:3}]}},answerReference:{description:"A value that the referenced question is tested using the specified operator in order for the item to be enabled.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object",visibleIf:{allOf:[{__$answerType:["reference"]},{operator:["$EXP$ target.value == 'exists' || target.value == '='"]}]},widget:{id:"left-label-form-group",labelWidth:4,controlWidth:8,label:!0,showFields:[{field:"reference",col:4},{field:"type",col:4},{field:"display",col:4}]}}},additionalProperties:!1,type:"object"},type:"array",title:"Conditional display",widget:{noCollapseButton:!0,labelPosition:"left",labelWidthClass:"col-sm-2 pe-1",controlWidthClass:"col-sm-10",addButtonLabel:"Add another condition",id:"enable-when",showFields:[{field:"question",nolabel:!0,col:5,title:"Question"},{field:"operator",nolabel:!0,col:2,title:"Operator"},{field:"answerBoolean",nolabel:!0,col:4,title:"Answer"},{field:"answerDecimal",nolabel:!0,col:4,title:"Answer"},{field:"answerInteger",nolabel:!0,col:4,title:"Answer"},{field:"answerDate",nolabel:!0,col:4,title:"Answer"},{field:"answerDateTime",nolabel:!0,col:4,title:"Answer"},{field:"answerTime",nolabel:!0,col:4,title:"Answer"},{field:"answerString",nolabel:!0,col:4,title:"Answer"},{field:"answerCoding",nolabel:!0,col:4,title:"Answer"},{field:"answerQuantity",nolabel:!0,col:4,title:"Answer"}]}},enableBehavior:{description:"Controls how multiple enableWhen values are interpreted -  whether all or any must be true.",enum:["all","any"],type:"string",title:"Show this item when",widget:{id:"enable-behavior",layout:"row",labelWidthClass:"col-sm-2",controlWidthClass:"col-sm-7"}},required:{description:'An indication, if true, that the item must be present in a "completed" QuestionnaireResponse.  If false, the item may be skipped when answering the questionnaire.',title:"Answer required",pattern:"^true|false$",type:"boolean",visibleIf:{type:["$EXP$ target.value != 'display'"]},widget:{id:"boolean-radio",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto btn-group btn-group-sm ps-0"}},repeats:{description:"An indication, if true, that the item may occur multiple times in the response, collecting multiple answers for questions or multiple sets of answers for groups.",title:"Allow repeating question?",pattern:"^true|false$",type:"boolean",visibleIf:{type:["$EXP$ target.value != 'display'"]},widget:{id:"boolean-radio",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto btn-group btn-group-sm ps-0"}},readOnly:{description:"An indication, when true, that the value cannot be changed by a human respondent to the Questionnaire.",title:"Read only",pattern:"^true|false$",type:"boolean",visibleIf:{type:["$EXP$ target.value != 'display'"]},widget:{id:"boolean-radio",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto btn-group btn-group-sm ps-0"}},__$answerOptionMethods:{description:"Define predefined answers for the user to choose.",title:"Answer list source",oneOf:[{type:"string",enum:["answer-option"],title:"Answer options"},{type:"string",enum:["snomed-value-set"],title:"SNOMED answer value set"},{type:"string",enum:["value-set"],title:"Answer value set URI"}],default:"answer-option",type:"string",visibleIf:{type:["$EXP$ target.value == 'open-choice' || target.value == 'choice'"]},widget:{id:"answer-option-methods",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto btn-group btn-group-sm m-auto p-0"}},answerValueSet:{description:'A reference to a value set containing a list of codes representing permitted answers for a "choice" or "open-choice" question.',title:"Answer value set",pattern:"^\\S*$",type:"string",visibleIf:{"/__$answerOptionMethods":["value-set","snomed-value-set"]},widget:{id:"answer-value-set",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col form-control form-control-sm"}},answerOption:{description:'One of the permitted answers for a "choice" or "open-choice" question.',items:{description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",title:"Id",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"hidden"}},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},valueInteger:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"integer",title:"Value integer",visibleIf:{"/type":["integer"]}},valueDate:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string",title:"Value date",visibleIf:{"/type":["date"]}},valueTime:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string",title:"Value time",visibleIf:{"/type":["time"]}},valueString:{description:"A potential answer that's allowed as the answer to this question.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",title:"Value string",visibleIf:{"/type":["$EXP$ target.value == 'string' || target.value == 'text'"]}},valueCoding:{description:"A potential answer that's allowed as the answer to this question.",title:"Value coding",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},__$score:{description:"If desired, enter a number to assign a numerical value to this answer for scoring purposes.",type:"number",title:"Score"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",visibleIf:{"/type":["$EXP$ target.value == 'choice' || target.value == 'open-choice'"]}},valueReference:{description:"A potential answer that's allowed as the answer to this question.",title:"Value reference",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object",visibleIf:{"/type":["reference"]}},initialSelected:{description:"Indicates whether the answer value is selected when the list of possible answers is initially shown.",title:"Initial selected",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object"},type:"array",title:"Answer choices",visibleIf:{"/__$answerOptionMethods":["answer-option"]},widget:{id:"answer-option",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-10 ",addButtonLabel:"Add another answer",rowSelection:!0,multipleSelectionEnableSource:"repeats",showFields:[{field:"valueInteger",col:9,nolabel:!0},{field:"valueDate",col:9,nolabel:!0},{field:"valueTime",col:9,nolabel:!0},{field:"valueString",col:9,nolabel:!0},{field:"valueCoding.display",title:"Display",nolabel:!0},{field:"valueCoding.code",title:"Code",col:2,nolabel:!0},{field:"valueCoding.system",title:"System",col:2,nolabel:!0},{field:"valueCoding.__$score",title:"Score",col:2,nolabel:!0},{field:"valueReference",col:9,nolabel:!0}]}},__$itemControl:{description:"Choose the type of control for the answer list. The default is a drop-down list, which works well for lists that aren't too large. You may also choose checkboxes or radio-buttons for smaller lists. For large lists, you can make it an autocomplete list, in which matching items will show up when the user starts typing, though some FHIR servers (e.g., the SNOMED server) might not return results until the user types a few characters.",title:"Answer list layout",type:"string",visibleIf:{type:["$EXP$ target.value == 'open-choice' || target.value == 'choice'"]},widget:{id:"item-control",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-auto btn-group btn-group-sm p-0"}},__$itemControlGroup:{description:"Choose the type of control for the 'Group' data type. Some item controls are not supported by the LHC-Forms preview, as indicated by the asterisk (*) symbol.",title:"Group Item Control",oneOf:[{enum:["list"],display:"List",description:"Questions within the group should be presented sequentially.",support:!0},{enum:["table"],display:"Vertical Answer Table",description:"For 'choice' questions, the table representation should have questions as rows and answers as columns. Ensure option sets are consistent within a group. Sparse tables, where certain options are missing for specific questions, may not be rendered as tables by all tools due to inconsistent data structure.",support:!0},{enum:["htable"],display:"Horizontal Answer Table",description:"For 'choice' questions, the table representation should have questions as columns and answers as rows. Ensure option sets are consistent within a group.  Sparse tables, where certain options are missing for specific questions, may not be rendered as tables by all tools due to inconsistent data structure.",support:!1},{enum:["gtable"],display:"Group Table",description:"Questions within the group should be presented as columns in the table, with each group repetition forming a new row. This arrangement is suitable for single-answer questions.",support:!0},{enum:["grid"],display:"Group Grid",description:"Within a 'grid' group, child items of type='group' represents rows. Questions nested within these row groups are arranged as columns. The grid layout may be fully populated or sparse. Questions can support various data types and answer choices.",support:!1},{enum:["header"],display:"Header",description:"The group should always be visible at the top of the form's display area.",support:!1},{enum:["footer"],display:"Footer",description:"The group should always be visible at the bottom of the form's display area.",support:!1},{enum:["page"],display:"Page",description:"A page group designation indicates that the content within it should be treated as a single logical unit for rendering. When rendering, all enabled items within the page should be displayed simulatenously, while subsequent groups remain hidden until the user moves to their page. Header and footer groups are typically displayed on all pages. However, items positioned before a page group are considered as being on a separate page.",support:!1},{enum:["tab-container"],display:"Tab Container",description:"A group with this designation represents a collection of tabs. All child items must be of type 'group'. Child groups cannot directly declare item controls. Each child group serves as a tab within the tab container, with its 'item.text' property used as the tab label.",support:!1}],default:"list",type:"string",visibleIf:{type:["$EXP$ target.value == 'group'"]},widget:{id:"item-control",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col-9 btn-group btn-group-sm p-0",note:"(1) - not supported by LHC-Forms preview."}},__$terminologyServer:{description:"Enter url for preferred terminology server.",title:"Terminology server",type:"string",widget:{id:"terminology-server",placeholder:"Enter url for preferred terminology server",note:"You may wish to set this if you are providing an answer value set for either this item or its children.",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col p-0"}},initial:{description:"One or more values that should be pre-populated in the answer when initially rendering the questionnaire for user input.",items:{description:"A structured set of questions intended to guide the collection of answers from end-users. Questionnaires provide detailed control over order, presentation, phraseology and grouping to allow coherent, consistent data collection.",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",title:"Id",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"hidden"}},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",title:"Extension",widget:{id:"hidden"}},modifierExtension:{description:"May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.\n\nModifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself).",items:{$ref:"#/definitions/Extension"},type:"array",title:"Modifier extension",widget:{id:"hidden"}},valueBoolean:{description:"The actual value to for an initial answer.",pattern:"^true|false$",type:"boolean",title:"Value boolean",visibleIf:{"/type":["boolean"]},widget:{id:"boolean-radio",nolabel:!0,controlClasses:"btn-group btn-group-sm col-auto p-0"}},valueDecimal:{description:"The actual value to for an initial answer.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number",title:"Value decimal",visibleIf:{"/type":["decimal"]}},valueInteger:{description:"The actual value to for an initial answer.",pattern:"^-?([0]|([1-9][0-9]*))$",type:"integer",title:"Value integer",visibleIf:{"/type":["integer"]}},valueDate:{description:"The actual value to for an initial answer.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",type:"string",title:"Value date",visibleIf:{"/type":["date"]}},valueDateTime:{description:"The actual value to for an initial answer.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string",title:"Value date time",visibleIf:{"/type":["dateTime"]}},valueTime:{description:"The actual value to for an initial answer.",pattern:"^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?$",type:"string",title:"Value time",visibleIf:{"/type":["time"]}},valueString:{description:"The actual value to for an initial answer.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",title:"Value string",visibleIf:{"/type":["$EXP$ target.value == 'string' || target.value == 'text'"]}},valueUri:{description:"The actual value to for an initial answer.",pattern:"^\\S*$",type:"string",title:"Value uri",visibleIf:{"/type":["$EXP$ target.value == 'uri' || target.value == 'url'"]}},valueAttachment:{description:"The actual value to for an initial answer.",title:"Value attachment",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},contentType:{description:"Identifies the type of the data in the attachment and allows a method to be chosen to interpret or render the data. Includes mime type parameters such as charset where appropriate.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},language:{description:"The human language of the content. The value can be any valid value according to BCP 47.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},data:{description:"The actual data of the attachment - a sequence of bytes, base64 encoded.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},url:{description:"A location where the data can be accessed.",pattern:"^\\S*$",type:"string"},size:{description:"The number of bytes of data that make up this attachment (before base64 encoding, if that is done).",pattern:"^[0]|([1-9][0-9]*)$",type:"number"},hash:{description:"The calculated hash of the data using SHA-1. Represented using base64.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},title:{description:"A label or set of text to display in place of the data.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},creation:{description:"The date that the attachment was first created.",pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",type:"string"}},additionalProperties:!1,type:"object",visibleIf:{"/type":["attachment"]}},valueCoding:{description:"The actual value to for an initial answer.",title:"Value coding",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},system:{description:"The identification of the code system that defines the meaning of the symbol in the code.",pattern:"^\\S*$",type:"string"},version:{description:"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured, and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.",widget:{id:"hidden"},pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},code:{description:"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"},display:{description:"A representation of the meaning of the code in the system, following the rules of the system.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},userSelected:{description:"Indicates that this coding was chosen by a user directly - e.g. off a pick list of available items (codes or displays).",pattern:"^true|false$",type:"boolean"}},additionalProperties:!1,type:"object",visibleIf:{"/__$answerOptionMethods":["answer-option"]},widget:{id:"hidden"}},valueQuantity:{description:"The actual value to for an initial answer.",title:"Value quantity",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},value:{description:"The value of the measured amount. The value includes an implicit precision in the presentation of the value.",pattern:"^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?$",type:"number"},comparator:{description:'How the value should be understood and represented - whether the actual value is greater or less than the stated value due to measurement issues; e.g. if the comparator is "<" , then the real value is < stated value.',enum:["<","<=",">=",">"],type:"string",widget:{id:"hidden"}},unit:{description:"A human-readable form of the unit.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"quantity-unit"}},system:{description:"The identification of the system that provides the coded form of the unit.",pattern:"^\\S*$",type:"string"},code:{description:"A computer processable form of the unit in some unit representation system.",pattern:"^[^\\s]+(\\s[^\\s]+)*$",type:"string"}},additionalProperties:!1,type:"object",visibleIf:{"/type":["quantity"]}},valueReference:{description:"The actual value to for an initial answer.",title:"Value reference",properties:{id:{description:"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}},reference:{description:"A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"},type:{description:'The expected type of the target of the reference. If both Reference.type and Reference.reference are populated and Reference.reference is a FHIR URL, both SHALL be consistent.\n\nThe type is the Canonical URL of Resource Definition that is the type this reference refers to. References are URLs that are relative to http://hl7.org/fhir/StructureDefinition/ e.g. "Patient" is a reference to http://hl7.org/fhir/StructureDefinition/Patient. Absolute URLs are only allowed for logical models (and can only be used in references in logical models, not resources).',pattern:"^\\S*$",type:"string"},display:{description:"Plain text narrative that identifies the resource in addition to the resource reference.",pattern:"^[ \\r\\n\\t\\S]+$",type:"string"}},additionalProperties:!1,type:"object",visibleIf:{"/type":["reference"]}}},additionalProperties:!1,type:"object"},type:"array",title:"Initial value",visibleIf:{"/type":["$EXP$ target.value != 'group' && target.value != 'display' && target.value != 'choice' && target.value != 'open-choice'"]},widget:{id:"table",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col p-0",addButtonLabel:"Add another value",singleItemEnableSource:"repeats",showFields:[{field:"valueBoolean",noHeader:!0,title:"",nolabel:!0},{field:"valueDecimal",noHeader:!0,title:"",nolabel:!0},{field:"valueInteger",noHeader:!0,nolabel:!0},{field:"valueDate",noHeader:!0,nolabel:!0},{field:"valueDateTime",noHeader:!0,nolabel:!0},{field:"valueTime",noHeader:!0,nolabel:!0},{field:"valueString",noHeader:!0,title:"",nolabel:!0},{field:"valueUri",noHeader:!0,nolabel:!0},{field:"valueCoding.display",title:"Display",col:4,nolabel:!0},{field:"valueCoding.code",title:"Code",col:3,nolabel:!0},{field:"valueCoding.system",title:"System",col:4,nolabel:!0},{field:"valueQuantity.value",title:"Value",col:4,nolabel:!0},{field:"valueQuantity.unit",title:"Unit",col:7,nolabel:!0},{field:"valueReference",noHeader:!0,nolabel:!0}]}},__$observationLinkPeriod:{description:"Sets a time window within which to look for an Observation with a matching code, for pre-population. Requires that a code be assigned to this item.",title:"Add link to pre-populate FHIR Observation?",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"observation-link-period",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col p-0 m-auto ms-0"},visibleIf:{type:["$EXP$ target.value != 'display'"]}},__$observationExtract:{description:"If true, indicates that the observation-based approach should be used to extract the particular item.",title:"Use FHIR Observation extraction?",pattern:"^true|false$",type:"boolean",widget:{id:"observation-extract",labelPosition:"left",labelClasses:"col-2 ps-0 pe-1",controlClasses:"col p-0 m-auto ms-0"},visibleIf:{type:["$EXP$ target.value != 'display'"]}},__$units:{description:"The units for answers. They are applicable for integer, decimal, and quantity types.",title:"Units",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"units",labelPosition:"left",labelWidthClass:"col-sm-2 pe-1",controlWidthClass:"col-sm-10"},visibleIf:{type:["$EXP$ target.value == 'integer' || target.value == 'decimal' || target.value == 'quantity'"]}},__$helpText:{description:"Text is displayed in a dialog box or similar control if invoked by pushing a button or some other UI-appropriate action to request 'help' for a question, group or the questionnaire as a whole (depending what the text is nested within)",title:"Help text",type:"object",properties:{linkId:{description:"Help text for question.",title:"Help text",pattern:"^[^\\s]+( [^\\s]+)*$",type:"string",widget:{id:"hidden"}},type:{enum:["display"],type:"string",widget:{id:"hidden"}},text:{description:"Help text for question.",title:"Help text",pattern:"^[ \\r\\n\\t\\S]+$",type:"string",widget:{id:"string-with-css",labelPosition:"left",labelClasses:"col-sm-2 p-0 pe-1",controlClasses:"col p-0"}},_text:{$ref:"#/definitions/Element",widget:{id:"hidden"}},extension:{description:"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",title:"Extensions for text",items:{$ref:"#/definitions/Extension"},type:"array",widget:{id:"hidden"}}},additionalProperties:!0,widget:{id:"help-text",labelPosition:"left",labelClasses:"col-sm-2 p-0 pe-1",controlClasses:"col p-0"}},__$end:{description:"An internal field to indicate end of loading an item. User should not see this.",title:"End - Should be invisible",type:"boolean",widget:{id:"hidden"}}},required:["text","type","linkId"],additionalProperties:!1,definitions:{},fieldsets:[{fields:["type","linkId","maxLength","__$start","__$end"],showFields:[{field:"linkId",col:3},{field:"type",col:3},{field:"maxLength",col:2}]},{fields:["prefix","text","_text","_prefix"],showFields:[{field:"prefix",col:1},{field:"text",col:11}]},{fields:["required","readOnly","repeats"],showFields:[{field:"repeats",col:4},{field:"readOnly",col:4},{field:"required",col:4}]},{fields:["code","__$codeYesNo"],showFields:[{field:"__$codeYesNo",col:12},{field:"code",col:12}]},{fields:["__$helpText"],showFields:[{field:"__$helpText",col:12}]},{fields:["__$answerOptionMethods"],showFields:[{field:"__$answerOptionMethods",col:12}]},{fields:["answerValueSet"],showFields:[{field:"answerValueSet",col:12}]},{fields:["answerOption"],showFields:[{field:"answerOption",col:12}]},{fields:["__$itemControl"],showFields:[{field:"__$itemControl",col:12}]},{fields:["__$itemControlGroup"],showFields:[{field:"__$itemControlGroup",col:12}]},{fields:["__$terminologyServer"],showFields:[{field:"__$terminologyServer",col:12}]},{fields:["__$units"],showFields:[{field:"__$units",col:12}]},{fields:["initial"],showFields:[{field:"initial",col:12}]},{fields:["__$restrictions"],showFields:[{field:"__$restrictions",col:12}]},{fields:["enableWhen"],showFields:[{field:"enableWhen",col:12}]},{fields:["enableBehavior"],showFields:[{field:"enableBehavior",col:3}]},{fields:["__$observationLinkPeriod"],showFields:[{field:"__$observationLinkPeriod",col:10}]},{fields:["__$observationExtract"],showFields:[{field:"__$observationExtract",col:10}]},{fields:["id","__$treeNodeId","extension","modifierExtension","definition"]}],steps:[{title:"Specify basic properties",optional:!1,rows:[{showFields:[{field:"type",col:12},{field:"linkId",col:12}]},{showFields:[{field:"text",col:12},{field:"__$codeYesNo",col:12},{field:"code",col:12},{field:"prefix",col:12}]},{showFields:[{field:"repeats",col:12},{field:"required",col:12},{field:"readOnly",col:12},{field:"maxLength",col:12},{field:"answerValueSet",col:12},{field:"answerOption",title:"Answer choices",col:12},{field:"initial",title:"Default value",col:12}]}]},{title:"Conditions to display",description:"A constraint indicating that this item should only be enabled (displayed/allow answers to be captured) when the specified condition is true.",optional:!1,rows:[{showFields:[{field:"enableWhen",col:12}]},{showFields:[{field:"enableBehavior",col:3}]}]}],widget:{keyField:"type",id:"row-layout"}}},2459:(q,z,T)=>{var L,I;void 0!==(I="function"==typeof(L=function(){"use strict";function $(B,Z){if(!(B instanceof Z))throw new TypeError("Cannot call a class as a function")}function S(B,Z){for(var Y=0;Y<Z.length;Y++){var W=Z[Y];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(B,W.key,W)}}function x(B,Z,Y){return Z&&S(B.prototype,Z),Y&&S(B,Y),Object.defineProperty(B,"prototype",{writable:!1}),B}function M(B,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(Z&&Z.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),Z&&m(B,Z)}function u(B){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(B)}function m(B,Z){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,re){return W.__proto__=re,W})(B,Z)}function f(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function g(B){var Z=function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var re,W=u(B);if(Z){var H=u(this).constructor;re=Reflect.construct(W,arguments,H)}else re=W.apply(this,arguments);return function p(B,Z){if(Z&&("object"==typeof Z||"function"==typeof Z))return Z;if(void 0!==Z)throw new TypeError("Derived constructors may only return object or undefined");return f(B)}(this,re)}}function _(){return _=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Z,Y,W){var re=function h(B,Z){for(;!Object.prototype.hasOwnProperty.call(B,Z)&&null!==(B=u(B)););return B}(Z,Y);if(re){var H=Object.getOwnPropertyDescriptor(re,Y);return H.get?H.get.call(arguments.length<3?Z:W):H.value}},_.apply(this,arguments)}function D(B,Z){(null==Z||Z>B.length)&&(Z=B.length);for(var Y=0,W=new Array(Z);Y<Z;Y++)W[Y]=B[Y];return W}function O(B,Z){var Y=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!Y){if(Array.isArray(B)||(Y=function w(B,Z){if(B){if("string"==typeof B)return D(B,Z);var Y=Object.prototype.toString.call(B).slice(8,-1);if("Object"===Y&&B.constructor&&(Y=B.constructor.name),"Map"===Y||"Set"===Y)return Array.from(B);if("Arguments"===Y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return D(B,Z)}}(B))||Z&&B&&"number"==typeof B.length){Y&&(B=Y);var W=0,re=function(){};return{s:re,n:function(){return W>=B.length?{done:!0}:{done:!1,value:B[W++]}},e:function(R){throw R},f:re}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F,H=!0,k=!1;return{s:function(){Y=Y.call(B)},n:function(){var R=Y.next();return H=R.done,R},e:function(R){k=!0,F=R},f:function(){try{!H&&null!=Y.return&&Y.return()}finally{if(k)throw F}}}}var B,P=function(){function B(){$(this,B),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return x(B,[{key:"addEventListener",value:function(Y,W,re){Y in this.listeners||(this.listeners[Y]=[]),this.listeners[Y].push({callback:W,options:re})}},{key:"removeEventListener",value:function(Y,W){if(Y in this.listeners)for(var re=this.listeners[Y],H=0,k=re.length;H<k;H++)if(re[H].callback===W)return void re.splice(H,1)}},{key:"dispatchEvent",value:function(Y){if(Y.type in this.listeners){for(var re=this.listeners[Y.type].slice(),H=0,k=re.length;H<k;H++){var F=re[H];try{F.callback.call(this,Y)}catch(R){Promise.resolve().then(function(){throw R})}F.options&&F.options.once&&this.removeEventListener(Y.type,F.callback)}return!Y.defaultPrevented}}}]),B}(),U=function(B){M(Y,B);var Z=g(Y);function Y(){var W;return $(this,Y),(W=Z.call(this)).listeners||P.call(f(W)),Object.defineProperty(f(W),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(f(W),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(f(W),"reason",{value:void 0,writable:!0,configurable:!0}),W}return x(Y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(re){"abort"===re.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,re)),_(u(Y.prototype),"dispatchEvent",this).call(this,re)}},{key:"throwIfAborted",value:function(){var H=this.reason;if(this.aborted)throw void 0===H?"Aborted":H}}],[{key:"timeout",value:function(re){var H=new j;return setTimeout(function(){return H.abort(new DOMException("This signal is timeout in ".concat(re,"ms"),"TimeoutError"))},re),H.signal}},{key:"any",value:function(re){var H=new j;function k(){H.abort(this.reason),function F(){var fe,ce=O(re);try{for(ce.s();!(fe=ce.n()).done;)fe.value.removeEventListener("abort",k)}catch(ue){ce.e(ue)}finally{ce.f()}}()}var ne,R=O(re);try{for(R.s();!(ne=R.n()).done;){var te=ne.value;if(te.aborted){H.abort(te.reason);break}te.addEventListener("abort",k)}}catch(ce){R.e(ce)}finally{R.f()}return H.signal}}]),Y}(P),j=function(){function B(){$(this,B),Object.defineProperty(this,"signal",{value:new U,writable:!0,configurable:!0})}return x(B,[{key:"abort",value:function(Y){var W;try{W=new Event("abort")}catch{typeof document<"u"?document.createEvent?(W=document.createEvent("Event")).initEvent("abort",!1,!1):(W=document.createEventObject()).type="abort":W={type:"abort",bubbles:!1,cancelable:!1}}var re=Y;if(void 0===re)if(typeof document>"u")(re=new Error("This operation was aborted")).name="AbortError";else try{(re=new DOMException("signal is aborted without reason")).name="AbortError"}catch{(re=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=re,this.signal.dispatchEvent(W)}},{key:"toString",value:function(){return"[object AbortController]"}}]),B}();typeof Symbol<"u"&&Symbol.toStringTag&&(j.prototype[Symbol.toStringTag]="AbortController",U.prototype[Symbol.toStringTag]="AbortSignal"),function K(B){return B.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof B.Request&&!B.Request.prototype.hasOwnProperty("signal")||!B.AbortController}(B=typeof self<"u"?self:global)&&(B.AbortController=j,B.AbortSignal=U)})?L.call(z,T,z,q):L)&&(q.exports=I)},3548:(q,z,T)=>{q=T.nmd(q),function(){var I=function(){return this}();!I&&typeof window<"u"&&(I=window);var $=function(d,f,p){"string"==typeof d?(2==arguments.length&&(p=f),$.modules[d]||($.payloads[d]=p,$.modules[d]=null)):$.original?$.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};$.modules={},$.payloads={};var S=function(d,f,p){if("string"==typeof f){var g=u(d,f);if(null!=g)return p&&p(),g}else if("[object Array]"===Object.prototype.toString.call(f)){for(var h=[],_=0,w=f.length;_<w;++_){var D=u(d,f[_]);if(null==D&&x.original)return;h.push(D)}return p&&p.apply(null,h)||!0}},x=function(d,f){var p=S("",d,f);return null==p&&x.original?x.original.apply(this,arguments):p},M=function(d,f){if(-1!==f.indexOf("!")){var p=f.split("!");return M(d,p[0])+"!"+M(d,p[1])}if("."==f.charAt(0))for(f=d.split("/").slice(0,-1).join("/")+"/"+f;-1!==f.indexOf(".")&&h!=f;){var h=f;f=f.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return f},u=function(d,f){f=M(d,f);var p=$.modules[f];if(!p){if("function"==typeof(p=$.payloads[f])){var g={},h={id:f,uri:"",exports:g,packaged:!0},w=p(function(D,O){return S(f,D,O)},g,h);$.modules[f]=g=w||h.exports,delete $.payloads[f]}p=$.modules[f]=g||p}return p};!function m(d){var f=I;d&&(I[d]||(I[d]={}),f=I[d]),(!f.define||!f.define.packaged)&&($.original=f.define,f.define=$,f.define.packaged=!0),(!f.require||!f.require.packaged)&&(x.original=f.require,f.require=x,f.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(L,I,$){function S(x,M,u){Object.defineProperty(x,M,{value:u,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||S(String.prototype,"startsWith",function(x,M){return this.lastIndexOf(x,M=M||0)===M}),String.prototype.endsWith||S(String.prototype,"endsWith",function(x,M){var u=this;(void 0===M||M>u.length)&&(M=u.length);var m=u.indexOf(x,M-=x.length);return-1!==m&&m===M}),String.prototype.repeat||S(String.prototype,"repeat",function(x){for(var M="",u=this;x>0;)1&x&&(M+=u),(x>>=1)&&(u+=u);return M}),String.prototype.includes||S(String.prototype,"includes",function(x,M){return-1!=this.indexOf(x,M)}),Object.assign||(Object.assign=function(x){if(null==x)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(x),u=1;u<arguments.length;u++){var m=arguments[u];null!=m&&Object.keys(m).forEach(function(d){M[d]=m[d]})}return M}),Object.values||(Object.values=function(x){return Object.keys(x).map(function(M){return x[M]})}),Array.prototype.find||S(Array.prototype,"find",function(x){for(var M=this.length,u=arguments[1],m=0;m<M;m++){var d=this[m];if(x.call(u,d,m,this))return d}}),Array.prototype.findIndex||S(Array.prototype,"findIndex",function(x){for(var M=this.length,u=arguments[1],m=0;m<M;m++)if(x.call(u,this[m],m,this))return m}),Array.prototype.includes||S(Array.prototype,"includes",function(x,M){return-1!=this.indexOf(x,M)}),Array.prototype.fill||S(Array.prototype,"fill",function(x){for(var M=this,u=M.length>>>0,d=0|arguments[1],f=d<0?Math.max(u+d,0):Math.min(d,u),p=arguments[2],g=void 0===p?u:0|p,h=g<0?Math.max(u+g,0):Math.min(g,u);f<h;)M[f]=x,f++;return M}),Array.of||S(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(L,I,$){"use strict";L("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(L,I,$){I.deepCopy=function S(x){if("object"!=typeof x||!x)return x;var M;if(Array.isArray(x)){M=[];for(var u=0;u<x.length;u++)M[u]=S(x[u]);return M}if("[object Object]"!==Object.prototype.toString.call(x))return x;for(var u in M={},x)M[u]=S(x[u]);return M}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(L,I,$){"use strict";I.last=function(M){return M[M.length-1]},I.stringReverse=function(M){return M.split("").reverse().join("")},I.stringRepeat=function(M,u){for(var m="";u>0;)1&u&&(m+=M),(u>>=1)&&(M+=M);return m};var S=/^\s\s*/,x=/\s\s*$/;I.stringTrimLeft=function(M){return M.replace(S,"")},I.stringTrimRight=function(M){return M.replace(x,"")},I.copyObject=function(M){var u={};for(var m in M)u[m]=M[m];return u},I.copyArray=function(M){for(var u=[],m=0,d=M.length;m<d;m++)u[m]=M[m]&&"object"==typeof M[m]?this.copyObject(M[m]):M[m];return u},I.deepCopy=L("./deep_copy").deepCopy,I.arrayToMap=function(M){for(var u={},m=0;m<M.length;m++)u[M[m]]=1;return u},I.createMap=function(M){var u=Object.create(null);for(var m in M)u[m]=M[m];return u},I.arrayRemove=function(M,u){for(var m=0;m<=M.length;m++)u===M[m]&&M.splice(m,1)},I.escapeRegExp=function(M){return M.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},I.escapeHTML=function(M){return(""+M).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},I.getMatchOffsets=function(M,u){var m=[];return M.replace(u,function(d){m.push({offset:arguments[arguments.length-2],length:d.length})}),m},I.deferredCall=function(M){var u=null,m=function(){u=null,M()},d=function(f){return d.cancel(),u=setTimeout(m,f||0),d};return d.schedule=d,d.call=function(){return this.cancel(),M(),d},d.cancel=function(){return clearTimeout(u),u=null,d},d.isPending=function(){return u},d},I.delayedCall=function(M,u){var m=null,d=function(){m=null,M()},f=function(p){null==m&&(m=setTimeout(d,p||u))};return f.delay=function(p){m&&clearTimeout(m),m=setTimeout(d,p||u)},f.schedule=f,f.call=function(){this.cancel(),M()},f.cancel=function(){m&&clearTimeout(m),m=null},f.isPending=function(){return m},f},I.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},I.skipEmptyMatch=function(M,u,m){return m&&M.codePointAt(u)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(L,I,$){"use strict";I.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},I.getOS=function(){return I.isMac?I.OS.MAC:I.isLinux?I.OS.LINUX:I.OS.WINDOWS};var S="object"==typeof navigator?navigator:{},x=(/mac|win|linux/i.exec(S.platform)||["other"])[0].toLowerCase(),M=S.userAgent||"",u=S.appName||"";I.isWin="win"==x,I.isMac="mac"==x,I.isLinux="linux"==x,I.isIE="Microsoft Internet Explorer"==u||u.indexOf("MSAppHost")>=0?parseFloat((M.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((M.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),I.isOldIE=I.isIE&&I.isIE<9,I.isGecko=I.isMozilla=M.match(/ Gecko\/\d+/),I.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),I.isWebKit=parseFloat(M.split("WebKit/")[1])||void 0,I.isChrome=parseFloat(M.split(" Chrome/")[1])||void 0,I.isSafari=parseFloat(M.split(" Safari/")[1])&&!I.isChrome||void 0,I.isEdge=parseFloat(M.split(" Edge/")[1])||void 0,I.isAIR=M.indexOf("AdobeAIR")>=0,I.isAndroid=M.indexOf("Android")>=0,I.isChromeOS=M.indexOf(" CrOS ")>=0,I.isIOS=/iPad|iPhone|iPod/.test(M)&&!window.MSStream,I.isIOS&&(I.isMac=!0),I.isMobile=I.isIOS||I.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(L,I,$){"use strict";var S=L("./useragent");I.buildDom=function p(g,h,_){if("string"==typeof g&&g){var w=document.createTextNode(g);return h&&h.appendChild(w),w}if(!Array.isArray(g))return g&&g.appendChild&&h&&h.appendChild(g),g;if("string"!=typeof g[0]||!g[0]){for(var D=[],O=0;O<g.length;O++){var P=p(g[O],h,_);P&&D.push(P)}return D}var U=document.createElement(g[0]),j=g[1],K=1;for(j&&"object"==typeof j&&!Array.isArray(j)&&(K=2),O=K;O<g.length;O++)p(g[O],U,_);return 2==K&&Object.keys(j).forEach(function(B){var Z=j[B];"class"===B?U.className=Array.isArray(Z)?Z.join(" "):Z:"function"==typeof Z||"value"==B||"$"==B[0]?U[B]=Z:"ref"===B?_&&(_[Z]=U):"style"===B?"string"==typeof Z&&(U.style.cssText=Z):null!=Z&&U.setAttribute(B,Z)}),h&&h.appendChild(U),U},I.getDocumentHead=function(p){return p||(p=document),p.head||p.getElementsByTagName("head")[0]||p.documentElement},I.createElement=function(p,g){return document.createElementNS?document.createElementNS(g||"http://www.w3.org/1999/xhtml",p):document.createElement(p)},I.removeChildren=function(p){p.innerHTML=""},I.createTextNode=function(p,g){return(g?g.ownerDocument:document).createTextNode(p)},I.createFragment=function(p){return(p?p.ownerDocument:document).createDocumentFragment()},I.hasCssClass=function(p,g){return-1!==(p.className+"").split(/\s+/g).indexOf(g)},I.addCssClass=function(p,g){I.hasCssClass(p,g)||(p.className+=" "+g)},I.removeCssClass=function(p,g){for(var h=p.className.split(/\s+/g);;){var _=h.indexOf(g);if(-1==_)break;h.splice(_,1)}p.className=h.join(" ")},I.toggleCssClass=function(p,g){for(var h=p.className.split(/\s+/g),_=!0;;){var w=h.indexOf(g);if(-1==w)break;_=!1,h.splice(w,1)}return _&&h.push(g),p.className=h.join(" "),_},I.setCssClass=function(p,g,h){h?I.addCssClass(p,g):I.removeCssClass(p,g)},I.hasCssString=function(p,g){var _,h=0;if(_=(g=g||document).querySelectorAll("style"))for(;h<_.length;)if(_[h++].id===p)return!0},I.removeElementById=function(p,g){(g=g||document).getElementById(p)&&g.getElementById(p).remove()};var M,u=[];function m(){var p=u;u=null,p&&p.forEach(function(g){d(g[0],g[1])})}function d(p,g,h){if(!(typeof document>"u")){if(u)if(h)m();else if(!1===h)return u.push([p,g]);if(!M){var _=h;h&&h.getRootNode?(!(_=h.getRootNode())||_==h)&&(_=document):_=document;var w=_.ownerDocument||_;if(g&&I.hasCssString(g,_))return null;g&&(p+="\n/*# sourceURL=ace/css/"+g+" */");var D=I.createElement("style");D.appendChild(w.createTextNode(p)),g&&(D.id=g),_==w&&(_=I.getDocumentHead(w)),_.insertBefore(D,_.firstChild)}}}if(I.useStrictCSP=function(p){M=p,0==p?m():u||(u=[])},I.importCssString=d,I.importCssStylsheet=function(p,g){I.buildDom(["link",{rel:"stylesheet",href:p}],I.getDocumentHead(g))},I.scrollbarWidth=function(p){var g=I.createElement("ace_inner");g.style.width="100%",g.style.minWidth="0px",g.style.height="200px",g.style.display="block";var h=I.createElement("ace_outer"),_=h.style;_.position="absolute",_.left="-10000px",_.overflow="hidden",_.width="200px",_.minWidth="0px",_.height="150px",_.display="block",h.appendChild(g);var w=p&&p.documentElement||document&&document.documentElement;if(!w)return 0;w.appendChild(h);var D=g.offsetWidth;_.overflow="scroll";var O=g.offsetWidth;return D===O&&(O=h.clientWidth),w.removeChild(h),D-O},I.computedStyle=function(p,g){return window.getComputedStyle(p,"")||{}},I.setStyle=function(p,g,h){p[g]!==h&&(p[g]=h)},I.HAS_CSS_ANIMATION=!1,I.HAS_CSS_TRANSFORMS=!1,I.HI_DPI=!S.isWin||typeof window<"u"&&window.devicePixelRatio>=1.5,S.isChromeOS&&(I.HI_DPI=!1),typeof document<"u"){var f=document.createElement("div");I.HI_DPI&&void 0!==f.style.transform&&(I.HAS_CSS_TRANSFORMS=!0),!S.isEdge&&typeof f.style.animationName<"u"&&(I.HAS_CSS_ANIMATION=!0),f=null}I.translate=I.HAS_CSS_TRANSFORMS?function(p,g,h){p.style.transform="translate("+Math.round(g)+"px, "+Math.round(h)+"px)"}:function(p,g,h){p.style.top=Math.round(h)+"px",p.style.left=Math.round(g)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(L,I,$){"use strict";var S=L("./dom");I.get=function(x,M){var u=new XMLHttpRequest;u.open("GET",x,!0),u.onreadystatechange=function(){4===u.readyState&&M(u.responseText)},u.send(null)},I.loadScript=function(x,M){var u=S.getDocumentHead(),m=document.createElement("script");m.src=x,u.appendChild(m),m.onload=m.onreadystatechange=function(d,f){(f||!m.readyState||"loaded"==m.readyState||"complete"==m.readyState)&&(m=m.onload=m.onreadystatechange=null,f||M())}},I.qualifyURL=function(x){var M=document.createElement("a");return M.href=x,M.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(L,I,$){"use strict";I.inherits=function(S,x){S.super_=x,S.prototype=Object.create(x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}})},I.mixin=function(S,x){for(var M in x)S[M]=x[M];return S},I.implement=function(S,x){I.mixin(S,x)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(L,I,$){"use strict";var S={},x=function(){this.propagationStopped=!0},M=function(){this.defaultPrevented=!0};S._emit=S._dispatchEvent=function(u,m){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var d=this._eventRegistry[u]||[],f=this._defaultHandlers[u];if(d.length||f){("object"!=typeof m||!m)&&(m={}),m.type||(m.type=u),m.stopPropagation||(m.stopPropagation=x),m.preventDefault||(m.preventDefault=M),d=d.slice();for(var p=0;p<d.length&&(d[p](m,this),!m.propagationStopped);p++);if(f&&!m.defaultPrevented)return f(m,this)}},S._signal=function(u,m){var d=(this._eventRegistry||{})[u];if(d){d=d.slice();for(var f=0;f<d.length;f++)d[f](m,this)}},S.once=function(u,m){var d=this;if(this.on(u,function f(){d.off(u,f),m.apply(null,arguments)}),!m)return new Promise(function(f){m=f})},S.setDefaultHandler=function(u,m){var d=this._defaultHandlers;if(d||(d=this._defaultHandlers={_disabled_:{}}),d[u]){var f=d[u],p=d._disabled_[u];p||(d._disabled_[u]=p=[]),p.push(f);var g=p.indexOf(m);-1!=g&&p.splice(g,1)}d[u]=m},S.removeDefaultHandler=function(u,m){var d=this._defaultHandlers;if(d){var f=d._disabled_[u];if(d[u]==m)f&&this.setDefaultHandler(u,f.pop());else if(f){var p=f.indexOf(m);-1!=p&&f.splice(p,1)}}},S.on=S.addEventListener=function(u,m,d){this._eventRegistry=this._eventRegistry||{};var f=this._eventRegistry[u];return f||(f=this._eventRegistry[u]=[]),-1==f.indexOf(m)&&f[d?"unshift":"push"](m),m},S.off=S.removeListener=S.removeEventListener=function(u,m){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[u];if(d){var f=d.indexOf(m);-1!==f&&d.splice(f,1)}},S.removeAllListeners=function(u){u||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[u]=void 0),this._defaultHandlers&&(this._defaultHandlers[u]=void 0)},I.EventEmitter=S}),ace.define("ace/lib/report_error",["require","exports","module"],function(L,I,$){I.reportError=function(x,M){var u=new Error(x);u.data=M,"object"==typeof console&&console.error&&console.error(u),setTimeout(function(){throw u})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(L,I,$){I.defaultEnglishMessages={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"}}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(L,I,$){var S=L("./oop"),x=L("./event_emitter").EventEmitter,M=L("./report_error").reportError,u=L("./default_english_messages").defaultEnglishMessages,m={setOptions:function(h){Object.keys(h).forEach(function(_){this.setOption(_,h[_])},this)},getOptions:function(h){var _={};if(h)Array.isArray(h)||(_=h,h=Object.keys(_));else{var w=this.$options;h=Object.keys(w).filter(function(D){return!w[D].hidden})}return h.forEach(function(D){_[D]=this.getOption(D)},this),_},setOption:function(h,_){if(this["$"+h]!==_){var w=this.$options[h];if(!w)return d('misspelled option "'+h+'"');if(w.forwardTo)return this[w.forwardTo]&&this[w.forwardTo].setOption(h,_);w.handlesSet||(this["$"+h]=_),w&&w.set&&w.set.call(this,_)}},getOption:function(h){var _=this.$options[h];return _?_.forwardTo?this[_.forwardTo]&&this[_.forwardTo].getOption(h):_&&_.get?_.get.call(this):this["$"+h]:d('misspelled option "'+h+'"')}};function d(h){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var f,p,g=function(){function h(){this.$defaultOptions={},f=u,p="dollarSigns"}return h.prototype.defineOptions=function(_,w,D){return _.$options||(this.$defaultOptions[w]=_.$options={}),Object.keys(D).forEach(function(O){var P=D[O];"string"==typeof P&&(P={forwardTo:P}),P.name||(P.name=O),_.$options[P.name]=P,"initialValue"in P&&(_["$"+P.name]=P.initialValue)}),S.implement(_,m),this},h.prototype.resetOptions=function(_){Object.keys(_.$options).forEach(function(w){var D=_.$options[w];"value"in D&&_.setOption(w,D.value)})},h.prototype.setDefaultValue=function(_,w,D){if(!_){for(_ in this.$defaultOptions)if(this.$defaultOptions[_][w])break;if(!this.$defaultOptions[_][w])return!1}var O=this.$defaultOptions[_]||(this.$defaultOptions[_]={});O[w]&&(O.forwardTo?this.setDefaultValue(O.forwardTo,w,D):O[w].value=D)},h.prototype.setDefaultValues=function(_,w){Object.keys(w).forEach(function(D){this.setDefaultValue(_,D,w[D])},this)},h.prototype.setMessages=function(_,w){f=_,w&&w.placeholders&&(p=w.placeholders)},h.prototype.nls=function(_,w,D){f[_]||(d("No message found for the key '"+_+"' in the provided messages, trying to find a translation for the default string '"+w+"'."),f[w]||d("No message found for the default string '"+w+"' in the provided messages. Falling back to the default English message."));var O=f[_]||f[w]||w;return D&&("dollarSigns"===p&&(O=O.replace(/\$(\$|[\d]+)/g,function(P,U){return"$"==U?"$":D[U]})),"curlyBrackets"===p&&(O=O.replace(/\{([^\}]+)\}/g,function(P,U){return D[U]}))),O},h}();g.prototype.warn=d,g.prototype.reportError=M,S.implement(g.prototype,x),I.AppConfig=g}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(L,I,$){$.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(L,I,$){"use strict";I.isDark=!1,I.cssClass="ace-tm",I.cssText=L("./textmate-css"),I.$id="ace/theme/textmate",L("../lib/dom").importCssString(I.cssText,I.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(L,I,$){var S=L("./lib/lang"),x=L("./lib/net"),M=L("./lib/dom"),u=L("./lib/app_config").AppConfig;$.exports=I=new u;var f,m={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};I.get=function(g){if(!m.hasOwnProperty(g))throw new Error("Unknown config key: "+g);return m[g]},I.set=function(g,h){if(m.hasOwnProperty(g))m[g]=h;else if(0==this.setDefaultValue("",g,h))throw new Error("Unknown config key: "+g);"useStrictCSP"==g&&M.useStrictCSP(h)},I.all=function(){return S.copyObject(m)},I.$modes={},I.moduleUrl=function(g,h){if(m.$moduleUrls[g])return m.$moduleUrls[g];var _=g.split("/"),w="snippets"==(h=h||_[_.length-2]||"")?"/":"-",D=_[_.length-1];if("worker"==h&&"-"==w){var O=new RegExp("^"+h+"[\\-_]|[\\-_]"+h+"$","g");D=D.replace(O,"")}(!D||D==h)&&_.length>1&&(D=_[_.length-2]);var P=m[h+"Path"];return null==P?P=m.basePath:"/"==w&&(h=w=""),P&&"/"!=P.slice(-1)&&(P+="/"),P+h+w+D+this.get("suffix")},I.setModuleUrl=function(g,h){return m.$moduleUrls[g]=h},I.setLoader=function(g){f=g},I.dynamicModules=Object.create(null),I.$loading={},I.$loaded={},I.loadModule=function(g,h){var _;if(Array.isArray(g))var w=g[0],D=g[1];else"string"==typeof g&&(D=g);var O=function(P){if(P&&!I.$loading[D])return h&&h(P);if(I.$loading[D]||(I.$loading[D]=[]),I.$loading[D].push(h),!(I.$loading[D].length>1)){var U=function(){!function(g,h){"ace/theme/textmate"===g||"./theme/textmate"===g?h(0,L("./theme/textmate")):f?f(g,h):console.error("loader is not configured")}(D,function(j,K){K&&(I.$loaded[D]=K),I._emit("load.module",{name:D,module:K});var B=I.$loading[D];I.$loading[D]=null,B.forEach(function(Z){Z&&Z(K)})})};if(!I.get("packaged"))return U();x.loadScript(I.moduleUrl(D,w),U),p()}};if(I.dynamicModules[D])I.dynamicModules[D]().then(function(P){O(P.default?P.default:P)});else{try{_=this.$require(D)}catch{}O(_||I.$loaded[D])}},I.$require=function(g){if("function"==typeof $.require)return $.require(g)},I.setModuleLoader=function(g,h){I.dynamicModules[g]=h};var p=function(){!m.basePath&&!m.workerPath&&!m.modePath&&!m.themePath&&!Object.keys(m.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),p=function(){})};I.version="1.36.5"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(L,I,$){"use strict";L("./lib/fixoldbrowsers");var S=L("./config");S.setLoader(function(m,d){L([m],function(f){d(null,f)})});var x=function(){return this||typeof window<"u"&&window}();function M(m){if(x&&x.document){S.set("packaged",m||L.packaged||$.packaged||x.define&&T.amdD.packaged);var d={},f="",p=document.currentScript||document._currentScript,g=p&&p.ownerDocument||document;p&&p.src&&(f=p.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var h=g.getElementsByTagName("script"),_=0;_<h.length;_++){var w=h[_],D=w.src||w.getAttribute("src");if(D){for(var O=w.attributes,P=0,U=O.length;P<U;P++){var j=O[P];0===j.name.indexOf("data-ace-")&&(d[u(j.name.replace(/^data-ace-/,""))]=j.value)}var K=D.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);K&&(f=K[1])}}for(var B in f&&(d.base=d.base||f,d.packaged=!0),d.basePath=d.base,d.workerPath=d.workerPath||d.base,d.modePath=d.modePath||d.base,d.themePath=d.themePath||d.base,delete d.base,d)typeof d[B]<"u"&&S.set(B,d[B])}}function u(m){return m.replace(/-(.)/g,function(d,f){return f.toUpperCase()})}$.exports=function(m){S.init=M,S.$require=L,m.require=L,m.define=T.amdD},M(!0)}),ace.define("ace/range",["require","exports","module"],function(L,I,$){"use strict";var S=function(){function x(M,u,m,d){this.start={row:M,column:u},this.end={row:m,column:d}}return x.prototype.isEqual=function(M){return this.start.row===M.start.row&&this.end.row===M.end.row&&this.start.column===M.start.column&&this.end.column===M.end.column},x.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},x.prototype.contains=function(M,u){return 0==this.compare(M,u)},x.prototype.compareRange=function(M){var u,m=M.end,d=M.start;return 1==(u=this.compare(m.row,m.column))?1==(u=this.compare(d.row,d.column))?2:0==u?1:0:-1==u?-2:-1==(u=this.compare(d.row,d.column))?-1:1==u?42:0},x.prototype.comparePoint=function(M){return this.compare(M.row,M.column)},x.prototype.containsRange=function(M){return 0==this.comparePoint(M.start)&&0==this.comparePoint(M.end)},x.prototype.intersects=function(M){var u=this.compareRange(M);return-1==u||0==u||1==u},x.prototype.isEnd=function(M,u){return this.end.row==M&&this.end.column==u},x.prototype.isStart=function(M,u){return this.start.row==M&&this.start.column==u},x.prototype.setStart=function(M,u){"object"==typeof M?(this.start.column=M.column,this.start.row=M.row):(this.start.row=M,this.start.column=u)},x.prototype.setEnd=function(M,u){"object"==typeof M?(this.end.column=M.column,this.end.row=M.row):(this.end.row=M,this.end.column=u)},x.prototype.inside=function(M,u){return 0==this.compare(M,u)&&!(this.isEnd(M,u)||this.isStart(M,u))},x.prototype.insideStart=function(M,u){return 0==this.compare(M,u)&&!this.isEnd(M,u)},x.prototype.insideEnd=function(M,u){return 0==this.compare(M,u)&&!this.isStart(M,u)},x.prototype.compare=function(M,u){return this.isMultiLine()||M!==this.start.row?M<this.start.row?-1:M>this.end.row?1:this.start.row===M?u>=this.start.column?0:-1:this.end.row===M?u<=this.end.column?0:1:0:u<this.start.column?-1:u>this.end.column?1:0},x.prototype.compareStart=function(M,u){return this.start.row==M&&this.start.column==u?-1:this.compare(M,u)},x.prototype.compareEnd=function(M,u){return this.end.row==M&&this.end.column==u?1:this.compare(M,u)},x.prototype.compareInside=function(M,u){return this.end.row==M&&this.end.column==u?1:this.start.row==M&&this.start.column==u?-1:this.compare(M,u)},x.prototype.clipRows=function(M,u){if(this.end.row>u)var m={row:u+1,column:0};else this.end.row<M&&(m={row:M,column:0});if(this.start.row>u)var d={row:u+1,column:0};else this.start.row<M&&(d={row:M,column:0});return x.fromPoints(d||this.start,m||this.end)},x.prototype.extend=function(M,u){var m=this.compare(M,u);if(0==m)return this;if(-1==m)var d={row:M,column:u};else var f={row:M,column:u};return x.fromPoints(d||this.start,f||this.end)},x.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},x.prototype.isMultiLine=function(){return this.start.row!==this.end.row},x.prototype.clone=function(){return x.fromPoints(this.start,this.end)},x.prototype.collapseRows=function(){return new x(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},x.prototype.toScreenRange=function(M){var u=M.documentToScreenPosition(this.start),m=M.documentToScreenPosition(this.end);return new x(u.row,u.column,m.row,m.column)},x.prototype.moveBy=function(M,u){this.start.row+=M,this.start.column+=u,this.end.row+=M,this.end.column+=u},x}();S.fromPoints=function(x,M){return new S(x.row,x.column,M.row,M.column)},S.comparePoints=function(x,M){return x.row-M.row||x.column-M.column},I.Range=S}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(L,I,$){"use strict";for(var S=L("./oop"),x={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},M={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},u=0;u<10;u++)M["Digit"+u]=48+u,M["Numpad"+u]=96+u,x.PRINTABLE_KEYS[48+u]=""+u,x.FUNCTION_KEYS[96+u]="Numpad"+u;for(u=65;u<91;u++){var m=String.fromCharCode(u+32);M["Key"+m.toUpperCase()]=u,x.PRINTABLE_KEYS[u]=m}for(u=1;u<13;u++)M["F"+u]=111+u,x.FUNCTION_KEYS[111+u]="F"+u;var d={Shift:16,Control:17,Alt:18,Meta:224};for(var f in d)M[f]=M[f+"Left"]=M[f+"Right"]=d[f];for(var p in I.$codeToKeyCode=M,x.PRINTABLE_KEYS[173]="-",x.FUNCTION_KEYS){var g=x.FUNCTION_KEYS[p].toLowerCase();x[g]=parseInt(p,10)}for(var p in x.PRINTABLE_KEYS)g=x.PRINTABLE_KEYS[p].toLowerCase(),x[g]=parseInt(p,10);S.mixin(x,x.MODIFIER_KEYS),S.mixin(x,x.PRINTABLE_KEYS),S.mixin(x,x.FUNCTION_KEYS),x.enter=x.return,x.escape=x.esc,x.del=x.delete,function(){for(var h=["cmd","ctrl","alt","shift"],_=Math.pow(2,h.length);_--;)x.KEY_MODS[_]=h.filter(function(w){return _&x.KEY_MODS[w]}).join("-")+"-"}(),x.KEY_MODS[0]="",x.KEY_MODS[-1]="input-",S.mixin(I,x),I.default=I,I.keyCodeToString=function(h){var _=x[h];return"string"!=typeof _&&(_=String.fromCharCode(h)),_.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(L,I,$){"use strict";var m,S=L("./keys"),x=L("./useragent"),M=null,u=0;function f(){return null==m&&function d(){m=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return m={passive:!1},!0}})}catch{}}(),m}function p(P,U,j){this.elem=P,this.type=U,this.callback=j}p.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var g=I.addListener=function(P,U,j,K){P.addEventListener(U,j,f()),K&&K.$toDestroy.push(new p(P,U,j))},h=I.removeListener=function(P,U,j){P.removeEventListener(U,j,f())};function _(P){return(P.ctrlKey?1:0)|(P.altKey?2:0)|(P.shiftKey?4:0)|(P.metaKey?8:0)}function D(){M=Object.create(null)}if(I.stopEvent=function(P){return I.stopPropagation(P),I.preventDefault(P),!1},I.stopPropagation=function(P){P.stopPropagation&&P.stopPropagation()},I.preventDefault=function(P){P.preventDefault&&P.preventDefault()},I.getButton=function(P){return"dblclick"==P.type?0:"contextmenu"==P.type||x.isMac&&P.ctrlKey&&!P.altKey&&!P.shiftKey?2:P.button},I.capture=function(P,U,j){var K=P&&P.ownerDocument||document;function B(Z){U&&U(Z),j&&j(Z),h(K,"mousemove",U),h(K,"mouseup",B),h(K,"dragstart",B)}return g(K,"mousemove",U),g(K,"mouseup",B),g(K,"dragstart",B),B},I.addMouseWheelListener=function(P,U,j){g(P,"wheel",function(K){var Z=K.deltaX||0,Y=K.deltaY||0;switch(K.deltaMode){case K.DOM_DELTA_PIXEL:K.wheelX=.15*Z,K.wheelY=.15*Y;break;case K.DOM_DELTA_LINE:K.wheelX=15*Z,K.wheelY=15*Y;break;case K.DOM_DELTA_PAGE:K.wheelX=150*Z,K.wheelY=150*Y}U(K)},j)},I.addMultiMouseDownListener=function(P,U,j,K,B){var Y,W,re,Z=0,H={2:"dblclick",3:"tripleclick",4:"quadclick"};function k(F){if(0!==I.getButton(F)?Z=0:F.detail>1?++Z>4&&(Z=1):Z=1,x.isIE){var R=Math.abs(F.clientX-Y)>5||Math.abs(F.clientY-W)>5;(!re||R)&&(Z=1),re&&clearTimeout(re),re=setTimeout(function(){re=null},U[Z-1]||600),1==Z&&(Y=F.clientX,W=F.clientY)}if(F._clicks=Z,j[K]("mousedown",F),Z>4)Z=0;else if(Z>1)return j[K](H[Z],F)}Array.isArray(P)||(P=[P]),P.forEach(function(F){g(F,"mousedown",k,B)})},I.getModifierString=function(P){return S.KEY_MODS[_(P)]},I.addCommandKeyListener=function(P,U,j){var K=null;g(P,"keydown",function(B){M[B.keyCode]=(M[B.keyCode]||0)+1;var Z=function w(P,U,j){var K=_(U);if(!j&&U.code&&(j=S.$codeToKeyCode[U.code]||j),!x.isMac&&M){if(U.getModifierState&&(U.getModifierState("OS")||U.getModifierState("Win"))&&(K|=8),M.altGr){if(!(3&~K))return;M.altGr=0}if(18===j||17===j){var B=U.location;17===j&&1===B?1==M[j]&&(u=U.timeStamp):18===j&&3===K&&2===B&&U.timeStamp-u<50&&(M.altGr=!0)}}if(j in S.MODIFIER_KEYS&&(j=-1),K||13!==j||3!==U.location||(P(U,K,-j),!U.defaultPrevented)){if(x.isChromeOS&&8&K){if(P(U,K,j),U.defaultPrevented)return;K&=-9}return!!(K||j in S.FUNCTION_KEYS||j in S.PRINTABLE_KEYS)&&P(U,K,j)}}(U,B,B.keyCode);return K=B.defaultPrevented,Z},j),g(P,"keypress",function(B){K&&(B.ctrlKey||B.altKey||B.shiftKey||B.metaKey)&&(I.stopEvent(B),K=null)},j),g(P,"keyup",function(B){M[B.keyCode]=null},j),M||(D(),g(window,"focus",D))},"object"==typeof window&&window.postMessage&&!x.isOldIE){var O=1;I.nextTick=function(P,U){U=U||window;var j="zero-timeout-message-"+O++,K=function(B){B.data==j&&(I.stopPropagation(B),h(U,"message",K),P())};g(U,"message",K),U.postMessage(j,"*")}}I.$idleBlocked=!1,I.onIdle=function(P,U){return setTimeout(function j(){I.$idleBlocked?setTimeout(j,100):P()},U)},I.$idleBlockId=null,I.blockIdle=function(P){I.$idleBlockId&&clearTimeout(I.$idleBlockId),I.$idleBlocked=!0,I.$idleBlockId=setTimeout(function(){I.$idleBlocked=!1},P||100)},I.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),I.nextFrame=I.nextFrame?I.nextFrame.bind(window):function(P){setTimeout(P,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(L,I,$){"use strict";var S;$.exports={lineMode:!1,pasteCancelled:function(){return!!(S&&S>Date.now()-50)||(S=!1)},cancel:function(){S=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(L,I,$){"use strict";var S=L("../lib/event"),x=L("../config").nls,M=L("../lib/useragent"),u=L("../lib/dom"),m=L("../lib/lang"),d=L("../clipboard"),f=M.isChrome<18,p=M.isIE,g=M.isChrome>63,h=400,_=L("../lib/keys"),w=_.KEY_MODS,D=M.isIOS,O=D?/\s/:/\n/,P=M.isMobile;I.TextInput=function(j,K){var B=u.createElement("textarea");B.className="ace_text-input",B.setAttribute("wrap","off"),B.setAttribute("autocorrect","off"),B.setAttribute("autocapitalize","off"),B.setAttribute("spellcheck","false"),B.style.opacity="0",j.insertBefore(B,j.firstChild);var Z=!1,Y=!1,W=!1,re=!1,H="";P||(B.style.fontSize="1px");var k=!1,F=!1,R="",ne=0,te=0,ce=0,fe=Number.MAX_SAFE_INTEGER,me=Number.MIN_SAFE_INTEGER,ue=0;try{var xe=document.activeElement===B}catch{}this.setNumberOfExtraLines=function(Ze){fe=Number.MAX_SAFE_INTEGER,me=Number.MIN_SAFE_INTEGER,ue=Ze<0?0:Ze},this.setAriaLabel=function(){var Ze="";K.$textInputAriaLabel&&(Ze+="".concat(K.$textInputAriaLabel,", ")),K.session&&(Ze+=x("text-input.aria-label","Cursor at row $0",[K.session.selection.cursor.row+1])),B.setAttribute("aria-label",Ze)},this.setAriaOptions=function(Ze){Ze.activeDescendant?(B.setAttribute("aria-haspopup","true"),B.setAttribute("aria-autocomplete",Ze.inline?"both":"list"),B.setAttribute("aria-activedescendant",Ze.activeDescendant)):(B.setAttribute("aria-haspopup","false"),B.setAttribute("aria-autocomplete","both"),B.removeAttribute("aria-activedescendant")),Ze.role&&B.setAttribute("role",Ze.role),Ze.setLabel&&(B.setAttribute("aria-roledescription",x("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),S.addListener(B,"blur",function(Ze){F||(K.onBlur(Ze),xe=!1)},K),S.addListener(B,"focus",function(Ze){if(!F){if(xe=!0,M.isEdge)try{if(!document.hasFocus())return}catch{}K.onFocus(Ze),M.isEdge?setTimeout(Ne):Ne()}},K),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:K.renderer.enableKeyboardAccessibility}),H||g||"browser"==this.$focusScroll)return B.focus({preventScroll:!0});var Ze=B.style.top;B.style.position="fixed",B.style.top="0px";try{var Tt=0!=B.getBoundingClientRect().top}catch{return}var Zt=[];if(Tt)for(var un=B.parentElement;un&&1==un.nodeType;)Zt.push(un),un.setAttribute("ace_nocontext","true"),un=!un.parentElement&&un.getRootNode?un.getRootNode().host:un.parentElement;B.focus({preventScroll:!0}),Tt&&Zt.forEach(function(Nt){Nt.removeAttribute("ace_nocontext")}),setTimeout(function(){B.style.position="","0px"==B.style.top&&(B.style.top=Ze)},0)},this.blur=function(){B.blur()},this.isFocused=function(){return xe},K.on("beforeEndOperation",function(){var Ze=K.curOp,Tt=Ze&&Ze.command&&Ze.command.name;"insertstring"!=Tt&&(W&&Tt&&(Ze.docChanged||Ze.selectionChanged)&&(R=B.value="",Ce()),Ne())}),K.on("changeSelection",this.setAriaLabel);var ge=function(Ze,Tt){for(var Zt=Tt,un=1;un<=Ze-fe&&un<2*ue+1;un++)Zt+=K.session.getLine(Ze-un).length+1;return Zt},Ne=D?function(Ze){if(xe&&(!Z||Ze)&&!re){Ze||(Ze="");var Tt="\n ab"+Ze+"cde fg\n";Tt!=B.value&&(B.value=R=Tt);var un=4+(Ze.length||(K.selection.isEmpty()?0:1));(4!=ne||te!=un)&&B.setSelectionRange(4,un),ne=4,te=un}}:function(){if(!W&&!re&&(xe||Qe)){W=!0;var Ze=0,Tt=0,Zt="";if(K.session){var un=K.selection,Nt=un.getRange(),Un=un.cursor.row;Un===me+1?me=(fe=me+1)+2*ue:Un===fe-1?fe=(me=fe-1)-2*ue:(Un<fe-1||Un>me+1)&&(fe=Un>ue?Un-ue:0,me=Un>ue?Un+ue:2*ue);for(var Gn=[],Rn=fe;Rn<=me;Rn++)Gn.push(K.session.getLine(Rn));if(Zt=Gn.join("\n"),Ze=ge(Nt.start.row,Nt.start.column),Tt=ge(Nt.end.row,Nt.end.column),Nt.start.row<fe){var Yn=K.session.getLine(fe-1);Ze=Nt.start.row<fe-1?0:Ze,Tt+=Yn.length+1,Zt=Yn+"\n"+Zt}else if(Nt.end.row>me){var _n=K.session.getLine(me+1);Tt=Nt.end.row>me+1?_n.length:Nt.end.column,Tt+=Zt.length+1,Zt=Zt+"\n"+_n}else P&&Un>0&&(Zt="\n"+Zt,Tt+=1,Ze+=1);Zt.length>h&&(Ze<h&&Tt<h?Zt=Zt.slice(0,h):(Zt="\n",Ze==Tt?Ze=Tt=0:(Ze=0,Tt=1)));var Di=Zt+"\n\n";Di!=R&&(B.value=R=Di,ne=te=Di.length)}if(Qe&&(ne=B.selectionStart,te=B.selectionEnd),te!=Tt||ne!=Ze||B.selectionEnd!=te)try{B.setSelectionRange(Ze,Tt),ne=Ze,te=Tt}catch{}W=!1}};this.resetSelection=Ne,xe&&K.onFocus();var qe=null;this.setInputHandler=function(Ze){qe=Ze},this.getInputHandler=function(){return qe};var Qe=!1,ct=function(Ze,Tt){if(Qe&&(Qe=!1),Y)return Ne(),Ze&&K.onPaste(Ze),Y=!1,"";for(var Zt=B.selectionStart,un=B.selectionEnd,Nt=ne,Un=R.length-te,Gn=Ze,Rn=Ze.length-Zt,Yn=Ze.length-un,_n=0;Nt>0&&R[_n]==Ze[_n];)_n++,Nt--;for(Gn=Gn.slice(_n),_n=1;Un>0&&R.length-_n>ne-1&&R[R.length-_n]==Ze[Ze.length-_n];)_n++,Un--;Rn-=_n-1,Yn-=_n-1;var Di=Gn.length-_n+1;if(Di<0&&(Nt=-Di,Di=0),Gn=Gn.slice(0,Di),!(Tt||Gn||Rn||Nt||Un||Yn))return"";re=!0;var _e=!1;return M.isAndroid&&". "==Gn&&(Gn="  ",_e=!0),Gn&&!Nt&&!Un&&!Rn&&!Yn||k?K.onTextInput(Gn):K.onTextInput(Gn,{extendLeft:Nt,extendRight:Un,restoreStart:Rn,restoreEnd:Yn}),re=!1,R=Ze,ne=Zt,te=un,ce=Yn,_e?"\n":Gn},ht=function(Ze){if(W)return pn();if(Ze&&Ze.inputType){if("historyUndo"==Ze.inputType)return K.execCommand("undo");if("historyRedo"==Ze.inputType)return K.execCommand("redo")}var Tt=B.value,Zt=ct(Tt,!0);(Tt.length>500||O.test(Zt)||P&&ne<1&&ne==te)&&Ne()},ft=function(Ze,Tt,Zt){var un=Ze.clipboardData||window.clipboardData;if(un&&!f){var Nt=p||Zt?"Text":"text/plain";try{return Tt?!1!==un.setData(Nt,Tt):un.getData(Nt)}catch(Un){if(!Zt)return ft(Un,Tt,!0)}}},vt=function(Ze,Tt){var Zt=K.getCopyText();if(!Zt)return S.preventDefault(Ze);ft(Ze,Zt)?(D&&(Ne(Zt),Z=Zt,setTimeout(function(){Z=!1},10)),Tt?K.onCut():K.onCopy(),S.preventDefault(Ze)):(Z=!0,B.value=Zt,B.select(),setTimeout(function(){Z=!1,Ne(),Tt?K.onCut():K.onCopy()}))},cn=function(Ze){vt(Ze,!0)},wt=function(Ze){vt(Ze,!1)},tn=function(Ze){var Tt=ft(Ze);d.pasteCancelled()||("string"==typeof Tt?(Tt&&K.onPaste(Tt,Ze),M.isIE&&setTimeout(Ne),S.preventDefault(Ze)):(B.value="",Y=!0))};S.addCommandKeyListener(B,function(Ze,Tt,Zt){if(!W)return K.onCommandKey(Ze,Tt,Zt)},K),S.addListener(B,"select",function(Ze){W||(Z?Z=!1:function(Ze){return 0===Ze.selectionStart&&Ze.selectionEnd>=R.length&&Ze.value===R&&R&&Ze.selectionEnd!==te}(B)?(K.selectAll(),Ne()):P&&B.selectionStart!=ne&&Ne())},K),S.addListener(B,"input",ht,K),S.addListener(B,"cut",cn,K),S.addListener(B,"copy",wt,K),S.addListener(B,"paste",tn,K),(!("oncut"in B)||!("oncopy"in B)||!("onpaste"in B))&&S.addListener(j,"keydown",function(Ze){if((!M.isMac||Ze.metaKey)&&Ze.ctrlKey)switch(Ze.keyCode){case 67:wt(Ze);break;case 86:tn(Ze);break;case 88:cn(Ze)}},K);var pn=function(){if(W&&K.onCompositionUpdate&&!K.$readOnly){if(k)return Re();W.useTextareaForIME?K.onCompositionUpdate(B.value):(ct(B.value),W.markerRange&&(W.context&&(W.markerRange.start.column=W.selectionStart=W.context.compositionStartOffset),W.markerRange.end.column=W.markerRange.start.column+te-W.selectionStart+ce))}},Ce=function(Ze){!K.onCompositionEnd||K.$readOnly||(W=!1,K.onCompositionEnd(),K.off("mousedown",Re),Ze&&ht())};function Re(){F=!0,B.blur(),B.focus(),F=!1}var st,We=m.delayedCall(pn,50).schedule.bind(null,null);function yt(){clearTimeout(st),st=setTimeout(function(){H&&(B.style.cssText=H,H=""),K.renderer.$isMousePressed=!1,K.renderer.$keepTextAreaAtCursor&&K.renderer.$moveTextAreaToCursor()},0)}S.addListener(B,"compositionstart",function(Ze){if(!W&&K.onCompositionStart&&!K.$readOnly&&(W={},!k)){Ze.data&&(W.useTextareaForIME=!1),setTimeout(pn,0),K._signal("compositionStart"),K.on("mousedown",Re);var Tt=K.getSelectionRange();Tt.end.row=Tt.start.row,Tt.end.column=Tt.start.column,W.markerRange=Tt,W.selectionStart=ne,K.onCompositionStart(W),W.useTextareaForIME?(R=B.value="",ne=0,te=0):(B.msGetInputContext&&(W.context=B.msGetInputContext()),B.getInputContext&&(W.context=B.getInputContext()))}},K),S.addListener(B,"compositionupdate",pn,K),S.addListener(B,"keyup",function it(Ze){27==Ze.keyCode&&B.value.length<B.selectionStart&&(W||(R=B.value),ne=te=-1,Ne()),We()},K),S.addListener(B,"keydown",We,K),S.addListener(B,"compositionend",Ce,K),this.getElement=function(){return B},this.setCommandMode=function(Ze){k=Ze,B.readOnly=!1},this.setReadOnly=function(Ze){k||(B.readOnly=Ze)},this.setCopyWithEmptySelection=function(Ze){},this.onContextMenu=function(Ze){Qe=!0,Ne(),K._emit("nativecontextmenu",{target:K,domEvent:Ze}),this.moveToMouse(Ze,!0)},this.moveToMouse=function(Ze,Tt){H||(H=B.style.cssText),B.style.cssText=(Tt?"z-index:100000;":"")+(M.isIE?"opacity:0.1;":"")+"text-indent: -"+(ne+te)*K.renderer.characterWidth*.5+"px;";var Zt=K.container.getBoundingClientRect(),un=u.computedStyle(K.container),Nt=Zt.top+(parseInt(un.borderTopWidth)||0),Un=Zt.left+(parseInt(Zt.borderLeftWidth)||0),Gn=Zt.bottom-Nt-B.clientHeight-2,Rn=function(Yn){u.translate(B,Yn.clientX-Un-2,Math.min(Yn.clientY-Nt-2,Gn))};Rn(Ze),"mousedown"==Ze.type&&(K.renderer.$isMousePressed=!0,clearTimeout(st),M.isWin&&S.capture(K.container,Rn,yt))},this.onContextMenuClose=yt;var Xt=function(Ze){K.textInput.onContextMenu(Ze),yt()};S.addListener(B,"mouseup",Xt,K),S.addListener(B,"mousedown",function(Ze){Ze.preventDefault(),yt()},K),S.addListener(K.renderer.scroller,"contextmenu",Xt,K),S.addListener(B,"contextmenu",Xt,K),D&&function mn(Ze,Tt,Zt){var un=null,Nt=!1;Zt.addEventListener("keydown",function(Gn){un&&clearTimeout(un),Nt=!0},!0),Zt.addEventListener("keyup",function(Gn){un=setTimeout(function(){Nt=!1},100)},!0);var Un=function(Gn){if(document.activeElement===Zt&&!(Nt||W||Tt.$mouseHandler.isMousePressed)&&!Z){var Rn=Zt.selectionStart,Yn=Zt.selectionEnd,_n=null,Di=0;if(0==Rn?_n=_.up:1==Rn?_n=_.home:Yn>te&&"\n"==R[Yn]?_n=_.end:Rn<ne&&" "==R[Rn-1]?(_n=_.left,Di=w.option):Rn<ne||Rn==ne&&te!=ne&&Rn==Yn?_n=_.left:Yn>te&&R.slice(0,Yn).split("\n").length>2?_n=_.down:Yn>te&&" "==R[Yn-1]?(_n=_.right,Di=w.option):(Yn>te||Yn==te&&te!=ne&&Rn==Yn)&&(_n=_.right),Rn!==Yn&&(Di|=w.shift),_n){if(!Tt.onCommandKey({},Di,_n)&&Tt.commands){_n=_.keyCodeToString(_n);var Fe=Tt.commands.findKeyCommand(Di,_n);Fe&&Tt.execCommand(Fe)}ne=Rn,te=Yn,Ne("")}}};document.addEventListener("selectionchange",Un),Tt.on("destroy",function(){document.removeEventListener("selectionchange",Un)})}(0,K,B),this.destroy=function(){B.parentElement&&B.parentElement.removeChild(B)}},I.$setUserAgentForTests=function(j,K){P=j,D=K}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(L,I,$){"use strict";var S=L("../lib/useragent"),u=function(){function f(p){p.$clickSelection=null;var g=p.editor;g.setDefaultHandler("mousedown",this.onMouseDown.bind(p)),g.setDefaultHandler("dblclick",this.onDoubleClick.bind(p)),g.setDefaultHandler("tripleclick",this.onTripleClick.bind(p)),g.setDefaultHandler("quadclick",this.onQuadClick.bind(p)),g.setDefaultHandler("mousewheel",this.onMouseWheel.bind(p)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(_){p[_]=this[_]},this),p.selectByLines=this.extendSelectionBy.bind(p,"getLineRange"),p.selectByWords=this.extendSelectionBy.bind(p,"getWordRange")}return f.prototype.onMouseDown=function(p){var g=p.inSelection(),h=p.getDocumentPosition();this.mousedownEvent=p;var _=this.editor,w=p.getButton();return 0!==w?((_.getSelectionRange().isEmpty()||1==w)&&_.selection.moveToPosition(h),void(2==w&&(_.textInput.onContextMenu(p.domEvent),S.isMozilla||p.preventDefault()))):(this.mousedownEvent.time=Date.now(),!g||_.isFocused()||(_.focus(),!this.$focusTimeout||this.$clickSelection||_.inMultiSelectMode)?(this.captureMouse(p),this.startSelect(h,p.domEvent._clicks>1),p.preventDefault()):(this.setState("focusWait"),void this.captureMouse(p)))},f.prototype.startSelect=function(p,g){p=p||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var h=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?h.selection.selectToPosition(p):g||h.selection.moveToPosition(p),g||this.select(),h.setStyle("ace_selecting"),this.setState("select"))},f.prototype.select=function(){var p,g=this.editor,h=g.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var _=this.$clickSelection.comparePoint(h);if(-1==_)p=this.$clickSelection.end;else if(1==_)p=this.$clickSelection.start;else{var w=d(this.$clickSelection,h);h=w.cursor,p=w.anchor}g.selection.setSelectionAnchor(p.row,p.column)}g.selection.selectToPosition(h),g.renderer.scrollCursorIntoView()},f.prototype.extendSelectionBy=function(p){var g,h=this.editor,_=h.renderer.screenToTextCoordinates(this.x,this.y),w=h.selection[p](_.row,_.column);if(this.$clickSelection){var D=this.$clickSelection.comparePoint(w.start),O=this.$clickSelection.comparePoint(w.end);if(-1==D&&O<=0)g=this.$clickSelection.end,(w.end.row!=_.row||w.end.column!=_.column)&&(_=w.start);else if(1==O&&D>=0)g=this.$clickSelection.start,(w.start.row!=_.row||w.start.column!=_.column)&&(_=w.end);else if(-1==D&&1==O)_=w.end,g=w.start;else{var P=d(this.$clickSelection,_);_=P.cursor,g=P.anchor}h.selection.setSelectionAnchor(g.row,g.column)}h.selection.selectToPosition(_),h.renderer.scrollCursorIntoView()},f.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},f.prototype.focusWait=function(){var p=function m(f,p,g,h){return Math.sqrt(Math.pow(g-f,2)+Math.pow(h-p,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),g=Date.now();(p>0||g-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},f.prototype.onDoubleClick=function(p){var g=p.getDocumentPosition(),h=this.editor,w=h.session.getBracketRange(g);w?(w.isEmpty()&&(w.start.column--,w.end.column++),this.setState("select")):(w=h.selection.getWordRange(g.row,g.column),this.setState("selectByWords")),this.$clickSelection=w,this.select()},f.prototype.onTripleClick=function(p){var g=p.getDocumentPosition(),h=this.editor;this.setState("selectByLines");var _=h.getSelectionRange();_.isMultiLine()&&_.contains(g.row,g.column)?(this.$clickSelection=h.selection.getLineRange(_.start.row),this.$clickSelection.end=h.selection.getLineRange(_.end.row).end):this.$clickSelection=h.selection.getLineRange(g.row),this.select()},f.prototype.onQuadClick=function(p){var g=this.editor;g.selectAll(),this.$clickSelection=g.getSelectionRange(),this.setState("selectAll")},f.prototype.onMouseWheel=function(p){if(!p.getAccelKey()){p.getShiftKey()&&p.wheelY&&!p.wheelX&&(p.wheelX=p.wheelY,p.wheelY=0);var g=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var h=this.$lastScroll,_=p.domEvent.timeStamp,w=_-h.t,D=w?p.wheelX/w:h.vx,O=w?p.wheelY/w:h.vy;w<550&&(D=(D+h.vx)/2,O=(O+h.vy)/2);var P=Math.abs(D/O),U=!1;if(P>=1&&g.renderer.isScrollableBy(p.wheelX*p.speed,0)&&(U=!0),P<=1&&g.renderer.isScrollableBy(0,p.wheelY*p.speed)&&(U=!0),U?h.allowed=_:_-h.allowed<550&&(Math.abs(D)<=1.5*Math.abs(h.vx)&&Math.abs(O)<=1.5*Math.abs(h.vy)?(U=!0,h.allowed=_):h.allowed=0),h.t=_,h.vx=D,h.vy=O,U)return g.renderer.scrollBy(p.wheelX*p.speed,p.wheelY*p.speed),p.stop()}},f}();function d(f,p){if(f.start.row==f.end.row)var g=2*p.column-f.start.column-f.end.column;else if(f.start.row!=f.end.row-1||f.start.column||f.end.column)g=2*p.row-f.start.row-f.end.row;else g=p.column-4;return g<0?{cursor:f.start,anchor:f.end}:{cursor:f.end,anchor:f.start}}u.prototype.selectEnd=u.prototype.selectByLinesEnd,u.prototype.selectAllEnd=u.prototype.selectByLinesEnd,u.prototype.selectByWordsEnd=u.prototype.selectByLinesEnd,I.DefaultHandlers=u}),ace.define("ace/lib/scroll",["require","exports","module"],function(L,I,$){I.preventParentScroll=function(x){x.stopPropagation();var M=x.currentTarget;M.scrollHeight>M.clientHeight||x.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(L,I,$){"use strict";var S=this&&this.__extends||function(){var w=function(D,O){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,U){P.__proto__=U}||function(P,U){for(var j in U)Object.prototype.hasOwnProperty.call(U,j)&&(P[j]=U[j])})(D,O)};return function(D,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function P(){this.constructor=D}w(D,O),D.prototype=null===O?Object.create(O):(P.prototype=O.prototype,new P)}}(),x=this&&this.__values||function(w){var D="function"==typeof Symbol&&Symbol.iterator,O=D&&w[D],P=0;if(O)return O.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&P>=w.length&&(w=void 0),{value:w&&w[P++],done:!w}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")},M=L("./lib/dom"),m=(L("./lib/event"),L("./range").Range),d=L("./lib/scroll").preventParentScroll,f="ace_tooltip",p=function(){function w(D){this.isOpen=!1,this.$element=null,this.$parentNode=D}return w.prototype.$init=function(){return this.$element=M.createElement("div"),this.$element.className=f,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},w.prototype.getElement=function(){return this.$element||this.$init()},w.prototype.setText=function(D){this.getElement().textContent=D},w.prototype.setHtml=function(D){this.getElement().innerHTML=D},w.prototype.setPosition=function(D,O){this.getElement().style.left=D+"px",this.getElement().style.top=O+"px"},w.prototype.setClassName=function(D){M.addCssClass(this.getElement(),D)},w.prototype.setTheme=function(D){this.$element.className=f+" "+(D.isDark?"ace_dark ":"")+(D.cssClass||"")},w.prototype.show=function(D,O,P){null!=D&&this.setText(D),null!=O&&null!=P&&this.setPosition(O,P),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},w.prototype.hide=function(D){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=f,this.isOpen=!1)},w.prototype.getHeight=function(){return this.getElement().offsetHeight},w.prototype.getWidth=function(){return this.getElement().offsetWidth},w.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},w}(),h=new(function(){function w(){this.popups=[]}return w.prototype.addPopup=function(D){this.popups.push(D),this.updatePopups()},w.prototype.removePopup=function(D){var O=this.popups.indexOf(D);-1!==O&&(this.popups.splice(O,1),this.updatePopups())},w.prototype.updatePopups=function(){var D,O,P,U;this.popups.sort(function(k,F){return F.priority-k.priority});var j=[];try{for(var K=x(this.popups),B=K.next();!B.done;B=K.next()){var Z=B.value,Y=!0;try{for(var W=(P=void 0,x(j)),re=W.next();!re.done;re=W.next())if(this.doPopupsOverlap(re.value,Z)){Y=!1;break}}catch(k){P={error:k}}finally{try{re&&!re.done&&(U=W.return)&&U.call(W)}finally{if(P)throw P.error}}Y?j.push(Z):Z.hide()}}catch(k){D={error:k}}finally{try{B&&!B.done&&(O=K.return)&&O.call(K)}finally{if(D)throw D.error}}},w.prototype.doPopupsOverlap=function(D,O){var P=D.getElement().getBoundingClientRect(),U=O.getElement().getBoundingClientRect();return P.left<U.right&&P.right>U.left&&P.top<U.bottom&&P.bottom>U.top},w}());I.popupManager=h,I.Tooltip=p;var _=function(w){function D(O){void 0===O&&(O=document.body);var P=w.call(this,O)||this;P.timeout=void 0,P.lastT=0,P.idleTime=350,P.lastEvent=void 0,P.onMouseOut=P.onMouseOut.bind(P),P.onMouseMove=P.onMouseMove.bind(P),P.waitForHover=P.waitForHover.bind(P),P.hide=P.hide.bind(P);var U=P.getElement();return U.style.whiteSpace="pre-wrap",U.style.pointerEvents="auto",U.addEventListener("mouseout",P.onMouseOut),U.tabIndex=-1,U.addEventListener("blur",function(){U.contains(document.activeElement)||this.hide()}.bind(P)),U.addEventListener("wheel",d),P}return S(D,w),D.prototype.addToEditor=function(O){O.on("mousemove",this.onMouseMove),O.on("mousedown",this.hide),O.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},D.prototype.removeFromEditor=function(O){O.off("mousemove",this.onMouseMove),O.off("mousedown",this.hide),O.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},D.prototype.onMouseMove=function(O,P){this.lastEvent=O,this.lastT=Date.now();var U=P.$mouseHandler.isMousePressed;if(this.isOpen){var j=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(j.row,j.column)||U||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||U||(this.lastEvent=O,this.timeout=setTimeout(this.waitForHover,this.idleTime))},D.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var O=Date.now()-this.lastT;this.idleTime-O>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-O):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},D.prototype.isOutsideOfText=function(O){var P=O.editor,U=O.getDocumentPosition(),j=P.session.getLine(U.row);if(U.column==j.length){var K=P.renderer.pixelToScreenCoordinates(O.clientX,O.clientY),B=P.session.documentToScreenPosition(U.row,U.column);if(B.column!=K.column||B.row!=K.row)return!0}return!1},D.prototype.setDataProvider=function(O){this.$gatherData=O},D.prototype.showForRange=function(O,P,U,j){if(!(j&&j!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement())){var B=O.renderer;this.isOpen||(h.addPopup(this),this.$registerCloseEvents(),this.setTheme(B.theme)),this.isOpen=!0,this.addMarker(P,O.session),this.range=m.fromPoints(P.start,P.end);var Z=B.textToScreenCoordinates(P.start.row,P.start.column),Y=B.scroller.getBoundingClientRect();Z.pageX<Y.left&&(Z.pageX=Y.left);var W=this.getElement();W.innerHTML="",W.appendChild(U),W.style.maxHeight="",W.style.display="block";var H=W.clientWidth,k=window.innerHeight-Z.pageY-B.lineHeight,F=!0;Z.pageY-W.clientHeight<0&&Z.pageY<k&&(F=!1),W.style.maxHeight=(F?Z.pageY:k)-10+"px",W.style.top=F?"":Z.pageY+B.lineHeight+"px",W.style.bottom=F?window.innerHeight-Z.pageY+"px":"",W.style.left=Math.min(Z.pageX,window.innerWidth-H-10)+"px"}},D.prototype.addMarker=function(O,P){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=P,this.marker=P&&P.addMarker(O,"ace_highlight-marker","text")},D.prototype.hide=function(O){!O&&document.activeElement==this.getElement()||O&&O.target&&("keydown"!=O.type||O.ctrlKey||O.metaKey)&&this.$element.contains(O.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,h.removePopup(this)))},D.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},D.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},D.prototype.onMouseOut=function(O){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!O.relatedTarget||this.getElement().contains(O.relatedTarget)||O&&O.currentTarget.contains(O.relatedTarget)||O.relatedTarget.classList.contains("ace_content")||this.hide())},D}(p);I.HoverTooltip=_}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(L,I,$){"use strict";var S=this&&this.__extends||function(){var h=function(_,w){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(D[P]=O[P])})(_,w)};return function(_,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function D(){this.constructor=_}h(_,w),_.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}}(),x=this&&this.__values||function(h){var _="function"==typeof Symbol&&Symbol.iterator,w=_&&h[_],D=0;if(w)return w.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&D>=h.length&&(h=void 0),{value:h&&h[D++],done:!h}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},M=L("../lib/dom"),u=L("../lib/event"),m=L("../tooltip").Tooltip,d=L("../config").nls;L("../lib/lang"),I.GutterHandler=function p(h){var O,P,_=h.editor,w=_.renderer.$gutterLayer,D=new g(_);function j(){O&&(O=clearTimeout(O)),D.isOpen&&(D.hideTooltip(),_.off("mousewheel",j))}function K(B){D.setPosition(B.x,B.y)}h.editor.setDefaultHandler("guttermousedown",function(B){if(_.isFocused()&&0==B.getButton()&&"foldWidgets"!=w.getRegion(B)){var Y=B.getDocumentPosition().row,W=_.session.selection;if(B.getShiftKey())W.selectTo(Y,0);else{if(2==B.domEvent.detail)return _.selectAll(),B.preventDefault();h.$clickSelection=_.selection.getLineRange(Y)}return h.setState("selectByLines"),h.captureMouse(B),B.preventDefault()}}),h.editor.setDefaultHandler("guttermousemove",function(B){if(M.hasCssClass(B.domEvent.target||B.domEvent.srcElement,"ace_fold-widget"))return j();D.isOpen&&h.$tooltipFollowsMouse&&K(B),P=B,!O&&(O=setTimeout(function(){O=null,P&&!h.isMousePressed?function U(){var B=P.getDocumentPosition().row;if(B==_.session.getLength()){var Y=_.renderer.pixelToScreenCoordinates(0,P.y).row,W=P.$pos;if(Y>_.session.documentToScreenRow(W.row,W.column))return j()}if(D.showTooltip(B),D.isOpen)if(_.on("mousewheel",j),h.$tooltipFollowsMouse)K(P);else{var re=P.getGutterRow(),H=w.$lines.get(re);if(H){var F=H.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),R=D.getElement().style;R.left=F.right+"px",R.top=F.bottom+"px"}else K(P)}}():j()},50))}),u.addListener(_.renderer.$gutter,"mouseout",function(B){P=null,D.isOpen&&!O&&(O=setTimeout(function(){O=null,j()},50))},_),_.on("changeSession",j),_.on("input",j)};var g=function(h){function _(w){var D=h.call(this,w.container)||this;return D.editor=w,D}return S(_,h),_.prototype.setPosition=function(w,D){var O=window.innerWidth||document.documentElement.clientWidth,P=window.innerHeight||document.documentElement.clientHeight,U=this.getWidth(),j=this.getHeight();(w+=15)+U>O&&(w-=w+U-O),(D+=15)+j>P&&(D-=20+j),m.prototype.setPosition.call(this,w,D)},Object.defineProperty(_,"annotationLabels",{get:function(){return{error:{singular:d("gutter-tooltip.aria-label.error.singular","error"),plural:d("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:d("gutter-tooltip.aria-label.security.singular","security finding"),plural:d("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:d("gutter-tooltip.aria-label.warning.singular","warning"),plural:d("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:d("gutter-tooltip.aria-label.info.singular","information message"),plural:d("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:d("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:d("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),_.prototype.showTooltip=function(w){var D,U,O=this.editor.renderer.$gutterLayer,P=O.$annotations[w];U=P?{displayText:Array.from(P.displayText),type:Array.from(P.type)}:{displayText:[],type:[]};var j=O.session.getFoldLine(w);if(j&&O.$showFoldedAnnotations){for(var Z,K={error:[],security:[],warning:[],info:[],hint:[]},B={error:1,security:2,warning:3,info:4,hint:5},Y=w+1;Y<=j.end.row;Y++)if(O.$annotations[Y])for(var W=0;W<O.$annotations[Y].text.length;W++){var re=O.$annotations[Y].type[W];K[re].push(O.$annotations[Y].text[W]),(!Z||B[re]<B[Z])&&(Z=re)}if(["error","security","warning"].includes(Z)){var H="".concat(_.annotationsToSummaryString(K)," in folded code.");U.displayText.push(H),U.type.push(Z+"_fold")}}if(0===U.displayText.length)return this.hide();var k={error:[],security:[],warning:[],info:[],hint:[]},F=O.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(Y=0;Y<U.displayText.length;Y++){var R=M.createElement("span"),ne=M.createElement("span");(D=ne.classList).add.apply(D,["ace_".concat(U.type[Y]),F]),ne.setAttribute("aria-label","".concat(_.annotationLabels[U.type[Y].replace("_fold","")].singular)),ne.setAttribute("role","img"),ne.appendChild(M.createTextNode(" ")),R.appendChild(ne),R.appendChild(M.createTextNode(U.displayText[Y])),R.appendChild(M.createElement("br")),k[U.type[Y].replace("_fold","")].push(R)}var te=this.getElement();M.removeChildren(te),k.error.forEach(function(ce){return te.appendChild(ce)}),k.security.forEach(function(ce){return te.appendChild(ce)}),k.warning.forEach(function(ce){return te.appendChild(ce)}),k.info.forEach(function(ce){return te.appendChild(ce)}),k.hint.forEach(function(ce){return te.appendChild(ce)}),te.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},_.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},_.annotationsToSummaryString=function(w){var D,O,P=[];try{for(var j=x(["error","security","warning","info","hint"]),K=j.next();!K.done;K=j.next()){var B=K.value;if(w[B].length){var Z=1===w[B].length?_.annotationLabels[B].singular:_.annotationLabels[B].plural;P.push("".concat(w[B].length," ").concat(Z))}}}catch(Y){D={error:Y}}finally{try{K&&!K.done&&(O=j.return)&&O.call(j)}finally{if(D)throw D.error}}return P.join(", ")},_}(m);I.GutterTooltip=g}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(L,I,$){"use strict";var S=L("../lib/event"),x=L("../lib/useragent"),M=function(){function u(m,d){this.domEvent=m,this.editor=d,this.x=this.clientX=m.clientX,this.y=this.clientY=m.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return u.prototype.stopPropagation=function(){S.stopPropagation(this.domEvent),this.propagationStopped=!0},u.prototype.preventDefault=function(){S.preventDefault(this.domEvent),this.defaultPrevented=!0},u.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},u.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},u.prototype.getGutterRow=function(){var m=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(m,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},u.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var d=this.editor.getSelectionRange();if(d.isEmpty())this.$inSelection=!1;else{var f=this.getDocumentPosition();this.$inSelection=d.contains(f.row,f.column)}return this.$inSelection},u.prototype.getButton=function(){return S.getButton(this.domEvent)},u.prototype.getShiftKey=function(){return this.domEvent.shiftKey},u.prototype.getAccelKey=function(){return x.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},u}();I.MouseEvent=M}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(L,I,$){"use strict";var S=L("../lib/dom"),x=L("../lib/event"),M=L("../lib/useragent");function f(g){var h=g.editor,_=S.createElement("div");_.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",_.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(ge){g[ge]=this[ge]},this),h.on("mousedown",this.onMouseDown.bind(g));var O,P,U,j,K,B,Y,W,re,H,k,D=h.container,Z=0;function ne(){var ge=B;(function F(ge,Ne){var Ae=Date.now();H&&Ne&&ge.row==Ne.row&&Ne&&ge.column==Ne.column?p(k.x,k.y,P,U)>5?H=null:Ae-H>=200&&(h.renderer.scrollCursorIntoView(),H=null):(h.moveCursorToPosition(ge),H=Ae,k={x:P,y:U})})(B=h.renderer.screenToTextCoordinates(P,U),ge),function R(ge,Ne){var Ae=Date.now(),He=h.renderer.layerConfig.lineHeight,qe=h.renderer.layerConfig.characterWidth,Qe=h.renderer.scroller.getBoundingClientRect(),ct={x:{left:P-Qe.left,right:Qe.right-P},y:{top:U-Qe.top,bottom:Qe.bottom-U}},ht=Math.min(ct.x.left,ct.x.right),ft=Math.min(ct.y.top,ct.y.bottom),vt={row:ge.row,column:ge.column};ht/qe<=2&&(vt.column+=ct.x.left<ct.x.right?-3:2),ft/He<=1&&(vt.row+=ct.y.top<ct.y.bottom?-1:1),ge.row!=vt.row||ge.column!=vt.column&&Ne&&ge.row==Ne.row?re?Ae-re>=200&&h.renderer.scrollCursorIntoView(vt):re=Ae:re=null}(B,ge)}function te(){K=h.selection.toOrientedRange(),O=h.session.addMarker(K,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(j),ne(),j=setInterval(ne,20),Z=0,x.addListener(document,"mousemove",me)}function ce(){clearInterval(j),h.session.removeMarker(O),O=null,h.selection.fromOrientedRange(K),h.isFocused()&&!W&&h.$resetCursorStyle(),K=null,B=null,Z=0,re=null,H=null,x.removeListener(document,"mousemove",me)}this.onDragStart=function(ge){if(this.cancelDrag||!D.draggable){var Ne=this;return setTimeout(function(){Ne.startSelect(),Ne.captureMouse(ge)},0),ge.preventDefault()}K=h.getSelectionRange();var Ae=ge.dataTransfer;Ae.effectAllowed=h.getReadOnly()?"copy":"copyMove",h.container.appendChild(_),Ae.setDragImage&&Ae.setDragImage(_,0,0),setTimeout(function(){h.container.removeChild(_)}),Ae.clearData(),Ae.setData("Text",h.session.getTextRange()),W=!0,this.setState("drag")},this.onDragEnd=function(ge){D.draggable=!1,W=!1,this.setState(null),h.getReadOnly()||(!Y&&"move"==ge.dataTransfer.dropEffect&&h.session.remove(h.getSelectionRange()),h.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(ge){if(!h.getReadOnly()&&ue(ge.dataTransfer))return P=ge.clientX,U=ge.clientY,O||te(),Z++,ge.dataTransfer.dropEffect=Y=xe(ge),x.preventDefault(ge)},this.onDragOver=function(ge){if(!h.getReadOnly()&&ue(ge.dataTransfer))return P=ge.clientX,U=ge.clientY,O||(te(),Z++),null!==fe&&(fe=null),ge.dataTransfer.dropEffect=Y=xe(ge),x.preventDefault(ge)},this.onDragLeave=function(ge){if(--Z<=0&&O)return ce(),Y=null,x.preventDefault(ge)},this.onDrop=function(ge){if(B){var Ne=ge.dataTransfer;if(W)switch(Y){case"move":K=K.contains(B.row,B.column)?{start:B,end:B}:h.moveText(K,B);break;case"copy":K=h.moveText(K,B,!0)}else{var Ae=Ne.getData("Text");K={start:B,end:h.session.insert(B,Ae)},h.focus(),Y=null}return ce(),x.preventDefault(ge)}},x.addListener(D,"dragstart",this.onDragStart.bind(g),h),x.addListener(D,"dragend",this.onDragEnd.bind(g),h),x.addListener(D,"dragenter",this.onDragEnter.bind(g),h),x.addListener(D,"dragover",this.onDragOver.bind(g),h),x.addListener(D,"dragleave",this.onDragLeave.bind(g),h),x.addListener(D,"drop",this.onDrop.bind(g),h);var fe=null;function me(){null==fe&&(fe=setTimeout(function(){null!=fe&&O&&ce()},20))}function ue(ge){var Ne=ge.types;return!Ne||Array.prototype.some.call(Ne,function(Ae){return"text/plain"==Ae||"Text"==Ae})}function xe(ge){var Ne=["copy","copymove","all","uninitialized"],He=M.isMac?ge.altKey:ge.ctrlKey,qe="uninitialized";try{qe=ge.dataTransfer.effectAllowed.toLowerCase()}catch{}var Qe="none";return He&&Ne.indexOf(qe)>=0?Qe="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(qe)>=0?Qe="move":Ne.indexOf(qe)>=0&&(Qe="copy"),Qe}}function p(g,h,_,w){return Math.sqrt(Math.pow(_-g,2)+Math.pow(w-h,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(g){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var g=this.editor;g.container.draggable=!0,g.renderer.$cursorLayer.setBlinking(!1),g.setStyle("ace_dragging"),g.renderer.setCursorStyle(M.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(g){var h=this.editor.container;M.isIE&&"dragReady"==this.state&&p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&h.dragDrop(),"dragWait"===this.state&&p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(g){if(this.$dragEnabled){this.mousedownEvent=g;var h=this.editor,_=g.inSelection(),w=g.getButton();if(1===(g.domEvent.detail||1)&&0===w&&_){if(g.editor.inMultiSelectMode&&(g.getAccelKey()||g.getShiftKey()))return;this.mousedownEvent.time=Date.now();var O=g.domEvent.target||g.domEvent.srcElement;"unselectable"in O&&(O.unselectable="on"),h.getDragDelay()?(M.isWebKit&&(this.cancelDrag=!0,h.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(g,this.onMouseDrag.bind(this)),g.defaultPrevented=!0}}}}).call(f.prototype),I.DragdropHandler=f}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(L,I,$){"use strict";var S=L("./mouse_event").MouseEvent,x=L("../lib/event"),M=L("../lib/dom");I.addTouchListeners=function(u,m){var f,p,g,h,_,w,O,K,B,d="scroll",D=0,P=0,U=0,j=0;function Y(){if(m.getOption("enableMobileMenu")){B||function Z(){var F=window.navigator&&window.navigator.clipboard,R=!1,te=function(fe){return m.commands.canExecute(fe,m)},ce=function(fe){var me=fe.target.getAttribute("action");if("more"==me||!R)return R=!R,function(){var fe=m.getCopyText(),me=m.session.getUndoManager().hasUndo();B.replaceChild(M.buildDom(R?["span",!fe&&te("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],fe&&te("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],fe&&te("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],F&&te("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],me&&te("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],te("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],te("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),B.firstChild)}();"paste"==me?F.readText().then(function(ue){m.execCommand(me,ue)}):me&&(("cut"==me||"copy"==me)&&(F?F.writeText(m.getCopyText()):document.execCommand("copy")),m.execCommand(me)),B.firstChild.style.display="none",R=!1,"openCommandPalette"!=me&&m.focus()};B=M.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(fe){d="menu",fe.stopPropagation(),fe.preventDefault(),m.textInput.focus()},ontouchend:function(fe){fe.stopPropagation(),fe.preventDefault(),ce(fe)},onclick:ce},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],m.container)}();var F=m.selection.cursor,R=m.renderer.textToScreenCoordinates(F.row,F.column),ne=m.renderer.textToScreenCoordinates(0,0).pageX,te=m.renderer.scrollLeft,ce=m.container.getBoundingClientRect();B.style.top=R.pageY-ce.top-3+"px",R.pageX-ce.left<ce.width-70?(B.style.left="",B.style.right="10px"):(B.style.right="",B.style.left=ne+te-ce.left+"px"),B.style.display="",B.firstChild.style.display="none",m.on("input",W)}else B&&W()}function W(F){B&&(B.style.display="none"),m.off("input",W)}function re(){_=null,clearTimeout(_);var F=m.selection.getRange(),R=F.contains(O.row,O.column);(F.isEmpty()||!R)&&(m.selection.moveToPosition(O),m.selection.selectWord()),d="wait",Y()}x.addListener(u,"contextmenu",function(F){K&&m.textInput.getElement().focus()},m),x.addListener(u,"touchstart",function(F){var R=F.touches;if(_||R.length>1)return clearTimeout(_),_=null,g=-1,void(d="zoom");K=m.$mouseHandler.isMousePressed=!0;var ne=m.renderer.layerConfig.lineHeight,te=m.renderer.layerConfig.lineHeight,ce=F.timeStamp;h=ce;var fe=R[0],me=fe.clientX,ue=fe.clientY;Math.abs(f-me)+Math.abs(p-ue)>ne&&(g=-1),f=F.clientX=me,p=F.clientY=ue,U=j=0;var xe=new S(F,m);if(O=xe.getDocumentPosition(),ce-g<500&&1==R.length&&!D)P++,F.preventDefault(),F.button=0,function H(){_=null,clearTimeout(_),m.selection.moveToPosition(O);var F=P>=2?m.selection.getLineRange(O.row):m.session.getBracketRange(O);F&&!F.isEmpty()?m.selection.setRange(F):m.selection.selectWord(),d="wait"}();else{P=0;var ge=m.selection.cursor,Ne=m.selection.isEmpty()?ge:m.selection.anchor,Ae=m.renderer.$cursorLayer.getPixelPosition(ge,!0),He=m.renderer.$cursorLayer.getPixelPosition(Ne,!0),qe=m.renderer.scroller.getBoundingClientRect(),Qe=m.renderer.layerConfig.offset,ct=m.renderer.scrollLeft,ht=function(cn,wt){return(cn/=te)*cn+(wt=wt/ne-.75)*wt};if(F.clientX<qe.left)return void(d="zoom");var ft=ht(F.clientX-qe.left-Ae.left+ct,F.clientY-qe.top-Ae.top+Qe),vt=ht(F.clientX-qe.left-He.left+ct,F.clientY-qe.top-He.top+Qe);ft<3.5&&vt<3.5&&(d=ft>vt?"cursor":"anchor"),d=vt<3.5?"anchor":ft<3.5?"cursor":"scroll",_=setTimeout(re,450)}g=ce},m),x.addListener(u,"touchend",function(F){K=m.$mouseHandler.isMousePressed=!1,w&&clearInterval(w),"zoom"==d?(d="",D=0):_?(m.selection.moveToPosition(O),D=0,Y()):"scroll"==d?(function k(){D+=60,w=setInterval(function(){D--<=0&&(clearInterval(w),w=null),Math.abs(U)<.01&&(U=0),Math.abs(j)<.01&&(j=0),D<20&&(U*=.9),D<20&&(j*=.9);var F=m.session.getScrollTop();m.renderer.scrollBy(10*U,10*j),F==m.session.getScrollTop()&&(D=0)},10)}(),W()):Y(),clearTimeout(_),_=null},m),x.addListener(u,"touchmove",function(F){_&&(clearTimeout(_),_=null);var R=F.touches;if(!(R.length>1||"zoom"==d)){var ne=R[0],te=f-ne.clientX,ce=p-ne.clientY;if("wait"==d){if(!(te*te+ce*ce>4))return F.preventDefault();d="cursor"}f=ne.clientX,p=ne.clientY,F.clientX=ne.clientX,F.clientY=ne.clientY;var fe=F.timeStamp,me=fe-h;if(h=fe,"scroll"==d){var ue=new S(F,m);ue.speed=1,ue.wheelX=te,ue.wheelY=ce,10*Math.abs(te)<Math.abs(ce)&&(te=0),10*Math.abs(ce)<Math.abs(te)&&(ce=0),0!=me&&(U=te/me,j=ce/me),m._emit("mousewheel",ue),ue.propagationStopped||(U=j=0)}else{var ge=new S(F,m).getDocumentPosition();"cursor"==d?m.selection.moveCursorToPosition(ge):"anchor"==d&&m.selection.setSelectionAnchor(ge.row,ge.column),m.renderer.scrollCursorIntoView(ge),F.preventDefault()}}},m)}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(L,I,$){"use strict";var S=L("../lib/event"),x=L("../lib/useragent"),M=L("./default_handlers").DefaultHandlers,u=L("./default_gutter_handler").GutterHandler,m=L("./mouse_event").MouseEvent,d=L("./dragdrop_handler").DragdropHandler,f=L("./touch_handler").addTouchListeners,p=L("../config"),g=function(){function h(_){var w=this;this.editor=_,new M(this),new u(this),new d(this);var D=function(U){(!document.hasFocus||!document.hasFocus()||!_.isFocused()&&document.activeElement==(_.textInput&&_.textInput.getElement()))&&window.focus(),_.focus(),setTimeout(function(){_.isFocused()||_.focus()})},O=_.renderer.getMouseEventTarget();S.addListener(O,"click",this.onMouseEvent.bind(this,"click"),_),S.addListener(O,"mousemove",this.onMouseMove.bind(this,"mousemove"),_),S.addMultiMouseDownListener([O,_.renderer.scrollBarV&&_.renderer.scrollBarV.inner,_.renderer.scrollBarH&&_.renderer.scrollBarH.inner,_.textInput&&_.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",_),S.addMouseWheelListener(_.container,this.onMouseWheel.bind(this,"mousewheel"),_),f(_.container,_);var P=_.renderer.$gutter;S.addListener(P,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),_),S.addListener(P,"click",this.onMouseEvent.bind(this,"gutterclick"),_),S.addListener(P,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),_),S.addListener(P,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),_),S.addListener(O,"mousedown",D,_),S.addListener(P,"mousedown",D,_),x.isIE&&_.renderer.scrollBarV&&(S.addListener(_.renderer.scrollBarV.element,"mousedown",D,_),S.addListener(_.renderer.scrollBarH.element,"mousedown",D,_)),_.on("mousemove",function(U){if(!w.state&&!w.$dragDelay&&w.$dragEnabled){var j=_.renderer.screenToTextCoordinates(U.x,U.y),K=_.session.selection.getRange(),B=_.renderer;!K.isEmpty()&&K.insideStart(j.row,j.column)?B.setCursorStyle("default"):B.setCursorStyle("")}},_)}return h.prototype.onMouseEvent=function(_,w){this.editor.session&&this.editor._emit(_,new m(w,this.editor))},h.prototype.onMouseMove=function(_,w){var D=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!D||!D.length||this.editor._emit(_,new m(w,this.editor))},h.prototype.onMouseWheel=function(_,w){var D=new m(w,this.editor);D.speed=2*this.$scrollSpeed,D.wheelX=w.wheelX,D.wheelY=w.wheelY,this.editor._emit(_,D)},h.prototype.setState=function(_){this.state=_},h.prototype.captureMouse=function(_,w){this.x=_.x,this.y=_.y,this.isMousePressed=!0;var D=this.editor,O=this.editor.renderer;O.$isMousePressed=!0;var P=this,U=function(Y){if(Y){if(x.isWebKit&&!Y.which&&P.releaseMouse)return P.releaseMouse();P.x=Y.clientX,P.y=Y.clientY,w&&w(Y),P.mouseEvent=new m(Y,P.editor),P.$mouseMoved=!0}},j=function(Y){D.off("beforeEndOperation",B),clearInterval(Z),D.session&&K(),P[P.state+"End"]&&P[P.state+"End"](Y),P.state="",P.isMousePressed=O.$isMousePressed=!1,O.$keepTextAreaAtCursor&&O.$moveTextAreaToCursor(),P.$onCaptureMouseMove=P.releaseMouse=null,Y&&P.onMouseEvent("mouseup",Y),D.endOperation()},K=function(){P[P.state]&&P[P.state](),P.$mouseMoved=!1};if(x.isOldIE&&"dblclick"==_.domEvent.type)return setTimeout(function(){j(_)});var B=function(Y){P.releaseMouse&&D.curOp.command.name&&D.curOp.selectionChanged&&(P[P.state+"End"]&&P[P.state+"End"](),P.state="",P.releaseMouse())};D.on("beforeEndOperation",B),D.startOperation({command:{name:"mouse"}}),P.$onCaptureMouseMove=U,P.releaseMouse=S.capture(this.editor.container,U,j);var Z=setInterval(K,20)},h.prototype.cancelContextMenu=function(){var _=function(w){w&&w.domEvent&&"contextmenu"!=w.domEvent.type||(this.editor.off("nativecontextmenu",_),w&&w.domEvent&&S.stopEvent(w.domEvent))}.bind(this);setTimeout(_,10),this.editor.on("nativecontextmenu",_)},h.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},h}();g.prototype.releaseMouse=null,p.defineOptions(g.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:x.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),I.MouseHandler=g}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(L,I,$){"use strict";var S=L("../lib/dom");I.FoldHandler=function(){return function M(u){u.on("click",function(m){var d=m.getDocumentPosition(),f=u.session,p=f.getFoldAt(d.row,d.column,1);p&&(m.getAccelKey()?f.removeFold(p):f.expandFold(p),m.stop());var g=m.domEvent&&m.domEvent.target;g&&S.hasCssClass(g,"ace_inline_button")&&S.hasCssClass(g,"ace_toggle_wrap")&&(f.setOption("wrap",!f.getUseWrapMode()),u.renderer.scrollCursorIntoView())}),u.on("gutterclick",function(m){if("foldWidgets"==u.renderer.$gutterLayer.getRegion(m)){var f=m.getDocumentPosition().row,p=u.session;p.foldWidgets&&p.foldWidgets[f]&&u.session.onFoldWidgetClick(f,m),u.isFocused()||u.focus(),m.stop()}}),u.on("gutterdblclick",function(m){if("foldWidgets"==u.renderer.$gutterLayer.getRegion(m)){var f=m.getDocumentPosition().row,p=u.session,g=p.getParentFoldRangeData(f,!0),h=g.range||g.firstRange;if(h){var _=p.getFoldAt(f=h.start.row,p.getLine(f).length,1);_?p.removeFold(_):(p.addFold("...",h),u.renderer.scrollCursorIntoView({row:h.start.row,column:0}))}m.stop()}})}}()}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(L,I,$){"use strict";var S=L("../lib/keys"),x=L("../lib/event"),M=function(){function u(m){this.$editor=m,this.$data={editor:m},this.$handlers=[],this.setDefaultHandler(m.commands)}return u.prototype.setDefaultHandler=function(m){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=m,this.addKeyboardHandler(m,0)},u.prototype.setKeyboardHandler=function(m){var d=this.$handlers;if(d[d.length-1]!=m){for(;d[d.length-1]&&d[d.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(d[d.length-1]);this.addKeyboardHandler(m,1)}},u.prototype.addKeyboardHandler=function(m,d){if(m){"function"==typeof m&&!m.handleKeyboard&&(m.handleKeyboard=m);var f=this.$handlers.indexOf(m);-1!=f&&this.$handlers.splice(f,1),null==d?this.$handlers.push(m):this.$handlers.splice(d,0,m),-1==f&&m.attach&&m.attach(this.$editor)}},u.prototype.removeKeyboardHandler=function(m){var d=this.$handlers.indexOf(m);return-1!=d&&(this.$handlers.splice(d,1),m.detach&&m.detach(this.$editor),!0)},u.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},u.prototype.getStatusText=function(){var m=this.$data,d=m.editor;return this.$handlers.map(function(f){return f.getStatusText&&f.getStatusText(d,m)||""}).filter(Boolean).join(" ")},u.prototype.$callKeyboardHandlers=function(m,d,f,p){for(var g,h=!1,_=this.$editor.commands,w=this.$handlers.length;w--&&!((g=this.$handlers[w].handleKeyboard(this.$data,m,d,f,p))&&g.command&&(h="null"==g.command||_.exec(g.command,this.$editor,g.args,p),h&&p&&-1!=m&&1!=g.passEvent&&1!=g.command.passEvent&&x.stopEvent(p),h)););return!h&&-1==m&&(g={command:"insertstring"},h=_.exec("insertstring",this.$editor,d)),h&&this.$editor._signal&&this.$editor._signal("keyboardActivity",g),h},u.prototype.onCommandKey=function(m,d,f){var p=S.keyCodeToString(f);return this.$callKeyboardHandlers(d,p,f,m)},u.prototype.onTextInput=function(m){return this.$callKeyboardHandlers(-1,m)},u}();I.KeyBinding=M}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(L,I,$){"use strict";var M=0,u=0,m=!1,f=!1,p=!1,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F=11,xe=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,F,F,F,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,F,F,F,F,4,4,4,4,0,4,4,18,4,4,F,F,2,2,4,0,4,4,4,2,0,4,4,4,4,4],ge=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,F,F,F,F,F,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function Ae(ct,ht,ft){if(!(u<ct)){if(1==ct&&1==M&&!f)return void ft.reverse();for(var wt,tn,Qt,pn,vt=ft.length,cn=0;cn<vt;){if(ht[cn]>=ct){for(wt=cn+1;wt<vt&&ht[wt]>=ct;)wt++;for(tn=cn,Qt=wt-1;tn<Qt;tn++,Qt--)pn=ft[tn],ft[tn]=ft[Qt],ft[Qt]=pn;cn=wt}cn++}}}function He(ct,ht,ft,vt){var wt,tn,Qt,pn,cn=ht[vt];switch(cn){case 0:case 1:m=!1;case 4:case 3:return cn;case 2:return m?3:2;case 7:return m=!0,1;case 8:return 4;case 9:return vt<1||vt+1>=ht.length||2!=(wt=ft[vt-1])&&3!=wt||2!=(tn=ht[vt+1])&&3!=tn?4:(m&&(tn=3),tn==wt?tn:4);case 10:return 2==(wt=vt>0?ft[vt-1]:5)&&vt+1<ht.length&&2==ht[vt+1]?2:4;case F:if(vt>0&&2==ft[vt-1])return 2;if(m)return 4;for(pn=vt+1,Qt=ht.length;pn<Qt&&ht[pn]==F;)pn++;return pn<Qt&&2==ht[pn]?2:4;case 12:for(Qt=ht.length,pn=vt+1;pn<Qt&&12==ht[pn];)pn++;if(pn<Qt){var Ce=ct[vt];if(wt=ht[pn],(Ce>=1425&&Ce<=2303||64286==Ce)&&(1==wt||7==wt))return 1}return vt<1||5==(wt=ht[vt-1])?4:ft[vt-1];case 5:return m=!1,f=!0,M;case 6:return p=!0,4;case 13:case 14:case 16:case 17:case 15:m=!1;case 18:return 4}}function qe(ct){var ht=ct.charCodeAt(0),ft=ht>>8;return 0==ft?ht>191?0:xe[ht]:5==ft?/[\u0591-\u05f4]/.test(ct)?1:0:6==ft?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ct)?12:/[\u0660-\u0669\u066b-\u066c]/.test(ct)?3:1642==ht?F:/[\u06f0-\u06f9]/.test(ct)?2:7:32==ft&&ht<=8287?ge[255&ht]:254==ft&&ht>=65136?7:4}I.L=0,I.R=1,I.EN=2,I.ON_R=3,I.AN=4,I.R_H=5,I.B=6,I.RLE=7,I.DOT="\xb7",I.doBidiReorder=function(ct,ht,ft){if(ct.length<2)return{};var vt=ct.split(""),cn=new Array(vt.length),wt=new Array(vt.length),tn=[];M=ft?1:0,function Ne(ct,ht,ft,vt){var cn=M?w:_,wt=null,tn=null,Qt=null,pn=0,Ce=null,We=-1,it=null,st=null,yt=[];if(!vt)for(it=0,vt=[];it<ft;it++)vt[it]=qe(ct[it]);for(u=M,m=!1,f=!1,p=!1,st=0;st<ft;st++){if(wt=pn,yt[st]=tn=He(ct,vt,yt,st),Ce=240&(pn=cn[wt][tn]),ht[st]=Qt=cn[pn&=15][5],Ce>0)if(16==Ce){for(it=We;it<st;it++)ht[it]=1;We=-1}else We=-1;if(cn[pn][6])-1==We&&(We=st);else if(We>-1){for(it=We;it<st;it++)ht[it]=Qt;We=-1}5==vt[st]&&(ht[st]=0),u|=Qt}if(p)for(it=0;it<ft;it++)if(6==vt[it]){ht[it]=M;for(var Xt=it-1;Xt>=0&&8==vt[Xt];Xt--)ht[Xt]=M}}(vt,tn,vt.length,ht);for(var Qt=0;Qt<cn.length;cn[Qt]=Qt,Qt++);for(Ae(2,tn,cn),Ae(1,tn,cn),Qt=0;Qt<cn.length-1;Qt++)3===ht[Qt]?tn[Qt]=I.AN:1===tn[Qt]&&(ht[Qt]>7&&ht[Qt]<13||4===ht[Qt]||18===ht[Qt])?tn[Qt]=I.ON_R:Qt>0&&"\u0644"===vt[Qt-1]&&/\u0622|\u0623|\u0625|\u0627/.test(vt[Qt])&&(tn[Qt-1]=tn[Qt]=I.R_H,Qt++);for(vt[vt.length-1]===I.DOT&&(tn[vt.length-1]=I.B),"\u202b"===vt[0]&&(tn[0]=I.RLE),Qt=0;Qt<cn.length;Qt++)wt[Qt]=tn[cn[Qt]];return{logicalFromVisual:cn,bidiLevels:wt}},I.hasBidiCharacters=function(ct,ht){for(var ft=!1,vt=0;vt<ct.length;vt++)ht[vt]=qe(ct.charAt(vt)),!ft&&(1==ht[vt]||7==ht[vt]||3==ht[vt])&&(ft=!0);return ft},I.getVisualFromLogicalIdx=function(ct,ht){for(var ft=0;ft<ht.logicalFromVisual.length;ft++)if(ht.logicalFromVisual[ft]==ct)return ft;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(L,I,$){"use strict";var S=L("./lib/bidiutil"),x=L("./lib/lang"),M=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,u=function(){function m(d){this.session=d,this.bidiMap={},this.currentRow=null,this.bidiUtil=S,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=M.test(d.getValue())}return m.prototype.isBidiRow=function(d,f,p){return!!this.seenBidi&&(d!==this.currentRow&&(this.currentRow=d,this.updateRowLine(f,p),this.updateBidiMap()),this.bidiMap.bidiLevels)},m.prototype.onChange=function(d){this.seenBidi?this.currentRow=null:"insert"==d.action&&M.test(d.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},m.prototype.getDocumentRow=function(){var d=0,f=this.session.$screenRowCache;if(f.length){var p=this.session.$getRowCacheIndex(f,this.currentRow);p>=0&&(d=this.session.$docRowCache[p])}return d},m.prototype.getSplitIndex=function(){var d=0,f=this.session.$screenRowCache;if(f.length)for(var p,g=this.session.$getRowCacheIndex(f,this.currentRow);this.currentRow-d>0&&(p=this.session.$getRowCacheIndex(f,this.currentRow-d-1))===g;)g=p,d++;else d=this.currentRow;return d},m.prototype.updateRowLine=function(d,f){void 0===d&&(d=this.getDocumentRow());var g=d===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(d),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var h=this.session.$wrapData[d];h&&(void 0===f&&(f=this.getSplitIndex()),f>0&&h.length?(this.wrapIndent=h.indent,this.wrapOffset=this.wrapIndent*this.charWidths[S.L],this.line=f<h.length?this.line.substring(h[f-1],h[f]):this.line.substring(h[h.length-1])):this.line=this.line.substring(0,h[f]),f==h.length&&(this.line+=this.showInvisibles?g:S.DOT))}else this.line+=this.showInvisibles?g:S.DOT;var D,_=this.session,w=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(O,P){return"\t"===O||_.isFullWidth(O.charCodeAt(0))?(D="\t"===O?_.getScreenTabSize(P+w):2,w+=D-1,x.stringRepeat(S.DOT,D)):O}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==S.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},m.prototype.updateBidiMap=function(){var d=[];this.bidiMap=S.hasBidiCharacters(this.line,d)||this.isRtlDir?S.doBidiReorder(this.line,d,this.isRtlDir):{}},m.prototype.markAsDirty=function(){this.currentRow=null},m.prototype.updateCharacterWidths=function(d){if(this.characterWidth!==d.$characterSize.width){this.fontMetrics=d;var f=this.characterWidth=d.$characterSize.width,p=d.$measureCharWidth("\u05d4");this.charWidths[S.L]=this.charWidths[S.EN]=this.charWidths[S.ON_R]=f,this.charWidths[S.R]=this.charWidths[S.AN]=p,this.charWidths[S.R_H]=.45*p,this.charWidths[S.B]=this.charWidths[S.RLE]=0,this.currentRow=null}},m.prototype.setShowInvisibles=function(d){this.showInvisibles=d,this.currentRow=null},m.prototype.setEolChar=function(d){this.EOL=d},m.prototype.setContentWidth=function(d){this.contentWidth=d},m.prototype.isRtlLine=function(d){return!!this.$isRtl||(null!=d?this.session.getLine(d).charAt(0)==this.RLE:this.isRtlDir)},m.prototype.setRtlDirection=function(d,f){for(var p=d.getCursorPosition(),g=d.selection.getSelectionAnchor().row;g<=p.row;g++)f||d.session.getLine(g).charAt(0)!==d.session.$bidiHandler.RLE?f&&d.session.getLine(g).charAt(0)!==d.session.$bidiHandler.RLE&&d.session.doc.insert({column:0,row:g},d.session.$bidiHandler.RLE):d.session.doc.removeInLine(g,0,1)},m.prototype.getPosLeft=function(d){d-=this.wrapIndent;var f=this.line.charAt(0)===this.RLE?1:0,p=d>f?this.session.getOverwrite()?d:d-1:f,g=S.getVisualFromLogicalIdx(p,this.bidiMap),h=this.bidiMap.bidiLevels,_=0;!this.session.getOverwrite()&&d<=f&&h[g]%2!=0&&g++;for(var w=0;w<g;w++)_+=this.charWidths[h[w]];return!this.session.getOverwrite()&&d>f&&h[g]%2==0&&(_+=this.charWidths[h[g]]),this.wrapIndent&&(_+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(_+=this.rtlLineOffset),_},m.prototype.getSelections=function(d,f){var h,p=this.bidiMap,g=p.bidiLevels,_=[],w=0,D=Math.min(d,f)-this.wrapIndent,O=Math.max(d,f)-this.wrapIndent,P=!1,U=!1,j=0;this.wrapIndent&&(w+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var K,B=0;B<g.length;B++)h=g[B],(P=(K=p.logicalFromVisual[B])>=D&&K<O)&&!U?j=w:!P&&U&&_.push({left:j,width:w-j}),w+=this.charWidths[h],U=P;if(P&&B===g.length&&_.push({left:j,width:w-j}),this.isRtlDir)for(var Z=0;Z<_.length;Z++)_[Z].left+=this.rtlLineOffset;return _},m.prototype.offsetToCol=function(p){this.isRtlDir&&(p-=this.rtlLineOffset);var f=0,g=(p=Math.max(p,0),0),h=0,_=this.bidiMap.bidiLevels,w=this.charWidths[_[h]];for(this.wrapIndent&&(p-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);p>g+w/2;){if(g+=w,h===_.length-1){w=0;break}w=this.charWidths[_[++h]]}return h>0&&_[h-1]%2!=0&&_[h]%2==0?(p<g&&h--,f=this.bidiMap.logicalFromVisual[h]):h>0&&_[h-1]%2==0&&_[h]%2!=0?f=1+(p>g?this.bidiMap.logicalFromVisual[h]:this.bidiMap.logicalFromVisual[h-1]):this.isRtlDir&&h===_.length-1&&0===w&&_[h-1]%2==0||!this.isRtlDir&&0===h&&_[h]%2!=0?f=1+this.bidiMap.logicalFromVisual[h]:(h>0&&_[h-1]%2!=0&&0!==w&&h--,f=this.bidiMap.logicalFromVisual[h]),0===f&&this.isRtlDir&&f++,f+this.wrapIndent},m}();I.BidiHandler=u}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(L,I,$){"use strict";var S=L("./lib/oop"),x=L("./lib/lang"),M=L("./lib/event_emitter").EventEmitter,u=L("./range").Range,m=function(){function d(f){this.session=f,this.doc=f.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var p=this;this.cursor.on("change",function(g){p.$cursorChanged=!0,p.$silent||p._emit("changeCursor"),!p.$isEmpty&&!p.$silent&&p._emit("changeSelection"),!p.$keepDesiredColumnOnChange&&g.old.column!=g.value.column&&(p.$desiredColumn=null)}),this.anchor.on("change",function(){p.$anchorChanged=!0,!p.$isEmpty&&!p.$silent&&p._emit("changeSelection")})}return d.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},d.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},d.prototype.getCursor=function(){return this.lead.getPosition()},d.prototype.setAnchor=function(f,p){this.$isEmpty=!1,this.anchor.setPosition(f,p)},d.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},d.prototype.getSelectionLead=function(){return this.lead.getPosition()},d.prototype.isBackwards=function(){var f=this.anchor,p=this.lead;return f.row>p.row||f.row==p.row&&f.column>p.column},d.prototype.getRange=function(){var f=this.anchor,p=this.lead;return this.$isEmpty?u.fromPoints(p,p):this.isBackwards()?u.fromPoints(p,f):u.fromPoints(f,p)},d.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},d.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},d.prototype.setRange=function(f,p){var g=p?f.end:f.start,h=p?f.start:f.end;this.$setSelection(g.row,g.column,h.row,h.column)},d.prototype.$setSelection=function(f,p,g,h){if(!this.$silent){var _=this.$isEmpty,w=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(f,p),this.cursor.setPosition(g,h),this.$isEmpty=!u.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||_!=this.$isEmpty||w)&&this._emit("changeSelection")}},d.prototype.$moveSelection=function(f){var p=this.lead;this.$isEmpty&&this.setSelectionAnchor(p.row,p.column),f.call(this)},d.prototype.selectTo=function(f,p){this.$moveSelection(function(){this.moveCursorTo(f,p)})},d.prototype.selectToPosition=function(f){this.$moveSelection(function(){this.moveCursorToPosition(f)})},d.prototype.moveTo=function(f,p){this.clearSelection(),this.moveCursorTo(f,p)},d.prototype.moveToPosition=function(f){this.clearSelection(),this.moveCursorToPosition(f)},d.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},d.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},d.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},d.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},d.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},d.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},d.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},d.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},d.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},d.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},d.prototype.getWordRange=function(f,p){if(typeof p>"u"){var g=f||this.lead;f=g.row,p=g.column}return this.session.getWordRange(f,p)},d.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},d.prototype.selectAWord=function(){var f=this.getCursor(),p=this.session.getAWordRange(f.row,f.column);this.setSelectionRange(p)},d.prototype.getLineRange=function(f,p){var h,g="number"==typeof f?f:this.lead.row,_=this.session.getFoldLine(g);return _?(g=_.start.row,h=_.end.row):h=g,!0===p?new u(g,0,h,this.session.getLine(h).length):new u(g,0,h+1,0)},d.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},d.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},d.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},d.prototype.wouldMoveIntoSoftTab=function(f,p,g){var h=f.column,_=f.column+p;return g<0&&(h=f.column-p,_=f.column),this.session.isTabStop(f)&&this.doc.getLine(f.row).slice(h,_).split(" ").length-1==p},d.prototype.moveCursorLeft=function(){var p,f=this.lead.getPosition();if(p=this.session.getFoldAt(f.row,f.column,-1))this.moveCursorTo(p.start.row,p.start.column);else if(0===f.column)f.row>0&&this.moveCursorTo(f.row-1,this.doc.getLine(f.row-1).length);else{var g=this.session.getTabSize();this.wouldMoveIntoSoftTab(f,g,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-g):this.moveCursorBy(0,-1)}},d.prototype.moveCursorRight=function(){var p,f=this.lead.getPosition();if(p=this.session.getFoldAt(f.row,f.column,1))this.moveCursorTo(p.end.row,p.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var g=this.session.getTabSize();this.wouldMoveIntoSoftTab(f=this.lead,g,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,g):this.moveCursorBy(0,1)}},d.prototype.moveCursorLineStart=function(){var f=this.lead.row,p=this.lead.column,g=this.session.documentToScreenRow(f,p),h=this.session.screenToDocumentPosition(g,0),w=this.session.getDisplayLine(f,null,h.row,h.column).match(/^\s*/);w[0].length!=p&&!this.session.$useEmacsStyleLineStart&&(h.column+=w[0].length),this.moveCursorToPosition(h)},d.prototype.moveCursorLineEnd=function(){var f=this.lead,p=this.session.getDocumentLastRowColumnPosition(f.row,f.column);if(this.lead.column==p.column){var g=this.session.getLine(p.row);if(p.column==g.length){var h=g.search(/\s+$/);h>0&&(p.column=h)}}this.moveCursorTo(p.row,p.column)},d.prototype.moveCursorFileEnd=function(){var f=this.doc.getLength()-1,p=this.doc.getLine(f).length;this.moveCursorTo(f,p)},d.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},d.prototype.moveCursorLongWordRight=function(){var f=this.lead.row,p=this.lead.column,g=this.doc.getLine(f),h=g.substring(p);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var _=this.session.getFoldAt(f,p,1);if(!_)return this.session.nonTokenRe.exec(h)&&(p+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,h=g.substring(p)),p>=g.length?(this.moveCursorTo(f,g.length),this.moveCursorRight(),void(f<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(h)&&(p+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(f,p));this.moveCursorTo(_.end.row,_.end.column)},d.prototype.moveCursorLongWordLeft=function(){var g,f=this.lead.row,p=this.lead.column;if(g=this.session.getFoldAt(f,p,-1))this.moveCursorTo(g.start.row,g.start.column);else{var h=this.session.getFoldStringAt(f,p,-1);null==h&&(h=this.doc.getLine(f).substring(0,p));var _=x.stringReverse(h);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(_)&&(p-=this.session.nonTokenRe.lastIndex,_=_.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),p<=0)return this.moveCursorTo(f,0),this.moveCursorLeft(),void(f>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(_)&&(p-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(f,p)}},d.prototype.$shortWordEndIndex=function(f){var g,p=0,h=/\s/,_=this.session.tokenRe;if(_.lastIndex=0,this.session.tokenRe.exec(f))p=this.session.tokenRe.lastIndex;else{for(;(g=f[p])&&h.test(g);)p++;if(p<1)for(_.lastIndex=0;(g=f[p])&&!_.test(g);)if(_.lastIndex=0,p++,h.test(g)){if(p>2){p--;break}for(;(g=f[p])&&h.test(g);)p++;if(p>2)break}}return _.lastIndex=0,p},d.prototype.moveCursorShortWordRight=function(){var f=this.lead.row,p=this.lead.column,g=this.doc.getLine(f),h=g.substring(p),_=this.session.getFoldAt(f,p,1);if(_)return this.moveCursorTo(_.end.row,_.end.column);if(p==g.length){var w=this.doc.getLength();do{f++,h=this.doc.getLine(f)}while(f<w&&/^\s*$/.test(h));/^\s+/.test(h)||(h=""),p=0}var D=this.$shortWordEndIndex(h);this.moveCursorTo(f,p+D)},d.prototype.moveCursorShortWordLeft=function(){var g,f=this.lead.row,p=this.lead.column;if(g=this.session.getFoldAt(f,p,-1))return this.moveCursorTo(g.start.row,g.start.column);var h=this.session.getLine(f).substring(0,p);if(0===p){do{f--,h=this.doc.getLine(f)}while(f>0&&/^\s*$/.test(h));p=h.length,/\s+$/.test(h)||(h="")}var _=x.stringReverse(h),w=this.$shortWordEndIndex(_);return this.moveCursorTo(f,p-w)},d.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},d.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},d.prototype.moveCursorBy=function(f,p){var h,g=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===p&&(0!==f&&(this.session.$bidiHandler.isBidiRow(g.row,this.lead.row)?(h=this.session.$bidiHandler.getPosLeft(g.column),g.column=Math.round(h/this.session.$bidiHandler.charWidths[0])):h=g.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?g.column=this.$desiredColumn:this.$desiredColumn=g.column),0!=f&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var _=this.session.lineWidgets[this.lead.row];f<0?f-=_.rowsAbove||0:f>0&&(f+=_.rowCount-(_.rowsAbove||0))}var w=this.session.screenToDocumentPosition(g.row+f,g.column,h);this.moveCursorTo(w.row,w.column+p,0===p)},d.prototype.moveCursorToPosition=function(f){this.moveCursorTo(f.row,f.column)},d.prototype.moveCursorTo=function(f,p,g){var h=this.session.getFoldAt(f,p,1);h&&(f=h.start.row,p=h.start.column),this.$keepDesiredColumnOnChange=!0;var _=this.session.getLine(f);/[\uDC00-\uDFFF]/.test(_.charAt(p))&&_.charAt(p-1)&&(this.lead.row==f&&this.lead.column==p+1?p-=1:p+=1),this.lead.setPosition(f,p),this.$keepDesiredColumnOnChange=!1,g||(this.$desiredColumn=null)},d.prototype.moveCursorToScreen=function(f,p,g){var h=this.session.screenToDocumentPosition(f,p);this.moveCursorTo(h.row,h.column,g)},d.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},d.prototype.fromOrientedRange=function(f){this.setSelectionRange(f,f.cursor==f.start),this.$desiredColumn=f.desiredColumn||this.$desiredColumn},d.prototype.toOrientedRange=function(f){var p=this.getRange();return f?(f.start.column=p.start.column,f.start.row=p.start.row,f.end.column=p.end.column,f.end.row=p.end.row):f=p,f.cursor=this.isBackwards()?f.start:f.end,f.desiredColumn=this.$desiredColumn,f},d.prototype.getRangeOfMovements=function(f){var p=this.getCursor();try{f(this);var g=this.getCursor();return u.fromPoints(p,g)}catch{return u.fromPoints(p,p)}finally{this.moveCursorToPosition(p)}},d.prototype.toJSON=function(){if(this.rangeCount)var f=this.ranges.map(function(p){var g=p.clone();return g.isBackwards=p.cursor==p.start,g});else(f=this.getRange()).isBackwards=this.isBackwards();return f},d.prototype.fromJSON=function(f){if(null==f.start){if(this.rangeList&&f.length>1){this.toSingleRange(f[0]);for(var p=f.length;p--;){var g=u.fromPoints(f[p].start,f[p].end);f[p].isBackwards&&(g.cursor=g.start),this.addRange(g,!0)}return}f=f[0]}this.rangeList&&this.toSingleRange(f),this.setSelectionRange(f,f.isBackwards)},d.prototype.isEqual=function(f){if((f.length||this.rangeCount)&&f.length!=this.rangeCount)return!1;if(!f.length||!this.ranges)return this.getRange().isEqual(f);for(var p=this.ranges.length;p--;)if(!this.ranges[p].isEqual(f[p]))return!1;return!0},d}();m.prototype.setSelectionAnchor=m.prototype.setAnchor,m.prototype.getSelectionAnchor=m.prototype.getAnchor,m.prototype.setSelectionRange=m.prototype.setRange,S.implement(m.prototype,M),I.Selection=m}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(L,I,$){"use strict";var S=L("./lib/report_error").reportError,x=2e3,M=function(){function u(m){for(var d in this.states=m,this.regExps={},this.matchMappings={},this.states){for(var f=this.states[d],p=[],g=0,h=this.matchMappings[d]={defaultToken:"text"},_="g",w=[],D=0;D<f.length;D++){var O=f[D];if(O.defaultToken&&(h.defaultToken=O.defaultToken),O.caseInsensitive&&-1===_.indexOf("i")&&(_+="i"),O.unicode&&-1===_.indexOf("u")&&(_+="u"),null!=O.regex){O.regex instanceof RegExp&&(O.regex=O.regex.toString().slice(1,-1));var P=O.regex,U=new RegExp("(?:("+P+")|(.))").exec("a").length-2;Array.isArray(O.token)?1==O.token.length||1==U?O.token=O.token[0]:U-1!=O.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:O,groupCount:U-1}),O.token=O.token[0]):(O.tokenArray=O.token,O.token=null,O.onMatch=this.$arrayTokens):"function"==typeof O.token&&!O.onMatch&&(O.onMatch=U>1?this.$applyToken:O.token),U>1&&(/\\\d/.test(O.regex)?P=O.regex.replace(/\\([0-9]+)/g,function(j,K){return"\\"+(parseInt(K,10)+g+1)}):(U=1,P=this.removeCapturingGroups(O.regex)),!O.splitRegex&&"string"!=typeof O.token&&w.push(O)),h[g]=D,g+=U,p.push(P),O.onMatch||(O.onMatch=null)}}p.length||(h[0]=0,p.push("$")),w.forEach(function(j){j.splitRegex=this.createSplitterRegexp(j.regex,_)},this),this.regExps[d]=new RegExp("("+p.join(")|(")+")|($)",_)}}return u.prototype.$setMaxTokenCount=function(m){x=0|m},u.prototype.$applyToken=function(m){var d=this.splitRegex.exec(m).slice(1),f=this.token.apply(this,d);if("string"==typeof f)return[{type:f,value:m}];for(var p=[],g=0,h=f.length;g<h;g++)d[g]&&(p[p.length]={type:f[g],value:d[g]});return p},u.prototype.$arrayTokens=function(m){if(!m)return[];var d=this.splitRegex.exec(m);if(!d)return"text";for(var f=[],p=this.tokenArray,g=0,h=p.length;g<h;g++)d[g+1]&&(f[f.length]={type:p[g],value:d[g+1]});return f},u.prototype.removeCapturingGroups=function(m){return m.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(f,p){return p?"(?:":f})},u.prototype.createSplitterRegexp=function(m,d){if(-1!=m.indexOf("(?=")){var f=0,p=!1,g={};m.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(h,_,w,D,O,P){return p?p="]"!=O:O?p=!0:D?(f==g.stack&&(g.end=P+1,g.stack=-1),f--):w&&(f++,1!=w.length&&(g.stack=f,g.start=P)),h}),null!=g.end&&/^\)*$/.test(m.substr(g.end))&&(m=m.substring(0,g.start)+m.substr(g.end))}return"^"!=m.charAt(0)&&(m="^"+m),"$"!=m.charAt(m.length-1)&&(m+="$"),new RegExp(m,(d||"").replace("g",""))},u.prototype.getLineTokens=function(m,d){if(d&&"string"!=typeof d){var f=d.slice(0);"#tmp"===(d=f[0])&&(f.shift(),d=f.shift())}else f=[];var p=d||"start",g=this.states[p];g||(g=this.states[p="start"]);var h=this.matchMappings[p],_=this.regExps[p];_.lastIndex=0;for(var w,D=[],O=0,P=0,U={type:null,value:""};w=_.exec(m);){var j=h.defaultToken,K=null,B=w[0],Z=_.lastIndex;if(Z-B.length>O){var Y=m.substring(O,Z-B.length);U.type==j?U.value+=Y:(U.type&&D.push(U),U={type:j,value:Y})}for(var W=0;W<w.length-2;W++)if(void 0!==w[W+1]){j=(K=g[h[W]]).onMatch?K.onMatch(B,p,f,m):K.token,K.next&&(p="string"==typeof K.next?K.next:K.next(p,f),(g=this.states[p])||(this.reportError("state doesn't exist",p),g=this.states[p="start"]),h=this.matchMappings[p],O=Z,(_=this.regExps[p]).lastIndex=Z),K.consumeLineEnd&&(O=Z);break}if(B)if("string"==typeof j)K&&!1===K.merge||U.type!==j?(U.type&&D.push(U),U={type:j,value:B}):U.value+=B;else if(j)for(U.type&&D.push(U),U={type:null,value:""},W=0;W<j.length;W++)D.push(j[W]);if(O==m.length)break;if(O=Z,P++>x){for(P>2*m.length&&this.reportError("infinite loop with in ace tokenizer",{startState:d,line:m});O<m.length;)U.type&&D.push(U),U={value:m.substring(O,O+=500),type:"overflow"};p="start",f=[];break}}return U.type&&D.push(U),f.length>1&&f[0]!==p&&f.unshift("#tmp",p),{tokens:D,state:f.length?f:p}},u}();M.prototype.reportError=S,I.Tokenizer=M}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(L,I,$){"use strict";var x,S=L("../lib/deep_copy").deepCopy;(function(){this.addRules=function(m,d){if(d)for(var f in m){for(var p=m[f],g=0;g<p.length;g++){var h=p[g];(h.next||h.onMatch)&&("string"==typeof h.next&&0!==h.next.indexOf(d)&&(h.next=d+h.next),h.nextState&&0!==h.nextState.indexOf(d)&&(h.nextState=d+h.nextState))}this.$rules[d+f]=p}else for(var f in m)this.$rules[f]=m[f]},this.getRules=function(){return this.$rules},this.embedRules=function(m,d,f,p,g){var h="function"==typeof m?(new m).getRules():m;if(p)for(var _=0;_<p.length;_++)p[_]=d+p[_];else for(var w in p=[],h)p.push(d+w);if(this.addRules(h,d),f){var D=Array.prototype[g?"push":"unshift"];for(_=0;_<p.length;_++)D.apply(this.$rules[p[_]],S(f))}this.$embeds||(this.$embeds=[]),this.$embeds.push(d)},this.getEmbeds=function(){return this.$embeds};var M=function(m,d){return("start"!=m||d.length)&&d.unshift(this.nextState,m),this.nextState},u=function(m,d){return d.shift(),d.shift()||"start"};this.normalizeRules=function(){var m=0,d=this.$rules;Object.keys(d).forEach(function f(p){var g=d[p];g.processed=!0;for(var h=0;h<g.length;h++){var _=g[h],w=null;Array.isArray(_)&&(w=_,_={}),!_.regex&&_.start&&(_.regex=_.start,_.next||(_.next=[]),_.next.push({defaultToken:_.token},{token:_.token+".end",regex:_.end||_.start,next:"pop"}),_.token=_.token+".start",_.push=!0);var D=_.next||_.push;if(D&&Array.isArray(D)){var O=_.stateName;O||("string"!=typeof(O=_.token)&&(O=O[0]||""),d[O]&&(O+=m++)),d[O]=D,_.next=O,f(O)}else"pop"==D&&(_.next=u);if(_.push&&(_.nextState=_.next||_.push,_.next=M,delete _.push),_.rules)for(var P in _.rules)d[P]?d[P].push&&d[P].push.apply(d[P],_.rules[P]):d[P]=_.rules[P];var U="string"==typeof _?_:_.include;if(U&&("$self"===U&&(U="start"),w=Array.isArray(U)?U.map(function(K){return d[K]}):d[U]),w){var j=[h,1].concat(w);_.noEscape&&(j=j.filter(function(K){return!K.next})),g.splice.apply(g,j),h--}_.keywordMap&&(_.token=this.createKeywordMapper(_.keywordMap,_.defaultToken||"text",_.caseInsensitive),delete _.defaultToken)}},this)},this.createKeywordMapper=function(m,d,f,p){var g=Object.create(null);return this.$keywordList=[],Object.keys(m).forEach(function(h){for(var w=m[h].split(p||"|"),D=w.length;D--;){var O=w[D];this.$keywordList.push(O),f&&(O=O.toLowerCase()),g[O]=h}},this),m=null,f?function(h){return g[h.toLowerCase()]||d}:function(h){return g[h]||d}},this.getKeywords=function(){return this.$keywords}}).call((x=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),I.TextHighlightRules=x}),ace.define("ace/mode/behaviour",["require","exports","module"],function(L,I,$){"use strict";var S;(function(){this.add=function(x,M,u){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[x]:this.$behaviours[x]={}}this.$behaviours[x][M]=u},this.addBehaviours=function(x){for(var M in x)for(var u in x[M])this.add(M,u,x[M][u])},this.remove=function(x){this.$behaviours&&this.$behaviours[x]&&delete this.$behaviours[x]},this.inherit=function(x,M){if("function"==typeof x)var u=(new x).getBehaviours(M);else u=x.getBehaviours(M);this.addBehaviours(u)},this.getBehaviours=function(x){if(x){for(var M={},u=0;u<x.length;u++)this.$behaviours[x[u]]&&(M[x[u]]=this.$behaviours[x[u]]);return M}return this.$behaviours}}).call((S=function(){this.$behaviours={}}).prototype),I.Behaviour=S}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(L,I,$){"use strict";var S=L("./range").Range,x=function(){function M(u,m,d){this.$session=u,this.$row=m,this.$rowTokens=u.getTokens(m);var f=u.getTokenAt(m,d);this.$tokenIndex=f?f.index:-1}return M.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},M.prototype.stepForward=function(){this.$tokenIndex+=1;for(var u;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,u||(u=this.$session.getLength()),this.$row>=u)return this.$row=u-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},M.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},M.prototype.getCurrentTokenRow=function(){return this.$row},M.prototype.getCurrentTokenColumn=function(){var u=this.$rowTokens,m=this.$tokenIndex,d=u[m].start;if(void 0!==d)return d;for(d=0;m>0;)d+=u[m-=1].value.length;return d},M.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},M.prototype.getCurrentTokenRange=function(){var u=this.$rowTokens[this.$tokenIndex],m=this.getCurrentTokenColumn();return new S(this.$row,m,this.$row,m+u.value.length)},M}();I.TokenIterator=x}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(L,I,$){"use strict";var f,w,S=L("../../lib/oop"),x=L("../behaviour").Behaviour,M=L("../../token_iterator").TokenIterator,u=L("../../lib/lang"),m=["text","paren.rparen","rparen","paren","punctuation.operator"],d=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],p={},g={'"':'"',"'":"'"},h=function(D){var O=-1;if(D.multiSelect&&(O=D.selection.index,p.rangeCount!=D.multiSelect.rangeCount&&(p={rangeCount:D.multiSelect.rangeCount})),p[O])return f=p[O];f=p[O]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},_=function(D,O,P,U){var j=D.end.row-D.start.row;return{text:P+O+U,selection:[0,D.start.column+1,j,D.end.column+(j?0:1)]}};(w=function(D){D=D||{},this.add("braces","insertion",function(O,P,U,j,K){var B=U.getCursorPosition(),Z=j.doc.getLine(B.row);if("{"==K){h(U);var Y=U.getSelectionRange(),W=j.doc.getTextRange(Y),re=j.getTokenAt(B.row,B.column);if(""!==W&&"{"!==W&&U.getWrapBehavioursEnabled())return _(Y,W,"{","}");if(re&&/(?:string)\.quasi|\.xml/.test(re.type))return[/tag\-(?:open|name)/,/attribute\-name/].some(function(fe){return fe.test(re.type)})||/(string)\.quasi/.test(re.type)&&"$"!==re.value[B.column-re.start-1]?void 0:(w.recordAutoInsert(U,j,"}"),{text:"{}",selection:[1,1]});if(w.isSaneInsertion(U,j))return/[\]\}\)]/.test(Z[B.column])||U.inMultiSelectMode||D.braces?(w.recordAutoInsert(U,j,"}"),{text:"{}",selection:[1,1]}):(w.recordMaybeInsert(U,j,"{"),{text:"{",selection:[1,1]})}else if("}"==K){if(h(U),"}"==Z.substring(B.column,B.column+1)&&null!==j.$findOpeningBracket("}",{column:B.column+1,row:B.row})&&w.isAutoInsertedClosing(B,Z,K))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==K||"\r\n"==K){h(U);var R="";if(w.isMaybeInsertedClosing(B,Z)&&(R=u.stringRepeat("}",f.maybeInsertedBrackets),w.clearMaybeInsertedClosing()),"}"===Z.substring(B.column,B.column+1)){var ne=j.findMatchingBracket({row:B.row,column:B.column+1},"}");if(!ne)return null;var te=this.$getIndent(j.getLine(ne.row))}else{if(!R)return void w.clearMaybeInsertedClosing();te=this.$getIndent(Z)}var ce=te+j.getTabString();return{text:"\n"+ce+"\n"+te+R,selection:[1,ce.length,1,ce.length]}}w.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(O,P,U,j,K){var B=j.doc.getTextRange(K);if(!K.isMultiLine()&&"{"==B){if(h(U),"}"==j.doc.getLine(K.start.row).substring(K.end.column,K.end.column+1))return K.end.column++,K;f.maybeInsertedBrackets--}}),this.add("parens","insertion",function(O,P,U,j,K){if("("==K){h(U);var B=U.getSelectionRange(),Z=j.doc.getTextRange(B);if(""!==Z&&U.getWrapBehavioursEnabled())return _(B,Z,"(",")");if(w.isSaneInsertion(U,j))return w.recordAutoInsert(U,j,")"),{text:"()",selection:[1,1]}}else if(")"==K){h(U);var Y=U.getCursorPosition(),W=j.doc.getLine(Y.row);if(")"==W.substring(Y.column,Y.column+1)&&null!==j.$findOpeningBracket(")",{column:Y.column+1,row:Y.row})&&w.isAutoInsertedClosing(Y,W,K))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(O,P,U,j,K){var B=j.doc.getTextRange(K);if(!K.isMultiLine()&&"("==B&&(h(U),")"==j.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K}),this.add("brackets","insertion",function(O,P,U,j,K){if("["==K){h(U);var B=U.getSelectionRange(),Z=j.doc.getTextRange(B);if(""!==Z&&U.getWrapBehavioursEnabled())return _(B,Z,"[","]");if(w.isSaneInsertion(U,j))return w.recordAutoInsert(U,j,"]"),{text:"[]",selection:[1,1]}}else if("]"==K){h(U);var Y=U.getCursorPosition(),W=j.doc.getLine(Y.row);if("]"==W.substring(Y.column,Y.column+1)&&null!==j.$findOpeningBracket("]",{column:Y.column+1,row:Y.row})&&w.isAutoInsertedClosing(Y,W,K))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(O,P,U,j,K){var B=j.doc.getTextRange(K);if(!K.isMultiLine()&&"["==B&&(h(U),"]"==j.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K}),this.add("string_dquotes","insertion",function(O,P,U,j,K){var B=j.$mode.$quotes||g;if(1==K.length&&B[K]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(K))return;h(U);var Z=K,Y=U.getSelectionRange(),W=j.doc.getTextRange(Y);if(""!==W&&(1!=W.length||!B[W])&&U.getWrapBehavioursEnabled())return _(Y,W,Z,Z);if(!W){var re=U.getCursorPosition(),H=j.doc.getLine(re.row),k=H.substring(re.column-1,re.column),F=H.substring(re.column,re.column+1),R=j.getTokenAt(re.row,re.column),ne=j.getTokenAt(re.row,re.column+1);if("\\"==k&&R&&/escape/.test(R.type))return null;var fe,te=R&&/string|escape/.test(R.type),ce=!ne||/string|escape/.test(ne.type);if(F==Z)(fe=te!==ce)&&/string\.end/.test(ne.type)&&(fe=!1);else{if(te&&!ce||te&&ce)return null;var me=j.$mode.tokenRe;me.lastIndex=0;var ue=me.test(k);me.lastIndex=0;var xe=me.test(F),ge=j.$mode.$pairQuotesAfter;if(!(ge&&ge[Z]&&ge[Z].test(k))&&ue||xe||F&&!/[\s;,.})\]\\]/.test(F))return null;var Ae=H[re.column-2];if(k==Z&&(Ae==Z||me.test(Ae)))return null;fe=!0}return{text:fe?Z+Z:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(O,P,U,j,K){var B=j.$mode.$quotes||g,Z=j.doc.getTextRange(K);if(!K.isMultiLine()&&B.hasOwnProperty(Z)&&(h(U),j.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)==Z))return K.end.column++,K}),!1!==D.closeDocComment&&this.add("doc comment end","insertion",function(O,P,U,j,K){if("doc-start"===O&&("\n"===K||"\r\n"===K)&&U.selection.isEmpty()){var B=U.getCursorPosition();if(0===B.column)return;for(var Z=j.doc.getLine(B.row),Y=j.doc.getLine(B.row+1),W=j.getTokens(B.row),re=0,H=0;H<W.length;H++){var k=W[H];if((re+=W[H].value.length)>=B.column){if(re===B.column){if(!/\.doc/.test(k.type))return;if(/\*\//.test(k.value)){var F=W[H+1];if(!F||!/\.doc/.test(F.type))return}}var R=B.column-(re-k.value.length),ne=k.value.indexOf("*/"),te=k.value.indexOf("/**",ne>-1?ne+2:0);if(-1!==te&&R>te&&R<te+3||-1!==ne&&-1!==te&&R>=ne&&R<=te||!/\.doc/.test(k.type))return;break}}var ce=this.$getIndent(Z);if(/\s*\*/.test(Y))return/^\s*\*/.test(Z)?{text:K+ce+"* ",selection:[1,2+ce.length,1,2+ce.length]}:{text:K+ce+" * ",selection:[1,3+ce.length,1,3+ce.length]};if(/\/\*\*/.test(Z.substring(0,B.column)))return{text:K+ce+" * "+K+" "+ce+"*/",selection:[1,4+ce.length,1,4+ce.length]}}})}).isSaneInsertion=function(D,O){var P=D.getCursorPosition(),U=new M(O,P.row,P.column);if(!this.$matchTokenType(U.getCurrentToken()||"text",m)){if(/[)}\]]/.test(D.session.getLine(P.row)[P.column]))return!0;var j=new M(O,P.row,P.column+1);if(!this.$matchTokenType(j.getCurrentToken()||"text",m))return!1}return U.stepForward(),U.getCurrentTokenRow()!==P.row||this.$matchTokenType(U.getCurrentToken()||"text",d)},w.$matchTokenType=function(D,O){return O.indexOf(D.type||D)>-1},w.recordAutoInsert=function(D,O,P){var U=D.getCursorPosition(),j=O.doc.getLine(U.row);this.isAutoInsertedClosing(U,j,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=U.row,f.autoInsertedLineEnd=P+j.substr(U.column),f.autoInsertedBrackets++},w.recordMaybeInsert=function(D,O,P){var U=D.getCursorPosition(),j=O.doc.getLine(U.row);this.isMaybeInsertedClosing(U,j)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=U.row,f.maybeInsertedLineStart=j.substr(0,U.column)+P,f.maybeInsertedLineEnd=j.substr(U.column),f.maybeInsertedBrackets++},w.isAutoInsertedClosing=function(D,O,P){return f.autoInsertedBrackets>0&&D.row===f.autoInsertedRow&&P===f.autoInsertedLineEnd[0]&&O.substr(D.column)===f.autoInsertedLineEnd},w.isMaybeInsertedClosing=function(D,O){return f.maybeInsertedBrackets>0&&D.row===f.maybeInsertedRow&&O.substr(D.column)===f.maybeInsertedLineEnd&&O.substr(0,D.column)==f.maybeInsertedLineStart},w.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},w.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},S.inherits(w,x),I.CstyleBehaviour=w}),ace.define("ace/unicode",["require","exports","module"],function(L,I,$){"use strict";for(var S=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],x=0,M=[],u=0;u<S.length;u+=2)M.push(x+=S[u]),S[u+1]&&M.push(45,x+=S[u+1]);I.wordChars=String.fromCharCode.apply(null,M)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(L,I,$){"use strict";var g,S=L("../config"),x=L("../tokenizer").Tokenizer,M=L("./text_highlight_rules").TextHighlightRules,u=L("./behaviour/cstyle").CstyleBehaviour,m=L("../unicode"),d=L("../lib/lang"),f=L("../token_iterator").TokenIterator,p=L("../range").Range;(function(){this.$defaultBehaviour=new u,this.tokenRe=new RegExp("^["+m.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+m.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new x(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(h,_,w,D){var O=_.doc,P=!0,U=!0,j=1/0,K=_.getTabSize(),B=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var W=this.lineCommentStart.map(d.escapeRegExp).join("|"),Z=this.lineCommentStart[0];else W=d.escapeRegExp(this.lineCommentStart),Z=this.lineCommentStart;W=new RegExp("^(\\s*)(?:"+W+") ?"),B=_.getUseSoftTabs();var k=function(xe,ge){var Ne=xe.match(W);if(Ne){var Ae=Ne[1].length,He=Ne[0].length;!ne(xe,Ae,He)&&" "==Ne[0][He-1]&&He--,O.removeInLine(ge,Ae,He)}},R=Z+" ",H=function(xe,ge){(!P||/\S/.test(xe))&&(ne(xe,j,j)?O.insertInLine({row:ge,column:j},R):O.insertInLine({row:ge,column:j},Z))},F=function(xe,ge){return W.test(xe)},ne=function(xe,ge,Ne){for(var Ae=0;ge--&&" "==xe.charAt(ge);)Ae++;if(Ae%K!=0)return!1;for(Ae=0;" "==xe.charAt(Ne++);)Ae++;return K>2?Ae%K!=K-1:Ae%K==0}}else{if(!this.blockComment)return!1;Z=this.blockComment.start;var Y=this.blockComment.end,re=(W=new RegExp("^(\\s*)(?:"+d.escapeRegExp(Z)+")"),new RegExp("(?:"+d.escapeRegExp(Y)+")\\s*$"));H=function(fe,me){F(fe,me)||(!P||/\S/.test(fe))&&(O.insertInLine({row:me,column:fe.length},Y),O.insertInLine({row:me,column:j},Z))},k=function(fe,me){var ue;(ue=fe.match(re))&&O.removeInLine(me,fe.length-ue[0].length,fe.length),(ue=fe.match(W))&&O.removeInLine(me,ue[1].length,ue[0].length)},F=function(fe,me){if(W.test(fe))return!0;for(var ue=_.getTokens(me),xe=0;xe<ue.length;xe++)if("comment"===ue[xe].type)return!0}}function te(fe){for(var me=w;me<=D;me++)fe(O.getLine(me),me)}var ce=1/0;te(function(fe,me){var ue=fe.search(/\S/);-1!==ue?(ue<j&&(j=ue),U&&!F(fe,me)&&(U=!1)):ce>fe.length&&(ce=fe.length)}),j==1/0&&(j=ce,P=!1,U=!1),B&&j%K!=0&&(j=Math.floor(j/K)*K),te(U?k:H)},this.toggleBlockComment=function(h,_,w,D){var O=this.blockComment;if(O){!O.start&&O[0]&&(O=O[0]);var B,Z,U=(P=new f(_,D.row,D.column)).getCurrentToken(),K=_.selection.toOrientedRange();if(U&&/comment/.test(U.type)){for(var Y,W;U&&/comment/.test(U.type);){if(-1!=(re=U.value.indexOf(O.start))){var H=P.getCurrentTokenRow(),k=P.getCurrentTokenColumn()+re;Y=new p(H,k,H,k+O.start.length);break}U=P.stepBackward()}var P;for(U=(P=new f(_,D.row,D.column)).getCurrentToken();U&&/comment/.test(U.type);){var re;if(-1!=(re=U.value.indexOf(O.end))){H=P.getCurrentTokenRow(),k=P.getCurrentTokenColumn()+re,W=new p(H,k,H,k+O.end.length);break}U=P.stepForward()}W&&_.remove(W),Y&&(_.remove(Y),B=Y.start.row,Z=-O.start.length)}else Z=O.start.length,B=w.start.row,_.insert(w.end,O.end),_.insert(w.start,O.start);K.start.row==B&&(K.start.column+=Z),K.end.row==B&&(K.end.column+=Z),_.selection.fromOrientedRange(K)}},this.getNextLineIndent=function(h,_,w){return this.$getIndent(_)},this.checkOutdent=function(h,_,w){return!1},this.autoOutdent=function(h,_,w){},this.$getIndent=function(h){return h.match(/^\s*/)[0]},this.createWorker=function(h){return null},this.createModeDelegates=function(h){for(var _ in this.$embeds=[],this.$modes={},h)if(h[_]){var w=h[_],D=w.prototype.$id,O=S.$modes[D];O||(S.$modes[D]=O=new w),S.$modes[_]||(S.$modes[_]=O),this.$embeds.push(_),this.$modes[_]=O}var P=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],U=function(K){var B,Z,Y;Y=(B=j)[Z=P[K]],B[P[K]]=function(){return this.$delegator(Z,arguments,Y)}},j=this;for(_=0;_<P.length;_++)U(_)},this.$delegator=function(h,_,w){var D=_[0]||"start";if("string"!=typeof D){if(Array.isArray(D[2])&&(P=this.$modes[D[2][D[2].length-1]]))return P[h].apply(P,[D[1]].concat([].slice.call(_,1)));D=D[0]||"start"}for(var U=0;U<this.$embeds.length;U++)if(this.$modes[this.$embeds[U]]){var P,j=D.split(this.$embeds[U]);if(!j[0]&&j[1])return _[0]=j[1],(P=this.$modes[this.$embeds[U]])[h].apply(P,_)}var K=w.apply(this,_);return w?K:void 0},this.transformAction=function(h,_,w,D,O){if(this.$behaviour){var P=this.$behaviour.getBehaviours();for(var U in P)if(P[U][_]){var j=P[U][_].apply(this,arguments);if(j)return j}}},this.getKeywords=function(h){if(!this.completionKeywords){var _=this.$tokenizer.rules,w=[];for(var D in _)for(var O=_[D],P=0,U=O.length;P<U;P++)if("string"==typeof O[P].token)/keyword|support|storage/.test(O[P].token)&&w.push(O[P].regex);else if("object"==typeof O[P].token)for(var j=0,K=O[P].token.length;j<K;j++)/keyword|support|storage/.test(O[P].token[j])&&(D=O[P].regex.match(/\(.+?\)/g)[j],w.push(D.substr(1,D.length-2)));this.completionKeywords=w}return h?w.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(h,_,w,D){return(this.$keywordList||this.$createKeywordList()).map(function(P){return{name:P,value:P,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call((g=function(){this.HighlightRules=M}).prototype),I.Mode=g}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(L,I,$){"use strict";var S=L("./lib/dom"),x=function(){function M(u){this.session=u,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return M.prototype.getRowLength=function(u){var m;return m=this.lineWidgets&&this.lineWidgets[u]&&this.lineWidgets[u].rowCount||0,this.$useWrapMode&&this.$wrapData[u]?this.$wrapData[u].length+1+m:1+m},M.prototype.$getWidgetScreenLength=function(){var u=0;return this.lineWidgets.forEach(function(m){m&&m.rowCount&&!m.hidden&&(u+=m.rowCount)}),u},M.prototype.$onChangeEditor=function(u){this.attach(u.editor)},M.prototype.attach=function(u){u&&u.widgetManager&&u.widgetManager!=this&&u.widgetManager.detach(),this.editor!=u&&(this.detach(),this.editor=u,u&&(u.widgetManager=this,u.renderer.on("beforeRender",this.measureWidgets),u.renderer.on("afterRender",this.renderWidgets)))},M.prototype.detach=function(u){var m=this.editor;if(m){this.editor=null,m.widgetManager=null,m.renderer.off("beforeRender",this.measureWidgets),m.renderer.off("afterRender",this.renderWidgets);var d=this.session.lineWidgets;d&&d.forEach(function(f){f&&f.el&&f.el.parentNode&&(f._inDocument=!1,f.el.parentNode.removeChild(f.el))})}},M.prototype.updateOnFold=function(u,m){var d=m.lineWidgets;if(d&&u.action){for(var f=u.data,p=f.start.row,g=f.end.row,h="add"==u.action,_=p+1;_<g;_++)d[_]&&(d[_].hidden=h);d[g]&&(h?d[p]?d[g].hidden=h:d[p]=d[g]:(d[p]==d[g]&&(d[p]=void 0),d[g].hidden=h))}},M.prototype.updateOnChange=function(u){var m=this.session.lineWidgets;if(m){var d=u.start.row,f=u.end.row-d;if(0!==f)if("remove"==u.action){var p=m.splice(d+1,f);!m[d]&&p[p.length-1]&&(m[d]=p.pop()),p.forEach(function(h){h&&this.removeLineWidget(h)},this),this.$updateRows()}else{var g=new Array(f);m[d]&&null!=m[d].column&&u.start.column>m[d].column&&d++,g.unshift(d,0),m.splice.apply(m,g),this.$updateRows()}}},M.prototype.$updateRows=function(){var u=this.session.lineWidgets;if(u){var m=!0;u.forEach(function(d,f){if(d)for(m=!1,d.row=f;d.$oldWidget;)d.$oldWidget.row=f,d=d.$oldWidget}),m&&(this.session.lineWidgets=null)}},M.prototype.$registerLineWidget=function(u){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var m=this.session.lineWidgets[u.row];return m&&(u.$oldWidget=m,m.el&&m.el.parentNode&&(m.el.parentNode.removeChild(m.el),m._inDocument=!1)),this.session.lineWidgets[u.row]=u,u},M.prototype.addLineWidget=function(u){if(this.$registerLineWidget(u),u.session=this.session,!this.editor)return u;var m=this.editor.renderer;u.html&&!u.el&&(u.el=S.createElement("div"),u.el.innerHTML=u.html),u.text&&!u.el&&(u.el=S.createElement("div"),u.el.textContent=u.text),u.el&&(S.addCssClass(u.el,"ace_lineWidgetContainer"),u.className&&S.addCssClass(u.el,u.className),u.el.style.position="absolute",u.el.style.zIndex="5",m.container.appendChild(u.el),u._inDocument=!0,u.coverGutter||(u.el.style.zIndex="3"),null==u.pixelHeight&&(u.pixelHeight=u.el.offsetHeight)),null==u.rowCount&&(u.rowCount=u.pixelHeight/m.layerConfig.lineHeight);var d=this.session.getFoldAt(u.row,0);if(u.$fold=d,d){var f=this.session.lineWidgets;u.row!=d.end.row||f[d.start.row]?u.hidden=!0:f[d.start.row]=u}return this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows(),this.renderWidgets(null,m),this.onWidgetChanged(u),u},M.prototype.removeLineWidget=function(u){if(u._inDocument=!1,u.session=null,u.el&&u.el.parentNode&&u.el.parentNode.removeChild(u.el),u.editor&&u.editor.destroy)try{u.editor.destroy()}catch{}if(this.session.lineWidgets){var m=this.session.lineWidgets[u.row];if(m==u)this.session.lineWidgets[u.row]=u.$oldWidget,u.$oldWidget&&this.onWidgetChanged(u.$oldWidget);else for(;m;){if(m.$oldWidget==u){m.$oldWidget=u.$oldWidget;break}m=m.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows()},M.prototype.getWidgetsAtRow=function(u){for(var m=this.session.lineWidgets,d=m&&m[u],f=[];d;)f.push(d),d=d.$oldWidget;return f},M.prototype.onWidgetChanged=function(u){this.session._changedWidgets.push(u),this.editor&&this.editor.renderer.updateFull()},M.prototype.measureWidgets=function(u,m){var d=this.session._changedWidgets,f=m.layerConfig;if(d&&d.length){for(var p=1/0,g=0;g<d.length;g++){var h=d[g];if(h&&h.el&&h.session==this.session){if(!h._inDocument){if(this.session.lineWidgets[h.row]!=h)continue;h._inDocument=!0,m.container.appendChild(h.el)}h.h=h.el.offsetHeight,h.fixedWidth||(h.w=h.el.offsetWidth,h.screenWidth=Math.ceil(h.w/f.characterWidth));var _=h.h/f.lineHeight;h.coverLine&&(_-=this.session.getRowLineCount(h.row))<0&&(_=0),h.rowCount!=_&&(h.rowCount=_,h.row<p&&(p=h.row))}}p!=1/0&&(this.session._emit("changeFold",{data:{start:{row:p}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},M.prototype.renderWidgets=function(u,m){var d=m.layerConfig,f=this.session.lineWidgets;if(f){for(var p=Math.min(this.firstRow,d.firstRow),g=Math.max(this.lastRow,d.lastRow,f.length);p>0&&!f[p];)p--;this.firstRow=d.firstRow,this.lastRow=d.lastRow,m.$cursorLayer.config=d;for(var h=p;h<=g;h++){var _=f[h];if(_&&_.el){if(_.hidden){_.el.style.top=-100-(_.pixelHeight||0)+"px";continue}_._inDocument||(_._inDocument=!0,m.container.appendChild(_.el));var w=m.$cursorLayer.getPixelPosition({row:h,column:0},!0).top;_.coverLine||(w+=d.lineHeight*this.session.getRowLineCount(_.row)),_.el.style.top=w-d.offset+"px";var D=_.coverGutter?0:m.gutterWidth;_.fixedWidth||(D-=m.scrollLeft),_.el.style.left=D+"px",_.fullWidth&&_.screenWidth&&(_.el.style.minWidth=d.width+2*d.padding+"px"),_.el.style.right=_.fixedWidth?m.scrollBar.getWidth()+"px":""}}}},M}();I.LineWidgets=x}),ace.define("ace/apply_delta",["require","exports","module"],function(L,I,$){"use strict";I.applyDelta=function(u,m,d){var f=m.start.row,p=m.start.column,g=u[f]||"";switch(m.action){case"insert":if(1===m.lines.length)u[f]=g.substring(0,p)+m.lines[0]+g.substring(p);else{var _=[f,1].concat(m.lines);u.splice.apply(u,_),u[f]=g.substring(0,p)+u[f],u[f+m.lines.length-1]+=g.substring(p)}break;case"remove":var w=m.end.column,D=m.end.row;f===D?u[f]=g.substring(0,p)+g.substring(w):u.splice(f,D-f+1,g.substring(0,p)+u[D].substring(w))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(L,I,$){"use strict";var S=L("./lib/oop"),x=L("./lib/event_emitter").EventEmitter,M=function(){function d(f,p,g){this.$onChange=this.onChange.bind(this),this.attach(f),"number"!=typeof p?this.setPosition(p.row,p.column):this.setPosition(p,g)}return d.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},d.prototype.getDocument=function(){return this.document},d.prototype.onChange=function(f){if(!(f.start.row==f.end.row&&f.start.row!=this.row||f.start.row>this.row)){var p=function m(d,f,p){var g="insert"==d.action,h=(g?1:-1)*(d.end.row-d.start.row),_=(g?1:-1)*(d.end.column-d.start.column),w=d.start,D=g?w:d.end;return u(f,w,p)?{row:f.row,column:f.column}:u(D,f,!p)?{row:f.row+h,column:f.column+(f.row==D.row?_:0)}:{row:w.row,column:w.column}}(f,{row:this.row,column:this.column},this.$insertRight);this.setPosition(p.row,p.column,!0)}},d.prototype.setPosition=function(f,p,g){var h;if(h=g?{row:f,column:p}:this.$clipPositionToDocument(f,p),this.row!=h.row||this.column!=h.column){var _={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:_,value:h})}},d.prototype.detach=function(){this.document.off("change",this.$onChange)},d.prototype.attach=function(f){this.document=f||this.document,this.document.on("change",this.$onChange)},d.prototype.$clipPositionToDocument=function(f,p){var g={};return f>=this.document.getLength()?(g.row=Math.max(0,this.document.getLength()-1),g.column=this.document.getLine(g.row).length):f<0?(g.row=0,g.column=0):(g.row=f,g.column=Math.min(this.document.getLine(g.row).length,Math.max(0,p))),p<0&&(g.column=0),g},d}();function u(d,f,p){return d.row<f.row||d.row==f.row&&(p?d.column<=f.column:d.column<f.column)}M.prototype.$insertRight=!1,S.implement(M.prototype,x),I.Anchor=M}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(L,I,$){"use strict";var S=L("./lib/oop"),x=L("./apply_delta").applyDelta,M=L("./lib/event_emitter").EventEmitter,u=L("./range").Range,m=L("./anchor").Anchor,d=function(){function f(p){this.$lines=[""],0===p.length?this.$lines=[""]:Array.isArray(p)?this.insertMergedLines({row:0,column:0},p):this.insert({row:0,column:0},p)}return f.prototype.setValue=function(p){var g=this.getLength()-1;this.remove(new u(0,0,g,this.getLine(g).length)),this.insert({row:0,column:0},p||"")},f.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},f.prototype.createAnchor=function(p,g){return new m(this,p,g)},f.prototype.$detectNewLine=function(p){var g=p.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=g?g[1]:"\n",this._signal("changeNewLineMode")},f.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},f.prototype.setNewLineMode=function(p){this.$newLineMode!==p&&(this.$newLineMode=p,this._signal("changeNewLineMode"))},f.prototype.getNewLineMode=function(){return this.$newLineMode},f.prototype.isNewLine=function(p){return"\r\n"==p||"\r"==p||"\n"==p},f.prototype.getLine=function(p){return this.$lines[p]||""},f.prototype.getLines=function(p,g){return this.$lines.slice(p,g+1)},f.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},f.prototype.getLength=function(){return this.$lines.length},f.prototype.getTextRange=function(p){return this.getLinesForRange(p).join(this.getNewLineCharacter())},f.prototype.getLinesForRange=function(p){var g;if(p.start.row===p.end.row)g=[this.getLine(p.start.row).substring(p.start.column,p.end.column)];else{(g=this.getLines(p.start.row,p.end.row))[0]=(g[0]||"").substring(p.start.column);var h=g.length-1;p.end.row-p.start.row==h&&(g[h]=g[h].substring(0,p.end.column))}return g},f.prototype.insertLines=function(p,g){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(p,g)},f.prototype.removeLines=function(p,g){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(p,g)},f.prototype.insertNewLine=function(p){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(p,["",""])},f.prototype.insert=function(p,g){return this.getLength()<=1&&this.$detectNewLine(g),this.insertMergedLines(p,this.$split(g))},f.prototype.insertInLine=function(p,g){var h=this.clippedPos(p.row,p.column),_=this.pos(p.row,p.column+g.length);return this.applyDelta({start:h,end:_,action:"insert",lines:[g]},!0),this.clonePos(_)},f.prototype.clippedPos=function(p,g){var h=this.getLength();void 0===p?p=h:p<0?p=0:p>=h&&(p=h-1,g=void 0);var _=this.getLine(p);return null==g&&(g=_.length),{row:p,column:g=Math.min(Math.max(g,0),_.length)}},f.prototype.clonePos=function(p){return{row:p.row,column:p.column}},f.prototype.pos=function(p,g){return{row:p,column:g}},f.prototype.$clipPosition=function(p){var g=this.getLength();return p.row>=g?(p.row=Math.max(0,g-1),p.column=this.getLine(g-1).length):(p.row=Math.max(0,p.row),p.column=Math.min(Math.max(p.column,0),this.getLine(p.row).length)),p},f.prototype.insertFullLines=function(p,g){var h=0;(p=Math.min(Math.max(p,0),this.getLength()))<this.getLength()?(g=g.concat([""]),h=0):(g=[""].concat(g),p--,h=this.$lines[p].length),this.insertMergedLines({row:p,column:h},g)},f.prototype.insertMergedLines=function(p,g){var h=this.clippedPos(p.row,p.column),_={row:h.row+g.length-1,column:(1==g.length?h.column:0)+g[g.length-1].length};return this.applyDelta({start:h,end:_,action:"insert",lines:g}),this.clonePos(_)},f.prototype.remove=function(p){var g=this.clippedPos(p.start.row,p.start.column),h=this.clippedPos(p.end.row,p.end.column);return this.applyDelta({start:g,end:h,action:"remove",lines:this.getLinesForRange({start:g,end:h})}),this.clonePos(g)},f.prototype.removeInLine=function(p,g,h){var _=this.clippedPos(p,g),w=this.clippedPos(p,h);return this.applyDelta({start:_,end:w,action:"remove",lines:this.getLinesForRange({start:_,end:w})},!0),this.clonePos(_)},f.prototype.removeFullLines=function(p,g){p=Math.min(Math.max(0,p),this.getLength()-1);var h=(g=Math.min(Math.max(0,g),this.getLength()-1))==this.getLength()-1&&p>0,_=g<this.getLength()-1,w=h?p-1:p,D=h?this.getLine(w).length:0,O=_?g+1:g,P=_?0:this.getLine(O).length,U=new u(w,D,O,P),j=this.$lines.slice(p,g+1);return this.applyDelta({start:U.start,end:U.end,action:"remove",lines:this.getLinesForRange(U)}),j},f.prototype.removeNewLine=function(p){p<this.getLength()-1&&p>=0&&this.applyDelta({start:this.pos(p,this.getLine(p).length),end:this.pos(p+1,0),action:"remove",lines:["",""]})},f.prototype.replace=function(p,g){return p instanceof u||(p=u.fromPoints(p.start,p.end)),0===g.length&&p.isEmpty()?p.start:g==this.getTextRange(p)?p.end:(this.remove(p),g?this.insert(p.start,g):p.start)},f.prototype.applyDeltas=function(p){for(var g=0;g<p.length;g++)this.applyDelta(p[g])},f.prototype.revertDeltas=function(p){for(var g=p.length-1;g>=0;g--)this.revertDelta(p[g])},f.prototype.applyDelta=function(p,g){var h="insert"==p.action;(h?p.lines.length<=1&&!p.lines[0]:!u.comparePoints(p.start,p.end))||(h&&p.lines.length>2e4?this.$splitAndapplyLargeDelta(p,2e4):(x(this.$lines,p,g),this._signal("change",p)))},f.prototype.$safeApplyDelta=function(p){var g=this.$lines.length;("remove"==p.action&&p.start.row<g&&p.end.row<g||"insert"==p.action&&p.start.row<=g)&&this.applyDelta(p)},f.prototype.$splitAndapplyLargeDelta=function(p,g){for(var h=p.lines,_=h.length-g+1,w=p.start.row,D=p.start.column,O=0,P=0;O<_;O=P){var U=h.slice(O,P+=g-1);U.push(""),this.applyDelta({start:this.pos(w+O,D),end:this.pos(w+P,D=0),action:p.action,lines:U},!0)}p.lines=h.slice(O),p.start.row=w+O,p.start.column=D,this.applyDelta(p,!0)},f.prototype.revertDelta=function(p){this.$safeApplyDelta({start:this.clonePos(p.start),end:this.clonePos(p.end),action:"insert"==p.action?"remove":"insert",lines:p.lines.slice()})},f.prototype.indexToPosition=function(p,g){for(var h=this.$lines||this.getAllLines(),_=this.getNewLineCharacter().length,w=g||0,D=h.length;w<D;w++)if((p-=h[w].length+_)<0)return{row:w,column:p+h[w].length+_};return{row:D-1,column:p+h[D-1].length+_}},f.prototype.positionToIndex=function(p,g){for(var h=this.$lines||this.getAllLines(),_=this.getNewLineCharacter().length,w=0,D=Math.min(p.row,h.length),O=g||0;O<D;++O)w+=h[O].length+_;return w+p.column},f.prototype.$split=function(p){return p.split(/\r\n|\r|\n/)},f}();d.prototype.$autoNewLine="",d.prototype.$newLineMode="auto",S.implement(d.prototype,M),I.Document=d}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(L,I,$){"use strict";var S=L("./lib/oop"),x=L("./lib/event_emitter").EventEmitter,M=function(){function u(m,d){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=m;var f=this;this.$worker=function(){if(f.running){for(var p=new Date,g=f.currentLine,h=-1,_=f.doc,w=g;f.lines[g];)g++;var D=_.getLength(),O=0;for(f.running=!1;g<D;){f.$tokenizeRow(g),h=g;do{g++}while(f.lines[g]);if(++O%5==0&&new Date-p>20){f.running=setTimeout(f.$worker,20);break}}f.currentLine=g,-1==h&&(h=g),w<=h&&f.fireUpdateEvent(w,h)}}}return u.prototype.setTokenizer=function(m){this.tokenizer=m,this.lines=[],this.states=[],this.start(0)},u.prototype.setDocument=function(m){this.doc=m,this.lines=[],this.states=[],this.stop()},u.prototype.fireUpdateEvent=function(m,d){this._signal("update",{data:{first:m,last:d}})},u.prototype.start=function(m){this.currentLine=Math.min(m||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},u.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},u.prototype.$updateOnChange=function(m){var d=m.start.row,f=m.end.row-d;if(0===f)this.lines[d]=null;else if("remove"==m.action)this.lines.splice(d,f+1,null),this.states.splice(d,f+1,null);else{var p=Array(f+1);p.unshift(d,1),this.lines.splice.apply(this.lines,p),this.states.splice.apply(this.states,p)}this.currentLine=Math.min(d,this.currentLine,this.doc.getLength()),this.stop()},u.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},u.prototype.getTokens=function(m){return this.lines[m]||this.$tokenizeRow(m)},u.prototype.getState=function(m){return this.currentLine==m&&this.$tokenizeRow(m),this.states[m]||"start"},u.prototype.$tokenizeRow=function(m){var d=this.doc.getLine(m),p=this.tokenizer.getLineTokens(d,this.states[m-1],m);return this.states[m]+""!=p.state+""?(this.states[m]=p.state,this.lines[m+1]=null,this.currentLine>m+1&&(this.currentLine=m+1)):this.currentLine==m&&(this.currentLine=m+1),this.lines[m]=p.tokens},u.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},u}();S.implement(M.prototype,x),I.BackgroundTokenizer=M}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(L,I,$){"use strict";var S=L("./lib/lang"),x=L("./range").Range,M=function(){function u(m,d,f){void 0===f&&(f="text"),this.setRegexp(m),this.clazz=d,this.type=f}return u.prototype.setRegexp=function(m){this.regExp+""!=m+""&&(this.regExp=m,this.cache=[])},u.prototype.update=function(m,d,f,p){if(this.regExp)for(var h=p.lastRow,_={},w=p.firstRow;w<=h;w++){var D=this.cache[w];null==D&&((D=S.getMatchOffsets(f.getLine(w),this.regExp)).length>this.MAX_RANGES&&(D=D.slice(0,this.MAX_RANGES)),D=D.map(function(j){return new x(w,j.offset,w,j.offset+j.length)}),this.cache[w]=D.length?D:"");for(var O=D.length;O--;){var P=D[O].toScreenRange(f),U=P.toString();_[U]||(_[U]=!0,d.drawSingleLineMarker(m,P,this.clazz,p))}}},u}();M.prototype.MAX_RANGES=500,I.SearchHighlight=M}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(L,I,$){"use strict";var S=function(){function B(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return B.prototype.addSession=function(Z){this.$session=Z},B.prototype.add=function(Z,Y,W){if(!this.$fromUndo&&Z!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===Y||!this.lastDeltas){this.lastDeltas=[];var re=this.$undoStack.length;re>this.$undoDepth-1&&this.$undoStack.splice(0,re-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),Z.id=this.$rev=++this.$maxRev}("remove"==Z.action||"insert"==Z.action)&&(this.$lastDelta=Z),this.lastDeltas.push(Z)}},B.prototype.addSelection=function(Z,Y){this.selections.push({value:Z,rev:Y||this.$rev})},B.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},B.prototype.markIgnored=function(Z,Y){null==Y&&(Y=this.$rev+1);for(var W=this.$undoStack,re=W.length;re--;){var H=W[re][0];if(H.id<=Z)break;H.id<Y&&(H.ignore=!0)}this.lastDeltas=null},B.prototype.getSelection=function(Z,Y){for(var W=this.selections,re=W.length;re--;){var H=W[re];if(H.rev<Z)return Y&&(H=W[re+1]),H}},B.prototype.getRevision=function(){return this.$rev},B.prototype.getDeltas=function(Z,Y){null==Y&&(Y=this.$rev+1);for(var W=this.$undoStack,re=null,H=0,k=W.length;k--;){var F=W[k][0];if(F.id<Y&&!re&&(re=k+1),F.id<=Z){H=k+1;break}}return W.slice(H,re)},B.prototype.getChangedRanges=function(Z,Y){null==Y&&(Y=this.$rev+1)},B.prototype.getChangedLines=function(Z,Y){null==Y&&(Y=this.$rev+1)},B.prototype.undo=function(Z,Y){this.lastDeltas=null;var W=this.$undoStack;if(function x(B,Z){for(var Y=Z;Y--;){var W=B[Y];if(W&&!W[0].ignore){for(;Y<Z-1;){var re=w(B[Y],B[Y+1]);B[Y]=re[0],B[Y+1]=re[1],Y++}return!0}}}(W,W.length)){Z||(Z=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var re=W.pop(),H=null;return re&&(H=Z.undoChanges(re,Y),this.$redoStack.push(re),this.$syncRev()),this.$fromUndo=!1,H}},B.prototype.redo=function(Z,Y){if(this.lastDeltas=null,Z||(Z=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var W=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function K(B,Z){for(var Y=0;Y<Z.length;Y++)for(var W=Z[Y],re=0;re<W.length;re++)j(B,W[re])})(this.$redoStack,W),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(k){k[0].id=++this.$maxRev},this)}var re=this.$redoStack.pop(),H=null;return re&&(H=Z.redoChanges(re,Y),this.$undoStack.push(re),this.$syncRev()),this.$fromUndo=!1,H},B.prototype.$syncRev=function(){var Z=this.$undoStack,Y=Z[Z.length-1],W=Y&&Y[0].id||0;this.$redoStackBaseRev=W,this.$rev=W},B.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},B.prototype.canUndo=function(){return this.$undoStack.length>0},B.prototype.canRedo=function(){return this.$redoStack.length>0},B.prototype.bookmark=function(Z){null==Z&&(Z=this.$rev),this.mark=Z},B.prototype.isAtBookmark=function(){return this.$rev===this.mark},B.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},B.prototype.fromJSON=function(Z){this.reset(),this.$undoStack=Z.$undoStack,this.$redoStack=Z.$redoStack},B.prototype.$prettyPrint=function(Z){return Z?g(Z):g(this.$undoStack)+"\n---\n"+g(this.$redoStack)},B}();S.prototype.hasUndo=S.prototype.canUndo,S.prototype.hasRedo=S.prototype.canRedo,S.prototype.isClean=S.prototype.isAtBookmark,S.prototype.markClean=S.prototype.bookmark;var M=L("./range").Range,u=M.comparePoints;function f(B){return{row:B.row,column:B.column}}function g(B){if(B=B||this,Array.isArray(B))return B.map(g).join("\n");var Z="";return B.action?(Z="insert"==B.action?"+":"-",Z+="["+B.lines+"]"):B.value&&(Z=Array.isArray(B.value)?B.value.map(h).join("\n"):h(B.value)),B.start&&(Z+=h(B)),(B.id||B.rev)&&(Z+="\t("+(B.id||B.rev)+")"),Z}function h(B){return B.start.row+":"+B.start.column+"=>"+B.end.row+":"+B.end.column}function _(B,Z){var Y="insert"==B.action,W="insert"==Z.action;if(Y&&W)if(u(Z.start,B.end)>=0)O(Z,B,-1);else{if(!(u(Z.start,B.start)<=0))return null;O(B,Z,1)}else if(Y&&!W)if(u(Z.start,B.end)>=0)O(Z,B,-1);else{if(!(u(Z.end,B.start)<=0))return null;O(B,Z,-1)}else if(!Y&&W)if(u(Z.start,B.start)>=0)O(Z,B,1);else{if(!(u(Z.start,B.start)<=0))return null;O(B,Z,1)}else if(!Y&&!W)if(u(Z.start,B.start)>=0)O(Z,B,1);else{if(!(u(Z.end,B.start)<=0))return null;O(B,Z,-1)}return[Z,B]}function w(B,Z){for(var Y=B.length;Y--;)for(var W=0;W<Z.length;W++)if(!_(B[Y],Z[W])){for(;Y<B.length;){for(;W--;)_(Z[W],B[Y]);W=Z.length,Y++}return[B,Z]}return B.selectionBefore=Z.selectionBefore=B.selectionAfter=Z.selectionAfter=null,[Z,B]}function D(B,Z){var Y="insert"==B.action,W="insert"==Z.action;if(Y&&W)u(B.start,Z.start)<0?O(Z,B,1):O(B,Z,1);else if(Y&&!W)u(B.start,Z.end)>=0?O(B,Z,-1):(u(B.start,Z.start)<=0||O(B,M.fromPoints(Z.start,B.start),-1),O(Z,B,1));else if(!Y&&W)u(Z.start,B.end)>=0?O(Z,B,-1):(u(Z.start,B.start)<=0||O(Z,M.fromPoints(B.start,Z.start),-1),O(B,Z,1));else if(!Y&&!W)if(u(Z.start,B.end)>=0)O(Z,B,-1);else{var re,H;if(!(u(Z.end,B.start)<=0))return u(B.start,Z.start)<0&&(re=B,B=U(B,Z.start)),u(B.end,Z.end)>0&&(H=U(B,Z.end)),P(Z.end,B.start,B.end,-1),H&&!re&&(B.lines=H.lines,B.start=H.start,B.end=H.end,H=B),[Z,re,H].filter(Boolean);O(B,Z,-1)}return[Z,B]}function O(B,Z,Y){P(B.start,Z.start,Z.end,Y),P(B.end,Z.start,Z.end,Y)}function P(B,Z,Y,W){B.row==(1==W?Z:Y).row&&(B.column+=W*(Y.column-Z.column)),B.row+=W*(Y.row-Z.row)}function U(B,Z){var Y=B.lines,W=B.end;B.end=f(Z);var re=B.end.row-B.start.row,H=Y.splice(re,Y.length),k=re?Z.column:Z.column-B.start.column;return Y.push(H[0].substring(0,k)),H[0]=H[0].substr(k),{start:f(Z),end:W,lines:H,action:B.action}}function j(B,Z){Z=function p(B){return{start:f(B.start),end:f(B.end),action:B.action,lines:B.lines.slice()}}(Z);for(var Y=B.length;Y--;){for(var W=B[Y],re=0;re<W.length;re++){var k=D(W[re],Z);Z=k[0],2!=k.length&&(k[2]?(W.splice(re+1,1,k[1],k[2]),re++):k[1]||(W.splice(re,1),re--))}W.length||B.splice(Y,1)}return B}I.UndoManager=S}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(L,I,$){"use strict";var S=L("../range").Range,x=function(){function M(u,m){this.foldData=u,Array.isArray(m)?this.folds=m:m=this.folds=[m];var d=m[m.length-1];this.range=new S(m[0].start.row,m[0].start.column,d.end.row,d.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(f){f.setFoldLine(this)},this)}return M.prototype.shiftRow=function(u){this.start.row+=u,this.end.row+=u,this.folds.forEach(function(m){m.start.row+=u,m.end.row+=u})},M.prototype.addFold=function(u){if(u.sameRow){if(u.start.row<this.startRow||u.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(u),this.folds.sort(function(m,d){return-m.range.compareEnd(d.start.row,d.start.column)}),this.range.compareEnd(u.start.row,u.start.column)>0?(this.end.row=u.end.row,this.end.column=u.end.column):this.range.compareStart(u.end.row,u.end.column)<0&&(this.start.row=u.start.row,this.start.column=u.start.column)}else if(u.start.row==this.end.row)this.folds.push(u),this.end.row=u.end.row,this.end.column=u.end.column;else{if(u.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(u),this.start.row=u.start.row,this.start.column=u.start.column}u.foldLine=this},M.prototype.containsRow=function(u){return u>=this.start.row&&u<=this.end.row},M.prototype.walk=function(u,m,d){var g,h,f=0,p=this.folds,w=!0;null==m&&(m=this.end.row,d=this.end.column);for(var D=0;D<p.length;D++){if(-1==(h=(g=p[D]).range.compareStart(m,d)))return void u(null,m,d,f,w);if(!u(null,g.start.row,g.start.column,f,w)&&u(g.placeholder,g.start.row,g.start.column,f)||0===h)return;w=!g.sameRow,f=g.end.column}u(null,m,d,f,w)},M.prototype.getNextFoldTo=function(u,m){for(var d,f,p=0;p<this.folds.length;p++){if(-1==(f=(d=this.folds[p]).range.compareEnd(u,m)))return{fold:d,kind:"after"};if(0===f)return{fold:d,kind:"inside"}}return null},M.prototype.addRemoveChars=function(u,m,d){var p,g,f=this.getNextFoldTo(u,m);if(f)if(p=f.fold,"inside"==f.kind&&p.start.column!=m&&p.start.row!=u)window.console&&window.console.log(u,m,p);else if(p.start.row==u){var h=(g=this.folds).indexOf(p);for(0===h&&(this.start.column+=d);h<g.length;h++){if((p=g[h]).start.column+=d,!p.sameRow)return;p.end.column+=d}this.end.column+=d}},M.prototype.split=function(u,m){var d=this.getNextFoldTo(u,m);if(!d||"inside"==d.kind)return null;var p=this.folds,g=this.foldData,h=p.indexOf(d.fold),_=p[h-1];this.end.row=_.end.row,this.end.column=_.end.column;var w=new M(g,p=p.splice(h,p.length-h));return g.splice(g.indexOf(this)+1,0,w),w},M.prototype.merge=function(u){for(var m=u.folds,d=0;d<m.length;d++)this.addFold(m[d]);var f=this.foldData;f.splice(f.indexOf(u),1)},M.prototype.toString=function(){var u=[this.range.toString()+": ["];return this.folds.forEach(function(m){u.push("  "+m.toString())}),u.push("]"),u.join("\n")},M.prototype.idxToPosition=function(u){for(var m=0,d=0;d<this.folds.length;d++){var f=this.folds[d];if((u-=f.start.column-m)<0)return{row:f.start.row,column:f.start.column+u};if((u-=f.placeholder.length)<0)return f.start;m=f.end.column}return{row:this.end.row,column:this.end.column+u}},M}();I.FoldLine=x}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(L,I,$){"use strict";var x=L("./range").Range.comparePoints,M=function(){function u(){this.ranges=[],this.$bias=1}return u.prototype.pointIndex=function(m,d,f){for(var p=this.ranges,g=f||0;g<p.length;g++){var h=p[g],_=x(m,h.end);if(!(_>0)){var w=x(m,h.start);return 0===_?d&&0!==w?-g-2:g:w>0||0===w&&!d?g:-g-1}}return-g-1},u.prototype.add=function(m){var d=!m.isEmpty(),f=this.pointIndex(m.start,d);f<0&&(f=-f-1);var p=this.pointIndex(m.end,d,f);return p<0?p=-p-1:p++,this.ranges.splice(f,p-f,m)},u.prototype.addList=function(m){for(var d=[],f=m.length;f--;)d.push.apply(d,this.add(m[f]));return d},u.prototype.substractPoint=function(m){var d=this.pointIndex(m);if(d>=0)return this.ranges.splice(d,1)},u.prototype.merge=function(){for(var p,m=[],d=this.ranges,f=(d=d.sort(function(_,w){return x(_.start,w.start)}))[0],g=1;g<d.length;g++){var h=x((p=f).end,(f=d[g]).start);h<0||0==h&&!p.isEmpty()&&!f.isEmpty()||(x(p.end,f.end)<0&&(p.end.row=f.end.row,p.end.column=f.end.column),d.splice(g,1),m.push(f),f=p,g--)}return this.ranges=d,m},u.prototype.contains=function(m,d){return this.pointIndex({row:m,column:d})>=0},u.prototype.containsPoint=function(m){return this.pointIndex(m)>=0},u.prototype.rangeAtPoint=function(m){var d=this.pointIndex(m);if(d>=0)return this.ranges[d]},u.prototype.clipRows=function(m,d){var f=this.ranges;if(f[0].start.row>d||f[f.length-1].start.row<m)return[];var p=this.pointIndex({row:m,column:0});p<0&&(p=-p-1);var g=this.pointIndex({row:d,column:0},p);g<0&&(g=-g-1);for(var h=[],_=p;_<g;_++)h.push(f[_]);return h},u.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},u.prototype.attach=function(m){this.session&&this.detach(),this.session=m,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},u.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},u.prototype.$onChange=function(m){for(var d=m.start,f=m.end,p=d.row,g=f.row,h=this.ranges,_=0,w=h.length;_<w&&!((D=h[_]).end.row>=p);_++);if("insert"==m.action){for(var O=g-p,P=-d.column+f.column;_<w&&!((D=h[_]).start.row>p);_++)if(D.start.row==p&&D.start.column>=d.column&&(D.start.column==d.column&&this.$bias<=0||(D.start.column+=P,D.start.row+=O)),D.end.row==p&&D.end.column>=d.column){if(D.end.column==d.column&&this.$bias<0)continue;D.end.column==d.column&&P>0&&_<w-1&&D.end.column>D.start.column&&D.end.column==h[_+1].start.column&&(D.end.column-=P),D.end.column+=P,D.end.row+=O}}else for(O=p-g,P=d.column-f.column;_<w&&!((D=h[_]).start.row>g);_++)D.end.row<g&&(p<D.end.row||p==D.end.row&&d.column<D.end.column)?(D.end.row=p,D.end.column=d.column):D.end.row==g?D.end.column<=f.column?(O||D.end.column>d.column)&&(D.end.column=d.column,D.end.row=d.row):(D.end.column+=P,D.end.row+=O):D.end.row>g&&(D.end.row+=O),D.start.row<g&&(p<D.start.row||p==D.start.row&&d.column<D.start.column)?(D.start.row=p,D.start.column=d.column):D.start.row==g?D.start.column<=f.column?(O||D.start.column>d.column)&&(D.start.column=d.column,D.start.row=d.row):(D.start.column+=P,D.start.row+=O):D.start.row>g&&(D.start.row+=O);if(0!=O&&_<w)for(;_<w;_++){var D;(D=h[_]).start.row+=O,D.end.row+=O}},u}();M.prototype.comparePoints=x,I.RangeList=M}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(L,I,$){"use strict";var S=this&&this.__extends||function(){var p=function(g,h){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(_[D]=w[D])})(g,h)};return function(g,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=g}p(g,h),g.prototype=null===h?Object.create(h):(_.prototype=h.prototype,new _)}}(),M=function(p){function g(h,_){var w=p.call(this)||this;return w.foldLine=null,w.placeholder=_,w.range=h,w.start=h.start,w.end=h.end,w.sameRow=h.start.row==h.end.row,w.subFolds=w.ranges=[],w}return S(g,p),g.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},g.prototype.setFoldLine=function(h){this.foldLine=h,this.subFolds.forEach(function(_){_.setFoldLine(h)})},g.prototype.clone=function(){var _=new g(this.range.clone(),this.placeholder);return this.subFolds.forEach(function(w){_.subFolds.push(w.clone())}),_.collapseChildren=this.collapseChildren,_},g.prototype.addSubFold=function(h){if(!this.range.isEqual(h)){!function m(p,g){u(p.start,g),u(p.end,g)}(h,this.start);for(var P=h.start.row,U=h.start.column,_=0,w=-1;_<this.subFolds.length&&1==(w=this.subFolds[_].range.compare(P,U));_++);var D=this.subFolds[_],O=0;if(0==w){if(D.range.containsRange(h))return D.addSubFold(h);O=1}P=h.range.end.row,U=h.range.end.column;var j=_;for(w=-1;j<this.subFolds.length&&1==(w=this.subFolds[j].range.compare(P,U));j++);0==w&&j++;for(var K=this.subFolds.splice(_,j-_,h),B=0==w?K.length-1:K.length,Z=O;Z<B;Z++)h.addSubFold(K[Z]);return h.setFoldLine(this.foldLine),h}},g.prototype.restoreRange=function(h){return function f(p,g){d(p.start,g),d(p.end,g)}(h,this.start)},g}(L("../range_list").RangeList);function u(p,g){p.row-=g.row,0==p.row&&(p.column-=g.column)}function d(p,g){0==p.row&&(p.column+=g.column),p.row+=g.row}I.Fold=M}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(L,I,$){"use strict";var S=L("../range").Range,x=L("./fold_line").FoldLine,M=L("./fold").Fold,u=L("../token_iterator").TokenIterator,m=L("../mouse/mouse_event").MouseEvent;I.Folding=function d(){this.getFoldAt=function(f,p,g){var h=this.getFoldLine(f);if(!h)return null;for(var _=h.folds,w=0;w<_.length;w++){var D=_[w].range;if(D.contains(f,p)){if(1==g&&D.isEnd(f,p)&&!D.isEmpty())continue;if(-1==g&&D.isStart(f,p)&&!D.isEmpty())continue;return _[w]}}},this.getFoldsInRange=function(f){var p=f.start,g=f.end,h=this.$foldData,_=[];p.column+=1,g.column-=1;for(var w=0;w<h.length;w++){var D=h[w].range.compareRange(f);if(2!=D){if(-2==D)break;for(var O=h[w].folds,P=0;P<O.length;P++){var U=O[P];if(-2==(D=U.range.compareRange(f)))break;if(2!=D){if(42==D)break;_.push(U)}}}}return p.column-=1,g.column+=1,_},this.getFoldsInRangeList=function(f){if(Array.isArray(f)){var p=[];f.forEach(function(g){p=p.concat(this.getFoldsInRange(g))},this)}else p=this.getFoldsInRange(f);return p},this.getAllFolds=function(){for(var f=[],p=this.$foldData,g=0;g<p.length;g++)for(var h=0;h<p[g].folds.length;h++)f.push(p[g].folds[h]);return f},this.getFoldStringAt=function(f,p,g,h){if(!(h=h||this.getFoldLine(f)))return null;for(var w,D,_={end:{column:0}},O=0;O<h.folds.length;O++){var P=(D=h.folds[O]).range.compareEnd(f,p);if(-1==P){w=this.getLine(D.start.row).substring(_.end.column,D.start.column);break}if(0===P)return null;_=D}return w||(w=this.getLine(D.start.row).substring(_.end.column)),-1==g?w.substring(0,p-_.end.column):1==g?w.substring(p-_.end.column):w},this.getFoldLine=function(f,p){var g=this.$foldData,h=0;for(p&&(h=g.indexOf(p)),-1==h&&(h=0);h<g.length;h++){var _=g[h];if(_.start.row<=f&&_.end.row>=f)return _;if(_.end.row>f)return null}return null},this.getNextFoldLine=function(f,p){var g=this.$foldData,h=0;for(p&&(h=g.indexOf(p)),-1==h&&(h=0);h<g.length;h++){var _=g[h];if(_.end.row>=f)return _}return null},this.getFoldedRowCount=function(f,p){for(var g=this.$foldData,h=p-f+1,_=0;_<g.length;_++){var w=g[_],D=w.end.row,O=w.start.row;if(D>=p){O<p&&(O>=f?h-=p-O:h=0);break}D>=f&&(h-=O>=f?D-O:D-f+1)}return h},this.$addFoldLine=function(f){return this.$foldData.push(f),this.$foldData.sort(function(p,g){return p.start.row-g.start.row}),f},this.addFold=function(f,p){var _,g=this.$foldData,h=!1;f instanceof M?_=f:(_=new M(p,f)).collapseChildren=p.collapseChildren,this.$clipRangeToDocument(_.range);var w=_.start.row,D=_.start.column,O=_.end.row,P=_.end.column,U=this.getFoldAt(w,D,1),j=this.getFoldAt(O,P,-1);if(U&&j==U)return U.addSubFold(_);U&&!U.range.isStart(w,D)&&this.removeFold(U),j&&!j.range.isEnd(O,P)&&this.removeFold(j);var K=this.getFoldsInRange(_.range);K.length>0&&(this.removeFolds(K),_.collapseChildren||K.forEach(function(W){_.addSubFold(W)}));for(var B=0;B<g.length;B++){var Z=g[B];if(O==Z.start.row){Z.addFold(_),h=!0;break}if(w==Z.end.row){if(Z.addFold(_),h=!0,!_.sameRow){var Y=g[B+1];if(Y&&Y.start.row==O){Z.merge(Y);break}}break}if(O<=Z.start.row)break}return h||(Z=this.$addFoldLine(new x(this.$foldData,_))),this.$useWrapMode?this.$updateWrapData(Z.start.row,Z.start.row):this.$updateRowLengthCache(Z.start.row,Z.start.row),this.$modified=!0,this._signal("changeFold",{data:_,action:"add"}),_},this.addFolds=function(f){f.forEach(function(p){this.addFold(p)},this)},this.removeFold=function(f){var p=f.foldLine,g=p.start.row,h=p.end.row,_=this.$foldData,w=p.folds;if(1==w.length)_.splice(_.indexOf(p),1);else if(p.range.isEnd(f.end.row,f.end.column))w.pop(),p.end.row=w[w.length-1].end.row,p.end.column=w[w.length-1].end.column;else if(p.range.isStart(f.start.row,f.start.column))w.shift(),p.start.row=w[0].start.row,p.start.column=w[0].start.column;else if(f.sameRow)w.splice(w.indexOf(f),1);else{var D=p.split(f.start.row,f.start.column);(w=D.folds).shift(),D.start.row=w[0].start.row,D.start.column=w[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(g,h):this.$updateRowLengthCache(g,h)),this.$modified=!0,this._signal("changeFold",{data:f,action:"remove"})},this.removeFolds=function(f){for(var p=[],g=0;g<f.length;g++)p.push(f[g]);p.forEach(function(h){this.removeFold(h)},this),this.$modified=!0},this.expandFold=function(f){this.removeFold(f),f.subFolds.forEach(function(p){f.restoreRange(p),this.addFold(p)},this),f.collapseChildren>0&&this.foldAll(f.start.row+1,f.end.row,f.collapseChildren-1),f.subFolds=[]},this.expandFolds=function(f){f.forEach(function(p){this.expandFold(p)},this)},this.unfold=function(f,p){var g,h;if(null==f)g=new S(0,0,this.getLength(),0),null==p&&(p=!0);else if("number"==typeof f)g=new S(f,0,f,this.getLine(f).length);else if("row"in f)g=S.fromPoints(f,f);else{if(Array.isArray(f))return h=[],f.forEach(function(w){h=h.concat(this.unfold(w))},this),h;g=f}for(var _=h=this.getFoldsInRangeList(g);1==h.length&&S.comparePoints(h[0].start,g.start)<0&&S.comparePoints(h[0].end,g.end)>0;)this.expandFolds(h),h=this.getFoldsInRangeList(g);if(0!=p?this.removeFolds(h):this.expandFolds(h),_.length)return _},this.isRowFolded=function(f,p){return!!this.getFoldLine(f,p)},this.getRowFoldEnd=function(f,p){var g=this.getFoldLine(f,p);return g?g.end.row:f},this.getRowFoldStart=function(f,p){var g=this.getFoldLine(f,p);return g?g.start.row:f},this.getFoldDisplayLine=function(f,p,g,h,_){null==h&&(h=f.start.row),null==_&&(_=0),null==p&&(p=f.end.row),null==g&&(g=this.getLine(p).length);var w=this.doc,D="";return f.walk(function(O,P,U,j){if(!(P<h)){if(P==h){if(U<_)return;j=Math.max(_,j)}D+=null!=O?O:w.getLine(P).substring(j,U)}},p,g),D},this.getDisplayLine=function(f,p,g,h){var w,_=this.getFoldLine(f);return _?this.getFoldDisplayLine(_,f,p,g,h):(w=this.doc.getLine(f)).substring(h||0,p||w.length)},this.$cloneFoldData=function(){var f=[];return f=this.$foldData.map(function(p){var g=p.folds.map(function(h){return h.clone()});return new x(f,g)})},this.toggleFold=function(f){var h,_,g=this.selection.getRange();if(g.isEmpty()){var w=g.start;if(h=this.getFoldAt(w.row,w.column))return void this.expandFold(h);(_=this.findMatchingBracket(w))?1==g.comparePoint(_)?g.end=_:(g.start=_,g.start.column++,g.end.column--):(_=this.findMatchingBracket({row:w.row,column:w.column+1}))?(1==g.comparePoint(_)?g.end=_:g.start=_,g.start.column++):g=this.getCommentFoldRange(w.row,w.column)||g}else{var D=this.getFoldsInRange(g);if(f&&D.length)return void this.expandFolds(D);1==D.length&&(h=D[0])}if(h||(h=this.getFoldAt(g.start.row,g.start.column)),h&&h.range.toString()==g.toString())this.expandFold(h);else{var O="...";if(!g.isMultiLine()){if((O=this.getTextRange(g)).length<4)return;O=O.trim().substring(0,2)+".."}this.addFold(O,g)}},this.getCommentFoldRange=function(f,p,g){var h=new u(this,f,p),_=h.getCurrentToken(),w=_&&_.type;if(_&&/^comment|string/.test(w)){"comment"==(w=w.match(/comment|string/)[0])&&(w+="|doc-start|\\.doc");var D=new RegExp(w),O=new S;if(1!=g){do{_=h.stepBackward()}while(_&&D.test(_.type));_=h.stepForward()}O.start.row=h.getCurrentTokenRow(),O.start.column=h.getCurrentTokenColumn()+_.value.length,h=new u(this,f,p);var P=this.getState(h.$row);if(-1!=g){var U=-1;do{if(_=h.stepForward(),-1==U){var j=this.getState(h.$row);P.toString()!==j.toString()&&(U=h.$row)}else if(h.$row>U)break}while(_&&D.test(_.type));_=h.stepBackward()}else _=h.getCurrentToken();return O.end.row=h.getCurrentTokenRow(),O.end.column=h.getCurrentTokenColumn(),O}},this.foldAll=function(f,p,g,h){null==g&&(g=1e5);var _=this.foldWidgets;if(_){p=p||this.getLength();for(var w=f=f||0;w<p;w++)if(null==_[w]&&(_[w]=this.getFoldWidget(w)),"start"==_[w]&&(!h||h(w))){var D=this.getFoldWidgetRange(w);D&&D.isMultiLine()&&D.end.row<=p&&D.start.row>=f&&(w=D.end.row,D.collapseChildren=g,this.addFold("...",D))}}},this.foldToLevel=function(f){for(this.foldAll();f-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var f=this;this.foldAll(null,null,null,function(p){for(var g=f.getTokens(p),h=0;h<g.length;h++){var _=g[h];if("text"!=_.type||!/^\s+$/.test(_.value))return!!/comment/.test(_.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(f){if(!this.$foldStyles[f])throw new Error("invalid fold style: "+f+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=f){this.$foldStyle=f,"manual"==f&&this.unfold();var p=this.$foldMode;this.$setFolding(null),this.$setFolding(p)}},this.$setFolding=function(f){if(this.$foldMode!=f){if(this.$foldMode=f,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!f||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=f.getFoldWidget.bind(f,this,this.$foldStyle),this.getFoldWidgetRange=f.getFoldWidgetRange.bind(f,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(f,p){var g=this.foldWidgets;if(!g||p&&g[f])return{};for(var _,h=f-1;h>=0;){var w=g[h];if(null==w&&(w=g[h]=this.getFoldWidget(h)),"start"==w){var D=this.getFoldWidgetRange(h);if(_||(_=D),D&&D.end.row>=f)break}h--}return{range:-1!==h&&D,firstRange:_}},this.onFoldWidgetClick=function(f,p){if(p instanceof m&&(p=p.domEvent),!this.$toggleFoldWidget(f,{children:p.shiftKey,all:p.ctrlKey||p.metaKey,siblings:p.altKey})){var _=p.target||p.srcElement;_&&/ace_fold-widget/.test(_.className)&&(_.className+=" ace_invalid")}},this.$toggleFoldWidget=function(f,p){if(this.getFoldWidget){var g=this.getFoldWidget(f),h=this.getLine(f),_="end"===g?-1:1,w=this.getFoldAt(f,-1===_?0:h.length,_);if(w)return p.children||p.all?this.removeFold(w):this.expandFold(w),w;var D=this.getFoldWidgetRange(f,!0);if(D&&!D.isMultiLine()&&(w=this.getFoldAt(D.start.row,D.start.column,1))&&D.isEqual(w.range))return this.removeFold(w),w;if(p.siblings){var O=this.getParentFoldRangeData(f);if(O.range)var P=O.range.start.row+1,U=O.range.end.row;this.foldAll(P,U,p.all?1e4:0)}else p.children?(U=D?D.end.row:this.getLength(),this.foldAll(f+1,U,p.all?1e4:0)):D&&(p.all&&(D.collapseChildren=1e4),this.addFold("...",D));return D}},this.toggleFoldWidget=function(f){var p=this.selection.getCursor().row;p=this.getRowFoldStart(p);var g=this.$toggleFoldWidget(p,{});if(!g){var h=this.getParentFoldRangeData(p,!0);if(g=h.range||h.firstRange){var _=this.getFoldAt(p=g.start.row,this.getLine(p).length,1);_?this.removeFold(_):this.addFold("...",g)}}},this.updateFoldWidgets=function(f){var p=f.start.row,g=f.end.row-p;if(0===g)this.foldWidgets[p]=null;else if("remove"==f.action)this.foldWidgets.splice(p,g+1,null);else{var h=Array(g+1);h.unshift(p,1),this.foldWidgets.splice.apply(this.foldWidgets,h)}},this.tokenizerUpdateFoldWidgets=function(f){var p=f.data;p.first!=p.last&&this.foldWidgets.length>p.first&&this.foldWidgets.splice(p.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(L,I,$){"use strict";var S=L("../token_iterator").TokenIterator,x=L("../range").Range;I.BracketMatch=function M(){this.findMatchingBracket=function(u,m){if(0==u.column)return null;var d=m||this.getLine(u.row).charAt(u.column-1);if(""==d)return null;var f=d.match(/([\(\[\{])|([\)\]\}])/);return f?f[1]?this.$findClosingBracket(f[1],u):this.$findOpeningBracket(f[2],u):null},this.getBracketRange=function(u){var f,m=this.getLine(u.row),d=!0,p=m.charAt(u.column-1),g=p&&p.match(/([\(\[\{])|([\)\]\}])/);if(g||(p=m.charAt(u.column),u={row:u.row,column:u.column+1},g=p&&p.match(/([\(\[\{])|([\)\]\}])/),d=!1),!g)return null;if(g[1]){if(!(h=this.$findClosingBracket(g[1],u)))return null;f=x.fromPoints(u,h),d||(f.end.column++,f.start.column--),f.cursor=f.end}else{var h;if(!(h=this.$findOpeningBracket(g[2],u)))return null;f=x.fromPoints(h,u),d||(f.start.column++,f.end.column--),f.cursor=f.start}return f},this.getMatchingBracketRanges=function(u,m){var d=this.getLine(u.row),f=/([\(\[\{])|([\)\]\}])/,p=!m&&d.charAt(u.column-1),g=p&&p.match(f);if(g||(p=(void 0===m||m)&&d.charAt(u.column),u={row:u.row,column:u.column+1},g=p&&p.match(f)),!g)return null;var h=new x(u.row,u.column-1,u.row,u.column),_=g[1]?this.$findClosingBracket(g[1],u):this.$findOpeningBracket(g[2],u);return _?[h,new x(_.row,_.column,_.row,_.column+1)]:[h]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(u,m,d){var f=this.$brackets[u],p=1,g=new S(this,m.row,m.column),h=g.getCurrentToken();if(h||(h=g.stepForward()),h){d||(d=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var _=m.column-g.getCurrentTokenColumn()-2,w=h.value;;){for(;_>=0;){var D=w.charAt(_);if(D==f){if(0==(p-=1))return{row:g.getCurrentTokenRow(),column:_+g.getCurrentTokenColumn()}}else D==u&&(p+=1);_-=1}do{h=g.stepBackward()}while(h&&!d.test(h.type));if(null==h)break;_=(w=h.value).length-1}return null}},this.$findClosingBracket=function(u,m,d){var f=this.$brackets[u],p=1,g=new S(this,m.row,m.column),h=g.getCurrentToken();if(h||(h=g.stepForward()),h){d||(d=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var _=m.column-g.getCurrentTokenColumn();;){for(var w=h.value,D=w.length;_<D;){var O=w.charAt(_);if(O==f){if(0==(p-=1))return{row:g.getCurrentTokenRow(),column:_+g.getCurrentTokenColumn()}}else O==u&&(p+=1);_+=1}do{h=g.stepForward()}while(h&&!d.test(h.type));if(null==h)break;_=0}return null}},this.getMatchingTags=function(u){var m=new S(this,u.row,u.column),d=this.$findTagName(m);if(d)return"<"===m.stepBackward().value?this.$findClosingTag(m,d):this.$findOpeningTag(m,d)},this.$findTagName=function(u){var m=u.getCurrentToken(),d=!1,f=!1;if(m&&-1===m.type.indexOf("tag-name"))do{(m=f?u.stepBackward():u.stepForward())&&("/>"===m.value?f=!0:-1!==m.type.indexOf("tag-name")&&(d=!0))}while(m&&!d);return m},this.$findClosingTag=function(u,m){var d,f=m.value,p=m.value,g=0,h=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);m=u.stepForward();var _=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+m.value.length),w=!1;do{if(-1!==(d=m).type.indexOf("tag-close")&&!w){var D=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);w=!0}if(m=u.stepForward())if(">"!==m.value||w||(D=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1),w=!0),-1!==m.type.indexOf("tag-name")){if(p===(f=m.value))if("<"===d.value)g++;else if("</"===d.value&&--g<0){u.stepBackward();var O=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+2);m=u.stepForward();var P=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+m.value.length);if(-1===m.type.indexOf("tag-close")&&(m=u.stepForward()),!m||">"!==m.value)return;var U=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1)}}else p===f&&"/>"===m.value&&--g<0&&(U=P=O=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+2),D=new x(_.end.row,_.end.column,_.end.row,_.end.column+1))}while(m&&g>=0);if(h&&D&&O&&U&&_&&P)return{openTag:new x(h.start.row,h.start.column,D.end.row,D.end.column),closeTag:new x(O.start.row,O.start.column,U.end.row,U.end.column),openTagName:_,closeTagName:P}},this.$findOpeningTag=function(u,m){var d=u.getCurrentToken(),f=m.value,p=0,g=u.getCurrentTokenRow(),h=u.getCurrentTokenColumn(),_=h+2,w=new x(g,h,g,_);u.stepForward();var D=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+m.value.length);if(-1===m.type.indexOf("tag-close")&&(m=u.stepForward()),m&&">"===m.value){var O=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);u.stepBackward(),u.stepBackward();do{if(m=d,g=u.getCurrentTokenRow(),_=(h=u.getCurrentTokenColumn())+m.value.length,d=u.stepBackward(),m)if(-1!==m.type.indexOf("tag-name")){if(f===m.value)if("<"===d.value){if(++p>0){var P=new x(g,h,g,_),U=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);do{m=u.stepForward()}while(m&&">"!==m.value);var j=new x(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1)}}else"</"===d.value&&p--}else if("/>"===m.value){for(var K=0,B=d;B;){if(-1!==B.type.indexOf("tag-name")&&B.value===f){p--;break}if("<"===B.value)break;B=u.stepBackward(),K++}for(var Z=0;Z<K;Z++)u.stepForward()}}while(d&&p<=0);if(U&&j&&w&&O&&P&&D)return{openTag:new x(U.start.row,U.start.column,j.end.row,j.end.column),closeTag:new x(w.start.row,w.start.column,O.end.row,O.end.column),openTagName:P,closeTagName:D}}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(L,I,$){"use strict";var S=L("./lib/oop"),x=L("./lib/lang"),M=L("./bidihandler").BidiHandler,u=L("./config"),m=L("./lib/event_emitter").EventEmitter,d=L("./selection").Selection,f=L("./mode/text").Mode,p=L("./range").Range,g=L("./line_widgets").LineWidgets,h=L("./document").Document,_=L("./background_tokenizer").BackgroundTokenizer,w=L("./search_highlight").SearchHighlight,D=L("./undomanager").UndoManager,O=function(){function H(k,F){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++H.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new _((new f).getTokenizer(),this);var R=this;this.bgTokenizer.on("update",function(ne){R._signal("tokenizerUpdate",ne)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),("object"!=typeof k||!k.getLine)&&(k=new h(k)),this.setDocument(k),this.selection=new d(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new M(this),u.resetOptions(this),this.setMode(F),u._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return H.prototype.$initOperationListeners=function(){var k=this;this.curOp=null,this.on("change",function(){k.curOp||(k.startOperation(),k.curOp.selectionBefore=k.$lastSel),k.curOp.docChanged=!0},!0),this.on("changeSelection",function(){k.curOp||(k.startOperation(),k.curOp.selectionBefore=k.$lastSel),k.curOp.selectionChanged=!0},!0),this.$operationResetTimer=x.delayedCall(this.endOperation.bind(this,!0))},H.prototype.startOperation=function(k){if(this.curOp){if(!k||this.curOp.command)return;this.prevOp=this.curOp}k||(k={}),this.$operationResetTimer.schedule(),this.curOp={command:k.command||{},args:k.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",k)},H.prototype.endOperation=function(k){if(this.curOp){if(k&&!1===k.returnValue)return this.curOp=null,void this._signal("endOperation",k);if(1==k&&this.curOp.command&&"mouse"==this.curOp.command.name)return;var F=this.selection.toJSON();this.curOp.selectionAfter=F,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(F),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",k)}},H.prototype.setDocument=function(k){this.doc&&this.doc.off("change",this.$onChange),this.doc=k,k.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},H.prototype.getDocument=function(){return this.doc},Object.defineProperty(H.prototype,"widgetManager",{get:function(){var k=new g(this);return this.widgetManager=k,this.$editor&&k.attach(this.$editor),k},set:function(k){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:k})},enumerable:!1,configurable:!0}),H.prototype.$resetRowCache=function(k){if(!k)return this.$docRowCache=[],void(this.$screenRowCache=[]);var F=this.$docRowCache.length,R=this.$getRowCacheIndex(this.$docRowCache,k)+1;F>R&&(this.$docRowCache.splice(R,F),this.$screenRowCache.splice(R,F))},H.prototype.$getRowCacheIndex=function(k,F){for(var R=0,ne=k.length-1;R<=ne;){var te=R+ne>>1,ce=k[te];if(F>ce)R=te+1;else{if(!(F<ce))return te;ne=te-1}}return R-1},H.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},H.prototype.onChangeFold=function(k){this.$resetRowCache(k.data.start.row)},H.prototype.onChange=function(k){this.$modified=!0,this.$bidiHandler.onChange(k),this.$resetRowCache(k.start.row);var F=this.$updateInternalDataOnChange(k);!this.$fromUndo&&this.$undoManager&&(F&&F.length&&(this.$undoManager.add({action:"removeFolds",folds:F},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(k,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(k),this._signal("change",k)},H.prototype.onSelectionChange=function(){this._signal("changeSelection")},H.prototype.setValue=function(k){this.doc.setValue(k),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},H.fromJSON=function(k){"string"==typeof k&&(k=JSON.parse(k));var F=new D;F.$undoStack=k.history.undo,F.$redoStack=k.history.redo,F.mark=k.history.mark,F.$rev=k.history.rev;var R=new H(k.value);return k.folds.forEach(function(ne){R.addFold("...",p.fromPoints(ne.start,ne.end))}),R.setAnnotations(k.annotations),R.setBreakpoints(k.breakpoints),R.setMode(k.mode),R.setScrollLeft(k.scrollLeft),R.setScrollTop(k.scrollTop),R.setUndoManager(F),R.selection.fromJSON(k.selection),R},H.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(k){return k.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},H.prototype.toString=function(){return this.doc.getValue()},H.prototype.getSelection=function(){return this.selection},H.prototype.getState=function(k){return this.bgTokenizer.getState(k)},H.prototype.getTokens=function(k){return this.bgTokenizer.getTokens(k)},H.prototype.getTokenAt=function(k,F){var ne,R=this.bgTokenizer.getTokens(k),te=0;if(null==F){var ce=R.length-1;te=this.getLine(k).length}else for(ce=0;ce<R.length&&!((te+=R[ce].value.length)>=F);ce++);return(ne=R[ce])?(ne.index=ce,ne.start=te-ne.value.length,ne):null},H.prototype.setUndoManager=function(k){if(this.$undoManager=k,this.$informUndoManager&&this.$informUndoManager.cancel(),k){var F=this;k.addSession(this),this.$syncInformUndoManager=function(){F.$informUndoManager.cancel(),F.mergeUndoDeltas=!1},this.$informUndoManager=x.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},H.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},H.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},H.prototype.getTabString=function(){return this.getUseSoftTabs()?x.stringRepeat(" ",this.getTabSize()):"\t"},H.prototype.setUseSoftTabs=function(k){this.setOption("useSoftTabs",k)},H.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},H.prototype.setTabSize=function(k){this.setOption("tabSize",k)},H.prototype.getTabSize=function(){return this.$tabSize},H.prototype.isTabStop=function(k){return this.$useSoftTabs&&k.column%this.$tabSize==0},H.prototype.setNavigateWithinSoftTabs=function(k){this.setOption("navigateWithinSoftTabs",k)},H.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},H.prototype.setOverwrite=function(k){this.setOption("overwrite",k)},H.prototype.getOverwrite=function(){return this.$overwrite},H.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},H.prototype.addGutterDecoration=function(k,F){this.$decorations[k]||(this.$decorations[k]=""),this.$decorations[k]+=" "+F,this._signal("changeBreakpoint",{})},H.prototype.removeGutterDecoration=function(k,F){this.$decorations[k]=(this.$decorations[k]||"").replace(" "+F,""),this._signal("changeBreakpoint",{})},H.prototype.getBreakpoints=function(){return this.$breakpoints},H.prototype.setBreakpoints=function(k){this.$breakpoints=[];for(var F=0;F<k.length;F++)this.$breakpoints[k[F]]="ace_breakpoint";this._signal("changeBreakpoint",{})},H.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},H.prototype.setBreakpoint=function(k,F){void 0===F&&(F="ace_breakpoint"),F?this.$breakpoints[k]=F:delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},H.prototype.clearBreakpoint=function(k){delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},H.prototype.addMarker=function(k,F,R,ne){var te=this.$markerId++,ce={range:k,type:R||"line",renderer:"function"==typeof R?R:null,clazz:F,inFront:!!ne,id:te};return ne?(this.$frontMarkers[te]=ce,this._signal("changeFrontMarker")):(this.$backMarkers[te]=ce,this._signal("changeBackMarker")),te},H.prototype.addDynamicMarker=function(k,F){if(k.update){var R=this.$markerId++;return k.id=R,k.inFront=!!F,F?(this.$frontMarkers[R]=k,this._signal("changeFrontMarker")):(this.$backMarkers[R]=k,this._signal("changeBackMarker")),k}},H.prototype.removeMarker=function(k){var F=this.$frontMarkers[k]||this.$backMarkers[k];F&&(delete(F.inFront?this.$frontMarkers:this.$backMarkers)[k],this._signal(F.inFront?"changeFrontMarker":"changeBackMarker"))},H.prototype.getMarkers=function(k){return k?this.$frontMarkers:this.$backMarkers},H.prototype.highlight=function(k){if(!this.$searchHighlight){var F=new w(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(F)}this.$searchHighlight.setRegexp(k)},H.prototype.highlightLines=function(k,F,R,ne){"number"!=typeof F&&(R=F,F=k),R||(R="ace_step");var te=new p(k,0,F,1/0);return te.id=this.addMarker(te,R,"fullLine",ne),te},H.prototype.setAnnotations=function(k){this.$annotations=k,this._signal("changeAnnotation",{})},H.prototype.getAnnotations=function(){return this.$annotations||[]},H.prototype.clearAnnotations=function(){this.setAnnotations([])},H.prototype.$detectNewLine=function(k){var F=k.match(/^.*?(\r?\n)/m);this.$autoNewLine=F?F[1]:"\n"},H.prototype.getWordRange=function(k,F){var R=this.getLine(k),ne=!1;if(F>0&&(ne=!!R.charAt(F-1).match(this.tokenRe)),ne||(ne=!!R.charAt(F).match(this.tokenRe)),ne)var te=this.tokenRe;else te=/^\s+$/.test(R.slice(F-1,F+1))?/\s/:this.nonTokenRe;var ce=F;if(ce>0){do{ce--}while(ce>=0&&R.charAt(ce).match(te));ce++}for(var fe=F;fe<R.length&&R.charAt(fe).match(te);)fe++;return new p(k,ce,k,fe)},H.prototype.getAWordRange=function(k,F){for(var R=this.getWordRange(k,F),ne=this.getLine(R.end.row);ne.charAt(R.end.column).match(/[ \t]/);)R.end.column+=1;return R},H.prototype.setNewLineMode=function(k){this.doc.setNewLineMode(k)},H.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},H.prototype.setUseWorker=function(k){this.setOption("useWorker",k)},H.prototype.getUseWorker=function(){return this.$useWorker},H.prototype.onReloadTokenizer=function(k){this.bgTokenizer.start(k.data.first),this._signal("tokenizerUpdate",k)},H.prototype.setMode=function(k,F){if(k&&"object"==typeof k){if(k.getTokenizer)return this.$onChangeMode(k);var R=k,ne=k.path}else ne=k||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new f),this.$modes[ne]&&!R)return this.$onChangeMode(this.$modes[ne]),void(F&&F());this.$modeId=ne,u.loadModule(["mode",ne],function(te){if(this.$modeId!==ne)return F&&F();this.$modes[ne]&&!R?this.$onChangeMode(this.$modes[ne]):te&&te.Mode&&(te=new te.Mode(R),R||(this.$modes[ne]=te,te.$id=ne),this.$onChangeMode(te)),F&&F()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},H.prototype.$onChangeMode=function(k,F){if(F||(this.$modeId=k.$id),this.$mode!==k){var R=this.$mode;this.$mode=k,this.$stopWorker(),this.$useWorker&&this.$startWorker();var ne=k.getTokenizer();if(void 0!==ne.on){var te=this.onReloadTokenizer.bind(this);ne.on("update",te)}this.bgTokenizer.setTokenizer(ne),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=k.tokenRe,this.nonTokenRe=k.nonTokenRe,F||(k.attachToSession&&k.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(k.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:R,mode:k}))}},H.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},H.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(k){u.warn("Could not load worker",k),this.$worker=null}},H.prototype.getMode=function(){return this.$mode},H.prototype.setScrollTop=function(k){this.$scrollTop===k||isNaN(k)||(this.$scrollTop=k,this._signal("changeScrollTop",k))},H.prototype.getScrollTop=function(){return this.$scrollTop},H.prototype.setScrollLeft=function(k){this.$scrollLeft===k||isNaN(k)||(this.$scrollLeft=k,this._signal("changeScrollLeft",k))},H.prototype.getScrollLeft=function(){return this.$scrollLeft},H.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},H.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var k=0;return this.lineWidgets.forEach(function(F){F&&F.screenWidth>k&&(k=F.screenWidth)}),this.lineWidgetWidth=k},H.prototype.$computeWidth=function(k){if(this.$modified||k){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var F=this.doc.getAllLines(),R=this.$rowLengthCache,ne=0,te=0,ce=this.$foldData[te],fe=ce?ce.start.row:1/0,me=F.length,ue=0;ue<me;ue++){if(ue>fe){if((ue=ce.end.row+1)>=me)break;fe=(ce=this.$foldData[te++])?ce.start.row:1/0}null==R[ue]&&(R[ue]=this.$getStringScreenWidth(F[ue])[0]),R[ue]>ne&&(ne=R[ue])}this.screenWidth=ne}},H.prototype.getLine=function(k){return this.doc.getLine(k)},H.prototype.getLines=function(k,F){return this.doc.getLines(k,F)},H.prototype.getLength=function(){return this.doc.getLength()},H.prototype.getTextRange=function(k){return this.doc.getTextRange(k||this.selection.getRange())},H.prototype.insert=function(k,F){return this.doc.insert(k,F)},H.prototype.remove=function(k){return this.doc.remove(k)},H.prototype.removeFullLines=function(k,F){return this.doc.removeFullLines(k,F)},H.prototype.undoChanges=function(k,F){if(k.length){this.$fromUndo=!0;for(var R=k.length-1;-1!=R;R--){var ne=k[R];"insert"==ne.action||"remove"==ne.action?this.doc.revertDelta(ne):ne.folds&&this.addFolds(ne.folds)}!F&&this.$undoSelect&&(k.selectionBefore?this.selection.fromJSON(k.selectionBefore):this.selection.setRange(this.$getUndoSelection(k,!0))),this.$fromUndo=!1}},H.prototype.redoChanges=function(k,F){if(k.length){this.$fromUndo=!0;for(var R=0;R<k.length;R++){var ne=k[R];("insert"==ne.action||"remove"==ne.action)&&this.doc.$safeApplyDelta(ne)}!F&&this.$undoSelect&&(k.selectionAfter?this.selection.fromJSON(k.selectionAfter):this.selection.setRange(this.$getUndoSelection(k,!1))),this.$fromUndo=!1}},H.prototype.setUndoSelect=function(k){this.$undoSelect=k},H.prototype.$getUndoSelection=function(k,F){function R(me){return F?"insert"!==me.action:"insert"===me.action}for(var ne,te,ce=0;ce<k.length;ce++){var fe=k[ce];if(fe.start){if(!ne){ne=R(fe)?p.fromPoints(fe.start,fe.end):p.fromPoints(fe.start,fe.start);continue}R(fe)?(-1==ne.compare((te=fe.start).row,te.column)&&ne.setStart(te),1==ne.compare((te=fe.end).row,te.column)&&ne.setEnd(te)):-1==ne.compare((te=fe.start).row,te.column)&&(ne=p.fromPoints(fe.start,fe.start))}}return ne},H.prototype.replace=function(k,F){return this.doc.replace(k,F)},H.prototype.moveText=function(k,F,R){var ne=this.getTextRange(k),te=this.getFoldsInRange(k),ce=p.fromPoints(F,F);if(R||(this.remove(k),(me=(fe=k.start.row-k.end.row)?-k.end.column:k.start.column-k.end.column)&&(ce.start.row==k.end.row&&ce.start.column>k.end.column&&(ce.start.column+=me),ce.end.row==k.end.row&&ce.end.column>k.end.column&&(ce.end.column+=me)),fe&&ce.start.row>=k.end.row&&(ce.start.row+=fe,ce.end.row+=fe)),ce.end=this.insert(ce.start,ne),te.length){var ue=k.start,xe=ce.start,fe=xe.row-ue.row,me=xe.column-ue.column;this.addFolds(te.map(function(Ae){return(Ae=Ae.clone()).start.row==ue.row&&(Ae.start.column+=me),Ae.end.row==ue.row&&(Ae.end.column+=me),Ae.start.row+=fe,Ae.end.row+=fe,Ae}))}return ce},H.prototype.indentRows=function(k,F,R){R=R.replace(/\t/g,this.getTabString());for(var ne=k;ne<=F;ne++)this.doc.insertInLine({row:ne,column:0},R)},H.prototype.outdentRows=function(k){for(var F=k.collapseRows(),R=new p(0,0,0,0),ne=this.getTabSize(),te=F.start.row;te<=F.end.row;++te){var ce=this.getLine(te);R.start.row=te,R.end.row=te;for(var fe=0;fe<ne&&" "==ce.charAt(fe);++fe);fe<ne&&"\t"==ce.charAt(fe)?(R.start.column=fe,R.end.column=fe+1):(R.start.column=0,R.end.column=fe),this.remove(R)}},H.prototype.$moveLines=function(k,F,R){if(k=this.getRowFoldStart(k),F=this.getRowFoldEnd(F),R<0){if((ne=this.getRowFoldStart(k+R))<0)return 0;var te=ne-k}else if(R>0){var ne;if((ne=this.getRowFoldEnd(F+R))>this.doc.getLength()-1)return 0;te=ne-F}else k=this.$clipRowToDocument(k),te=(F=this.$clipRowToDocument(F))-k+1;var ce=new p(k,0,F,Number.MAX_VALUE),fe=this.getFoldsInRange(ce).map(function(ue){return(ue=ue.clone()).start.row+=te,ue.end.row+=te,ue}),me=0==R?this.doc.getLines(k,F):this.doc.removeFullLines(k,F);return this.doc.insertFullLines(k+te,me),fe.length&&this.addFolds(fe),te},H.prototype.moveLinesUp=function(k,F){return this.$moveLines(k,F,-1)},H.prototype.moveLinesDown=function(k,F){return this.$moveLines(k,F,1)},H.prototype.duplicateLines=function(k,F){return this.$moveLines(k,F,0)},H.prototype.$clipRowToDocument=function(k){return Math.max(0,Math.min(k,this.doc.getLength()-1))},H.prototype.$clipColumnToRow=function(k,F){return F<0?0:Math.min(this.doc.getLine(k).length,F)},H.prototype.$clipPositionToDocument=function(k,F){if(F=Math.max(0,F),k<0)k=0,F=0;else{var R=this.doc.getLength();k>=R?(k=R-1,F=this.doc.getLine(R-1).length):F=Math.min(this.doc.getLine(k).length,F)}return{row:k,column:F}},H.prototype.$clipRangeToDocument=function(k){k.start.row<0?(k.start.row=0,k.start.column=0):k.start.column=this.$clipColumnToRow(k.start.row,k.start.column);var F=this.doc.getLength()-1;return k.end.row>F?(k.end.row=F,k.end.column=this.doc.getLine(F).length):k.end.column=this.$clipColumnToRow(k.end.row,k.end.column),k},H.prototype.setUseWrapMode=function(k){if(k!=this.$useWrapMode){if(this.$useWrapMode=k,this.$modified=!0,this.$resetRowCache(0),k){var F=this.getLength();this.$wrapData=Array(F),this.$updateWrapData(0,F-1)}this._signal("changeWrapMode")}},H.prototype.getUseWrapMode=function(){return this.$useWrapMode},H.prototype.setWrapLimitRange=function(k,F){(this.$wrapLimitRange.min!==k||this.$wrapLimitRange.max!==F)&&(this.$wrapLimitRange={min:k,max:F},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},H.prototype.adjustWrapLimit=function(k,F){var R=this.$wrapLimitRange;R.max<0&&(R={min:F,max:F});var ne=this.$constrainWrapLimit(k,R.min,R.max);return ne!=this.$wrapLimit&&ne>1&&(this.$wrapLimit=ne,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},H.prototype.$constrainWrapLimit=function(k,F,R){return F&&(k=Math.max(F,k)),R&&(k=Math.min(R,k)),k},H.prototype.getWrapLimit=function(){return this.$wrapLimit},H.prototype.setWrapLimit=function(k){this.setWrapLimitRange(k,k)},H.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},H.prototype.$updateInternalDataOnChange=function(k){var F=this.$useWrapMode,R=k.action,ne=k.start,te=k.end,ce=ne.row,fe=te.row,me=fe-ce,ue=null;if(this.$updating=!0,0!=me)if("remove"===R){this[F?"$wrapData":"$rowLengthCache"].splice(ce,me);var xe=this.$foldData;ue=this.getFoldsInRange(k),this.removeFolds(ue);var Ne=0;if(ge=this.getFoldLine(te.row)){ge.addRemoveChars(te.row,te.column,ne.column-te.column),ge.shiftRow(-me);var Ae=this.getFoldLine(ce);Ae&&Ae!==ge&&(Ae.merge(ge),ge=Ae),Ne=xe.indexOf(ge)+1}for(;Ne<xe.length;Ne++)(ge=xe[Ne]).start.row>=te.row&&ge.shiftRow(-me);fe=ce}else{var He=Array(me);He.unshift(ce,0);var qe=F?this.$wrapData:this.$rowLengthCache;if(qe.splice.apply(qe,He),xe=this.$foldData,Ne=0,ge=this.getFoldLine(ce)){var Qe=ge.range.compareInside(ne.row,ne.column);0==Qe?(ge=ge.split(ne.row,ne.column))&&(ge.shiftRow(me),ge.addRemoveChars(fe,0,te.column-ne.column)):-1==Qe&&(ge.addRemoveChars(ce,0,te.column-ne.column),ge.shiftRow(me)),Ne=xe.indexOf(ge)+1}for(;Ne<xe.length;Ne++){var ge;(ge=xe[Ne]).start.row>=ce&&ge.shiftRow(me)}}else me=Math.abs(k.start.column-k.end.column),"remove"===R&&(ue=this.getFoldsInRange(k),this.removeFolds(ue),me=-me),(ge=this.getFoldLine(ce))&&ge.addRemoveChars(ce,ne.column,me);return F&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,F?this.$updateWrapData(ce,fe):this.$updateRowLengthCache(ce,fe),ue},H.prototype.$updateRowLengthCache=function(k,F){this.$rowLengthCache[k]=null,this.$rowLengthCache[F]=null},H.prototype.$updateWrapData=function(k,F){var fe,me,R=this.doc.getAllLines(),ne=this.getTabSize(),te=this.$wrapData,ce=this.$wrapLimit,ue=k;for(F=Math.min(F,R.length-1);ue<=F;)(me=this.getFoldLine(ue,me))?(fe=[],me.walk(function(xe,ge,Ne,Ae){var He;if(null!=xe){(He=this.$getDisplayTokens(xe,fe.length))[0]=j;for(var qe=1;qe<He.length;qe++)He[qe]=K}else He=this.$getDisplayTokens(R[ge].substring(Ae,Ne),fe.length);fe=fe.concat(He)}.bind(this),me.end.row,R[me.end.row].length+1),te[me.start.row]=this.$computeWrapSplits(fe,ce,ne),ue=me.end.row+1):(fe=this.$getDisplayTokens(R[ue]),te[ue]=this.$computeWrapSplits(fe,ce,ne),ue++)},H.prototype.$computeWrapSplits=function(k,F,R){if(0==k.length)return[];var ne=[],te=k.length,ce=0,fe=0,me=this.$wrapAsCode,ue=this.$indentedSoftWrap,xe=F<=Math.max(2*R,8)||!1===ue?0:Math.floor(F/2);function Ne(Qe){for(var ct=Qe-ce,ht=ce;ht<Qe;ht++){var ft=k[ht];(12===ft||2===ft)&&(ct-=1)}ne.length||(Ae=function ge(){var Qe=0;if(0===xe)return Qe;if(ue)for(var ct=0;ct<k.length;ct++){var ht=k[ct];if(ht==Z)Qe+=1;else{if(ht!=Y){if(ht==W)continue;break}Qe+=R}}return me&&!1!==ue&&(Qe+=R),Math.min(Qe,xe)}(),ne.indent=Ae),ne.push(fe+=ct),ce=Qe}for(var Ae=0;te-ce>F-Ae;){var He=ce+F-Ae;if(k[He-1]>=Z&&k[He]>=Z)Ne(He);else if(k[He]!=j&&k[He]!=K){for(var qe=Math.max(He-(F-(F>>2)),ce-1);He>qe&&k[He]<j;)He--;if(me){for(;He>qe&&k[He]<j;)He--;for(;He>qe&&k[He]==B;)He--}else for(;He>qe&&k[He]<Z;)He--;He>qe?Ne(++He):(k[He=ce+F]==U&&He--,Ne(He-Ae))}else{for(;He!=ce-1&&k[He]!=j;He--);if(He>ce){Ne(He);continue}for(He=ce+F;He<k.length&&k[He]==K;He++);if(He==k.length)break;Ne(He)}}return ne},H.prototype.$getDisplayTokens=function(k,F){var ne,R=[];F=F||0;for(var te=0;te<k.length;te++){var ce=k.charCodeAt(te);if(9==ce){ne=this.getScreenTabSize(R.length+F),R.push(Y);for(var fe=1;fe<ne;fe++)R.push(W)}else 32==ce?R.push(Z):ce>39&&ce<48||ce>57&&ce<64?R.push(B):ce>=4352&&re(ce)?R.push(P,U):R.push(P)}return R},H.prototype.$getStringScreenWidth=function(k,F,R){if(0==F)return[0,0];var ne,te;for(null==F&&(F=1/0),R=R||0,te=0;te<k.length&&(9==(ne=k.charCodeAt(te))?R+=this.getScreenTabSize(R):ne>=4352&&re(ne)?R+=2:R+=1,!(R>F));te++);return[R,te]},H.prototype.getRowLength=function(k){var F=1;return this.lineWidgets&&(F+=this.lineWidgets[k]&&this.lineWidgets[k].rowCount||0),this.$useWrapMode&&this.$wrapData[k]?this.$wrapData[k].length+F:F},H.prototype.getRowLineCount=function(k){return this.$useWrapMode&&this.$wrapData[k]?this.$wrapData[k].length+1:1},H.prototype.getRowWrapIndent=function(k){if(this.$useWrapMode){var F=this.screenToDocumentPosition(k,Number.MAX_VALUE),R=this.$wrapData[F.row];return R.length&&R[0]<F.column?R.indent:0}return 0},H.prototype.getScreenLastRowColumn=function(k){var F=this.screenToDocumentPosition(k,Number.MAX_VALUE);return this.documentToScreenColumn(F.row,F.column)},H.prototype.getDocumentLastRowColumn=function(k,F){var R=this.documentToScreenRow(k,F);return this.getScreenLastRowColumn(R)},H.prototype.getDocumentLastRowColumnPosition=function(k,F){var R=this.documentToScreenRow(k,F);return this.screenToDocumentPosition(R,Number.MAX_VALUE/10)},H.prototype.getRowSplitData=function(k){if(this.$useWrapMode)return this.$wrapData[k]},H.prototype.getScreenTabSize=function(k){return this.$tabSize-(k%this.$tabSize|0)},H.prototype.screenToDocumentRow=function(k,F){return this.screenToDocumentPosition(k,F).row},H.prototype.screenToDocumentColumn=function(k,F){return this.screenToDocumentPosition(k,F).column},H.prototype.screenToDocumentPosition=function(k,F,R){if(k<0)return{row:0,column:0};var ne,fe,te=0,ce=0,me=0,ue=0,xe=this.$screenRowCache,ge=this.$getRowCacheIndex(xe,k),Ne=xe.length;if(Ne&&ge>=0){me=xe[ge],te=this.$docRowCache[ge];var Ae=k>xe[Ne-1]}else Ae=!Ne;for(var He=this.getLength()-1,qe=this.getNextFoldLine(te),Qe=qe?qe.start.row:1/0;me<=k&&!(me+(ue=this.getRowLength(te))>k||te>=He);)me+=ue,++te>Qe&&(Qe=(qe=this.getNextFoldLine(te=qe.end.row+1,qe))?qe.start.row:1/0),Ae&&(this.$docRowCache.push(te),this.$screenRowCache.push(me));if(qe&&qe.start.row<=te)ne=this.getFoldDisplayLine(qe),te=qe.start.row;else{if(me+ue<=k||te>He)return{row:He,column:this.getLine(He).length};ne=this.getLine(te),qe=null}var ct=0,ht=Math.floor(k-me);if(this.$useWrapMode){var ft=this.$wrapData[te];ft&&(fe=ft[ht],ht>0&&ft.length&&(ct=ft.indent,ne=ne.substring(ce=ft[ht-1]||ft[ft.length-1])))}return void 0!==R&&this.$bidiHandler.isBidiRow(me+ht,te,ht)&&(F=this.$bidiHandler.offsetToCol(R)),ce+=this.$getStringScreenWidth(ne,F-ct)[1],this.$useWrapMode&&ce>=fe&&(ce=fe-1),qe?qe.idxToPosition(ce):{row:te,column:ce}},H.prototype.documentToScreenPosition=function(k,F){if(typeof F>"u")var R=this.$clipPositionToDocument(k.row,k.column);else R=this.$clipPositionToDocument(k,F);var ce,ne=0,te=null;(ce=this.getFoldAt(k=R.row,F=R.column,1))&&(k=ce.start.row,F=ce.start.column);var fe,me=0,ue=this.$docRowCache,xe=this.$getRowCacheIndex(ue,k),ge=ue.length;if(ge&&xe>=0){me=ue[xe],ne=this.$screenRowCache[xe];var Ne=k>ue[ge-1]}else Ne=!ge;for(var Ae=this.getNextFoldLine(me),He=Ae?Ae.start.row:1/0;me<k;){if(me>=He){if((fe=Ae.end.row+1)>k)break;He=(Ae=this.getNextFoldLine(fe,Ae))?Ae.start.row:1/0}else fe=me+1;ne+=this.getRowLength(me),me=fe,Ne&&(this.$docRowCache.push(me),this.$screenRowCache.push(ne))}var qe="";Ae&&me>=He?(qe=this.getFoldDisplayLine(Ae,k,F),te=Ae.start.row):(qe=this.getLine(k).substring(0,F),te=k);var Qe=0;if(this.$useWrapMode){var ct=this.$wrapData[te];if(ct){for(var ht=0;qe.length>=ct[ht];)ne++,ht++;qe=qe.substring(ct[ht-1]||0,qe.length),Qe=ht>0?ct.indent:0}}return this.lineWidgets&&this.lineWidgets[me]&&this.lineWidgets[me].rowsAbove&&(ne+=this.lineWidgets[me].rowsAbove),{row:ne,column:Qe+this.$getStringScreenWidth(qe)[0]}},H.prototype.documentToScreenColumn=function(k,F){return this.documentToScreenPosition(k,F).column},H.prototype.documentToScreenRow=function(k,F){return this.documentToScreenPosition(k,F).row},H.prototype.getScreenLength=function(){var k=0,F=null;if(this.$useWrapMode)for(var te=this.$wrapData.length,ce=0,ne=0,fe=(F=this.$foldData[ne++])?F.start.row:1/0;ce<te;){var me=this.$wrapData[ce];k+=me?me.length+1:1,++ce>fe&&(ce=F.end.row+1,fe=(F=this.$foldData[ne++])?F.start.row:1/0)}else{k=this.getLength();var R=this.$foldData;for(ne=0;ne<R.length;ne++)k-=(F=R[ne]).end.row-F.start.row}return this.lineWidgets&&(k+=this.$getWidgetScreenLength()),k},H.prototype.$setFontMetrics=function(k){this.$enableVarChar&&(this.$getStringScreenWidth=function(F,R,ne){if(0===R)return[0,0];var te,ce;for(R||(R=1/0),ne=ne||0,ce=0;ce<F.length&&!((ne+="\t"===(te=F.charAt(ce))?this.getScreenTabSize(ne):k.getCharacterWidth(te))>R);ce++);return[ne,ce]})},H.prototype.getPrecedingCharacter=function(){var k=this.selection.getCursor();return 0===k.column?0===k.row?"":this.doc.getNewLineCharacter():this.getLine(k.row)[k.column-1]},H.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},H}();O.$uid=0,O.prototype.$modes=u.$modes,O.prototype.getValue=O.prototype.toString,O.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},O.prototype.$overwrite=!1,O.prototype.$mode=null,O.prototype.$modeId=null,O.prototype.$scrollTop=0,O.prototype.$scrollLeft=0,O.prototype.$wrapLimit=80,O.prototype.$useWrapMode=!1,O.prototype.$wrapLimitRange={min:null,max:null},O.prototype.lineWidgets=null,O.prototype.isFullWidth=re,S.implement(O.prototype,m);var P=1,U=2,j=3,K=4,B=9,Z=10,Y=11,W=12;function re(H){return!(H<4352)&&(H>=4352&&H<=4447||H>=4515&&H<=4519||H>=4602&&H<=4607||H>=9001&&H<=9002||H>=11904&&H<=11929||H>=11931&&H<=12019||H>=12032&&H<=12245||H>=12272&&H<=12283||H>=12288&&H<=12350||H>=12353&&H<=12438||H>=12441&&H<=12543||H>=12549&&H<=12589||H>=12593&&H<=12686||H>=12688&&H<=12730||H>=12736&&H<=12771||H>=12784&&H<=12830||H>=12832&&H<=12871||H>=12880&&H<=13054||H>=13056&&H<=19903||H>=19968&&H<=42124||H>=42128&&H<=42182||H>=43360&&H<=43388||H>=44032&&H<=55203||H>=55216&&H<=55238||H>=55243&&H<=55291||H>=63744&&H<=64255||H>=65040&&H<=65049||H>=65072&&H<=65106||H>=65108&&H<=65126||H>=65128&&H<=65131||H>=65281&&H<=65376||H>=65504&&H<=65510)}L("./edit_session/folding").Folding.call(O.prototype),L("./edit_session/bracket_match").BracketMatch.call(O.prototype),u.defineOptions(O.prototype,"session",{wrap:{set:function(H){if(H&&"off"!=H?"free"==H?H=!0:"printMargin"==H?H=-1:"string"==typeof H&&(H=parseInt(H,10)||!1):H=!1,this.$wrap!=H)if(this.$wrap=H,H){var k="number"==typeof H?H:null;this.setWrapLimitRange(k,k),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(H){(H="auto"==H?"text"!=this.$mode.type:"text"!=H)!=this.$wrapAsCode&&(this.$wrapAsCode=H,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(H){this.$useWorker=H,this.$stopWorker(),H&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(H){(H=parseInt(H))>0&&this.$tabSize!==H&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=H,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(H){this.setFoldStyle(H)},handlesSet:!0},overwrite:{set:function(H){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(H){this.doc.setNewLineMode(H)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(H){this.setMode(H)},get:function(){return this.$modeId},handlesSet:!0}}),I.EditSession=O}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(L,I,$){"use strict";var S=L("./lib/lang"),x=L("./lib/oop"),M=L("./range").Range,u=function(){function d(){this.$options={}}return d.prototype.set=function(f){return x.mixin(this.$options,f),this},d.prototype.getOptions=function(){return S.copyObject(this.$options)},d.prototype.setOptions=function(f){this.$options=f},d.prototype.find=function(f){var p=this.$options,g=this.$matchIterator(f,p);if(!g)return!1;var h=null;return g.forEach(function(_,w,D,O){return h=new M(_,w,D,O),!(w==O&&p.start&&p.start.start&&0!=p.skipCurrent&&h.isEqual(p.start)&&(h=null,1))}),h},d.prototype.findAll=function(f){var p=this.$options;if(!p.needle)return[];this.$assembleRegExp(p);var g=p.range,h=g?f.getLines(g.start.row,g.end.row):f.doc.getAllLines(),_=[],w=p.re;if(p.$isMultiLine){var P,D=w.length,O=h.length-D;e:for(var U=w.offset||0;U<=O;U++){for(var j=0;j<D;j++)if(-1==h[U+j].search(w[j]))continue e;var K=h[U],B=h[U+D-1],Z=K.length-K.match(w[0])[0].length,Y=B.match(w[D-1])[0].length;P&&P.end.row===U&&P.end.column>Z||(_.push(P=new M(U,Z,U+D-1,Y)),D>2&&(U=U+D-2))}}else for(var W=0;W<h.length;W++){var re=S.getMatchOffsets(h[W],w);for(j=0;j<re.length;j++){var H=re[j];_.push(new M(W,H.offset,W,H.offset+H.length))}}if(g){var k=g.start.column,F=g.end.column;for(W=0,j=_.length-1;W<j&&_[W].start.column<k&&0==_[W].start.row;)W++;for(var R=g.end.row-g.start.row;W<j&&_[j].end.column>F&&_[j].end.row==R;)j--;for(_=_.slice(W,j+1),W=0,j=_.length;W<j;W++)_[W].start.row+=g.start.row,_[W].end.row+=g.start.row}return _},d.prototype.replace=function(f,p){var g=this.$options,h=this.$assembleRegExp(g);if(g.$isMultiLine)return p;if(h){var _=h.exec(f);if(!_||_[0].length!=f.length)return null;if(g.regExp||(p=p.replace(/\$/g,"$$$$")),p=f.replace(h,p),g.preserveCase){p=p.split("");for(var w=Math.min(f.length,f.length);w--;){var D=f[w];p[w]=D&&D.toLowerCase()!=D?p[w].toUpperCase():p[w].toLowerCase()}p=p.join("")}return p}},d.prototype.$assembleRegExp=function(f,p){if(f.needle instanceof RegExp)return f.re=f.needle;var g=f.needle;if(!f.needle)return f.re=!1;f.regExp||(g=S.escapeRegExp(g));var h=f.caseSensitive?"gm":"gmi";try{new RegExp(g,"u"),f.$supportsUnicodeFlag=!0,h+="u"}catch{f.$supportsUnicodeFlag=!1}if(f.wholeWord&&(g=function m(d,f){var p=S.supportsLookbehind();function g(D,O){return void 0===O&&(O=!0),(p&&f.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(D)||f.regExp?p&&f.$supportsUnicodeFlag?O?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var h=Array.from(d),w=h[h.length-1];return g(h[0])+d+g(w,!1)}(g,f)),f.$isMultiLine=!p&&/[\n\r]/.test(g),f.$isMultiLine)return f.re=this.$assembleMultilineRegExp(g,h);try{var _=new RegExp(g,h)}catch{_=!1}return f.re=_},d.prototype.$assembleMultilineRegExp=function(f,p){for(var g=f.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),h=[],_=0;_<g.length;_++)try{h.push(new RegExp(g[_],p))}catch{return!1}return h},d.prototype.$matchIterator=function(f,p){var g=this.$assembleRegExp(p);if(!g)return!1;var h=1==p.backwards,_=0!=p.skipCurrent,w=g.unicode,D=p.range,O=p.start;O||(O=D?D[h?"end":"start"]:f.selection.getRange()),O.start&&(O=O[_!=h?"end":"start"]);var P=D?D.start.row:0,U=D?D.end.row:f.getLength()-1;if(h)var j=function(Z){var Y=O.row;if(!B(Y,O.column,Z)){for(Y--;Y>=P;Y--)if(B(Y,Number.MAX_VALUE,Z))return;if(0!=p.wrap)for(Y=U,P=O.row;Y>=P;Y--)if(B(Y,Number.MAX_VALUE,Z))return}};else j=function(Y){var W=O.row;if(!B(W,O.column,Y)){for(W+=1;W<=U;W++)if(B(W,0,Y))return;if(0!=p.wrap)for(W=P,U=O.row;W<=U;W++)if(B(W,0,Y))return}};if(p.$isMultiLine)var K=g.length,B=function(Z,Y,W){var re=h?Z-K+1:Z;if(!(re<0||re+K>f.getLength())){var H=f.getLine(re),k=H.search(g[0]);if(!(!h&&k<Y||-1===k)){for(var F=1;F<K;F++)if(-1==(H=f.getLine(re+F)).search(g[F]))return;var R=H.match(g[K-1])[0].length;if(!(h&&R>Y)&&W(re,k,re+K-1,R))return!0}}};else B=h?function(Y,W,re){var F,H=f.getLine(Y),k=[],R=0;for(g.lastIndex=0;F=g.exec(H);){if(R=F.index,!(ne=F[0].length)){if(R>=H.length)break;g.lastIndex=R+=S.skipEmptyMatch(H,R,w)}if(F.index+ne>W)break;k.push(F.index,ne)}for(var te=k.length-1;te>=0;te-=2){var ne,ce=k[te-1];if(re(Y,ce,Y,ce+(ne=k[te])))return!0}}:function(Y,W,re){var k,F,H=f.getLine(Y);for(g.lastIndex=W;F=g.exec(H);){var R=F[0].length;if(re(Y,k=F.index,Y,k+R))return!0;if(!R&&(g.lastIndex=k+=S.skipEmptyMatch(H,k,w),k>=H.length))return!1}};return{forEach:j}},d}();I.Search=u}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(L,I,$){"use strict";var S=this&&this.__extends||function(){var p=function(g,h){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(_[D]=w[D])})(g,h)};return function(g,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=g}p(g,h),g.prototype=null===h?Object.create(h):(_.prototype=h.prototype,new _)}}(),x=L("../lib/keys"),M=L("../lib/useragent"),u=x.KEY_MODS,m=function(){function p(g,h){this.$init(g,h,!1)}return p.prototype.$init=function(g,h,_){this.platform=h||(M.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(g),this.$singleCommand=_},p.prototype.addCommand=function(g){this.commands[g.name]&&this.removeCommand(g),this.commands[g.name]=g,g.bindKey&&this._buildKeyHash(g)},p.prototype.removeCommand=function(g,h){var _=g&&("string"==typeof g?g:g.name);g=this.commands[_],h||delete this.commands[_];var w=this.commandKeyBinding;for(var D in w){var O=w[D];if(O==g)delete w[D];else if(Array.isArray(O)){var P=O.indexOf(g);-1!=P&&(O.splice(P,1),1==O.length&&(w[D]=O[0]))}}},p.prototype.bindKey=function(g,h,_){if("object"==typeof g&&g&&(null==_&&(_=g.position),g=g[this.platform]),g){if("function"==typeof h)return this.addCommand({exec:h,bindKey:g,name:h.name||g});g.split("|").forEach(function(w){var D="";if(-1!=w.indexOf(" ")){var O=w.split(/\s+/);w=O.pop(),O.forEach(function(j){var K=this.parseKeys(j);this._addCommandToBinding(D+=(D?" ":"")+(u[K.hashId]+K.key),"chainKeys")},this),D+=" "}var P=this.parseKeys(w);this._addCommandToBinding(D+(u[P.hashId]+P.key),h,_)},this)}},p.prototype._addCommandToBinding=function(g,h,_){var D,w=this.commandKeyBinding;if(h)if(!w[g]||this.$singleCommand)w[g]=h;else{Array.isArray(w[g])?-1!=(D=w[g].indexOf(h))&&w[g].splice(D,1):w[g]=[w[g]],"number"!=typeof _&&(_=d(h));var O=w[g];for(D=0;D<O.length&&!(d(O[D])>_);D++);O.splice(D,0,h)}else delete w[g]},p.prototype.addCommands=function(g){g&&Object.keys(g).forEach(function(h){var _=g[h];if(_){if("string"==typeof _)return this.bindKey(_,h);"function"==typeof _&&(_={exec:_}),"object"==typeof _&&(_.name||(_.name=h),this.addCommand(_))}},this)},p.prototype.removeCommands=function(g){Object.keys(g).forEach(function(h){this.removeCommand(g[h])},this)},p.prototype.bindKeys=function(g){Object.keys(g).forEach(function(h){this.bindKey(h,g[h])},this)},p.prototype._buildKeyHash=function(g){this.bindKey(g.bindKey,g)},p.prototype.parseKeys=function(g){var h=g.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(U){return U}),_=h.pop(),w=x[_];if(x.FUNCTION_KEYS[w])_=x.FUNCTION_KEYS[w].toLowerCase();else{if(!h.length)return{key:_,hashId:-1};if(1==h.length&&"shift"==h[0])return{key:_.toUpperCase(),hashId:-1}}for(var D=0,O=h.length;O--;){var P=x.KEY_MODS[h[O]];if(null==P)return typeof console<"u"&&console.error("invalid modifier "+h[O]+" in "+g),!1;D|=P}return{key:_,hashId:D}},p.prototype.findKeyCommand=function(g,h){return this.commandKeyBinding[u[g]+h]},p.prototype.handleKeyboard=function(g,h,_,w){if(!(w<0)){var D=u[h]+_,O=this.commandKeyBinding[D];return g.$keyChain&&(g.$keyChain+=" "+D,O=this.commandKeyBinding[g.$keyChain]||O),!O||"chainKeys"!=O&&"chainKeys"!=O[O.length-1]?(g.$keyChain&&(h&&4!=h||1!=_.length?(-1==h||w>0)&&(g.$keyChain=""):g.$keyChain=g.$keyChain.slice(0,-D.length-1)),{command:O}):(g.$keyChain=g.$keyChain||D,{command:"null"})}},p.prototype.getStatusText=function(g,h){return h.$keyChain||""},p}();function d(p){return"object"==typeof p&&p.bindKey&&p.bindKey.position||(p.isDefault?-100:0)}var f=function(p){function g(h,_){var w=p.call(this,h,_)||this;return w.$singleCommand=!0,w}return S(g,p),g}(m);f.call=function(p,g,h){m.prototype.$init.call(p,g,h,!0)},m.call=function(p,g,h){m.prototype.$init.call(p,g,h,!1)},I.HashHandler=f,I.MultiHashHandler=m}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(L,I,$){"use strict";var S=this&&this.__extends||function(){var d=function(f,p){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(g[_]=h[_])})(f,p)};return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function g(){this.constructor=f}d(f,p),f.prototype=null===p?Object.create(p):(g.prototype=p.prototype,new g)}}(),x=L("../lib/oop"),M=L("../keyboard/hash_handler").MultiHashHandler,u=L("../lib/event_emitter").EventEmitter,m=function(d){function f(p,g){var h=d.call(this,g,p)||this;return h.byName=h.commands,h.setDefaultHandler("exec",function(_){return _.args?_.command.exec(_.editor,_.args,_.event,!1):_.command.exec(_.editor,{},_.event,!0)}),h}return S(f,d),f.prototype.exec=function(p,g,h){if(Array.isArray(p)){for(var _=p.length;_--;)if(this.exec(p[_],g,h))return!0;return!1}if("string"==typeof p&&(p=this.commands[p]),!this.canExecute(p,g))return!1;var w={editor:g,command:p,args:h};return w.returnValue=this._emit("exec",w),this._signal("afterExec",w),!1!==w.returnValue},f.prototype.canExecute=function(p,g){return"string"==typeof p&&(p=this.commands[p]),!(!p||g&&g.$readOnly&&!p.readOnly||0!=this.$checkCommandState&&p.isAvailable&&!p.isAvailable(g))},f.prototype.toggleRecording=function(p){if(!this.$inReplay)return p&&p._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(g){this.macro.push([g.command,g.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},f.prototype.replay=function(p){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(p);try{this.$inReplay=!0,this.macro.forEach(function(g){"string"==typeof g?this.exec(g,p):this.exec(g[0],p,g[1])},this)}finally{this.$inReplay=!1}}},f.prototype.trimMacro=function(p){return p.map(function(g){return"string"!=typeof g[0]&&(g[0]=g[0].name),g[1]||(g=g[0]),g})},f}(M);x.implement(m.prototype,u),I.CommandManager=m}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(L,I,$){"use strict";var S=L("../lib/lang"),x=L("../config"),M=L("../range").Range;function u(d,f){return{win:d,mac:f}}I.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:u("Ctrl-,","Command-,"),exec:function(d){x.loadModule("ace/ext/settings_menu",function(f){f.init(d),d.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:u("Alt-E","F4"),exec:function(d){x.loadModule("ace/ext/error_marker",function(f){f.showErrorMarker(d,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:u("Alt-Shift-E","Shift-F4"),exec:function(d){x.loadModule("ace/ext/error_marker",function(f){f.showErrorMarker(d,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:u("Ctrl-A","Command-A"),exec:function(d){d.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:u(null,"Ctrl-L"),exec:function(d){d.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:u("Ctrl-L","Command-L"),exec:function(d,f){"number"==typeof f&&!isNaN(f)&&d.gotoLine(f),d.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:u("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(d){d.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:u("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(d){d.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:u("F2","F2"),exec:function(d){d.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:u("Alt-F2","Alt-F2"),exec:function(d){d.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:u(null,"Ctrl-Command-Option-0"),exec:function(d){d.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:u(null,"Ctrl-Command-Option-0"),exec:function(d){d.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:u("Alt-0","Command-Option-0"),exec:function(d){d.session.foldAll(),d.session.unfold(d.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:u("Alt-Shift-0","Command-Option-Shift-0"),exec:function(d){d.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:u("Ctrl-K","Command-G"),exec:function(d){d.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:u("Ctrl-Shift-K","Command-Shift-G"),exec:function(d){d.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:u("Alt-K","Ctrl-G"),exec:function(d){d.selection.isEmpty()?d.selection.selectWord():d.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:u("Alt-Shift-K","Ctrl-Shift-G"),exec:function(d){d.selection.isEmpty()?d.selection.selectWord():d.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:u("Ctrl-F","Command-F"),exec:function(d){x.loadModule("ace/ext/searchbox",function(f){f.Search(d)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(d){d.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:u("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(d){d.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:u("Ctrl-Home","Command-Home|Command-Up"),exec:function(d){d.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:u("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(d){d.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:u("Up","Up|Ctrl-P"),exec:function(d,f){d.navigateUp(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:u("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(d){d.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:u("Ctrl-End","Command-End|Command-Down"),exec:function(d){d.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:u("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(d){d.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:u("Down","Down|Ctrl-N"),exec:function(d,f){d.navigateDown(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:u("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(d){d.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:u("Ctrl-Left","Option-Left"),exec:function(d){d.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:u("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(d){d.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:u("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(d){d.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:u("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(d){d.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:u("Left","Left|Ctrl-B"),exec:function(d,f){d.navigateLeft(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:u("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(d){d.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:u("Ctrl-Right","Option-Right"),exec:function(d){d.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:u("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(d){d.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:u("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(d){d.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:u("Shift-Right","Shift-Right"),exec:function(d){d.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:u("Right","Right|Ctrl-F"),exec:function(d,f){d.navigateRight(f.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(d){d.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:u(null,"Option-PageDown"),exec:function(d){d.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:u("PageDown","PageDown|Ctrl-V"),exec:function(d){d.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(d){d.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:u(null,"Option-PageUp"),exec:function(d){d.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(d){d.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:u("Ctrl-Up",null),exec:function(d){d.renderer.scrollBy(0,-2*d.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:u("Ctrl-Down",null),exec:function(d){d.renderer.scrollBy(0,2*d.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(d){d.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(d){d.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:u("Ctrl-Alt-E","Command-Option-E"),exec:function(d){d.commands.toggleRecording(d)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:u("Ctrl-Shift-E","Command-Shift-E"),exec:function(d){d.commands.replay(d)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:u("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(d){d.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:u("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(d){d.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:u("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(d){d.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:u(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(d){},readOnly:!0},{name:"cut",description:"Cut",exec:function(d){var p=d.$copyWithEmptySelection&&d.selection.isEmpty()?d.selection.getLineRange():d.selection.getRange();d._emit("cut",p),p.isEmpty()||d.session.remove(p),d.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(d,f){d.$handlePaste(f)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:u("Ctrl-D","Command-D"),exec:function(d){d.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:u("Ctrl-Shift-D","Command-Shift-D"),exec:function(d){d.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:u("Ctrl-Alt-S","Command-Alt-S"),exec:function(d){d.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:u("Ctrl-/","Command-/"),exec:function(d){d.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:u("Ctrl-Shift-/","Command-Shift-/"),exec:function(d){d.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:u("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(d){d.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:u("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(d){d.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:u("Ctrl-H","Command-Option-F"),exec:function(d){x.loadModule("ace/ext/searchbox",function(f){f.Search(d,!0)})}},{name:"undo",description:"Undo",bindKey:u("Ctrl-Z","Command-Z"),exec:function(d){d.undo()}},{name:"redo",description:"Redo",bindKey:u("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(d){d.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:u("Alt-Shift-Up","Command-Option-Up"),exec:function(d){d.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:u("Alt-Up","Option-Up"),exec:function(d){d.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:u("Alt-Shift-Down","Command-Option-Down"),exec:function(d){d.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:u("Alt-Down","Option-Down"),exec:function(d){d.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:u("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(d){d.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:u("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(d){d.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:u("Shift-Delete",null),exec:function(d){if(!d.selection.isEmpty())return!1;d.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:u("Alt-Backspace","Command-Backspace"),exec:function(d){d.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:u("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(d){d.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:u("Ctrl-Shift-Backspace",null),exec:function(d){var f=d.selection.getRange();f.start.column=0,d.session.remove(f)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:u("Ctrl-Shift-Delete",null),exec:function(d){var f=d.selection.getRange();f.end.column=Number.MAX_VALUE,d.session.remove(f)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:u("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(d){d.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:u("Ctrl-Delete","Alt-Delete"),exec:function(d){d.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:u("Shift-Tab","Shift-Tab"),exec:function(d){d.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:u("Tab","Tab"),exec:function(d){d.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:u("Ctrl-[","Ctrl-["),exec:function(d){d.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:u("Ctrl-]","Ctrl-]"),exec:function(d){d.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(d,f){d.insert(f)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(d,f){d.insert(S.stringRepeat(f.text||"",f.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:u(null,"Ctrl-O"),exec:function(d){d.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:u("Alt-Shift-X","Ctrl-T"),exec:function(d){d.transposeLetters()},multiSelectAction:function(d){d.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:u("Ctrl-U","Ctrl-U"),exec:function(d){d.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:u("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(d){d.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:u(null,null),exec:function(d){d.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:u("Ctrl-Shift-L","Command-Shift-L"),exec:function(d){var f=d.selection.getRange();f.start.column=f.end.column=0,f.end.row++,d.selection.setRange(f,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:u("Ctrl+F3","F3"),exec:function(d){d.openLink()}},{name:"joinlines",description:"Join lines",bindKey:u(null,null),exec:function(d){for(var f=d.selection.isBackwards(),p=f?d.selection.getSelectionLead():d.selection.getSelectionAnchor(),g=f?d.selection.getSelectionAnchor():d.selection.getSelectionLead(),h=d.session.doc.getLine(p.row).length,w=d.session.doc.getTextRange(d.selection.getRange()).replace(/\n\s*/," ").length,D=d.session.doc.getLine(p.row),O=p.row+1;O<=g.row+1;O++){var P=S.stringTrimLeft(S.stringTrimRight(d.session.doc.getLine(O)));0!==P.length&&(P=" "+P),D+=P}g.row+1<d.session.doc.getLength()-1&&(D+=d.session.doc.getNewLineCharacter()),d.clearSelection(),d.session.doc.replace(new M(p.row,0,g.row+2,0),D),w>0?(d.selection.moveCursorTo(p.row,p.column),d.selection.selectTo(p.row,p.column+w)):(h=d.session.doc.getLine(p.row).length>h?h+1:h,d.selection.moveCursorTo(p.row,h))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:u(null,null),exec:function(d){var f=d.session.doc.getLength()-1,p=d.session.doc.getLine(f).length,g=d.selection.rangeList.ranges,h=[];g.length<1&&(g=[d.selection.getRange()]);for(var _=0;_<g.length;_++)_==g.length-1&&(g[_].end.row===f&&g[_].end.column===p||h.push(new M(g[_].end.row,g[_].end.column,f,p))),0===_?0===g[_].start.row&&0===g[_].start.column||h.push(new M(0,0,g[_].start.row,g[_].start.column)):h.push(new M(g[_-1].end.row,g[_-1].end.column,g[_].start.row,g[_].start.column));for(d.exitMultiSelectMode(),d.clearSelection(),_=0;_<h.length;_++)d.selection.addRange(h[_],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(d){d.selection.clearSelection(),d.navigateLineEnd(),d.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(d){d.selection.clearSelection();var f=d.getCursorPosition();d.selection.moveTo(f.row-1,Number.MAX_VALUE),d.insert("\n"),0===f.row&&d.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(d){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),d.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:u("F1","F1"),exec:function(d){d.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:u(null,null),exec:function(d){d.prompt({$type:"modes"})},readOnly:!0}];for(var m=1;m<9;m++)I.commands.push({name:"foldToLevel"+m,description:"Fold To Level "+m,level:m,exec:function(d){d.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(L,I,$){"use strict";var S=L("../lib/keys"),x=L("../mouse/default_gutter_handler").GutterTooltip,M=function(){function m(d){this.editor=d,this.gutterLayer=d.renderer.$gutterLayer,this.element=d.renderer.$gutter,this.lines=d.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new x(this.editor)}return m.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},m.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},m.prototype.$onGutterKeyDown=function(d){if(this.annotationTooltip.isOpen)return d.preventDefault(),void(d.keyCode===S.escape&&this.annotationTooltip.hideTooltip());if(d.target===this.element){if(d.keyCode!=S.enter)return;d.preventDefault();var f=this.editor.getCursorPosition().row;return this.editor.isRowVisible(f)||this.editor.scrollToLine(f,!0,!0),void setTimeout(function(){var p=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),g=this.$findNearestFoldWidget(p),h=this.$findNearestAnnotation(p);if(null!==g||null!==h)return null===g&&null!==h?(this.activeRowIndex=h,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==g&&null===h?(this.activeRowIndex=g,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(h-p)<Math.abs(g-p)?(this.activeRowIndex=h,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=g,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(d),setTimeout(function(){this.editor._signal("gutterkeydown",new u(d,this))}.bind(this),10)},m.prototype.$handleGutterKeyboardInteraction=function(d){if(d.keyCode!==S.tab){if(d.keyCode===S.escape)return d.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(d.keyCode!==S.up)if(d.keyCode!==S.down){if(d.keyCode===S.left)return d.preventDefault(),void this.$switchLane("annotation");if(d.keyCode===S.right)return d.preventDefault(),void this.$switchLane("fold");if(d.keyCode!==S.enter&&d.keyCode!==S.space);else switch(d.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var f=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),d),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==f&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(f),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var g=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),h=this.annotationTooltip.getElement().style;h.left=g.right+"px",h.top=g.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(d.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(d.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else d.preventDefault()},m.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},m.prototype.$isFoldWidgetVisible=function(d){var f=this.editor.isRowFullyVisible(this.$rowIndexToRow(d)),p="none"!==this.$getFoldWidget(d).style.display;return f&&p},m.prototype.$isAnnotationVisible=function(d){var f=this.editor.isRowFullyVisible(this.$rowIndexToRow(d)),p="none"!==this.$getAnnotation(d).style.display;return f&&p},m.prototype.$getFoldWidget=function(d){return this.lines.get(d).element.childNodes[1]},m.prototype.$getAnnotation=function(d){return this.lines.get(d).element.childNodes[2]},m.prototype.$findNearestFoldWidget=function(d){if(this.$isFoldWidgetVisible(d))return d;for(var f=0;d-f>0||d+f<this.lines.getLength()-1;){if(d-++f>=0&&this.$isFoldWidgetVisible(d-f))return d-f;if(d+f<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(d+f))return d+f}return null},m.prototype.$findNearestAnnotation=function(d){if(this.$isAnnotationVisible(d))return d;for(var f=0;d-f>0||d+f<this.lines.getLength()-1;){if(d-++f>=0&&this.$isAnnotationVisible(d-f))return d-f;if(d+f<=this.lines.getLength()-1&&this.$isAnnotationVisible(d+f))return d+f}return null},m.prototype.$focusFoldWidget=function(d){if(null!=d){var f=this.$getFoldWidget(d);f.classList.add(this.editor.renderer.keyboardFocusClassName),f.focus()}},m.prototype.$focusAnnotation=function(d){if(null!=d){var f=this.$getAnnotation(d);f.classList.add(this.editor.renderer.keyboardFocusClassName),f.focus()}},m.prototype.$blurFoldWidget=function(d){var f=this.$getFoldWidget(d);f.classList.remove(this.editor.renderer.keyboardFocusClassName),f.blur()},m.prototype.$blurAnnotation=function(d){var f=this.$getAnnotation(d);f.classList.remove(this.editor.renderer.keyboardFocusClassName),f.blur()},m.prototype.$moveFoldWidgetUp=function(){for(var d=this.activeRowIndex;d>0;)if(d--,this.$isFoldWidgetVisible(d))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=d,void this.$focusFoldWidget(this.activeRowIndex)},m.prototype.$moveFoldWidgetDown=function(){for(var d=this.activeRowIndex;d<this.lines.getLength()-1;)if(d++,this.$isFoldWidgetVisible(d))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=d,void this.$focusFoldWidget(this.activeRowIndex)},m.prototype.$moveAnnotationUp=function(){for(var d=this.activeRowIndex;d>0;)if(d--,this.$isAnnotationVisible(d))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,void this.$focusAnnotation(this.activeRowIndex)},m.prototype.$moveAnnotationDown=function(){for(var d=this.activeRowIndex;d<this.lines.getLength()-1;)if(d++,this.$isAnnotationVisible(d))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,void this.$focusAnnotation(this.activeRowIndex)},m.prototype.$switchLane=function(d){switch(d){case"annotation":if("annotation"===this.activeLane)break;var f=this.$findNearestAnnotation(this.activeRowIndex);if(null==f)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=f,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var p=this.$findNearestFoldWidget(this.activeRowIndex);if(null==p)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=p,this.$focusFoldWidget(this.activeRowIndex)}},m.prototype.$rowIndexToRow=function(d){var f=this.lines.get(d);return f?f.row:null},m.prototype.$rowToRowIndex=function(d){for(var f=0;f<this.lines.getLength();f++)if(this.lines.get(f).row==d)return f;return null},m}();I.GutterKeyboardHandler=M;var u=function(){function m(d,f){this.gutterKeyboardHandler=f,this.domEvent=d}return m.prototype.getKey=function(){return S.keyCodeToString(this.domEvent.keyCode)},m.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},m.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},m.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},m}();I.GutterKeyboardEvent=u}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(L,I,$){"use strict";var S=this&&this.__values||function(H){var k="function"==typeof Symbol&&Symbol.iterator,F=k&&H[k],R=0;if(F)return F.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&R>=H.length&&(H=void 0),{value:H&&H[R++],done:!H}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")},x=L("./lib/oop"),M=L("./lib/dom"),u=L("./lib/lang"),m=L("./lib/useragent"),d=L("./keyboard/textinput").TextInput,f=L("./mouse/mouse_handler").MouseHandler,p=L("./mouse/fold_handler").FoldHandler,g=L("./keyboard/keybinding").KeyBinding,h=L("./edit_session").EditSession,_=L("./search").Search,w=L("./range").Range,D=L("./lib/event_emitter").EventEmitter,O=L("./commands/command_manager").CommandManager,P=L("./commands/default_commands").commands,U=L("./config"),j=L("./token_iterator").TokenIterator,K=L("./keyboard/gutter_handler").GutterKeyboardHandler,B=L("./config").nls,Z=L("./clipboard"),Y=L("./lib/keys"),W=function(){function H(k,F,R){this.$toDestroy=[];var ne=k.getContainerElement();this.container=ne,this.renderer=k,this.id="editor"+ ++H.$uid,this.commands=new O(m.isMac?"mac":"win",P),"object"==typeof document&&(this.textInput=new d(k.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new f(this),new p(this)),this.keyBinding=new g(this),this.$search=(new _).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=u.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(te,ce){ce._$emitInputEvent.schedule(31)}),this.setSession(F||R&&R.session||new h("")),U.resetOptions(this),R&&this.setOptions(R),U._signal("editor",this)}return H.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},H.prototype.startOperation=function(k){this.session.startOperation(k)},H.prototype.endOperation=function(k){this.session.endOperation(k)},H.prototype.onStartOperation=function(k){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,k||(this.previousCommand=null)},H.prototype.onEndOperation=function(k){if(this.curOp&&this.session){if(k&&!1===k.returnValue)return void(this.curOp=null);if(this._signal("beforeEndOperation"),!this.curOp)return;var F=this.curOp.command,R=F&&F.scrollIntoView;if(R){switch(R){case"center-animate":R="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var ne=this.selection.getRange(),te=this.renderer.layerConfig;(ne.start.row>=te.lastRow||ne.end.row<=te.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==R&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},H.prototype.$historyTracker=function(k){if(this.$mergeUndoDeltas){var F=this.prevOp,R=this.$mergeableCommands,ne=F.command&&k.command.name==F.command.name;if("insertstring"==k.command.name){var te=k.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),ne=ne&&this.mergeNextCommand&&(!/\s/.test(te)||/\s/.test(F.args)),this.mergeNextCommand=!0}else ne=ne&&-1!==R.indexOf(k.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(ne=!1),ne?this.session.mergeUndoDeltas=!0:-1!==R.indexOf(k.command.name)&&(this.sequenceStartTime=Date.now())}},H.prototype.setKeyboardHandler=function(k,F){if(k&&"string"==typeof k&&"ace"!=k){this.$keybindingId=k;var R=this;U.loadModule(["keybinding",k],function(ne){R.$keybindingId==k&&R.keyBinding.setKeyboardHandler(ne&&ne.handler),F&&F()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(k),F&&F()},H.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},H.prototype.setSession=function(k){if(this.session!=k){this.curOp&&this.endOperation(),this.curOp={};var F=this.session;if(F){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var R=this.session.getSelection();R.off("changeCursor",this.$onCursorChange),R.off("changeSelection",this.$onSelectionChange)}this.session=k,k?(this.$onDocumentChange=this.onDocumentChange.bind(this),k.on("change",this.$onDocumentChange),this.renderer.setSession(k),this.$onChangeMode=this.onChangeMode.bind(this),k.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),k.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),k.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),k.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),k.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),k.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=k.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(k)),this._signal("changeSession",{session:k,oldSession:F}),this.curOp=null,F&&F._signal("changeEditor",{oldEditor:this}),F&&(F.$editor=null),k&&k._signal("changeEditor",{editor:this}),k&&(k.$editor=this),k&&!k.destroyed&&k.bgTokenizer.scheduleStart()}},H.prototype.getSession=function(){return this.session},H.prototype.setValue=function(k,F){return this.session.doc.setValue(k),F?1==F?this.navigateFileEnd():-1==F&&this.navigateFileStart():this.selectAll(),k},H.prototype.getValue=function(){return this.session.getValue()},H.prototype.getSelection=function(){return this.selection},H.prototype.resize=function(k){this.renderer.onResize(k)},H.prototype.setTheme=function(k,F){this.renderer.setTheme(k,F)},H.prototype.getTheme=function(){return this.renderer.getTheme()},H.prototype.setStyle=function(k){this.renderer.setStyle(k)},H.prototype.unsetStyle=function(k){this.renderer.unsetStyle(k)},H.prototype.getFontSize=function(){return this.getOption("fontSize")||M.computedStyle(this.container).fontSize},H.prototype.setFontSize=function(k){this.setOption("fontSize",k)},H.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var k=this;this.$highlightPending=!0,setTimeout(function(){k.$highlightPending=!1;var F=k.session;if(F&&!F.destroyed){F.$bracketHighlight&&(F.$bracketHighlight.markerIds.forEach(function(ge){F.removeMarker(ge)}),F.$bracketHighlight=null);var R=k.getCursorPosition(),ne=k.getKeyboardHandler(),te=ne&&ne.$getDirectionForHighlight&&ne.$getDirectionForHighlight(k),ce=F.getMatchingBracketRanges(R,te);if(!ce){var me=new j(F,R.row,R.column).getCurrentToken();if(me&&/\b(?:tag-open|tag-name)/.test(me.type)){var ue=F.getMatchingTags(R);ue&&(ce=[ue.openTagName.isEmpty()?ue.openTag:ue.openTagName,ue.closeTagName.isEmpty()?ue.closeTag:ue.closeTagName])}}if(!ce&&F.$mode.getMatching&&(ce=F.$mode.getMatching(k.session)),!ce)return void(k.getHighlightIndentGuides()&&k.renderer.$textLayer.$highlightIndentGuide());var xe="ace_bracket";Array.isArray(ce)?1==ce.length&&(xe="ace_error_bracket"):ce=[ce],2==ce.length&&(0==w.comparePoints(ce[0].end,ce[1].start)?ce=[w.fromPoints(ce[0].start,ce[1].end)]:0==w.comparePoints(ce[0].start,ce[1].end)&&(ce=[w.fromPoints(ce[1].start,ce[0].end)])),F.$bracketHighlight={ranges:ce,markerIds:ce.map(function(ge){return F.addMarker(ge,xe,"text")})},k.getHighlightIndentGuides()&&k.renderer.$textLayer.$highlightIndentGuide()}},50)}},H.prototype.focus=function(){this.textInput.focus()},H.prototype.isFocused=function(){return this.textInput.isFocused()},H.prototype.blur=function(){this.textInput.blur()},H.prototype.onFocus=function(k){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",k))},H.prototype.onBlur=function(k){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",k))},H.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},H.prototype.onDocumentChange=function(k){this.renderer.updateLines(k.start.row,k.start.row==k.end.row?k.end.row:1/0,this.session.$useWrapMode),this._signal("change",k),this.$cursorChange()},H.prototype.onTokenizerUpdate=function(k){var F=k.data;this.renderer.updateLines(F.first,F.last)},H.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},H.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},H.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},H.prototype.$updateHighlightActiveLine=function(){var F,k=this.getSession();if(this.$highlightActiveLine&&(("line"!=this.$selectionStyle||!this.selection.isMultiLine())&&(F=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(F=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(F=!1)),k.$highlightLineMarker&&!F)k.removeMarker(k.$highlightLineMarker.id),k.$highlightLineMarker=null;else if(!k.$highlightLineMarker&&F){var R=new w(F.row,F.column,F.row,1/0);R.id=k.addMarker(R,"ace_active-line","screenLine"),k.$highlightLineMarker=R}else F&&(k.$highlightLineMarker.start.row=F.row,k.$highlightLineMarker.end.row=F.row,k.$highlightLineMarker.start.column=F.column,k._signal("changeBackMarker"))},H.prototype.onSelectionChange=function(k){var F=this.session;if(F.$selectionMarker&&F.removeMarker(F.$selectionMarker),F.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var R=this.selection.getRange(),ne=this.getSelectionStyle();F.$selectionMarker=F.addMarker(R,"ace_selection",ne)}var te=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(te),this._signal("changeSelection")},H.prototype.$getSelectionHighLightRegexp=function(){var k=this.session,F=this.getSelectionRange();if(!F.isEmpty()&&!F.isMultiLine()){var R=F.start.column,ne=F.end.column,te=k.getLine(F.start.row),ce=te.substring(R,ne);if(!(ce.length>5e3)&&/[\w\d]/.test(ce)){var fe=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:ce}),me=te.substring(R-1,ne+1);if(fe.test(me))return fe}}},H.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},H.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},H.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},H.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},H.prototype.onChangeMode=function(k){this.renderer.updateText(),this._emit("changeMode",k)},H.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},H.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},H.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},H.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},H.prototype.getCopyText=function(){var k=this.getSelectedText(),F=this.session.doc.getNewLineCharacter(),R=!1;if(!k&&this.$copyWithEmptySelection){R=!0;for(var ne=this.selection.getAllRanges(),te=0;te<ne.length;te++){var ce=ne[te];te&&ne[te-1].start.row==ce.start.row||(k+=this.session.getLine(ce.start.row)+F)}}var fe={text:k};return this._signal("copy",fe),Z.lineMode=!!R&&fe.text,fe.text},H.prototype.onCopy=function(){this.commands.exec("copy",this)},H.prototype.onCut=function(){this.commands.exec("cut",this)},H.prototype.onPaste=function(k,F){this.commands.exec("paste",this,{text:k,event:F})},H.prototype.$handlePaste=function(k){"string"==typeof k&&(k={text:k}),this._signal("paste",k);var F=k.text,R=F===Z.lineMode,ne=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)R?ne.insert({row:this.selection.lead.row,column:0},F):this.insert(F);else if(R)this.selection.rangeList.ranges.forEach(function(xe){ne.insert({row:xe.start.row,column:0},F)});else{var te=F.split(/\r\n|\r|\n/),ce=this.selection.rangeList.ranges;if(te.length!=ce.length||!(2!=te.length||te[0]&&te[1]))return this.commands.exec("insertstring",this,F);for(var me=ce.length;me--;){var ue=ce[me];ue.isEmpty()||ne.remove(ue),ne.insert(ue.start,te[me])}}},H.prototype.execCommand=function(k,F){return this.commands.exec(k,this,F)},H.prototype.insert=function(k,F){var R=this.session,ne=R.getMode(),te=this.getCursorPosition();if(this.getBehavioursEnabled()&&!F){var ce=ne.transformAction(R.getState(te.row),"insertion",this,R,k);ce&&(k!==ce.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),k=ce.text)}if("\t"==k&&(k=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==k.indexOf("\n")&&((fe=w.fromPoints(te,te)).end.column+=k.length,this.session.remove(fe));else{var fe=this.getSelectionRange();te=this.session.remove(fe),this.clearSelection()}if("\n"==k||"\r\n"==k){var ge=R.getLine(te.row);if(te.column>ge.search(/\S|$/)){var me=ge.substr(te.column).search(/\S|$/);R.doc.removeInLine(te.row,te.column,te.column+me)}}this.clearSelection();var ue=te.column,xe=R.getState(te.row),Ne=(ge=R.getLine(te.row),ne.checkOutdent(xe,ge,k));if(R.insert(te,k),ce&&ce.selection&&this.selection.setSelectionRange(2==ce.selection.length?new w(te.row,ue+ce.selection[0],te.row,ue+ce.selection[1]):new w(te.row+ce.selection[0],ce.selection[1],te.row+ce.selection[2],ce.selection[3])),this.$enableAutoIndent){if(R.getDocument().isNewLine(k)){var Ae=ne.getNextLineIndent(xe,ge.slice(0,te.column),R.getTabString());R.insert({row:te.row+1,column:0},Ae)}Ne&&ne.autoOutdent(xe,R,te.row)}},H.prototype.autoIndent=function(){for(var k=this.session,F=k.getMode(),R=this.selection.isEmpty()?[new w(0,0,k.doc.getLength()-1,0)]:this.selection.getAllRanges(),ne="",te="",ce="",fe=k.getTabString(),me=0;me<R.length;me++)for(var xe=R[me].end.row,ge=R[me].start.row;ge<=xe;ge++){ge>0&&(ne=k.getState(ge-1),te=k.getLine(ge-1),ce=F.getNextLineIndent(ne,te,fe));var Ne=k.getLine(ge),Ae=F.$getIndent(Ne);if(ce!==Ae){if(Ae.length>0){var He=new w(ge,0,ge,Ae.length);k.remove(He)}ce.length>0&&k.insert({row:ge,column:0},ce)}F.autoOutdent(ne,k,ge)}},H.prototype.onTextInput=function(k,F){if(!F)return this.keyBinding.onTextInput(k);this.startOperation({command:{name:"insertstring"}});var R=this.applyComposition.bind(this,k,F);this.selection.rangeCount?this.forEachSelection(R):R(),this.endOperation()},H.prototype.applyComposition=function(k,F){var R;(F.extendLeft||F.extendRight)&&((R=this.selection.getRange()).start.column-=F.extendLeft,R.end.column+=F.extendRight,R.start.column<0&&(R.start.row--,R.start.column+=this.session.getLine(R.start.row).length+1),this.selection.setRange(R),!k&&!R.isEmpty()&&this.remove()),(k||!this.selection.isEmpty())&&this.insert(k,!0),(F.restoreStart||F.restoreEnd)&&((R=this.selection.getRange()).start.column-=F.restoreStart,R.end.column-=F.restoreEnd,this.selection.setRange(R))},H.prototype.onCommandKey=function(k,F,R){return this.keyBinding.onCommandKey(k,F,R)},H.prototype.setOverwrite=function(k){this.session.setOverwrite(k)},H.prototype.getOverwrite=function(){return this.session.getOverwrite()},H.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},H.prototype.setScrollSpeed=function(k){this.setOption("scrollSpeed",k)},H.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},H.prototype.setDragDelay=function(k){this.setOption("dragDelay",k)},H.prototype.getDragDelay=function(){return this.getOption("dragDelay")},H.prototype.setSelectionStyle=function(k){this.setOption("selectionStyle",k)},H.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},H.prototype.setHighlightActiveLine=function(k){this.setOption("highlightActiveLine",k)},H.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},H.prototype.setHighlightGutterLine=function(k){this.setOption("highlightGutterLine",k)},H.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},H.prototype.setHighlightSelectedWord=function(k){this.setOption("highlightSelectedWord",k)},H.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},H.prototype.setAnimatedScroll=function(k){this.renderer.setAnimatedScroll(k)},H.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},H.prototype.setShowInvisibles=function(k){this.renderer.setShowInvisibles(k)},H.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},H.prototype.setDisplayIndentGuides=function(k){this.renderer.setDisplayIndentGuides(k)},H.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},H.prototype.setHighlightIndentGuides=function(k){this.renderer.setHighlightIndentGuides(k)},H.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},H.prototype.setShowPrintMargin=function(k){this.renderer.setShowPrintMargin(k)},H.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},H.prototype.setPrintMarginColumn=function(k){this.renderer.setPrintMarginColumn(k)},H.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},H.prototype.setReadOnly=function(k){this.setOption("readOnly",k)},H.prototype.getReadOnly=function(){return this.getOption("readOnly")},H.prototype.setBehavioursEnabled=function(k){this.setOption("behavioursEnabled",k)},H.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},H.prototype.setWrapBehavioursEnabled=function(k){this.setOption("wrapBehavioursEnabled",k)},H.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},H.prototype.setShowFoldWidgets=function(k){this.setOption("showFoldWidgets",k)},H.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},H.prototype.setFadeFoldWidgets=function(k){this.setOption("fadeFoldWidgets",k)},H.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},H.prototype.remove=function(k){this.selection.isEmpty()&&("left"==k?this.selection.selectLeft():this.selection.selectRight());var F=this.getSelectionRange();if(this.getBehavioursEnabled()){var R=this.session,ne=R.getState(F.start.row),te=R.getMode().transformAction(ne,"deletion",this,R,F);if(0===F.end.column){var ce=R.getTextRange(F);if("\n"==ce[ce.length-1]){var fe=R.getLine(F.end.row);/^\s+$/.test(fe)&&(F.end.column=fe.length)}}te&&(F=te)}this.session.remove(F),this.clearSelection()},H.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},H.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},H.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},H.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var k=this.getSelectionRange();k.start.column==k.end.column&&k.start.row==k.end.row&&(k.end.column=0,k.end.row++),this.session.remove(k),this.clearSelection()},H.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var k=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(k)},H.prototype.setGhostText=function(k,F){this.renderer.setGhostText(k,F)},H.prototype.removeGhostText=function(){this.renderer.removeGhostText()},H.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var k=this.getCursorPosition(),F=k.column;if(0!==F){var ne,te,R=this.session.getLine(k.row);F<R.length?(ne=R.charAt(F)+R.charAt(F-1),te=new w(k.row,F-1,k.row,F+1)):(ne=R.charAt(F-1)+R.charAt(F-2),te=new w(k.row,F-2,k.row,F)),this.session.replace(te,ne),this.session.selection.moveToPosition(te.end)}}},H.prototype.toLowerCase=function(){var k=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var F=this.getSelectionRange(),R=this.session.getTextRange(F);this.session.replace(F,R.toLowerCase()),this.selection.setSelectionRange(k)},H.prototype.toUpperCase=function(){var k=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var F=this.getSelectionRange(),R=this.session.getTextRange(F);this.session.replace(F,R.toUpperCase()),this.selection.setSelectionRange(k)},H.prototype.indent=function(){var k=this.session,F=this.getSelectionRange();if(!(F.start.row<F.end.row)){if(F.start.column<F.end.column){var ne=k.getTextRange(F);if(!/^\s+$/.test(ne))return R=this.$getSelectedRows(),void k.indentRows(R.first,R.last,"\t")}var te=k.getLine(F.start.row),ce=F.start,fe=k.getTabSize(),me=k.documentToScreenColumn(ce.row,ce.column);if(this.session.getUseSoftTabs())var xe=u.stringRepeat(" ",ue=fe-me%fe);else{for(var ue=me%fe;" "==te[F.start.column-1]&&ue;)F.start.column--,ue--;this.selection.setSelectionRange(F),xe="\t"}return this.insert(xe)}var R=this.$getSelectedRows();k.indentRows(R.first,R.last,"\t")},H.prototype.blockIndent=function(){var k=this.$getSelectedRows();this.session.indentRows(k.first,k.last,"\t")},H.prototype.blockOutdent=function(){var k=this.session.getSelection();this.session.outdentRows(k.getRange())},H.prototype.sortLines=function(){for(var k=this.$getSelectedRows(),F=this.session,R=[],ne=k.first;ne<=k.last;ne++)R.push(F.getLine(ne));R.sort(function(fe,me){return fe.toLowerCase()<me.toLowerCase()?-1:fe.toLowerCase()>me.toLowerCase()?1:0});var te=new w(0,0,0,0);for(ne=k.first;ne<=k.last;ne++){var ce=F.getLine(ne);te.start.row=ne,te.end.row=ne,te.end.column=ce.length,F.replace(te,R[ne-k.first])}},H.prototype.toggleCommentLines=function(){var k=this.session.getState(this.getCursorPosition().row),F=this.$getSelectedRows();this.session.getMode().toggleCommentLines(k,this.session,F.first,F.last)},H.prototype.toggleBlockComment=function(){var k=this.getCursorPosition(),F=this.session.getState(k.row),R=this.getSelectionRange();this.session.getMode().toggleBlockComment(F,this.session,R,k)},H.prototype.getNumberAt=function(k,F){var R=/[\-]?[0-9]+(?:\.[0-9]+)?/g;R.lastIndex=0;for(var ne=this.session.getLine(k);R.lastIndex<F;){var te=R.exec(ne);if(te.index<=F&&te.index+te[0].length>=F)return{value:te[0],start:te.index,end:te.index+te[0].length}}return null},H.prototype.modifyNumber=function(k){var F=this.selection.getCursor().row,R=this.selection.getCursor().column,ne=new w(F,R-1,F,R),te=this.session.getTextRange(ne);if(!isNaN(parseFloat(te))&&isFinite(te)){var ce=this.getNumberAt(F,R);if(ce){var fe=ce.value.indexOf(".")>=0?ce.start+ce.value.indexOf(".")+1:ce.end,me=ce.start+ce.value.length-fe,ue=parseFloat(ce.value);ue*=Math.pow(10,me),ue+=k*=fe!==ce.end&&R<fe?Math.pow(10,ce.end-R-1):Math.pow(10,ce.end-R);var xe=(ue/=Math.pow(10,me)).toFixed(me),ge=new w(F,ce.start,F,ce.end);this.session.replace(ge,xe),this.moveCursorTo(F,Math.max(ce.start+1,R+xe.length-ce.value.length))}}else this.toggleWord()},H.prototype.toggleWord=function(){var k=this.selection.getCursor().row,F=this.selection.getCursor().column;this.selection.selectWord();var R=this.getSelectedText(),ne=this.selection.getWordRange().start.column,te=R.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),ce=F-ne-1;ce<0&&(ce=0);var fe=0,me=0,ue=this;R.match(/[A-Za-z0-9_]+/)&&te.forEach(function(ht,ft){me=fe+ht.length,ce>=fe&&ce<=me&&(R=ht,ue.selection.clearSelection(),ue.moveCursorTo(k,fe+ne),ue.selection.selectTo(k,me+ne)),fe=me});for(var ge,xe=this.$toggleWordPairs,Ne=0;Ne<xe.length;Ne++)for(var Ae=xe[Ne],He=0;He<=1;He++){var qe=+!He,Qe=R.match(new RegExp("^\\s?_?("+u.escapeRegExp(Ae[He])+")\\s?$","i"));Qe&&R.match(new RegExp("([_]|^|\\s)("+u.escapeRegExp(Qe[1])+")($|\\s)","g"))&&(ge=R.replace(new RegExp(u.escapeRegExp(Ae[He]),"i"),function(ht){var ft=Ae[qe];return ht.toUpperCase()==ht?ft=ft.toUpperCase():ht.charAt(0).toUpperCase()==ht.charAt(0)&&(ft=ft.substr(0,0)+Ae[qe].charAt(0).toUpperCase()+ft.substr(1)),ft}),this.insert(ge),ge="")}},H.prototype.findLinkAt=function(k,F){var R,ne,ce=this.session.getLine(k).split(/((?:https?|ftp):\/\/[\S]+)/),fe=F;fe<0&&(fe=0);var xe,me=0,ue=0;try{for(var ge=S(ce),Ne=ge.next();!Ne.done;Ne=ge.next()){var Ae=Ne.value;if(ue=me+Ae.length,fe>=me&&fe<=ue&&Ae.match(/((?:https?|ftp):\/\/[\S]+)/)){xe=Ae.replace(/[\s:.,'";}\]]+$/,"");break}me=ue}}catch(He){R={error:He}}finally{try{Ne&&!Ne.done&&(ne=ge.return)&&ne.call(ge)}finally{if(R)throw R.error}}return xe},H.prototype.openLink=function(){var k=this.selection.getCursor(),F=this.findLinkAt(k.row,k.column);return F&&window.open(F,"_blank"),null!=F},H.prototype.removeLines=function(){var k=this.$getSelectedRows();this.session.removeFullLines(k.first,k.last),this.clearSelection()},H.prototype.duplicateSelection=function(){var k=this.selection,F=this.session,R=k.getRange(),ne=k.isBackwards();if(R.isEmpty()){var te=R.start.row;F.duplicateLines(te,te)}else{var ce=ne?R.start:R.end,fe=F.insert(ce,F.getTextRange(R));R.start=ce,R.end=fe,k.setSelectionRange(R,ne)}},H.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},H.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},H.prototype.moveText=function(k,F,R){return this.session.moveText(k,F,R)},H.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},H.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},H.prototype.$moveLines=function(k,F){var R,ne,te=this.selection;if(!te.inMultiSelectMode||this.inVirtualSelectionMode){var ce=te.toOrientedRange();R=this.$getSelectedRows(ce),ne=this.session.$moveLines(R.first,R.last,F?0:k),F&&-1==k&&(ne=0),ce.moveBy(ne,0),te.fromOrientedRange(ce)}else{var fe=te.rangeList.ranges;te.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var me=0,ue=0,xe=fe.length,ge=0;ge<xe;ge++){var Ne=ge;fe[ge].moveBy(me,0);for(var Ae=(R=this.$getSelectedRows(fe[ge])).first,He=R.last;++ge<xe;){ue&&fe[ge].moveBy(ue,0);var qe=this.$getSelectedRows(fe[ge]);if(F&&qe.first!=He)break;if(!F&&qe.first>He+1)break;He=qe.last}for(ge--,me=this.session.$moveLines(Ae,He,F?0:k),F&&-1==k&&(Ne=ge+1);Ne<=ge;)fe[Ne].moveBy(me,0),Ne++;F||(me=0),ue+=me}te.fromOrientedRange(te.ranges[0]),te.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},H.prototype.$getSelectedRows=function(k){return k=(k||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(k.start.row),last:this.session.getRowFoldEnd(k.end.row)}},H.prototype.onCompositionStart=function(k){this.renderer.showComposition(k)},H.prototype.onCompositionUpdate=function(k){this.renderer.setCompositionText(k)},H.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},H.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},H.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},H.prototype.isRowVisible=function(k){return k>=this.getFirstVisibleRow()&&k<=this.getLastVisibleRow()},H.prototype.isRowFullyVisible=function(k){return k>=this.renderer.getFirstFullyVisibleRow()&&k<=this.renderer.getLastFullyVisibleRow()},H.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},H.prototype.$moveByPage=function(k,F){var R=this.renderer,ne=this.renderer.layerConfig,te=k*Math.floor(ne.height/ne.lineHeight);!0===F?this.selection.$moveSelection(function(){this.moveCursorBy(te,0)}):!1===F&&(this.selection.moveCursorBy(te,0),this.selection.clearSelection());var ce=R.scrollTop;R.scrollBy(0,te*ne.lineHeight),null!=F&&R.scrollCursorIntoView(null,.5),R.animateScrolling(ce)},H.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},H.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},H.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},H.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},H.prototype.scrollPageDown=function(){this.$moveByPage(1)},H.prototype.scrollPageUp=function(){this.$moveByPage(-1)},H.prototype.scrollToRow=function(k){this.renderer.scrollToRow(k)},H.prototype.scrollToLine=function(k,F,R,ne){this.renderer.scrollToLine(k,F,R,ne)},H.prototype.centerSelection=function(){var k=this.getSelectionRange(),F={row:Math.floor(k.start.row+(k.end.row-k.start.row)/2),column:Math.floor(k.start.column+(k.end.column-k.start.column)/2)};this.renderer.alignCursor(F,.5)},H.prototype.getCursorPosition=function(){return this.selection.getCursor()},H.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},H.prototype.getSelectionRange=function(){return this.selection.getRange()},H.prototype.selectAll=function(){this.selection.selectAll()},H.prototype.clearSelection=function(){this.selection.clearSelection()},H.prototype.moveCursorTo=function(k,F){this.selection.moveCursorTo(k,F)},H.prototype.moveCursorToPosition=function(k){this.selection.moveCursorToPosition(k)},H.prototype.jumpToMatching=function(k,F){var R=this.getCursorPosition(),ne=new j(this.session,R.row,R.column),te=ne.getCurrentToken(),ce=0;te&&-1!==te.type.indexOf("tag-name")&&(te=ne.stepBackward());var fe=te||ne.stepForward();if(fe){var me,Ne,ue=!1,xe={},ge=R.column-fe.start,Ae={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(fe.value.match(/[{}()\[\]]/g)){for(;ge<fe.value.length&&!ue;ge++)if(Ae[fe.value[ge]])switch(Ne=Ae[fe.value[ge]]+"."+fe.type.replace("rparen","lparen"),isNaN(xe[Ne])&&(xe[Ne]=0),fe.value[ge]){case"(":case"[":case"{":xe[Ne]++;break;case")":case"]":case"}":xe[Ne]--,-1===xe[Ne]&&(me="bracket",ue=!0)}}else-1!==fe.type.indexOf("tag-name")&&(isNaN(xe[fe.value])&&(xe[fe.value]=0),"<"===te.value&&ce>1?xe[fe.value]++:"</"===te.value&&xe[fe.value]--,-1===xe[fe.value]&&(me="tag",ue=!0));ue||(te=fe,ce++,fe=ne.stepForward(),ge=0)}while(fe&&!ue);if(me){var He,qe;if("bracket"===me)(He=this.session.getBracketRange(R))||(qe=(He=new w(ne.getCurrentTokenRow(),ne.getCurrentTokenColumn()+ge-1,ne.getCurrentTokenRow(),ne.getCurrentTokenColumn()+ge-1)).start,(F||qe.row===R.row&&Math.abs(qe.column-R.column)<2)&&(He=this.session.getBracketRange(qe)));else if("tag"===me){if(!fe||-1===fe.type.indexOf("tag-name"))return;if(0===(He=new w(ne.getCurrentTokenRow(),ne.getCurrentTokenColumn()-2,ne.getCurrentTokenRow(),ne.getCurrentTokenColumn()-2)).compare(R.row,R.column)){var Qe=this.session.getMatchingTags(R);Qe&&(Qe.openTag.contains(R.row,R.column)?qe=(He=Qe.closeTag).start:(He=Qe.openTag,qe=Qe.closeTag.start.row===R.row&&Qe.closeTag.start.column===R.column?He.end:He.start))}qe=qe||He.start}(qe=He&&He.cursor||qe)&&(k?He&&F?this.selection.setRange(He):He&&He.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(qe.row,qe.column):this.selection.moveTo(qe.row,qe.column))}}},H.prototype.gotoLine=function(k,F,R){this.selection.clearSelection(),this.session.unfold({row:k-1,column:F||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(k-1,F||0),this.isRowFullyVisible(k-1)||this.scrollToLine(k-1,!0,R)},H.prototype.navigateTo=function(k,F){this.selection.moveTo(k,F)},H.prototype.navigateUp=function(k){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var F=this.selection.anchor.getPosition();return this.moveCursorToPosition(F)}this.selection.clearSelection(),this.selection.moveCursorBy(-k||-1,0)},H.prototype.navigateDown=function(k){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var F=this.selection.anchor.getPosition();return this.moveCursorToPosition(F)}this.selection.clearSelection(),this.selection.moveCursorBy(k||1,0)},H.prototype.navigateLeft=function(k){if(this.selection.isEmpty())for(k=k||1;k--;)this.selection.moveCursorLeft();else{var F=this.getSelectionRange().start;this.moveCursorToPosition(F)}this.clearSelection()},H.prototype.navigateRight=function(k){if(this.selection.isEmpty())for(k=k||1;k--;)this.selection.moveCursorRight();else{var F=this.getSelectionRange().end;this.moveCursorToPosition(F)}this.clearSelection()},H.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},H.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},H.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},H.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},H.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},H.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},H.prototype.replace=function(k,F){F&&this.$search.set(F);var R=this.$search.find(this.session),ne=0;return R&&(this.$tryReplace(R,k)&&(ne=1),this.selection.setSelectionRange(R),this.renderer.scrollSelectionIntoView(R.start,R.end)),ne},H.prototype.replaceAll=function(k,F){F&&this.$search.set(F);var R=this.$search.findAll(this.session),ne=0;if(!R.length)return ne;var te=this.getSelectionRange();this.selection.moveTo(0,0);for(var ce=R.length-1;ce>=0;--ce)this.$tryReplace(R[ce],k)&&ne++;return this.selection.setSelectionRange(te),ne},H.prototype.$tryReplace=function(k,F){var R=this.session.getTextRange(k);return null!==(F=this.$search.replace(R,F))?(k.end=this.session.replace(k,F),k):null},H.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},H.prototype.find=function(k,F,R){F||(F={}),"string"==typeof k||k instanceof RegExp?F.needle=k:"object"==typeof k&&x.mixin(F,k);var ne=this.selection.getRange();null==F.needle&&((k=this.session.getTextRange(ne)||this.$search.$options.needle)||(ne=this.session.getWordRange(ne.start.row,ne.start.column),k=this.session.getTextRange(ne)),this.$search.set({needle:k})),this.$search.set(F),F.start||this.$search.set({start:ne});var te=this.$search.find(this.session);return F.preventScroll?te:te?(this.revealRange(te,R),te):(F.backwards?ne.start=ne.end:ne.end=ne.start,void this.selection.setRange(ne))},H.prototype.findNext=function(k,F){this.find({skipCurrent:!0,backwards:!1},k,F)},H.prototype.findPrevious=function(k,F){this.find(k,{skipCurrent:!0,backwards:!0},F)},H.prototype.revealRange=function(k,F){this.session.unfold(k),this.selection.setSelectionRange(k);var R=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(k.start,k.end,.5),!1!==F&&this.renderer.animateScrolling(R)},H.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},H.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},H.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(k){k.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},H.prototype.setAutoScrollEditorIntoView=function(k){if(k){var F,R=this,ne=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var te=this.$scrollAnchor;te.style.cssText="position:absolute",this.container.insertBefore(te,this.container.firstChild);var ce=this.on("changeSelection",function(){ne=!0}),fe=this.renderer.on("beforeRender",function(){ne&&(F=R.renderer.container.getBoundingClientRect())}),me=this.renderer.on("afterRender",function(){if(ne&&F&&(R.isFocused()||R.searchBox&&R.searchBox.isFocused())){var ue=R.renderer,xe=ue.$cursorLayer.$pixelPos,ge=ue.layerConfig,Ne=xe.top-ge.offset;null!=(ne=xe.top>=0&&Ne+F.top<0||!(xe.top<ge.height&&xe.top+F.top+ge.lineHeight>window.innerHeight)&&null)&&(te.style.top=Ne+"px",te.style.left=xe.left+"px",te.style.height=ge.lineHeight+"px",te.scrollIntoView(ne)),ne=F=null}});this.setAutoScrollEditorIntoView=function(ue){ue||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",ce),this.renderer.off("afterRender",me),this.renderer.off("beforeRender",fe))}}},H.prototype.$resetCursorStyle=function(){var k=this.$cursorStyle||"ace",F=this.renderer.$cursorLayer;F&&(F.setSmoothBlinking(/smooth/.test(k)),F.isBlinking=!this.$readOnly&&"wide"!=k,M.setCssClass(F.element,"ace_slim-cursors",/slim/.test(k)))},H.prototype.prompt=function(k,F,R){var ne=this;U.loadModule("ace/ext/prompt",function(te){te.prompt(ne,k,F,R)})},H}();W.$uid=0,W.prototype.curOp=null,W.prototype.prevOp={},W.prototype.$mergeableCommands=["backspace","del","insertstring"],W.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],x.implement(W.prototype,D),U.defineOptions(W.prototype,"editor",{selectionStyle:{set:function(H){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:H})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(H){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(H){this.textInput.setReadOnly(H),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(H){this.textInput.setCopyWithEmptySelection(H)},initialValue:!1},cursorStyle:{set:function(H){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(H){this.setAutoScrollEditorIntoView(H)}},keyboardHandler:{set:function(H){this.setKeyboardHandler(H)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(H){this.session.setValue(H)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(H){this.setSession(H)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(H){this.renderer.$gutterLayer.setShowLineNumbers(H),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),H&&this.$relativeLineNumbers?re.attach(this):re.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(H){this.$showLineNumbers&&H?re.attach(this):re.detach(this)}},placeholder:{set:function(H){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var k=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(k&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),M.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(k||this.renderer.placeholderNode)!k&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),M.addCssClass(this.container,"ace_hasPlaceholder");var F=M.createElement("div");F.className="ace_placeholder",F.textContent=this.$placeholder||"",this.renderer.placeholderNode=F,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(H){var R,k={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(ne){ne.blur(),ne.renderer.scroller.focus()},readOnly:!0},F=function(ne){if(ne.target==this.renderer.scroller&&ne.keyCode===Y.enter){ne.preventDefault();var te=this.getCursorPosition().row;this.isRowVisible(te)||this.scrollToLine(te,!0,!0),this.focus()}};H?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(m.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",B("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",B("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",F.bind(this)),this.commands.addCommand(k),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",B("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",B("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),R||(R=new K(this)),R.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",F.bind(this)),this.commands.removeCommand(k),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),R&&R.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(H){this.$textInputAriaLabel=H},initialValue:""},enableMobileMenu:{set:function(H){this.$enableMobileMenu=H},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var re={getText:function(H,k){return(Math.abs(H.selection.lead.row-k)||k+1+(k<9?"\xb7":""))+""},getWidth:function(H,k,F){return Math.max(k.toString().length,(F.lastRow+1).toString().length,2)*F.characterWidth},update:function(H,k){k.renderer.$loop.schedule(k.renderer.CHANGE_GUTTER)},attach:function(H){H.renderer.$gutterLayer.$renderer=this,H.on("changeSelection",this.update),this.update(null,H)},detach:function(H){H.renderer.$gutterLayer.$renderer==this&&(H.renderer.$gutterLayer.$renderer=null),H.off("changeSelection",this.update),this.update(null,H)}};I.Editor=W}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(L,I,$){"use strict";var S=L("../lib/dom"),x=function(){function M(u,m){this.element=u,this.canvasHeight=m||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return M.prototype.moveContainer=function(u){S.translate(this.element,0,-u.firstRowScreen*u.lineHeight%this.canvasHeight-u.offset*this.$offsetCoefficient)},M.prototype.pageChanged=function(u,m){return Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)!==Math.floor(m.firstRowScreen*m.lineHeight/this.canvasHeight)},M.prototype.computeLineTop=function(u,m,d){var p=Math.floor(m.firstRowScreen*m.lineHeight/this.canvasHeight);return d.documentToScreenRow(u,0)*m.lineHeight-p*this.canvasHeight},M.prototype.computeLineHeight=function(u,m,d){return m.lineHeight*d.getRowLineCount(u)},M.prototype.getLength=function(){return this.cells.length},M.prototype.get=function(u){return this.cells[u]},M.prototype.shift=function(){this.$cacheCell(this.cells.shift())},M.prototype.pop=function(){this.$cacheCell(this.cells.pop())},M.prototype.push=function(u){if(Array.isArray(u)){this.cells.push.apply(this.cells,u);for(var m=S.createFragment(this.element),d=0;d<u.length;d++)m.appendChild(u[d].element);this.element.appendChild(m)}else this.cells.push(u),this.element.appendChild(u.element)},M.prototype.unshift=function(u){if(Array.isArray(u)){this.cells.unshift.apply(this.cells,u);for(var m=S.createFragment(this.element),d=0;d<u.length;d++)m.appendChild(u[d].element);this.element.firstChild?this.element.insertBefore(m,this.element.firstChild):this.element.appendChild(m)}else this.cells.unshift(u),this.element.insertAdjacentElement("afterbegin",u.element)},M.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},M.prototype.$cacheCell=function(u){u&&(u.element.remove(),this.cellCache.push(u))},M.prototype.createCell=function(u,m,d,f){var p=this.cellCache.pop();if(!p){var g=S.createElement("div");f&&f(g),this.element.appendChild(g),p={element:g,text:"",row:u}}return p.row=u,p},M}();I.Lines=x}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(L,I,$){"use strict";var S=L("../lib/dom"),x=L("../lib/oop"),M=L("../lib/lang"),u=L("../lib/event_emitter").EventEmitter,m=L("./lines").Lines,d=L("../config").nls,f=function(){function g(h){this.element=S.createElement("div"),this.element.className="ace_layer ace_gutter-layer",h.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new m(this.element),this.$lines.$offsetCoefficient=1}return g.prototype.setSession=function(h){this.session&&this.session.off("change",this.$updateAnnotations),this.session=h,h&&h.on("change",this.$updateAnnotations)},g.prototype.addGutterDecoration=function(h,_){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(h,_)},g.prototype.removeGutterDecoration=function(h,_){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(h,_)},g.prototype.setAnnotations=function(h){this.$annotations=[];for(var _=0;_<h.length;_++){var w=h[_],D=w.row,O=this.$annotations[D];O||(O=this.$annotations[D]={text:[],type:[],displayText:[]});var P=w.text,U=w.text,j=w.type;P=P?M.escapeHTML(P):w.html||"",U=U||w.html||"",-1===O.text.indexOf(P)&&(O.text.push(P),O.type.push(j),O.displayText.push(U));var K=w.className;K?O.className=K:"error"===j?O.className=" ace_error":"security"!==j||/\bace_error\b/.test(O.className)?"warning"!==j||/\bace_(error|security)\b/.test(O.className)?"info"!==j||O.className?"hint"===j&&!O.className&&(O.className=" ace_hint"):O.className=" ace_info":O.className=" ace_warning":O.className=" ace_security"}},g.prototype.$updateAnnotations=function(h){if(this.$annotations.length){var _=h.start.row,w=h.end.row-_;if(0!==w)if("remove"==h.action)this.$annotations.splice(_,w+1,null);else{var D=new Array(w+1);D.unshift(_,1),this.$annotations.splice.apply(this.$annotations,D)}}},g.prototype.update=function(h){this.config=h;var _=this.session,w=h.firstRow,D=Math.min(h.lastRow+h.gutterOffset,_.getLength()-1);this.oldLastRow=D,this.config=h,this.$lines.moveContainer(h),this.$updateCursorRow();for(var O=_.getNextFoldLine(w),P=O?O.start.row:1/0,U=null,j=-1,K=w;;){if(K>P&&(P=(O=_.getNextFoldLine(K=O.end.row+1,O))?O.start.row:1/0),K>D){for(;this.$lines.getLength()>j+1;)this.$lines.pop();break}(U=this.$lines.get(++j))?U.row=K:(U=this.$lines.createCell(K,h,this.session,p),this.$lines.push(U)),this.$renderCell(U,h,O,K),K++}this._signal("afterRender"),this.$updateGutterWidth(h)},g.prototype.$updateGutterWidth=function(h){var _=this.session,w=_.gutterRenderer||this.$renderer,D=_.$firstLineNumber,O=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||_.$useWrapMode)&&(O=_.getLength()+D-1);var P=w?w.getWidth(_,O,h):O.toString().length*h.characterWidth,U=this.$padding||this.$computePadding();(P+=U.left+U.right)!==this.gutterWidth&&!isNaN(P)&&(this.gutterWidth=P,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",P))},g.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var h=this.session.selection.getCursor();this.$cursorRow!==h.row&&(this.$cursorRow=h.row)}},g.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var h=this.session.selection.cursor.row;if(this.$cursorRow=h,!this.$cursorCell||this.$cursorCell.row!=h){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var _=this.$lines.cells;this.$cursorCell=null;for(var w=0;w<_.length;w++){var D=_[w];if(D.row>=this.$cursorRow){if(D.row>this.$cursorRow){var O=this.session.getFoldLine(this.$cursorRow);if(!(w>0&&O&&O.start.row==_[w-1].row))break;D=_[w-1]}D.element.className="ace_gutter-active-line "+D.element.className,this.$cursorCell=D;break}}}}},g.prototype.scrollLines=function(h){var _=this.config;if(this.config=h,this.$updateCursorRow(),this.$lines.pageChanged(_,h))return this.update(h);this.$lines.moveContainer(h);var w=Math.min(h.lastRow+h.gutterOffset,this.session.getLength()-1),D=this.oldLastRow;if(this.oldLastRow=w,!_||D<h.firstRow)return this.update(h);if(w<_.firstRow)return this.update(h);if(_.firstRow<h.firstRow)for(var O=this.session.getFoldedRowCount(_.firstRow,h.firstRow-1);O>0;O--)this.$lines.shift();if(D>w)for(O=this.session.getFoldedRowCount(w+1,D);O>0;O--)this.$lines.pop();h.firstRow<_.firstRow&&this.$lines.unshift(this.$renderLines(h,h.firstRow,_.firstRow-1)),w>D&&this.$lines.push(this.$renderLines(h,D+1,w)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(h)},g.prototype.$renderLines=function(h,_,w){for(var D=[],O=_,P=this.session.getNextFoldLine(O),U=P?P.start.row:1/0;O>U&&(U=(P=this.session.getNextFoldLine(O=P.end.row+1,P))?P.start.row:1/0),!(O>w);){var j=this.$lines.createCell(O,h,this.session,p);this.$renderCell(j,h,P,O),D.push(j),O++}return D},g.prototype.$renderCell=function(h,_,w,D){var O=h.element,P=this.session,U=O.childNodes[0],j=O.childNodes[1],K=O.childNodes[2],B=K.firstChild,Z=P.$firstLineNumber,Y=P.$breakpoints,W=P.$decorations,re=P.gutterRenderer||this.$renderer,H=this.$showFoldWidgets&&P.foldWidgets,k=w?w.start.row:Number.MAX_VALUE,F=_.lineHeight+"px",R=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",ne=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",te=(re?re.getText(P,D):D+Z).toString();if(this.$highlightGutterLine&&(D==this.$cursorRow||w&&D<this.$cursorRow&&D>=k&&this.$cursorRow<=w.end.row)&&(R+="ace_gutter-active-line ",this.$cursorCell!=h&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=h)),Y[D]&&(R+=Y[D]),W[D]&&(R+=W[D]),this.$annotations[D]&&D!==k&&(R+=this.$annotations[D].className),H){var ce=H[D];null==ce&&(ce=H[D]=P.getFoldWidget(D))}if(ce){var fe="ace_fold-widget ace_"+ce,me="start"==ce&&D==k&&D<w.end.row;if(me){fe+=" ace_closed";for(var ue="",xe=!1,ge=D+1;ge<=w.end.row;ge++)if(this.$annotations[ge]){if(" ace_error"===this.$annotations[ge].className){xe=!0,ue=" ace_error_fold";break}" ace_security"===this.$annotations[ge].className?(xe=!0,ue=" ace_security_fold"):" ace_warning"===this.$annotations[ge].className&&" ace_security_fold"!==ue&&(xe=!0,ue=" ace_warning_fold")}R+=ue}else fe+=" ace_open";j.className!=fe&&(j.className=fe),S.setStyle(j.style,"height",F),S.setStyle(j.style,"display","inline-block"),j.setAttribute("role","button"),j.setAttribute("tabindex","-1");var Ne=P.getFoldWidgetRange(D);j.setAttribute("aria-label",Ne?d("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[Ne.start.row+1,Ne.end.row+1]):w?d("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[w.start.row+1,w.end.row+1]):d("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[D+1])),me?(j.setAttribute("aria-expanded","false"),j.setAttribute("title",d("gutter.code-folding.closed.title","Unfold code"))):(j.setAttribute("aria-expanded","true"),j.setAttribute("title",d("gutter.code-folding.open.title","Fold code")))}else j&&(S.setStyle(j.style,"display","none"),j.setAttribute("tabindex","0"),j.removeAttribute("role"),j.removeAttribute("aria-label"));if(xe&&this.$showFoldedAnnotations){switch(K.className="ace_gutter_annotation",B.className=ne,B.className+=ue,S.setStyle(B.style,"height",F),S.setStyle(K.style,"display","block"),S.setStyle(K.style,"height",F),ue){case" ace_error_fold":Ae=d("gutter.annotation.aria-label.error","Error, read annotations row $0",[te]);break;case" ace_security_fold":Ae=d("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[te]);break;case" ace_warning_fold":Ae=d("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[te])}K.setAttribute("aria-label",Ae),K.setAttribute("tabindex","-1"),K.setAttribute("role","button")}else if(this.$annotations[D]){var Ae;switch(K.className="ace_gutter_annotation",B.className=ne,this.$useSvgGutterIcons?B.className+=this.$annotations[D].className:O.classList.add(this.$annotations[D].className.replace(" ","")),S.setStyle(B.style,"height",F),S.setStyle(K.style,"display","block"),S.setStyle(K.style,"height",F),this.$annotations[D].className){case" ace_error":Ae=d("gutter.annotation.aria-label.error","Error, read annotations row $0",[te]);break;case" ace_security":Ae=d("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[te]);break;case" ace_warning":Ae=d("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[te]);break;case" ace_info":Ae=d("gutter.annotation.aria-label.info","Info, read annotations row $0",[te]);break;case" ace_hint":Ae=d("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[te])}K.setAttribute("aria-label",Ae),K.setAttribute("tabindex","-1"),K.setAttribute("role","button")}else S.setStyle(K.style,"display","none"),K.removeAttribute("aria-label"),K.removeAttribute("role"),K.setAttribute("tabindex","0");return te!==U.data&&(U.data=te),O.className!=R&&(O.className=R),S.setStyle(h.element.style,"height",this.$lines.computeLineHeight(D,_,P)+"px"),S.setStyle(h.element.style,"top",this.$lines.computeLineTop(D,_,P)+"px"),h.text=te,h.element.setAttribute("aria-hidden","none"===K.style.display&&"none"===j.style.display),h},g.prototype.setHighlightGutterLine=function(h){this.$highlightGutterLine=h},g.prototype.setShowLineNumbers=function(h){this.$renderer=!h&&{getWidth:function(){return 0},getText:function(){return""}}},g.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},g.prototype.setShowFoldWidgets=function(h){h?S.addCssClass(this.element,"ace_folding-enabled"):S.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=h,this.$padding=null},g.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},g.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var h=S.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(h.borderLeftWidth)||0)+(parseInt(h.paddingLeft)||0)+1,this.$padding.right=(parseInt(h.borderRightWidth)||0)+(parseInt(h.paddingRight)||0),this.$padding},g.prototype.getRegion=function(h){var _=this.$padding||this.$computePadding(),w=this.element.getBoundingClientRect();return h.x<_.left+w.left?"markers":this.$showFoldWidgets&&h.x>w.right-_.right?"foldWidgets":void 0},g}();function p(g){var h=document.createTextNode("");g.appendChild(h);var _=S.createElement("span");g.appendChild(_);var w=S.createElement("span");g.appendChild(w);var D=S.createElement("span");return w.appendChild(D),g}f.prototype.$fixedWidth=!1,f.prototype.$highlightGutterLine=!0,f.prototype.$renderer="",f.prototype.$showLineNumbers=!0,f.prototype.$showFoldWidgets=!0,x.implement(f.prototype,u),I.Gutter=f}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(L,I,$){"use strict";var S=L("../range").Range,x=L("../lib/dom"),M=function(){function m(d){this.element=x.createElement("div"),this.element.className="ace_layer ace_marker-layer",d.appendChild(this.element)}return m.prototype.setPadding=function(d){this.$padding=d},m.prototype.setSession=function(d){this.session=d},m.prototype.setMarkers=function(d){this.markers=d},m.prototype.elt=function(d,f){var p=-1!=this.i&&this.element.childNodes[this.i];p?this.i++:(p=document.createElement("div"),this.element.appendChild(p),this.i=-1),p.style.cssText=f,p.className=d},m.prototype.update=function(d){if(d){var f;for(var p in this.config=d,this.i=0,this.markers){var g=this.markers[p];if(g.range){var h=g.range.clipRows(d.firstRow,d.lastRow);if(!h.isEmpty())if(h=h.toScreenRange(this.session),g.renderer){var _=this.$getTop(h.start.row,d);g.renderer(f,h,this.$padding+h.start.column*d.characterWidth,_,d)}else"fullLine"==g.type?this.drawFullLineMarker(f,h,g.clazz,d):"screenLine"==g.type?this.drawScreenLineMarker(f,h,g.clazz,d):h.isMultiLine()?"text"==g.type?this.drawTextMarker(f,h,g.clazz,d):this.drawMultiLineMarker(f,h,g.clazz,d):this.drawSingleLineMarker(f,h,g.clazz+" ace_start ace_br15",d)}else g.update(f,this,this.session,d)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},m.prototype.$getTop=function(d,f){return(d-f.firstRowScreen)*f.lineHeight},m.prototype.drawTextMarker=function(d,f,p,g,h){for(var _=this.session,w=f.start.row,D=f.end.row,O=w,P=0,U=0,j=_.getScreenLastRowColumn(O),K=new S(O,f.start.column,O,U);O<=D;O++)K.start.row=K.end.row=O,K.start.column=O==w?f.start.column:_.getRowWrapIndent(O),K.end.column=j,P=U,U=j,j=O+1<D?_.getScreenLastRowColumn(O+1):O==D?0:f.end.column,this.drawSingleLineMarker(d,K,p+(O==w?" ace_start":"")+" ace_br"+u(O==w||O==w+1&&f.start.column,P<U,U>j,O==D),g,O==D?0:1,h)},m.prototype.drawMultiLineMarker=function(d,f,p,g,h){var P,_=this.$padding,w=g.lineHeight,D=this.$getTop(f.start.row,g),O=_+f.start.column*g.characterWidth;if(h=h||"",this.session.$bidiHandler.isBidiRow(f.start.row)?((P=f.clone()).end.row=P.start.row,P.end.column=this.session.getLine(P.start.row).length,this.drawBidiSingleLineMarker(d,P,p+" ace_br1 ace_start",g,null,h)):this.elt(p+" ace_br1 ace_start","height:"+w+"px;right:"+_+"px;top:"+D+"px;left:"+O+"px;"+(h||"")),this.session.$bidiHandler.isBidiRow(f.end.row)?((P=f.clone()).start.row=P.end.row,P.start.column=0,this.drawBidiSingleLineMarker(d,P,p+" ace_br12",g,null,h)):(D=this.$getTop(f.end.row,g),this.elt(p+" ace_br12","height:"+w+"px;width:"+f.end.column*g.characterWidth+"px;top:"+D+"px;left:"+_+"px;"+(h||""))),!((w=(f.end.row-f.start.row-1)*g.lineHeight)<=0)){D=this.$getTop(f.start.row+1,g);var j=(f.start.column?1:0)|(f.end.column?0:8);this.elt(p+(j?" ace_br"+j:""),"height:"+w+"px;right:"+_+"px;top:"+D+"px;left:"+_+"px;"+(h||""))}},m.prototype.drawSingleLineMarker=function(d,f,p,g,h,_){if(this.session.$bidiHandler.isBidiRow(f.start.row))return this.drawBidiSingleLineMarker(d,f,p,g,h,_);var w=g.lineHeight,D=(f.end.column+(h||0)-f.start.column)*g.characterWidth,O=this.$getTop(f.start.row,g);this.elt(p,"height:"+w+"px;width:"+D+"px;top:"+O+"px;left:"+(this.$padding+f.start.column*g.characterWidth)+"px;"+(_||""))},m.prototype.drawBidiSingleLineMarker=function(d,f,p,g,h,_){var w=g.lineHeight,D=this.$getTop(f.start.row,g),O=this.$padding;this.session.$bidiHandler.getSelections(f.start.column,f.end.column).forEach(function(U){this.elt(p,"height:"+w+"px;width:"+(U.width+(h||0))+"px;top:"+D+"px;left:"+(O+U.left)+"px;"+(_||""))},this)},m.prototype.drawFullLineMarker=function(d,f,p,g,h){var _=this.$getTop(f.start.row,g),w=g.lineHeight;f.start.row!=f.end.row&&(w+=this.$getTop(f.end.row,g)-_),this.elt(p,"height:"+w+"px;top:"+_+"px;left:0;right:0;"+(h||""))},m.prototype.drawScreenLineMarker=function(d,f,p,g,h){var _=this.$getTop(f.start.row,g);this.elt(p,"height:"+g.lineHeight+"px;top:"+_+"px;left:0;right:0;"+(h||""))},m}();function u(m,d,f,p){return(m?1:0)|(d?2:0)|(f?4:0)|(p?8:0)}M.prototype.$padding=0,I.Marker=M}),ace.define("ace/layer/text_util",["require","exports","module"],function(L,I,$){var S=new Set(["text","rparen","lparen"]);I.isTextToken=function(x){return S.has(x)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(L,I,$){"use strict";var S=L("../lib/oop"),x=L("../lib/dom"),M=L("../lib/lang"),u=L("./lines").Lines,m=L("../lib/event_emitter").EventEmitter,d=L("../config").nls,f=L("./text_util").isTextToken,p=function(){function g(h){this.dom=x,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",h.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new u(this.element)}return g.prototype.$updateEolChar=function(){var h=this.session.doc,w="\n"==h.getNewLineCharacter()&&"windows"!=h.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=w)return this.EOL_CHAR=w,!0},g.prototype.setPadding=function(h){this.$padding=h,this.element.style.margin="0 "+h+"px"},g.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},g.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},g.prototype.$setFontMetrics=function(h){this.$fontMetrics=h,this.$fontMetrics.on("changeCharacterSize",function(_){this._signal("changeCharacterSize",_)}.bind(this)),this.$pollSizeChanges()},g.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},g.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},g.prototype.setSession=function(h){this.session=h,h&&this.$computeTabString()},g.prototype.setShowInvisibles=function(h){return this.showInvisibles!=h&&(this.showInvisibles=h,"string"==typeof h?(this.showSpaces=/tab/i.test(h),this.showTabs=/space/i.test(h),this.showEOL=/eol/i.test(h)):this.showSpaces=this.showTabs=this.showEOL=h,this.$computeTabString(),!0)},g.prototype.setDisplayIndentGuides=function(h){return this.displayIndentGuides!=h&&(this.displayIndentGuides=h,this.$computeTabString(),!0)},g.prototype.setHighlightIndentGuides=function(h){return this.$highlightIndentGuides!==h&&(this.$highlightIndentGuides=h,h)},g.prototype.$computeTabString=function(){var h=this.session.getTabSize();this.tabSize=h;for(var _=this.$tabStrings=[0],w=1;w<h+1;w++)this.showTabs?((D=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",D.textContent=M.stringRepeat(this.TAB_CHAR,w),_.push(D)):_.push(this.dom.createTextNode(M.stringRepeat(" ",w),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var D,O="ace_indent-guide",P=this.showSpaces?" ace_invisible ace_invisible_space":"",U=M.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),j=this.showTabs?" ace_invisible ace_invisible_tab":"",K=this.showTabs?M.stringRepeat(this.TAB_CHAR,this.tabSize):U;(D=this.dom.createElement("span")).className=O+P,D.textContent=U,this.$tabStrings[" "]=D,(D=this.dom.createElement("span")).className=O+j,D.textContent=K,this.$tabStrings["\t"]=D}},g.prototype.updateLines=function(h,_,w){if(this.config.lastRow!=h.lastRow||this.config.firstRow!=h.firstRow)return this.update(h);this.config=h;for(var D=Math.max(_,h.firstRow),O=Math.min(w,h.lastRow),P=this.element.childNodes,U=0,K=h.firstRow;K<D;K++){if(B=this.session.getFoldLine(K)){if(B.containsRow(D)){D=B.start.row;break}K=B.end.row}U++}for(var B,j=!1,Z=(B=this.session.getNextFoldLine(K=D))?B.start.row:1/0;K>Z&&(Z=(B=this.session.getNextFoldLine(K=B.end.row+1,B))?B.start.row:1/0),!(K>O);){var Y=P[U++];if(Y){this.dom.removeChildren(Y),this.$renderLine(Y,K,K==Z&&B),j&&(Y.style.top=this.$lines.computeLineTop(K,h,this.session)+"px");var W=h.lineHeight*this.session.getRowLength(K)+"px";Y.style.height!=W&&(j=!0,Y.style.height=W)}K++}if(j)for(;U<this.$lines.cells.length;){var re=this.$lines.cells[U++];re.element.style.top=this.$lines.computeLineTop(re.row,h,this.session)+"px"}},g.prototype.scrollLines=function(h){var _=this.config;if(this.config=h,this.$lines.pageChanged(_,h))return this.update(h);this.$lines.moveContainer(h);var w=h.lastRow;if(!_||(_?_.lastRow:-1)<h.firstRow)return this.update(h);if(w<_.firstRow)return this.update(h);if(!_||_.lastRow<h.firstRow)return this.update(h);if(h.lastRow<_.firstRow)return this.update(h);if(_.firstRow<h.firstRow)for(var O=this.session.getFoldedRowCount(_.firstRow,h.firstRow-1);O>0;O--)this.$lines.shift();if(_.lastRow>h.lastRow)for(O=this.session.getFoldedRowCount(h.lastRow+1,_.lastRow);O>0;O--)this.$lines.pop();h.firstRow<_.firstRow&&this.$lines.unshift(this.$renderLinesFragment(h,h.firstRow,_.firstRow-1)),h.lastRow>_.lastRow&&this.$lines.push(this.$renderLinesFragment(h,_.lastRow+1,h.lastRow)),this.$highlightIndentGuide()},g.prototype.$renderLinesFragment=function(h,_,w){for(var D=[],O=_,P=this.session.getNextFoldLine(O),U=P?P.start.row:1/0;O>U&&(U=(P=this.session.getNextFoldLine(O=P.end.row+1,P))?P.start.row:1/0),!(O>w);){var j=this.$lines.createCell(O,h,this.session),K=j.element;this.dom.removeChildren(K),x.setStyle(K.style,"height",this.$lines.computeLineHeight(O,h,this.session)+"px"),x.setStyle(K.style,"top",this.$lines.computeLineTop(O,h,this.session)+"px"),this.$renderLine(K,O,O==U&&P),K.className=this.$useLineGroups()?"ace_line_group":"ace_line",D.push(j),O++}return D},g.prototype.update=function(h){this.$lines.moveContainer(h),this.config=h;for(var _=h.firstRow,w=h.lastRow,D=this.$lines;D.getLength();)D.pop();D.push(this.$renderLinesFragment(h,_,w))},g.prototype.$renderToken=function(h,_,w,D){for(var j,O=this,P=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,U=this.dom.createFragment(this.element),K=0;j=P.exec(D);){var B=j[1],Z=j[2],Y=j[3],W=j[4],re=j[5];if(O.showSpaces||!Z){var H=K!=j.index?D.slice(K,j.index):"";if(K=j.index+j[0].length,H&&U.appendChild(this.dom.createTextNode(H,this.element)),B){var k=O.session.getScreenTabSize(_+j.index);U.appendChild(O.$tabStrings[k].cloneNode(!0)),_+=k-1}else Z?O.showSpaces?((F=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",F.textContent=M.stringRepeat(O.SPACE_CHAR,Z.length),U.appendChild(F)):U.appendChild(this.dom.createTextNode(Z,this.element)):Y?((F=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",F.textContent=M.stringRepeat(O.SPACE_CHAR,Y.length),U.appendChild(F)):W?(_+=1,(F=this.dom.createElement("span")).style.width=2*O.config.characterWidth+"px",F.className=O.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",F.textContent=O.showSpaces?O.SPACE_CHAR:W,U.appendChild(F)):re&&(_+=1,(F=this.dom.createElement("span")).style.width=2*O.config.characterWidth+"px",F.className="ace_cjk",F.textContent=re,U.appendChild(F))}}if(U.appendChild(this.dom.createTextNode(K?D.slice(K):D,this.element)),f(w.type))h.appendChild(U);else{var R="ace_"+w.type.replace(/\./g," ace_"),F=this.dom.createElement("span");"fold"==w.type&&(F.style.width=w.value.length*this.config.characterWidth+"px",F.setAttribute("title",d("inline-fold.closed.title","Unfold code"))),F.className=R,F.appendChild(U),h.appendChild(F)}return _+D.length},g.prototype.renderIndentGuide=function(h,_,w){var D=_.search(this.$indentGuideRe);if(D<=0||D>=w)return _;if(" "==_[0]){for(var O=(D-=D%this.tabSize)/this.tabSize,P=0;P<O;P++)h.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),_.substr(D)}if("\t"==_[0]){for(P=0;P<D;P++)h.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),_.substr(D)}return this.$highlightIndentGuide(),_},g.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var h=this.session.doc.$lines;if(h){var _=this.session.selection.getCursor(),w=/^\s*/.exec(this.session.doc.getLine(_.row))[0].length,D=Math.floor(w/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:D,start:_.row},this.session.$bracketHighlight)for(var P=this.session.$bracketHighlight.ranges,U=0;U<P.length;U++)if(_.row!==P[U].start.row){this.$highlightIndentGuideMarker.end=P[U].start.row,this.$highlightIndentGuideMarker.dir=_.row>P[U].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==h[_.row]&&_.column===h[_.row].length)for(this.$highlightIndentGuideMarker.dir=1,U=_.row+1;U<h.length;U++){var j=h[U],K=/^\s*/.exec(j)[0].length;if(""!==j&&(this.$highlightIndentGuideMarker.end=U,K<=w))break}this.$renderHighlightIndentGuide()}}},g.prototype.$clearActiveIndentGuide=function(){for(var h=this.$lines.cells,_=0;_<h.length;_++){var D=h[_].element.childNodes;if(D.length>0)for(var O=0;O<D.length;O++)if(D[O].classList&&D[O].classList.contains("ace_indent-guide-active")){D[O].classList.remove("ace_indent-guide-active");break}}},g.prototype.$setIndentGuideActive=function(h,_){if(""!==this.session.doc.getLine(h.row)){var D=h.element.childNodes;if(D){var O=D[_-1];O&&O.classList&&O.classList.contains("ace_indent-guide")&&O.classList.add("ace_indent-guide-active")}}},g.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var h=this.$lines.cells;this.$clearActiveIndentGuide();var _=this.$highlightIndentGuideMarker.indentLevel;if(0!==_)if(1===this.$highlightIndentGuideMarker.dir)for(var w=0;w<h.length;w++){var D=h[w];if(this.$highlightIndentGuideMarker.end&&D.row>=this.$highlightIndentGuideMarker.start+1){if(D.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(D,_)}}else for(w=h.length-1;w>=0;w--)if(D=h[w],this.$highlightIndentGuideMarker.end&&D.row<this.$highlightIndentGuideMarker.start){if(D.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(D,_)}}},g.prototype.$createLineElement=function(h){var _=this.dom.createElement("div");return _.className="ace_line",_.style.height=this.config.lineHeight+"px",_},g.prototype.$renderWrappedLine=function(h,_,w){var D=0,O=0,P=w[0],U=0,j=this.$createLineElement();h.appendChild(j);for(var K=0;K<_.length;K++){var B=_[K],Z=B.value;if(0==K&&this.displayIndentGuides){if(D=Z.length,!(Z=this.renderIndentGuide(j,Z,P)))continue;D-=Z.length}if(D+Z.length<P)U=this.$renderToken(j,U,B,Z),D+=Z.length;else{for(;D+Z.length>=P;)U=this.$renderToken(j,U,B,Z.substring(0,P-D)),Z=Z.substring(P-D),D=P,j=this.$createLineElement(),h.appendChild(j),j.appendChild(this.dom.createTextNode(M.stringRepeat("\xa0",w.indent),this.element)),U=0,P=w[++O]||Number.MAX_VALUE;0!=Z.length&&(D+=Z.length,U=this.$renderToken(j,U,B,Z))}}w[w.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(j,U,null,"",!0)},g.prototype.$renderSimpleLine=function(h,_){for(var w=0,D=0;D<_.length;D++){var O=_[D],P=O.value;if(0!=D||!this.displayIndentGuides||(P=this.renderIndentGuide(h,P))){if(w+P.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(h,w,O,P);w=this.$renderToken(h,w,O,P)}}},g.prototype.$renderOverflowMessage=function(h,_,w,D,O){w&&this.$renderToken(h,_,w,D.slice(0,this.MAX_LINE_LENGTH-_));var P=this.dom.createElement("span");P.className="ace_inline_button ace_keyword ace_toggle_wrap",P.textContent=O?"<hide>":"<click to see more...>",h.appendChild(P)},g.prototype.$renderLine=function(h,_,w){if(!w&&0!=w&&(w=this.session.getFoldLine(_)),w)var D=this.$getFoldLineTokens(_,w);else D=this.session.getTokens(_);var O=h;if(D.length){var P=this.session.getRowSplitData(_);P&&P.length?(this.$renderWrappedLine(h,D,P),O=h.lastChild):(O=h,this.$useLineGroups()&&(O=this.$createLineElement(),h.appendChild(O)),this.$renderSimpleLine(O,D))}else this.$useLineGroups()&&(O=this.$createLineElement(),h.appendChild(O));if(this.showEOL&&O){w&&(_=w.end.row);var U=this.dom.createElement("span");U.className="ace_invisible ace_invisible_eol",U.textContent=_==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,O.appendChild(U)}},g.prototype.$getFoldLineTokens=function(h,_){var w=this.session,D=[],P=w.getTokens(h);return _.walk(function(U,j,K,B,Z){null!=U?D.push({type:"fold",value:U}):(Z&&(P=w.getTokens(j)),P.length&&function O(U,j,K){for(var B=0,Z=0;Z+U[B].value.length<j;)if(Z+=U[B].value.length,++B==U.length)return;for(Z!=j&&((Y=U[B].value.substring(j-Z)).length>K-j&&(Y=Y.substring(0,K-j)),D.push({type:U[B].type,value:Y}),Z=j+Y.length,B+=1);Z<K&&B<U.length;){var Y;D.push((Y=U[B].value).length+Z>K?{type:U[B].type,value:Y.substring(0,K-Z)}:U[B]),Z+=Y.length,B+=1}}(P,B,K))},_.end.row,this.session.getLine(_.end.row).length),D},g.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},g}();p.prototype.EOF_CHAR="\xb6",p.prototype.EOL_CHAR_LF="\xac",p.prototype.EOL_CHAR_CRLF="\xa4",p.prototype.EOL_CHAR=p.prototype.EOL_CHAR_LF,p.prototype.TAB_CHAR="\u2014",p.prototype.SPACE_CHAR="\xb7",p.prototype.$padding=0,p.prototype.MAX_LINE_LENGTH=1e4,p.prototype.showInvisibles=!1,p.prototype.showSpaces=!1,p.prototype.showTabs=!1,p.prototype.showEOL=!1,p.prototype.displayIndentGuides=!0,p.prototype.$highlightIndentGuides=!0,p.prototype.$tabStrings=[],p.prototype.destroy={},p.prototype.onChangeTabSize=p.prototype.$computeTabString,S.implement(p.prototype,m),I.Text=p}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(L,I,$){"use strict";var S=L("../lib/dom"),x=function(){function M(u){this.element=S.createElement("div"),this.element.className="ace_layer ace_cursor-layer",u.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),S.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return M.prototype.$updateOpacity=function(u){for(var m=this.cursors,d=m.length;d--;)S.setStyle(m[d].style,"opacity",u?"":"0")},M.prototype.$startCssAnimation=function(){for(var u=this.cursors,m=u.length;m--;)u[m].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&S.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},M.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,S.removeCssClass(this.element,"ace_animate-blinking")},M.prototype.setPadding=function(u){this.$padding=u},M.prototype.setSession=function(u){this.session=u},M.prototype.setBlinking=function(u){u!=this.isBlinking&&(this.isBlinking=u,this.restartTimer())},M.prototype.setBlinkInterval=function(u){u!=this.blinkInterval&&(this.blinkInterval=u,this.restartTimer())},M.prototype.setSmoothBlinking=function(u){u!=this.smoothBlinking&&(this.smoothBlinking=u,S.setCssClass(this.element,"ace_smooth-blinking",u),this.$updateCursors(!0),this.restartTimer())},M.prototype.addCursor=function(){var u=S.createElement("div");return u.className="ace_cursor",this.element.appendChild(u),this.cursors.push(u),u},M.prototype.removeCursor=function(){if(this.cursors.length>1){var u=this.cursors.pop();return u.parentNode.removeChild(u),u}},M.prototype.hideCursor=function(){this.isVisible=!1,S.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},M.prototype.showCursor=function(){this.isVisible=!0,S.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},M.prototype.restartTimer=function(){var u=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,S.removeCssClass(this.element,"ace_smooth-blinking")),u(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&S.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),S.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var m=function(){this.timeoutId=setTimeout(function(){u(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){u(!0),m()},this.blinkInterval),m()}else this.$stopCssAnimation()},M.prototype.getPixelPosition=function(u,m){if(!this.config||!this.session)return{left:0,top:0};u||(u=this.session.selection.getCursor());var d=this.session.documentToScreenPosition(u);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(d.row,u.row)?this.session.$bidiHandler.getPosLeft(d.column):d.column*this.config.characterWidth),top:(d.row-(m?this.config.firstRowScreen:0))*this.config.lineHeight}},M.prototype.isCursorInView=function(u,m){return u.top>=0&&u.top<m.maxHeight},M.prototype.update=function(u){this.config=u;var m=this.session.$selectionMarkers,d=0,f=0;(void 0===m||0===m.length)&&(m=[{cursor:null}]),d=0;for(var p=m.length;d<p;d++){var g=this.getPixelPosition(m[d].cursor,!0);if(!((g.top>u.height+u.offset||g.top<0)&&d>1)){var h=this.cursors[f++]||this.addCursor(),_=h.style;this.drawCursor?this.drawCursor(h,g,u,m[d],this.session):this.isCursorInView(g,u)?(S.setStyle(_,"display","block"),S.translate(h,g.left,g.top),S.setStyle(_,"width",Math.round(u.characterWidth)+"px"),S.setStyle(_,"height",u.lineHeight+"px")):S.setStyle(_,"display","none")}}for(;this.cursors.length>f;)this.removeCursor();var w=this.session.getOverwrite();this.$setOverwrite(w),this.$pixelPos=g,this.restartTimer()},M.prototype.$setOverwrite=function(u){u!=this.overwrite&&(this.overwrite=u,u?S.addCssClass(this.element,"ace_overwrite-cursors"):S.removeCssClass(this.element,"ace_overwrite-cursors"))},M.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},M}();x.prototype.$padding=0,x.prototype.drawCursor=null,I.Cursor=x}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(L,I,$){"use strict";var S=this&&this.__extends||function(){var h=function(_,w){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(D[P]=O[P])})(_,w)};return function(_,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function D(){this.constructor=_}h(_,w),_.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}}(),x=L("./lib/oop"),M=L("./lib/dom"),u=L("./lib/event"),m=L("./lib/event_emitter").EventEmitter,d=32768,f=function(){function h(_,w){this.element=M.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+w,this.inner=M.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),_.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addListener(this.element,"scroll",this.onScroll.bind(this)),u.addListener(this.element,"mousedown",u.preventDefault)}return h.prototype.setVisible=function(_){this.element.style.display=_?"":"none",this.isVisible=_,this.coeff=1},h}();x.implement(f.prototype,m);var p=function(h){function _(w,D){var O=h.call(this,w,"-v")||this;return O.scrollTop=0,O.scrollHeight=0,D.$scrollbarWidth=O.width=M.scrollbarWidth(w.ownerDocument),O.inner.style.width=O.element.style.width=(O.width||15)+5+"px",O.$minWidth=0,O}return S(_,h),_.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var w=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-w)/(this.coeff-w)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},_.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},_.prototype.setHeight=function(w){this.element.style.height=w+"px"},_.prototype.setScrollHeight=function(w){this.scrollHeight=w,w>d?(this.coeff=d/w,w=d):1!=this.coeff&&(this.coeff=1),this.inner.style.height=w+"px"},_.prototype.setScrollTop=function(w){this.scrollTop!=w&&(this.skipEvent=!0,this.scrollTop=w,this.element.scrollTop=w*this.coeff)},_}(f);p.prototype.setInnerHeight=p.prototype.setScrollHeight;var g=function(h){function _(w,D){var O=h.call(this,w,"-h")||this;return O.scrollLeft=0,O.height=D.$scrollbarWidth,O.inner.style.height=O.element.style.height=(O.height||15)+5+"px",O}return S(_,h),_.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},_.prototype.getHeight=function(){return this.isVisible?this.height:0},_.prototype.setWidth=function(w){this.element.style.width=w+"px"},_.prototype.setInnerWidth=function(w){this.inner.style.width=w+"px"},_.prototype.setScrollWidth=function(w){this.inner.style.width=w+"px"},_.prototype.setScrollLeft=function(w){this.scrollLeft!=w&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=w)},_}(f);I.ScrollBar=p,I.ScrollBarV=p,I.ScrollBarH=g,I.VScrollBar=p,I.HScrollBar=g}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(L,I,$){"use strict";var S=this&&this.__extends||function(){var g=function(h,_){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,D){w.__proto__=D}||function(w,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(w[O]=D[O])})(h,_)};return function(h,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function w(){this.constructor=h}g(h,_),h.prototype=null===_?Object.create(_):(w.prototype=_.prototype,new w)}}(),x=L("./lib/oop"),M=L("./lib/dom"),u=L("./lib/event"),m=L("./lib/event_emitter").EventEmitter;M.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var d=function(){function g(h,_){this.element=M.createElement("div"),this.element.className="ace_sb"+_,this.inner=M.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,h.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return g.prototype.setVisible=function(h){this.element.style.display=h?"":"none",this.isVisible=h,this.coeff=1},g}();x.implement(d.prototype,m);var f=function(g){function h(_,w){var D=g.call(this,_,"-v")||this;return D.scrollTop=0,D.scrollHeight=0,D.parent=_,D.width=D.VScrollWidth,D.renderer=w,D.inner.style.width=D.element.style.width=(D.width||15)+"px",D.$minWidth=0,D}return S(h,g),h.prototype.onMouseDown=function(_,w){if("mousedown"===_&&0===u.getButton(w)&&2!==w.detail){if(w.target===this.inner){var D=this,O=w.clientY,j=w.clientY,K=this.thumbTop;u.capture(this.inner,function(W){O=W.clientY},function(){clearInterval(Z)});var Z=setInterval(function(){if(void 0!==O){var W=D.scrollTopFromThumbTop(K+O-j);W!==D.scrollTop&&D._emit("scroll",{data:W})}},20);return u.preventDefault(w)}var Y=w.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(Y)}),u.preventDefault(w)}},h.prototype.getHeight=function(){return this.height},h.prototype.scrollTopFromThumbTop=function(_){var w=_*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(w|=0)<0?w=0:w>this.pageHeight-this.viewHeight&&(w=this.pageHeight-this.viewHeight),w},h.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},h.prototype.setHeight=function(_){this.height=Math.max(0,_),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},h.prototype.setScrollHeight=function(_,w){this.pageHeight===_&&!w||(this.pageHeight=_,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},h.prototype.setScrollTop=function(_){this.scrollTop=_,_<0&&(_=0),this.thumbTop=_*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},h}(d);f.prototype.setInnerHeight=f.prototype.setScrollHeight;var p=function(g){function h(_,w){var D=g.call(this,_,"-h")||this;return D.scrollLeft=0,D.scrollWidth=0,D.height=D.HScrollHeight,D.inner.style.height=D.element.style.height=(D.height||12)+"px",D.renderer=w,D}return S(h,g),h.prototype.onMouseDown=function(_,w){if("mousedown"===_&&0===u.getButton(w)&&2!==w.detail){if(w.target===this.inner){var D=this,O=w.clientX,j=w.clientX,K=this.thumbLeft;u.capture(this.inner,function(W){O=W.clientX},function(){clearInterval(Z)});var Z=setInterval(function(){if(void 0!==O){var W=D.scrollLeftFromThumbLeft(K+O-j);W!==D.scrollLeft&&D._emit("scroll",{data:W})}},20);return u.preventDefault(w)}var Y=w.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(Y)}),u.preventDefault(w)}},h.prototype.getHeight=function(){return this.isVisible?this.height:0},h.prototype.scrollLeftFromThumbLeft=function(_){var w=_*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(w|=0)<0?w=0:w>this.pageWidth-this.viewWidth&&(w=this.pageWidth-this.viewWidth),w},h.prototype.setWidth=function(_){this.width=Math.max(0,_),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},h.prototype.setScrollWidth=function(_,w){this.pageWidth===_&&!w||(this.pageWidth=_,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},h.prototype.setScrollLeft=function(_){this.scrollLeft=_,_<0&&(_=0),this.thumbLeft=_*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},h}(d);p.prototype.setInnerWidth=p.prototype.setScrollWidth,I.ScrollBar=f,I.ScrollBarV=f,I.ScrollBarH=p,I.VScrollBar=f,I.HScrollBar=p}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(L,I,$){"use strict";var S=L("./lib/event"),x=function(){function M(u,m){this.onRender=u,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=m||window;var d=this;this._flush=function(f){d.pending=!1;var p=d.changes;if(p&&(S.blockIdle(100),d.changes=0,d.onRender(p)),d.changes){if(d.$recursionLimit--<0)return;d.schedule()}else d.$recursionLimit=2}}return M.prototype.schedule=function(u){this.changes=this.changes|u,this.changes&&!this.pending&&(S.nextFrame(this._flush),this.pending=!0)},M.prototype.clear=function(u){var m=this.changes;return this.changes=0,m},M}();I.RenderLoop=x}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(L,I,$){var S=L("../lib/oop"),x=L("../lib/dom"),M=L("../lib/lang"),u=L("../lib/event"),m=L("../lib/useragent"),d=L("../lib/event_emitter").EventEmitter,f=512,p="function"==typeof ResizeObserver,g=200,h=function(){function _(w){this.el=x.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=x.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=x.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),w.appendChild(this.el),this.$measureNode.textContent=M.stringRepeat("X",f),this.$characterSize={width:0,height:0},p?this.$addObserver():this.checkForSizeChanges()}return _.prototype.$setMeasureNodeStyles=function(w,D){w.width=w.height="auto",w.left=w.top="0px",w.visibility="hidden",w.position="absolute",w.whiteSpace="pre",m.isIE<8?w["font-family"]="inherit":w.font="inherit",w.overflow=D?"hidden":"visible"},_.prototype.checkForSizeChanges=function(w){if(void 0===w&&(w=this.$measureSizes()),w&&(this.$characterSize.width!==w.width||this.$characterSize.height!==w.height)){this.$measureNode.style.fontWeight="bold";var D=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=w,this.charSizes=Object.create(null),this.allowBoldFonts=D&&D.width===w.width&&D.height===w.height,this._emit("changeCharacterSize",{data:w})}},_.prototype.$addObserver=function(){var w=this;this.$observer=new window.ResizeObserver(function(D){w.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},_.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var w=this;return this.$pollSizeChangesTimer=u.onIdle(function D(){w.checkForSizeChanges(),u.onIdle(D,500)},500)},_.prototype.setPolling=function(w){w?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},_.prototype.$measureSizes=function(w){var D={height:(w||this.$measureNode).clientHeight,width:(w||this.$measureNode).clientWidth/f};return 0===D.width||0===D.height?null:D},_.prototype.$measureCharWidth=function(w){return this.$main.textContent=M.stringRepeat(w,f),this.$main.getBoundingClientRect().width/f},_.prototype.getCharacterWidth=function(w){var D=this.charSizes[w];return void 0===D&&(D=this.charSizes[w]=this.$measureCharWidth(w)/this.$characterSize.width),D},_.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},_.prototype.$getZoom=function(w){return w&&w.parentElement?(Number(window.getComputedStyle(w).zoom)||1)*this.$getZoom(w.parentElement):1},_.prototype.$initTransformMeasureNodes=function(){var w=function(D,O){return["div",{style:"position: absolute;top:"+D+"px;left:"+O+"px;"}]};this.els=x.buildDom([w(0,0),w(g,0),w(0,g),w(g,g)],this.el)},_.prototype.transformCoordinates=function(w,D){function P(me,ue,xe){var ge=me[1]*ue[0]-me[0]*ue[1];return[(-ue[1]*xe[0]+ue[0]*xe[1])/ge,(+me[1]*xe[0]-me[0]*xe[1])/ge]}function U(me,ue){return[me[0]-ue[0],me[1]-ue[1]]}function j(me,ue){return[me[0]+ue[0],me[1]+ue[1]]}function K(me,ue){return[me*ue[0],me*ue[1]]}function B(me){var ue=me.getBoundingClientRect();return[ue.left,ue.top]}w&&(w=K(1/this.$getZoom(this.el),w)),this.els||this.$initTransformMeasureNodes();var Z=B(this.els[0]),Y=B(this.els[1]),W=B(this.els[2]),re=B(this.els[3]),H=P(U(re,Y),U(re,W),U(j(Y,W),j(re,Z))),k=K(1+H[0],U(Y,Z)),F=K(1+H[1],U(W,Z));if(D){var R=D,ne=H[0]*R[0]/g+H[1]*R[1]/g+1,te=j(K(R[0],k),K(R[1],F));return j(K(1/ne/g,te),Z)}var ce=U(w,Z),fe=P(U(k,K(H[0],ce)),U(F,K(H[1],ce)),ce);return K(g,fe)},_}();h.prototype.$characterSize={width:0,height:0},S.implement(h.prototype,d),I.FontMetrics=h}),ace.define("ace/css/editor-css",["require","exports","module"],function(L,I,$){$.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    forced-color-adjust: none;\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_security {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n.ace_icon_svg.ace_hint {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");\n    background-color: silver;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_security_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    position: relative;\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n    z-index: 1;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}\n\n.ace_ghost_text_container > div {\n    white-space: pre;\n}\n\n.ghost_text_line_wrapped::after {\n    content: "\u21a9";\n    position: absolute;\n}\n\n.ace_lineWidgetContainer.ace_ghost_text {\n    margin: 0px 4px\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}\n\n.ace_hidden_token {\n    display: none;\n}'}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(L,I,$){"use strict";var S=L("../lib/dom"),x=L("../lib/oop"),M=L("../lib/event_emitter").EventEmitter,u=function(){function m(d,f){this.canvas=S.createElement("canvas"),this.renderer=f,this.pixelRatio=1,this.maxHeight=f.layerConfig.maxHeight,this.lineHeight=f.layerConfig.lineHeight,this.canvasHeight=d.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=d.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},d.element.appendChild(this.canvas)}return m.prototype.$updateDecorators=function(d){var f=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;d&&(this.maxHeight=d.maxHeight,this.lineHeight=d.lineHeight,this.canvasHeight=d.height,this.heightRatio=(d.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight);var g=this.canvas.getContext("2d"),_=this.renderer.session.$annotations;if(g.clearRect(0,0,this.canvas.width,this.canvas.height),_){var w={info:1,warning:2,error:3};_.forEach(function(re){re.priority=w[re.type]||null}),_=_.sort(function h(re,H){return re.priority<H.priority?-1:re.priority>H.priority?1:0});for(var D=this.renderer.session.$foldData,O=0;O<_.length;O++){var P=_[O].row,U=this.compensateFoldRows(P,D),j=Math.round((P-U)*this.lineHeight*this.heightRatio),K=Math.round((P-U)*this.lineHeight*this.heightRatio),B=Math.round(((P-U)*this.lineHeight+this.lineHeight)*this.heightRatio);if(B-K<this.minDecorationHeight){var Y=(K+B)/2|0;Y<this.halfMinDecorationHeight?Y=this.halfMinDecorationHeight:Y+this.halfMinDecorationHeight>this.canvasHeight&&(Y=this.canvasHeight-this.halfMinDecorationHeight),K=Math.round(Y-this.halfMinDecorationHeight),B=Math.round(Y+this.halfMinDecorationHeight)}g.fillStyle=f[_[O].type]||null,g.fillRect(0,j,this.canvasWidth,B-K)}}var W=this.renderer.session.selection.getCursor();W&&(U=this.compensateFoldRows(W.row,D),j=Math.round((W.row-U)*this.lineHeight*this.heightRatio),g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,j,this.canvasWidth,2))},m.prototype.compensateFoldRows=function(d,f){var p=0;if(f&&f.length>0)for(var g=0;g<f.length;g++)d>f[g].start.row&&d<f[g].end.row?p+=d-f[g].start.row:d>=f[g].end.row&&(p+=f[g].end.row-f[g].start.row);return p},m}();x.implement(u.prototype,M),I.Decorator=u}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(L,I,$){"use strict";var S=L("./lib/oop"),x=L("./lib/dom"),M=L("./lib/lang"),u=L("./config"),m=L("./layer/gutter").Gutter,d=L("./layer/marker").Marker,f=L("./layer/text").Text,p=L("./layer/cursor").Cursor,g=L("./scrollbar").HScrollBar,h=L("./scrollbar").VScrollBar,_=L("./scrollbar_custom").HScrollBar,w=L("./scrollbar_custom").VScrollBar,D=L("./renderloop").RenderLoop,O=L("./layer/font_metrics").FontMetrics,P=L("./lib/event_emitter").EventEmitter,U=L("./css/editor-css"),j=L("./layer/decorators").Decorator,K=L("./lib/useragent"),B=L("./layer/text_util").isTextToken;x.importCssString(U,"ace_editor.css",!1);var Z=function(){function Y(W,re){var H=this;this.container=W||x.createElement("div"),x.addCssClass(this.container,"ace_editor"),x.HI_DPI&&x.addCssClass(this.container,"ace_hidpi"),this.setTheme(re),null==u.get("useStrictCSP")&&u.set("useStrictCSP",!1),this.$gutter=x.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=x.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=x.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new m(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new d(this.content);var k=this.$textLayer=new f(this.content);this.canvas=k.element,this.$markerFront=new d(this.content),this.$cursorLayer=new p(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.on("scroll",function(F){H.$scrollAnimation||H.session.setScrollTop(F.data-H.scrollMargin.top)}),this.scrollBarH.on("scroll",function(F){H.$scrollAnimation||H.session.setScrollLeft(F.data-H.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new O(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(F){H.updateCharacterSize(),H.onResize(!0,H.gutterWidth,H.$size.width,H.$size.height),H._signal("changeCharacterSize",F)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!K.isIOS,this.$loop=new D(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),u.resetOptions(this),u._signal("renderer",this)}return Y.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),x.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},Y.prototype.setSession=function(W){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=W,W&&this.scrollMargin.top&&W.getScrollTop()<=0&&W.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(W),this.$markerBack.setSession(W),this.$markerFront.setSession(W),this.$gutterLayer.setSession(W),this.$textLayer.setSession(W),W&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},Y.prototype.updateLines=function(W,re,H){if(void 0===re&&(re=1/0),this.$changedLines?(this.$changedLines.firstRow>W&&(this.$changedLines.firstRow=W),this.$changedLines.lastRow<re&&(this.$changedLines.lastRow=re)):this.$changedLines={firstRow:W,lastRow:re},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!H)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},Y.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},Y.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},Y.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},Y.prototype.updateFull=function(W){W?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},Y.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},Y.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},Y.prototype.onResize=function(W,re,H,k){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=W?1:0;var F=this.container;k||(k=F.clientHeight||F.scrollHeight),!k&&this.$maxLines&&this.lineHeight>1&&(!F.style.height||"0px"==F.style.height)&&(F.style.height="1px",k=F.clientHeight||F.scrollHeight),H||(H=F.clientWidth||F.scrollWidth);var R=this.$updateCachedSize(W,re,H,k);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!H&&!k)return this.resizing=0;W&&(this.$gutterLayer.$padding=null),W?this.$renderChanges(R|this.$changes,!0):this.$loop.schedule(R|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},Y.prototype.$updateCachedSize=function(W,re,H,k){var F=0,R=this.$size,ne={width:R.width,height:R.height,scrollerHeight:R.scrollerHeight,scrollerWidth:R.scrollerWidth};if((k-=this.$extraHeight||0)&&(W||R.height!=k)&&(R.height=k,F|=this.CHANGE_SIZE,R.scrollerHeight=R.height,this.$horizScroll&&(R.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(R.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",F|=this.CHANGE_SCROLL),H&&(W||R.width!=H)){F|=this.CHANGE_SIZE,R.width=H,null==re&&(re=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=re,x.setStyle(this.scrollBarH.element.style,"left",re+"px"),x.setStyle(this.scroller.style,"left",re+this.margin.left+"px"),R.scrollerWidth=Math.max(0,H-re-this.scrollBarV.getWidth()-this.margin.h),x.setStyle(this.$gutter.style,"left",this.margin.left+"px");var te=this.scrollBarV.getWidth()+"px";x.setStyle(this.scrollBarH.element.style,"right",te),x.setStyle(this.scroller.style,"right",te),x.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(R.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||W)&&(F|=this.CHANGE_FULL)}return R.$dirty=!H||!k,F&&this._signal("resize",ne),F},Y.prototype.onGutterResize=function(W){var re=this.$showGutter?W:0;re!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,re,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},Y.prototype.adjustWrapLimit=function(){var re=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(re,this.$showPrintMargin&&this.$printMarginColumn)},Y.prototype.setAnimatedScroll=function(W){this.setOption("animatedScroll",W)},Y.prototype.getAnimatedScroll=function(){return this.$animatedScroll},Y.prototype.setShowInvisibles=function(W){this.setOption("showInvisibles",W),this.session.$bidiHandler.setShowInvisibles(W)},Y.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},Y.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},Y.prototype.setDisplayIndentGuides=function(W){this.setOption("displayIndentGuides",W)},Y.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},Y.prototype.setHighlightIndentGuides=function(W){this.setOption("highlightIndentGuides",W)},Y.prototype.setShowPrintMargin=function(W){this.setOption("showPrintMargin",W)},Y.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},Y.prototype.setPrintMarginColumn=function(W){this.setOption("printMarginColumn",W)},Y.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},Y.prototype.getShowGutter=function(){return this.getOption("showGutter")},Y.prototype.setShowGutter=function(W){return this.setOption("showGutter",W)},Y.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},Y.prototype.setFadeFoldWidgets=function(W){this.setOption("fadeFoldWidgets",W)},Y.prototype.setHighlightGutterLine=function(W){this.setOption("highlightGutterLine",W)},Y.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},Y.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var W=x.createElement("div");W.className="ace_layer ace_print-margin-layer",this.$printMarginEl=x.createElement("div"),this.$printMarginEl.className="ace_print-margin",W.appendChild(this.$printMarginEl),this.content.insertBefore(W,this.content.firstChild)}var re=this.$printMarginEl.style;re.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",re.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},Y.prototype.getContainerElement=function(){return this.container},Y.prototype.getMouseEventTarget=function(){return this.scroller},Y.prototype.getTextAreaContainer=function(){return this.container},Y.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var W=this.textarea.style,re=this.$composition;if(!this.$keepTextAreaAtCursor&&!re)return void x.translate(this.textarea,-100,0);var H=this.$cursorLayer.$pixelPos;if(H){re&&re.markerRange&&(H=this.$cursorLayer.getPixelPosition(re.markerRange.start,!0));var k=this.layerConfig,F=H.top,R=H.left,ne=re&&re.useTextareaForIME||K.isMobile?this.lineHeight:1;if((F-=k.offset)<0||F>k.height-ne)return void x.translate(this.textarea,0,0);var te=1,ce=this.$size.height-ne;re?re.useTextareaForIME?te=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:F+=this.lineHeight+2:F+=this.lineHeight,(R-=this.scrollLeft)>this.$size.scrollerWidth-te&&(R=this.$size.scrollerWidth-te),R+=this.gutterWidth+this.margin.left,x.setStyle(W,"height",ne+"px"),x.setStyle(W,"width",te+"px"),x.translate(this.textarea,Math.min(R,this.$size.scrollerWidth-te),Math.min(F,ce))}}},Y.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},Y.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},Y.prototype.getLastFullyVisibleRow=function(){var W=this.layerConfig,re=W.lastRow;return this.session.documentToScreenRow(re,0)*W.lineHeight-this.session.getScrollTop()>W.height-W.lineHeight?re-1:re},Y.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},Y.prototype.setPadding=function(W){this.$padding=W,this.$textLayer.setPadding(W),this.$cursorLayer.setPadding(W),this.$markerFront.setPadding(W),this.$markerBack.setPadding(W),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},Y.prototype.setScrollMargin=function(W,re,H,k){var F=this.scrollMargin;F.top=0|W,F.bottom=0|re,F.right=0|k,F.left=0|H,F.v=F.top+F.bottom,F.h=F.left+F.right,F.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-F.top),this.updateFull()},Y.prototype.setMargin=function(W,re,H,k){var F=this.margin;F.top=0|W,F.bottom=0|re,F.right=0|k,F.left=0|H,F.v=F.top+F.bottom,F.h=F.left+F.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},Y.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},Y.prototype.setHScrollBarAlwaysVisible=function(W){this.setOption("hScrollBarAlwaysVisible",W)},Y.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},Y.prototype.setVScrollBarAlwaysVisible=function(W){this.setOption("vScrollBarAlwaysVisible",W)},Y.prototype.$updateScrollBarV=function(){var W=this.layerConfig.maxHeight,re=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(W-=(re-this.lineHeight)*this.$scrollPastEnd)-re&&(W=this.scrollTop+re,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(W+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},Y.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},Y.prototype.freeze=function(){this.$frozen=!0},Y.prototype.unfreeze=function(){this.$frozen=!1},Y.prototype.$renderChanges=function(W,re){if(this.$changes&&(W|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(W||re)){if(this.$size.$dirty)return this.$changes|=W,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",W),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var H=this.layerConfig;if(W&this.CHANGE_FULL||W&this.CHANGE_SIZE||W&this.CHANGE_TEXT||W&this.CHANGE_LINES||W&this.CHANGE_SCROLL||W&this.CHANGE_H_SCROLL){if(W|=this.$computeLayerConfig()|this.$loop.clear(),H.firstRow!=this.layerConfig.firstRow&&H.firstRowScreen==this.layerConfig.firstRowScreen){var k=this.scrollTop+(H.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;k>0&&(this.scrollTop=k,W|=this.CHANGE_SCROLL,W|=this.$computeLayerConfig()|this.$loop.clear())}H=this.layerConfig,this.$updateScrollBarV(),W&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),x.translate(this.content,-this.scrollLeft,-H.offset);var R=H.minHeight+"px";x.setStyle(this.content.style,"width",H.width+2*this.$padding+"px"),x.setStyle(this.content.style,"height",R)}return W&this.CHANGE_H_SCROLL&&(x.translate(this.content,-this.scrollLeft,-H.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),W&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(H),this.$showGutter&&this.$gutterLayer.update(H),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(H),this.$markerBack.update(H),this.$markerFront.update(H),this.$cursorLayer.update(H),this.$moveTextAreaToCursor(),void this._signal("afterRender",W)):W&this.CHANGE_SCROLL?(this.$changedLines=null,W&this.CHANGE_TEXT||W&this.CHANGE_LINES?this.$textLayer.update(H):this.$textLayer.scrollLines(H),this.$showGutter&&(W&this.CHANGE_GUTTER||W&this.CHANGE_LINES?this.$gutterLayer.update(H):this.$gutterLayer.scrollLines(H)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(H),this.$markerBack.update(H),this.$markerFront.update(H),this.$cursorLayer.update(H),this.$moveTextAreaToCursor(),void this._signal("afterRender",W)):(W&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(H),this.$showGutter&&this.$gutterLayer.update(H),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(H)):W&this.CHANGE_LINES?((this.$updateLines()||W&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(H),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(H)):W&this.CHANGE_TEXT||W&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(H),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(H)):W&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(H),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(H)),W&this.CHANGE_CURSOR&&(this.$cursorLayer.update(H),this.$moveTextAreaToCursor()),W&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(H),W&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(H),void this._signal("afterRender",W))}this.$changes|=W},Y.prototype.$autosize=function(){var W=this.session.getScreenLength()*this.lineHeight,re=this.$maxLines*this.lineHeight,H=Math.min(re,Math.max((this.$minLines||1)*this.lineHeight,W))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(H+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&H>this.$maxPixelHeight&&(H=this.$maxPixelHeight);var F=!(H<=2*this.lineHeight)&&W>re;if(H!=this.desiredHeight||this.$size.height!=this.desiredHeight||F!=this.$vScroll){F!=this.$vScroll&&(this.$vScroll=F,this.scrollBarV.setVisible(F));var R=this.container.clientWidth;this.container.style.height=H+"px",this.$updateCachedSize(!0,this.$gutterWidth,R,H),this.desiredHeight=H,this._signal("autosize")}},Y.prototype.$computeLayerConfig=function(){var W=this.session,re=this.$size,H=re.height<=2*this.lineHeight,F=this.session.getScreenLength()*this.lineHeight,R=this.$getLongestLine(),ne=!H&&(this.$hScrollBarAlwaysVisible||re.scrollerWidth-R-2*this.$padding<0),te=this.$horizScroll!==ne;te&&(this.$horizScroll=ne,this.scrollBarH.setVisible(ne));var ce=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var fe=re.scrollerHeight+this.lineHeight,me=!this.$maxLines&&this.$scrollPastEnd?(re.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;F+=me;var ue=this.scrollMargin;this.session.setScrollTop(Math.max(-ue.top,Math.min(this.scrollTop,F-re.scrollerHeight+ue.bottom))),this.session.setScrollLeft(Math.max(-ue.left,Math.min(this.scrollLeft,R+2*this.$padding-re.scrollerWidth+ue.right)));var xe=!H&&(this.$vScrollBarAlwaysVisible||re.scrollerHeight-F+me<0||this.scrollTop>ue.top),ge=ce!==xe;ge&&(this.$vScroll=xe,this.scrollBarV.setVisible(xe));var Qe,ct,Ne=this.scrollTop%this.lineHeight,Ae=Math.ceil(fe/this.lineHeight)-1,He=Math.max(0,Math.round((this.scrollTop-Ne)/this.lineHeight)),qe=He+Ae,ht=this.lineHeight;He=W.screenToDocumentRow(He,0);var ft=W.getFoldLine(He);ft&&(He=ft.start.row),Qe=W.documentToScreenRow(He,0),ct=W.getRowLength(He)*ht,qe=Math.min(W.screenToDocumentRow(qe,0),W.getLength()-1),fe=re.scrollerHeight+W.getRowLength(qe)*ht+ct,Ne=this.scrollTop-Qe*ht;var vt=0;return(this.layerConfig.width!=R||te)&&(vt=this.CHANGE_H_SCROLL),(te||ge)&&(vt|=this.$updateCachedSize(!0,this.gutterWidth,re.width,re.height),this._signal("scrollbarVisibilityChanged"),ge&&(R=this.$getLongestLine())),this.layerConfig={width:R,padding:this.$padding,firstRow:He,firstRowScreen:Qe,lastRow:qe,lineHeight:ht,characterWidth:this.characterWidth,minHeight:fe,maxHeight:F,offset:Ne,gutterOffset:ht?Math.max(0,Math.ceil((Ne+re.height-re.scrollerHeight)/ht)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(R-this.$padding),vt},Y.prototype.$updateLines=function(){if(this.$changedLines){var W=this.$changedLines.firstRow,re=this.$changedLines.lastRow;this.$changedLines=null;var H=this.layerConfig;if(!(W>H.lastRow+1||re<H.firstRow))return re===1/0?(this.$showGutter&&this.$gutterLayer.update(H),void this.$textLayer.update(H)):(this.$textLayer.updateLines(H,W,re),!0)}},Y.prototype.$getLongestLine=function(){var W=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(W+=1),this.$textLayer&&W>this.$textLayer.MAX_LINE_LENGTH&&(W=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(W*this.characterWidth))},Y.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},Y.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},Y.prototype.addGutterDecoration=function(W,re){this.$gutterLayer.addGutterDecoration(W,re)},Y.prototype.removeGutterDecoration=function(W,re){this.$gutterLayer.removeGutterDecoration(W,re)},Y.prototype.updateBreakpoints=function(W){this._rows=W,this.$loop.schedule(this.CHANGE_GUTTER)},Y.prototype.setAnnotations=function(W){this.$gutterLayer.setAnnotations(W),this.$loop.schedule(this.CHANGE_GUTTER)},Y.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},Y.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},Y.prototype.showCursor=function(){this.$cursorLayer.showCursor()},Y.prototype.scrollSelectionIntoView=function(W,re,H){this.scrollCursorIntoView(W,H),this.scrollCursorIntoView(re,H)},Y.prototype.scrollCursorIntoView=function(W,re,H){if(0!==this.$size.scrollerHeight){var k=this.$cursorLayer.getPixelPosition(W),F=k.left,R=k.top,ne=H&&H.top||0,te=H&&H.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var ce=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;ce+ne>R?(re&&ce+ne>R+this.lineHeight&&(R-=re*this.$size.scrollerHeight),0===R&&(R=-this.scrollMargin.top),this.session.setScrollTop(R)):ce+this.$size.scrollerHeight-te<R+this.lineHeight&&(re&&ce+this.$size.scrollerHeight-te<R-this.lineHeight&&(R+=re*this.$size.scrollerHeight),this.session.setScrollTop(R+this.lineHeight+te-this.$size.scrollerHeight));var fe=this.scrollLeft,me=2*this.layerConfig.characterWidth;F-me<fe?((F-=me)<this.$padding+me&&(F=-this.scrollMargin.left),this.session.setScrollLeft(F)):fe+this.$size.scrollerWidth<(F+=me)+this.characterWidth?this.session.setScrollLeft(Math.round(F+this.characterWidth-this.$size.scrollerWidth)):fe<=this.$padding&&F-fe<this.characterWidth&&this.session.setScrollLeft(0)}},Y.prototype.getScrollTop=function(){return this.session.getScrollTop()},Y.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},Y.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},Y.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},Y.prototype.scrollToRow=function(W){this.session.setScrollTop(W*this.lineHeight)},Y.prototype.alignCursor=function(W,re){"number"==typeof W&&(W={row:W,column:0});var F=this.$cursorLayer.getPixelPosition(W).top-(this.$size.scrollerHeight-this.lineHeight)*(re||0);return this.session.setScrollTop(F),F},Y.prototype.$calcSteps=function(W,re){var te,H=0,k=this.STEPS,F=[];for(H=0;H<k;++H)F.push((te=W,(re-W)*(Math.pow(H/this.STEPS-1,3)+1)+te));return F},Y.prototype.scrollToLine=function(W,re,H,k){var R=this.$cursorLayer.getPixelPosition({row:W,column:0}).top;re&&(R-=this.$size.scrollerHeight/2);var ne=this.scrollTop;this.session.setScrollTop(R),!1!==H&&this.animateScrolling(ne,k)},Y.prototype.animateScrolling=function(W,re){var H=this.scrollTop;if(this.$animatedScroll){var k=this;if(W!=H){if(this.$scrollAnimation){var F=this.$scrollAnimation.steps;if(F.length&&(W=F[0])==H)return}var R=k.$calcSteps(W,H);this.$scrollAnimation={from:W,to:H,steps:R},clearInterval(this.$timer),k.session.setScrollTop(R.shift()),k.session.$scrollTop=H,this.$timer=setInterval(function(){if(!k.$stopAnimation)return k.session?void(R.length?(k.session.setScrollTop(R.shift()),k.session.$scrollTop=H):null!=H?(k.session.$scrollTop=-1,k.session.setScrollTop(H),H=null):ne()):clearInterval(k.$timer);ne()},10)}}function ne(){k.$timer=clearInterval(k.$timer),k.$scrollAnimation=null,k.$stopAnimation=!1,re&&re()}},Y.prototype.scrollToY=function(W){this.scrollTop!==W&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=W)},Y.prototype.scrollToX=function(W){this.scrollLeft!==W&&(this.scrollLeft=W),this.$loop.schedule(this.CHANGE_H_SCROLL)},Y.prototype.scrollTo=function(W,re){this.session.setScrollTop(re),this.session.setScrollLeft(W)},Y.prototype.scrollBy=function(W,re){re&&this.session.setScrollTop(this.session.getScrollTop()+re),W&&this.session.setScrollLeft(this.session.getScrollLeft()+W)},Y.prototype.isScrollableBy=function(W,re){if(re<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||re>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||W<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||W>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},Y.prototype.pixelToScreenCoordinates=function(W,re){var H;if(this.$hasCssTransforms){H={top:0,left:0};var k=this.$fontMetrics.transformCoordinates([W,re]);W=k[1]-this.gutterWidth-this.margin.left,re=k[0]}else H=this.scroller.getBoundingClientRect();var F=W+this.scrollLeft-H.left-this.$padding,R=F/this.characterWidth,ne=Math.floor((re+this.scrollTop-H.top)/this.lineHeight),te=this.$blockCursor?Math.floor(R):Math.round(R);return{row:ne,column:te,side:R-te>0?1:-1,offsetX:F}},Y.prototype.screenToTextCoordinates=function(W,re){var H;if(this.$hasCssTransforms){H={top:0,left:0};var k=this.$fontMetrics.transformCoordinates([W,re]);W=k[1]-this.gutterWidth-this.margin.left,re=k[0]}else H=this.scroller.getBoundingClientRect();var F=W+this.scrollLeft-H.left-this.$padding,R=F/this.characterWidth,ne=this.$blockCursor?Math.floor(R):Math.round(R),te=Math.floor((re+this.scrollTop-H.top)/this.lineHeight);return this.session.screenToDocumentPosition(te,Math.max(ne,0),F)},Y.prototype.textToScreenCoordinates=function(W,re){var H=this.scroller.getBoundingClientRect(),k=this.session.documentToScreenPosition(W,re),F=this.$padding+(this.session.$bidiHandler.isBidiRow(k.row,W)?this.session.$bidiHandler.getPosLeft(k.column):Math.round(k.column*this.characterWidth));return{pageX:H.left+F-this.scrollLeft,pageY:H.top+k.row*this.lineHeight-this.scrollTop}},Y.prototype.visualizeFocus=function(){x.addCssClass(this.container,"ace_focus")},Y.prototype.visualizeBlur=function(){x.removeCssClass(this.container,"ace_focus")},Y.prototype.showComposition=function(W){this.$composition=W,W.cssText||(W.cssText=this.textarea.style.cssText),null==W.useTextareaForIME&&(W.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(x.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):W.markerId=this.session.addMarker(W.markerRange,"ace_composition_marker","text")},Y.prototype.setCompositionText=function(W){var re=this.session.selection.cursor;this.addToken(W,"composition_placeholder",re.row,re.column),this.$moveTextAreaToCursor()},Y.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),x.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var W=this.session.selection.cursor;this.removeExtraToken(W.row,W.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},Y.prototype.setGhostText=function(W,re){var H=this.session.selection.cursor,k=re||{row:H.row,column:H.column};this.removeGhostText();var F=this.$calculateWrappedTextChunks(W,k);this.addToken(F[0].text,"ghost_text",k.row,k.column),this.$ghostText={text:W,position:{row:k.row,column:k.column}};var R=x.createElement("div");if(F.length>1){var te,ne=this.hideTokensAfterPosition(k.row,k.column);F.slice(1).forEach(function(ge){var Ne=x.createElement("div"),Ae=x.createElement("span");Ae.className="ace_ghost_text",ge.wrapped&&(Ne.className="ghost_text_line_wrapped"),0===ge.text.length&&(ge.text=" "),Ae.appendChild(x.createTextNode(ge.text)),Ne.appendChild(Ae),R.appendChild(Ne),te=Ne}),ne.forEach(function(ge){var Ne=x.createElement("span");B(ge.type)||(Ne.className="ace_"+ge.type.replace(/\./g," ace_")),Ne.appendChild(x.createTextNode(ge.value)),te.appendChild(Ne)}),this.$ghostTextWidget={el:R,row:k.row,column:k.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var ce=this.$cursorLayer.getPixelPosition(k,!0),me=this.container.getBoundingClientRect().height,ue=F.length*this.lineHeight;if(ue<me-ce.top)return;ue<me?this.scrollBy(0,(F.length-1)*this.lineHeight):this.scrollToRow(k.row)}},Y.prototype.$calculateWrappedTextChunks=function(W,re){var k=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth)-2;k=k<=0?60:k;for(var F=W.split(/\r?\n/),R=[],ne=0;ne<F.length;ne++){var te=this.session.$getDisplayTokens(F[ne],re.column),ce=this.session.$computeWrapSplits(te,k,this.session.$tabSize);if(ce.length>0){var fe=0;ce.push(F[ne].length);for(var me=0;me<ce.length;me++){var ue=F[ne].slice(fe,ce[me]);R.push({text:ue,wrapped:!0}),fe=ce[me]}}else R.push({text:F[ne],wrapped:!1})}return R},Y.prototype.removeGhostText=function(){if(this.$ghostText){var W=this.$ghostText.position;this.removeExtraToken(W.row,W.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},Y.prototype.addToken=function(W,re,H,k){var F=this.session;F.bgTokenizer.lines[H]=null;var R={type:re,value:W},ne=F.getTokens(H);if(null!=k&&ne.length)for(var te=0,ce=0;ce<ne.length;ce++){var fe=ne[ce];if(k<=(te+=fe.value.length)){var me=fe.value.length-(te-k),ue=fe.value.slice(0,me),xe=fe.value.slice(me);ne.splice(ce,1,{type:fe.type,value:ue},R,{type:fe.type,value:xe});break}}else ne.push(R);this.updateLines(H,H)},Y.prototype.hideTokensAfterPosition=function(W,re){for(var H=this.session.getTokens(W),k=0,F=!1,R=[],ne=0;ne<H.length;ne++){var te=H[ne];if(k+=te.value.length,"ghost_text"!==te.type){if(F){R.push({type:te.type,value:te.value}),te.type="hidden_token";continue}k===re&&(F=!0)}}return this.updateLines(W,W),R},Y.prototype.removeExtraToken=function(W,re){this.session.bgTokenizer.lines[W]=null,this.updateLines(W,W)},Y.prototype.setTheme=function(W,re){var H=this;function F(R){if(H.$themeId!=W)return re&&re();if(!R||!R.cssClass)throw new Error("couldn't load module "+W+" or it didn't call define");R.$id&&(H.$themeId=R.$id),x.importCssString(R.cssText,R.cssClass,H.container),H.theme&&x.removeCssClass(H.container,H.theme.cssClass);var ne="padding"in R?R.padding:"padding"in(H.theme||{})?4:H.$padding;H.$padding&&ne!=H.$padding&&H.setPadding(ne),H.$theme=R.cssClass,H.theme=R,x.addCssClass(H.container,R.cssClass),x.setCssClass(H.container,"ace_dark",R.isDark),H.$size&&(H.$size.width=0,H.$updateSizeAsync()),H._dispatchEvent("themeLoaded",{theme:R}),re&&re(),K.isSafari&&H.scroller&&(H.scroller.style.background="red",H.scroller.style.background="")}this.$themeId=W,H._dispatchEvent("themeChange",{theme:W}),W&&"string"!=typeof W?F(W):u.loadModule(["theme",W||this.$options.theme.initialValue],F)},Y.prototype.getTheme=function(){return this.$themeId},Y.prototype.setStyle=function(W,re){x.setCssClass(this.container,W,!1!==re)},Y.prototype.unsetStyle=function(W){x.removeCssClass(this.container,W)},Y.prototype.setCursorStyle=function(W){x.setStyle(this.scroller.style,"cursor",W)},Y.prototype.setMouseCursor=function(W){x.setStyle(this.scroller.style,"cursor",W)},Y.prototype.attachToShadowRoot=function(){x.importCssString(U,"ace_editor.css",this.container)},Y.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},Y.prototype.$updateCustomScrollbar=function(W){var re=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===W?(this.scrollBarV=new w(this.container,this),this.scrollBarH=new _(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollTop(H.data-re.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollLeft(H.data-re.scrollMargin.left)}),this.$scrollDecorator=new j(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollTop(H.data-re.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollLeft(H.data-re.scrollMargin.left)}))},Y.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var W=this;this.$resizeTimer=M.delayedCall(function(){W.destroyed||W.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(re){var k=re[0].contentRect.height;Math.abs(W.$size.width-re[0].contentRect.width)>1||Math.abs(W.$size.height-k)>1?W.$resizeTimer.delay():W.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},Y}();Z.prototype.CHANGE_CURSOR=1,Z.prototype.CHANGE_MARKER=2,Z.prototype.CHANGE_GUTTER=4,Z.prototype.CHANGE_SCROLL=8,Z.prototype.CHANGE_LINES=16,Z.prototype.CHANGE_TEXT=32,Z.prototype.CHANGE_SIZE=64,Z.prototype.CHANGE_MARKER_BACK=128,Z.prototype.CHANGE_MARKER_FRONT=256,Z.prototype.CHANGE_FULL=512,Z.prototype.CHANGE_H_SCROLL=1024,Z.prototype.$changes=0,Z.prototype.$padding=null,Z.prototype.$frozen=!1,Z.prototype.STEPS=8,S.implement(Z.prototype,P),u.defineOptions(Z.prototype,"renderer",{useResizeObserver:{set:function(Y){!Y&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):Y&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(Y){this.$textLayer.setShowInvisibles(Y)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(Y){"number"==typeof Y&&(this.$printMarginColumn=Y),this.$showPrintMargin=!!Y,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(Y){this.$gutter.style.display=Y?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(Y){this.$gutterLayer.$useSvgGutterIcons=Y},initialValue:!1},showFoldedAnnotations:{set:function(Y){this.$gutterLayer.$showFoldedAnnotations=Y},initialValue:!1},fadeFoldWidgets:{set:function(Y){x.setCssClass(this.$gutter,"ace_fade-fold-widgets",Y)},initialValue:!1},showFoldWidgets:{set:function(Y){this.$gutterLayer.setShowFoldWidgets(Y),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(Y){this.$textLayer.setDisplayIndentGuides(Y)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(Y){1==this.$textLayer.setHighlightIndentGuides(Y)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(Y){this.$gutterLayer.setHighlightGutterLine(Y),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(Y){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(Y){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(Y){"number"==typeof Y&&(Y+="px"),this.container.style.fontSize=Y,this.updateFontSize()},initialValue:12},fontFamily:{set:function(Y){this.container.style.fontFamily=Y,this.updateFontSize()}},maxLines:{set:function(Y){this.updateFull()}},minLines:{set:function(Y){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(Y){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(Y){this.$scrollPastEnd!=(Y=+Y||0)&&(this.$scrollPastEnd=Y,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(Y){this.$gutterLayer.$fixedWidth=!!Y,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(Y){this.$updateCustomScrollbar(Y)},initialValue:!1},theme:{set:function(Y){this.setTheme(Y)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!K.isMobile&&!K.isIE}}),I.VirtualRenderer=Z}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(L,I,$){"use strict";var S=L("../lib/oop"),x=L("../lib/net"),M=L("../lib/event_emitter").EventEmitter,u=L("../config");function d(g){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(u.get("loadWorkerFromBlob")){var h=function m(g){var h="importScripts('"+x.qualifyURL(g)+"');";try{return new Blob([h],{type:"application/javascript"})}catch{var w=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return w.append(h),w.getBlob("application/javascript")}}(g),w=(window.URL||window.webkitURL).createObjectURL(h);return new Worker(w)}return new Worker(g)}var f=function(g){g.postMessage||(g=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=g,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){S.implement(this,M),this.$createWorkerFromOldConfig=function(g,h,_,w,D){if(L.nameToUrl&&!L.toUrl&&(L.toUrl=L.nameToUrl),u.get("packaged")||!L.toUrl)w=w||u.moduleUrl(h,"worker");else{var O=this.$normalizePath;w=w||O(L.toUrl("ace/worker/worker.js",null,"_"));var P={};g.forEach(function(U){P[U]=O(L.toUrl(U,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=d(w),D&&this.send("importScripts",D),this.$worker.postMessage({init:!0,tlns:P,module:h,classname:_}),this.$worker},this.onMessage=function(g){var h=g.data;switch(h.type){case"event":this._signal(h.name,{data:h.data});break;case"call":var _=this.callbacks[h.id];_&&(_(h.data),delete this.callbacks[h.id]);break;case"error":this.reportError(h.data);break;case"log":window.console&&console.log&&console.log.apply(console,h.data)}},this.reportError=function(g){window.console&&console.error&&console.error(g)},this.$normalizePath=function(g){return x.qualifyURL(g)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(g){g.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(g,h){this.$worker.postMessage({command:g,args:h})},this.call=function(g,h,_){if(_){var w=this.callbackId++;this.callbacks[w]=_,h.push(w)}this.send(g,h)},this.emit=function(g,h){try{h.data&&h.data.err&&(h.data.err={message:h.data.err.message,stack:h.data.err.stack,code:h.data.err.code}),this.$worker&&this.$worker.postMessage({event:g,data:{data:h.data}})}catch(_){console.error(_.stack)}},this.attachToDocument=function(g){this.$doc&&this.terminate(),this.$doc=g,this.call("setValue",[g.getValue()]),g.on("change",this.changeListener,!0)},this.changeListener=function(g){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(g.start,"insert"==g.action?g.lines:g.end)},this.$sendDeltaQueue=function(){var g=this.deltaQueue;g&&(this.deltaQueue=null,g.length>50&&g.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:g}))}}).call(f.prototype),I.UIWorkerClient=function(g,h,_){var w=null,D=!1,O=Object.create(M),P=[],U=new f({messageBuffer:P,terminate:function(){},postMessage:function(K){P.push(K),w&&(D?setTimeout(j):j())}});U.setEmitSync=function(K){D=K};var j=function(){var K=P.shift();K.command?w[K.command].apply(w,K.args):K.event&&O._signal(K.event,K.data)};return O.postMessage=function(K){U.onMessage({data:K})},O.callback=function(K,B){this.postMessage({type:"call",id:B,data:K})},O.emit=function(K,B){this.postMessage({type:"event",name:K,data:B})},u.loadModule(["worker",h],function(K){for(w=new K[_](O);P.length;)j()}),U},I.WorkerClient=f,I.createWorker=d}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(L,I,$){"use strict";var S=L("./range").Range,x=L("./lib/event_emitter").EventEmitter,M=L("./lib/oop"),u=function(){function m(d,f,p,g,h,_){var w=this;this.length=f,this.session=d,this.doc=d.getDocument(),this.mainClass=h,this.othersClass=_,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=g,this.$onCursorChange=function(){setTimeout(function(){w.onCursorChange()})},this.$pos=p;var D=d.getUndoManager().$undoStack||d.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=D.length,this.setup(),d.selection.on("changeCursor",this.$onCursorChange)}return m.prototype.setup=function(){var d=this,f=this.doc,p=this.session;this.selectionBefore=p.selection.toJSON(),p.selection.inMultiSelectMode&&p.selection.toSingleRange(),this.pos=f.createAnchor(this.$pos.row,this.$pos.column);var g=this.pos;g.$insertRight=!0,g.detach(),g.markerId=p.addMarker(new S(g.row,g.column,g.row,g.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(h){var _=f.createAnchor(h.row,h.column);_.$insertRight=!0,_.detach(),d.others.push(_)}),p.setUndoSelect(!1)},m.prototype.showOtherMarkers=function(){if(!this.othersActive){var d=this.session,f=this;this.othersActive=!0,this.others.forEach(function(p){p.markerId=d.addMarker(new S(p.row,p.column,p.row,p.column+f.length),f.othersClass,null,!1)})}},m.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var d=0;d<this.others.length;d++)this.session.removeMarker(this.others[d].markerId)}},m.prototype.onUpdate=function(d){if(this.$updating)return this.updateAnchors(d);var f=d;if(f.start.row===f.end.row&&f.start.row===this.pos.row){this.$updating=!0;var p="insert"===d.action?f.end.column-f.start.column:f.start.column-f.end.column,g=f.start.column>=this.pos.column&&f.start.column<=this.pos.column+this.length+1,h=f.start.column-this.pos.column;if(this.updateAnchors(d),g&&(this.length+=p),g&&!this.session.$fromUndo)if("insert"===d.action)for(var _=this.others.length-1;_>=0;_--)this.doc.insertMergedLines(D={row:(w=this.others[_]).row,column:w.column+h},d.lines);else if("remove"===d.action)for(_=this.others.length-1;_>=0;_--){var w,D;this.doc.remove(new S((D={row:(w=this.others[_]).row,column:w.column+h}).row,D.column,D.row,D.column-p))}this.$updating=!1,this.updateMarkers()}},m.prototype.updateAnchors=function(d){this.pos.onChange(d);for(var f=this.others.length;f--;)this.others[f].onChange(d);this.updateMarkers()},m.prototype.updateMarkers=function(){if(!this.$updating){var d=this,f=this.session,p=function(h,_){f.removeMarker(h.markerId),h.markerId=f.addMarker(new S(h.row,h.column,h.row,h.column+d.length),_,null,!1)};p(this.pos,this.mainClass);for(var g=this.others.length;g--;)p(this.others[g],this.othersClass)}},m.prototype.onCursorChange=function(d){if(!this.$updating&&this.session){var f=this.session.selection.getCursor();f.row===this.pos.row&&f.column>=this.pos.column&&f.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",d)):(this.hideOtherMarkers(),this._emit("cursorLeave",d))}},m.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},m.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var d=this.session.getUndoManager(),f=(d.$undoStack||d.$undostack).length-this.$undoStackDepth,p=0;p<f;p++)d.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},m}();M.implement(u.prototype,x),I.PlaceHolder=u}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(L,I,$){var S=L("../lib/event"),x=L("../lib/useragent");function M(m,d){return m.row==d.row&&m.column==d.column}I.onMouseDown=function u(m){var d=m.domEvent,f=d.altKey,p=d.shiftKey,g=d.ctrlKey,h=m.getAccelKey(),_=m.getButton();if(g&&x.isMac&&(_=d.button),m.editor.inMultiSelectMode&&2==_)m.editor.textInput.onContextMenu(m.domEvent);else if(g||f||h){if(0===_){var H,w=m.editor,D=w.selection,O=w.inMultiSelectMode,P=m.getDocumentPosition(),U=D.getCursor(),j=m.inSelection()||D.isEmpty()&&M(P,U),K=m.x,B=m.y,Y=w.session,W=w.renderer.pixelToScreenCoordinates(K,B),re=W;if(w.$mouseHandler.$enableJumpToDef)g&&f||h&&f?H=p?"block":"add":f&&w.$blockSelectEnabled&&(H="block");else if(h&&!f){if(H="add",!O&&p)return}else f&&w.$blockSelectEnabled&&(H="block");if(H&&x.isMac&&d.ctrlKey&&w.$mouseHandler.cancelContextMenu(),"add"==H){if(!O&&j)return;if(!O){var k=D.toOrientedRange();w.addSelectionMarker(k)}var F=D.rangeList.rangeAtPoint(P);w.inVirtualSelectionMode=!0,p&&(F=null,w.removeSelectionMarker(k=D.ranges[0]||k)),w.once("mouseup",function(){var ue=D.toOrientedRange();F&&ue.isEmpty()&&M(F.cursor,ue.cursor)?D.substractPoint(ue.cursor):(p?D.substractPoint(k.cursor):k&&(w.removeSelectionMarker(k),D.addRange(k)),D.addRange(ue)),w.inVirtualSelectionMode=!1})}else if("block"==H){m.stop(),w.inVirtualSelectionMode=!0;var R,ne=[],te=function(){var ue=w.renderer.pixelToScreenCoordinates(K,B),xe=Y.screenToDocumentPosition(ue.row,ue.column,ue.offsetX);M(re,ue)&&M(xe,D.lead)||(re=ue,w.selection.moveToPosition(xe),w.renderer.scrollCursorIntoView(),w.removeSelectionMarkers(ne),ne=D.rectangularRangeBlock(re,W),w.$mouseHandler.$clickSelection&&1==ne.length&&ne[0].isEmpty()&&(ne[0]=w.$mouseHandler.$clickSelection.clone()),ne.forEach(w.addSelectionMarker,w),w.updateSelectionMarkers())};O&&!h?D.toSingleRange():!O&&h&&(R=D.toOrientedRange(),w.addSelectionMarker(R)),p?W=Y.documentToScreenPosition(D.lead):D.moveToPosition(P),re={row:-1,column:-1};var fe=te;S.capture(w.container,function(ue){K=ue.clientX,B=ue.clientY},function(ue){te(),clearInterval(me),w.removeSelectionMarkers(ne),ne.length||(ne=[D.toOrientedRange()]),R&&(w.removeSelectionMarker(R),D.toSingleRange(R));for(var xe=0;xe<ne.length;xe++)D.addRange(ne[xe]);w.inVirtualSelectionMode=!1,w.$mouseHandler.$clickSelection=null});var me=setInterval(function(){fe()},20);return m.preventDefault()}}}else 0===_&&m.editor.inMultiSelectMode&&m.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(L,I,$){I.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(x){x.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(x){x.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(x){x.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(x){x.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(x){x.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(x){x.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(x){x.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(x){x.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(x){x.multiSelect.rangeCount>1?x.multiSelect.joinSelections():x.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(x){x.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(x){x.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(x){x.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],I.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(x){x.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(x){return x&&x.inMultiSelectMode}}];var S=L("../keyboard/hash_handler").HashHandler;I.keyboardHandler=new S(I.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(L,I,$){var S=L("./range_list").RangeList,x=L("./range").Range,M=L("./selection").Selection,u=L("./mouse/multi_select_handler").onMouseDown,m=L("./lib/event"),d=L("./lib/lang"),f=L("./commands/multi_select_commands");I.commands=f.defaultCommands.concat(f.multiSelectCommands);var g=new(0,L("./search").Search),_=L("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(_.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(U,j){if(U){if(!this.inMultiSelectMode&&0===this.rangeCount){var K=this.toOrientedRange();if(this.rangeList.add(K),this.rangeList.add(U),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),j||this.fromOrientedRange(U);this.rangeList.removeAll(),this.rangeList.add(K),this.$onAddRange(K)}U.cursor||(U.cursor=U.end);var B=this.rangeList.add(U);return this.$onAddRange(U),B.length&&this.$onRemoveRange(B),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),j||this.fromOrientedRange(U)}},this.toSingleRange=function(U){U=U||this.ranges[0];var j=this.rangeList.removeAll();j.length&&this.$onRemoveRange(j),U&&this.fromOrientedRange(U)},this.substractPoint=function(U){var j=this.rangeList.substractPoint(U);if(j)return this.$onRemoveRange(j),j[0]},this.mergeOverlappingRanges=function(){var U=this.rangeList.merge();U.length&&this.$onRemoveRange(U)},this.$onAddRange=function(U){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(U),this._signal("addRange",{range:U})},this.$onRemoveRange=function(U){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var j=this.rangeList.ranges.pop();U.push(j),this.rangeCount=0}for(var K=U.length;K--;){var B=this.ranges.indexOf(U[K]);this.ranges.splice(B,1)}this._signal("removeRange",{ranges:U}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(j=j||this.ranges[0])&&!j.isEqual(this.getRange())&&this.fromOrientedRange(j)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new S,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var U=this.ranges.length?this.ranges:[this.getRange()],j=[],K=0;K<U.length;K++){var B=U[K],Z=B.start.row,Y=B.end.row;if(Z===Y)j.push(B.clone());else{for(j.push(new x(Z,B.start.column,Z,this.session.getLine(Z).length));++Z<Y;)j.push(this.getLineRange(Z,!0));j.push(new x(Y,0,Y,B.end.column))}0==K&&!this.isBackwards()&&(j=j.reverse())}for(this.toSingleRange(),K=j.length;K--;)this.addRange(j[K])},this.joinSelections=function(){var U=this.rangeList.ranges,j=U[U.length-1],K=x.fromPoints(U[0].start,j.end);this.toSingleRange(),this.setSelectionRange(K,j.cursor==j.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var U=this.rangeList.ranges,j=U[U.length-1],K=x.fromPoints(U[0].start,j.end);this.toSingleRange(),this.setSelectionRange(K,j.cursor==j.start)}else{var B=this.session.documentToScreenPosition(this.cursor),Z=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(B,Z).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(U,j,K){var B=[],Z=U.column<j.column;if(Z)var Y=U.column,W=j.column,re=U.offsetX,H=j.offsetX;else Y=j.column,W=U.column,re=j.offsetX,H=U.offsetX;var k=U.row<j.row;if(k)var F=U.row,R=j.row;else F=j.row,R=U.row;Y<0&&(Y=0),F<0&&(F=0),F==R&&(K=!0);for(var ne,te=F;te<=R;te++){var ce=x.fromPoints(this.session.screenToDocumentPosition(te,Y,re),this.session.screenToDocumentPosition(te,W,H));if(ce.isEmpty()){if(ne&&D(ce.end,ne))break;ne=ce.end}ce.cursor=Z?ce.start:ce.end,B.push(ce)}if(k&&B.reverse(),!K){for(var fe=B.length-1;B[fe].isEmpty()&&fe>0;)fe--;if(fe>0)for(var me=0;B[me].isEmpty();)me++;for(var ue=fe;ue>=me;ue--)B[ue].isEmpty()&&B.splice(ue,1)}return B}}.call(M.prototype);var w=L("./editor").Editor;function D(U,j){return U.row==j.row&&U.column==j.column}function O(U){U.$multiselectOnSessionChange||(U.$onAddRange=U.$onAddRange.bind(U),U.$onRemoveRange=U.$onRemoveRange.bind(U),U.$onMultiSelect=U.$onMultiSelect.bind(U),U.$onSingleSelect=U.$onSingleSelect.bind(U),U.$multiselectOnSessionChange=I.onSessionChange.bind(U),U.$checkMultiselectChange=U.$checkMultiselectChange.bind(U),U.$multiselectOnSessionChange(U),U.on("changeSession",U.$multiselectOnSessionChange),U.on("mousedown",u),U.commands.addCommands(f.defaultCommands),function P(U){if(U.textInput){var j=U.textInput.getElement(),K=!1;m.addListener(j,"keydown",function(Z){U.$blockSelectEnabled&&18==Z.keyCode&&!(Z.ctrlKey||Z.shiftKey||Z.metaKey)?K||(U.renderer.setMouseCursor("crosshair"),K=!0):K&&B()},U),m.addListener(j,"keyup",B,U),m.addListener(j,"blur",B,U)}function B(Z){K&&(U.renderer.setMouseCursor(""),K=!1)}}(U))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(U){U.cursor||(U.cursor=U.end);var j=this.getSelectionStyle();return U.marker=this.session.addMarker(U,"ace_selection",j),this.session.$selectionMarkers.push(U),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,U},this.removeSelectionMarker=function(U){if(U.marker){this.session.removeMarker(U.marker);var j=this.session.$selectionMarkers.indexOf(U);-1!=j&&this.session.$selectionMarkers.splice(j,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(U){for(var j=this.session.$selectionMarkers,K=U.length;K--;){var B=U[K];if(B.marker){this.session.removeMarker(B.marker);var Z=j.indexOf(B);-1!=Z&&j.splice(Z,1)}}this.session.selectionMarkerCount=j.length},this.$onAddRange=function(U){this.addSelectionMarker(U.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(U){this.removeSelectionMarkers(U.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(U){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(U){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(U){var j=U.command,K=U.editor;if(K.multiSelect){if(j.multiSelectAction)"forEach"==j.multiSelectAction?B=K.forEachSelection(j,U.args):"forEachLine"==j.multiSelectAction?B=K.forEachSelection(j,U.args,!0):"single"==j.multiSelectAction?(K.exitMultiSelectMode(),B=j.exec(K,U.args||{})):B=j.multiSelectAction(K,U.args||{});else{var B=j.exec(K,U.args||{});K.multiSelect.addRange(K.multiSelect.toOrientedRange()),K.multiSelect.mergeOverlappingRanges()}return B}},this.forEachSelection=function(U,j,K){if(!this.inVirtualSelectionMode){var k,Z=1==K||K&&K.$byLines,Y=this.session,W=this.selection,H=(K&&K.keepOrder?W:W.rangeList).ranges;if(!H.length)return U.exec?U.exec(this,j||{}):U(this,j||{});var F=W._eventRegistry;W._eventRegistry={};var R=new M(Y);this.inVirtualSelectionMode=!0;for(var ne=H.length;ne--;){if(Z)for(;ne>0&&H[ne].start.row==H[ne-1].end.row;)ne--;R.fromOrientedRange(H[ne]),R.index=ne,this.selection=Y.selection=R;var te=U.exec?U.exec(this,j||{}):U(this,j||{});!k&&void 0!==te&&(k=te),R.toOrientedRange(H[ne])}R.detach(),this.selection=Y.selection=W,this.inVirtualSelectionMode=!1,W._eventRegistry=F,W.mergeOverlappingRanges(),W.ranges[0]&&W.fromOrientedRange(W.ranges[0]);var ce=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),ce&&ce.from==ce.to&&this.renderer.animateScrolling(ce.from),k}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var U="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var j=this.multiSelect.rangeList.ranges,K=[],B=0;B<j.length;B++)K.push(this.session.getTextRange(j[B]));var Z=this.session.getDocument().getNewLineCharacter();(U=K.join(Z)).length==(K.length-1)*Z.length&&(U="")}else this.selection.isEmpty()||(U=this.session.getTextRange(this.getSelectionRange()));return U},this.$checkMultiselectChange=function(U,j){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var K=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&j==this.multiSelect.anchor)return;var B=j==this.multiSelect.anchor?K.cursor==K.start?K.end:K.start:K.cursor;B.row!=j.row||this.session.$clipPositionToDocument(B.row,B.column).column!=j.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(U,j,K){if((j=j||{}).needle=U||j.needle,null==j.needle){var B=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();j.needle=this.session.getTextRange(B)}this.$search.set(j);var Z=this.$search.findAll(this.session);if(!Z.length)return 0;var Y=this.multiSelect;K||Y.toSingleRange(Z[0]);for(var W=Z.length;W--;)Y.addRange(Z[W],!0);return B&&Y.rangeList.rangeAtPoint(B.start)&&Y.addRange(B,!0),Z.length},this.selectMoreLines=function(U,j){var K=this.selection.toOrientedRange(),B=K.cursor==K.end,Z=this.session.documentToScreenPosition(K.cursor);this.selection.$desiredColumn&&(Z.column=this.selection.$desiredColumn);var H,Y=this.session.screenToDocumentPosition(Z.row+U,Z.column);if(K.isEmpty())var re=Y;else{var W=this.session.documentToScreenPosition(B?K.end:K.start);re=this.session.screenToDocumentPosition(W.row+U,W.column)}if(B?(H=x.fromPoints(Y,re)).cursor=H.start:(H=x.fromPoints(re,Y)).cursor=H.end,H.desiredColumn=Z.column,this.selection.inMultiSelectMode){if(j)var k=K.cursor}else this.selection.addRange(K);this.selection.addRange(H),k&&this.selection.substractPoint(k)},this.transposeSelections=function(U){for(var j=this.session,K=j.multiSelect,B=K.ranges,Z=B.length;Z--;)if((Y=B[Z]).isEmpty()){var W=j.getWordRange(Y.start.row,Y.start.column);Y.start.row=W.start.row,Y.start.column=W.start.column,Y.end.row=W.end.row,Y.end.column=W.end.column}K.mergeOverlappingRanges();var re=[];for(Z=B.length;Z--;)re.unshift(j.getTextRange(Y=B[Z]));for(U<0?re.unshift(re.pop()):re.push(re.shift()),Z=B.length;Z--;){var Y,H=(Y=B[Z]).clone();j.replace(Y,re[Z]),Y.start.row=H.start.row,Y.start.column=H.start.column}K.fromOrientedRange(K.ranges[0])},this.selectMore=function(U,j,K){var B=this.session,Y=B.multiSelect.toOrientedRange();if(!Y.isEmpty()||((Y=B.getWordRange(Y.start.row,Y.start.column)).cursor=-1==U?Y.start:Y.end,this.multiSelect.addRange(Y),!K)){var W=B.getTextRange(Y),re=function h(U,j,K){return g.$options.wrap=!0,g.$options.needle=j,g.$options.backwards=-1==K,g.find(U)}(B,W,U);re&&(re.cursor=-1==U?re.start:re.end,this.session.unfold(re),this.multiSelect.addRange(re),this.renderer.scrollCursorIntoView(null,.5)),j&&this.multiSelect.substractPoint(Y.cursor)}},this.alignCursors=function(){var U=this.session,j=U.multiSelect,K=j.ranges,B=-1,Z=K.filter(function(fe){if(fe.cursor.row==B)return!0;B=fe.cursor.row});if(K.length&&Z.length!=K.length-1){Z.forEach(function(fe){j.substractPoint(fe.cursor)});var ne=0,te=1/0,ce=K.map(function(fe){var me=fe.cursor,xe=U.getLine(me.row).substr(me.column).search(/\S/g);return-1==xe&&(xe=0),me.column>ne&&(ne=me.column),xe<te&&(te=xe),xe});K.forEach(function(fe,me){var ue=fe.cursor,xe=ne-ue.column,ge=ce[me]-te;xe>ge?U.insert(ue,d.stringRepeat(" ",xe-ge)):U.remove(new x(ue.row,ue.column,ue.row,ue.column-xe+ge)),fe.start.column=fe.end.column=ne,fe.start.row=fe.end.row=ue.row,fe.cursor=fe.end}),j.fromOrientedRange(K[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var Y=this.selection.getRange(),W=Y.start.row,re=Y.end.row,H=W==re;if(H){var F,k=this.session.getLength();do{F=this.session.getLine(re)}while(/[=:]/.test(F)&&++re<k);do{F=this.session.getLine(W)}while(/[=:]/.test(F)&&--W>0);W<0&&(W=0),re>=k&&(re=k-1)}var R=this.session.removeFullLines(W,re);R=this.$reAlignText(R,H),this.session.insert({row:W,column:0},R.join("\n")+"\n"),H||(Y.start.column=0,Y.end.column=R[R.length-1].length),this.selection.setRange(Y)}},this.$reAlignText=function(U,j){var Z,Y,W,K=!0,B=!0;return U.map(function(R){var ne=R.match(/(\s*)(.*?)(\s*)([=:].*)/);return ne?null==Z?(Z=ne[1].length,Y=ne[2].length,W=ne[3].length,ne):(Z+Y+W!=ne[1].length+ne[2].length+ne[3].length&&(B=!1),Z!=ne[1].length&&(K=!1),Z>ne[1].length&&(Z=ne[1].length),Y<ne[2].length&&(Y=ne[2].length),W>ne[3].length&&(W=ne[3].length),ne):[R]}).map(j?H:K?B?function k(R){return R[2]?re(Z+Y-R[2].length)+R[2]+re(W)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}:H:function F(R){return R[2]?re(Z)+R[2]+re(W)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]});function re(R){return d.stringRepeat(" ",R)}function H(R){return R[2]?re(Z)+R[2]+re(Y-R[2].length+W)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}}}).call(w.prototype),I.onSessionChange=function(U){var j=U.session;j&&!j.multiSelect&&(j.$selectionMarkers=[],j.selection.$initRangeList(),j.multiSelect=j.selection),this.multiSelect=j&&j.multiSelect;var K=U.oldSession;K&&(K.multiSelect.off("addRange",this.$onAddRange),K.multiSelect.off("removeRange",this.$onRemoveRange),K.multiSelect.off("multiSelect",this.$onMultiSelect),K.multiSelect.off("singleSelect",this.$onSingleSelect),K.multiSelect.lead.off("change",this.$checkMultiselectChange),K.multiSelect.anchor.off("change",this.$checkMultiselectChange)),j&&(j.multiSelect.on("addRange",this.$onAddRange),j.multiSelect.on("removeRange",this.$onRemoveRange),j.multiSelect.on("multiSelect",this.$onMultiSelect),j.multiSelect.on("singleSelect",this.$onSingleSelect),j.multiSelect.lead.on("change",this.$checkMultiselectChange),j.multiSelect.anchor.on("change",this.$checkMultiselectChange)),j&&this.inMultiSelectMode!=j.selection.inMultiSelectMode&&(j.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},I.MultiSelect=O,L("./config").defineOptions(w.prototype,"editor",{enableMultiselect:{set:function(U){O(this),U?this.on("mousedown",u):this.off("mousedown",u)},value:!0},enableBlockSelect:{set:function(U){this.$blockSelectEnabled=U},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(L,I,$){"use strict";var S=L("../../range").Range,x=I.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(M,u,m){var d=M.getLine(m);return this.foldingStartMarker.test(d)?"start":"markbeginend"==u&&this.foldingStopMarker&&this.foldingStopMarker.test(d)?"end":""},this.getFoldWidgetRange=function(M,u,m){return null},this.indentationBlock=function(M,u,m){var d=/\S/,f=M.getLine(u),p=f.search(d);if(-1!=p){for(var g=m||f.length,h=M.getLength(),_=u,w=u;++u<h;){var D=M.getLine(u).search(d);if(-1!=D){if(D<=p){var O=M.getTokenAt(u,0);if(!O||"string"!==O.type)break}w=u}}if(w>_){var P=M.getLine(w).length;return new S(_,g,w,P)}}},this.openingBracketBlock=function(M,u,m,d,f){var p={row:m,column:d+1},g=M.$findClosingBracket(u,p,f);if(g){var h=M.foldWidgets[g.row];return null==h&&(h=M.getFoldWidget(g.row)),"start"==h&&g.row>p.row&&(g.row--,g.column=M.getLine(g.row).length),S.fromPoints(p,g)}},this.closingBracketBlock=function(M,u,m,d,f){var p={row:m,column:d},g=M.$findOpeningBracket(u,p);if(g)return g.column++,p.column--,S.fromPoints(g,p)}}).call(x.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(L,I,$){"use strict";var S=L("../lib/dom"),x=L("../range").Range,M=L("../config").nls;I.showErrorMarker=function(d,f){var p=d.session,g=d.getCursorPosition(),h=g.row,_=p.widgetManager.getWidgetsAtRow(h).filter(function(Z){return"errorMarker"==Z.type})[0];_?_.destroy():h-=f;var D,w=function m(d,f,p){var g=d.getAnnotations().sort(x.comparePoints);if(g.length){var h=function u(d,f,p){for(var g=0,h=d.length-1;g<=h;){var _=g+h>>1,w=p(f,d[_]);if(w>0)g=_+1;else{if(!(w<0))return _;h=_-1}}return-(g+1)}(g,{row:f,column:-1},x.comparePoints);h<0&&(h=-h-1),h>=g.length?h=p>0?0:g.length-1:0===h&&p<0&&(h=g.length-1);var _=g[h];if(_&&p){if(_.row===f){do{_=g[h+=p]}while(_&&_.row===f);if(!_)return g.slice()}var w=[];f=_.row;do{w[p<0?"unshift":"push"](_),_=g[h+=p]}while(_&&_.row==f);return w.length&&w}}}(p,h,f);if(w){var O=w[0];g.column=(O.pos&&"number"!=typeof O.column?O.pos.sc:O.column)||0,g.row=O.row,D=d.renderer.$gutterLayer.$annotations[g.row]}else{if(_)return;D={displayText:[M("error-marker.good-state","Looks good!")],className:"ace_ok"}}d.session.unfold(g.row),d.selection.moveToPosition(g);var P={row:g.row,fixedWidth:!0,coverGutter:!0,el:S.createElement("div"),type:"errorMarker"},U=P.el.appendChild(S.createElement("div")),j=P.el.appendChild(S.createElement("div"));j.className="error_widget_arrow "+D.className;var K=d.renderer.$cursorLayer.getPixelPosition(g).left;j.style.left=K+d.renderer.gutterWidth-5+"px",P.el.className="error_widget_wrapper",U.className="error_widget "+D.className,D.displayText.forEach(function(Z,Y){U.appendChild(S.createTextNode(Z)),Y<D.displayText.length-1&&U.appendChild(S.createElement("br"))}),U.appendChild(S.createElement("div"));var B=function(Z,Y,W){if(0===Y&&("esc"===W||"return"===W))return P.destroy(),{command:"null"}};P.destroy=function(){d.$mouseHandler.isMousePressed||(d.keyBinding.removeKeyboardHandler(B),p.widgetManager.removeLineWidget(P),d.off("changeSelection",P.destroy),d.off("changeSession",P.destroy),d.off("mouseup",P.destroy),d.off("change",P.destroy))},d.keyBinding.addKeyboardHandler(B),d.on("changeSelection",P.destroy),d.on("changeSession",P.destroy),d.on("mouseup",P.destroy),d.on("change",P.destroy),d.session.widgetManager.addLineWidget(P),P.el.onmousedown=d.focus.bind(d),d.renderer.scrollCursorIntoView(null,.5,{bottom:P.el.offsetHeight})},S.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(L,I,$){"use strict";L("./loader_build")(I);var S=L("./lib/dom"),x=L("./range").Range,M=L("./editor").Editor,u=L("./edit_session").EditSession,m=L("./undomanager").UndoManager,d=L("./virtual_renderer").VirtualRenderer;L("./worker/worker_client"),L("./keyboard/hash_handler"),L("./placeholder"),L("./multi_select"),L("./mode/folding/fold_mode"),L("./theme/textmate"),L("./ext/error_marker"),I.config=L("./config"),I.edit=function(p,g){if("string"==typeof p){var h=p;if(!(p=document.getElementById(h)))throw new Error("ace.edit can't find div #"+h)}if(p&&p.env&&p.env.editor instanceof M)return p.env.editor;var _="";if(p&&/input|textarea/i.test(p.tagName)){var w=p;_=w.value,p=S.createElement("pre"),w.parentNode.replaceChild(p,w)}else p&&(_=p.textContent,p.innerHTML="");var D=I.createEditSession(_),O=new M(new d(p),D,g),P={document:D,editor:O,onResize:O.resize.bind(O,null)};return w&&(P.textarea=w),O.on("destroy",function(){P.editor.container.env=null}),O.container.env=O.env=P,O},I.createEditSession=function(p,g){var h=new u(p,g);return h.setUndoManager(new m),h},I.Range=x,I.Editor=M,I.EditSession=u,I.UndoManager=m,I.VirtualRenderer=d,I.version=I.config.version}),ace.require(["ace/ace"],function(L){L&&(L.config.init(!0),L.define=ace.define);var I=function(){return this}();for(var $ in!I&&typeof window<"u"&&(I=window),!I&&typeof self<"u"&&(I=self),I.ace||(I.ace=L),L)L.hasOwnProperty($)&&(I.ace[$]=L[$]);I.ace.default=I.ace,q&&(q.exports=I.ace)})},4835:(q,z,T)=>{"use strict";var I=T(4831)("ArrayBuffer.prototype.byteLength",!0),$=T(9186);q.exports=function(x){return $(x)?I?I(x):x.byteLength:NaN}},4831:(q,z,T)=>{"use strict";var L=T(9249),I=T(9475),$=I(L("String.prototype.indexOf"));q.exports=function(x,M){var u=L(x,!!M);return"function"==typeof u&&$(x,".prototype.")>-1?I(u):u}},9475:(q,z,T)=>{"use strict";var L=T(2307),I=T(9249),$=T(8797),S=T(9327),x=I("%Function.prototype.apply%"),M=I("%Function.prototype.call%"),u=I("%Reflect.apply%",!0)||L.call(M,x),m=T(4688),d=I("%Math.max%");q.exports=function(g){if("function"!=typeof g)throw new S("a function is required");var h=u(L,M,arguments);return $(h,1+d(0,g.length-(arguments.length-1)),!0)};var f=function(){return u(L,x,arguments)};m?m(q.exports,"apply",{value:f}):q.exports.apply=f},1255:(q,z,T)=>{!function(L){"use strict";function I($){return function(S,x){var M=x.line,u=S.getLine(M);function m(_){for(var w,D=x.ch,O=0;;){var P=D<=0?-1:u.lastIndexOf(_[0],D-1);if(-1!=P){if(1==O&&P<x.ch)break;if(w=S.getTokenTypeAt(L.Pos(M,P+1)),!/^(comment|string)/.test(w))return{ch:P+1,tokenType:w,pair:_};D=P-1}else{if(1==O)break;O=1,D=u.length}}}function d(_){var O,U,w=1,D=S.lastLine(),P=_.ch;e:for(var j=M;j<=D;++j)for(var K=S.getLine(j),B=j==M?P:0;;){var Z=K.indexOf(_.pair[0],B),Y=K.indexOf(_.pair[1],B);if(Z<0&&(Z=K.length),Y<0&&(Y=K.length),(B=Math.min(Z,Y))==K.length)break;if(S.getTokenTypeAt(L.Pos(j,B+1))==_.tokenType)if(B==Z)++w;else if(! --w){O=j,U=B;break e}++B}return null==O||M==O?null:{from:L.Pos(M,P),to:L.Pos(O,U)}}for(var f=[],p=0;p<$.length;p++){var g=m($[p]);g&&f.push(g)}for(f.sort(function(_,w){return _.ch-w.ch}),p=0;p<f.length;p++){var h=d(f[p]);if(h)return h}return null}}L.registerHelper("fold","brace",I([["{","}"],["[","]"]])),L.registerHelper("fold","brace-paren",I([["{","}"],["[","]"],["(",")"]])),L.registerHelper("fold","import",function($,S){function x(p){if(p<$.firstLine()||p>$.lastLine())return null;var g=$.getTokenAt(L.Pos(p,1));if(/\S/.test(g.string)||(g=$.getTokenAt(L.Pos(p,g.end+1))),"keyword"!=g.type||"import"!=g.string)return null;for(var h=p,_=Math.min($.lastLine(),p+10);h<=_;++h){var D=$.getLine(h).indexOf(";");if(-1!=D)return{startCh:g.end,end:L.Pos(h,D)}}}var m,M=S.line,u=x(M);if(!u||x(M-1)||(m=x(M-2))&&m.end.line==M-1)return null;for(var d=u.end;;){var f=x(d.line+1);if(null==f)break;d=f.end}return{from:$.clipPos(L.Pos(M,u.startCh+1)),to:d}}),L.registerHelper("fold","include",function($,S){function x(f){if(f<$.firstLine()||f>$.lastLine())return null;var p=$.getTokenAt(L.Pos(f,1));return/\S/.test(p.string)||(p=$.getTokenAt(L.Pos(f,p.end+1))),"meta"==p.type&&"#include"==p.string.slice(0,8)?p.start+8:void 0}var M=S.line,u=x(M);if(null==u||null!=x(M-1))return null;for(var m=M;null!=x(m+1);)++m;return{from:L.Pos(M,u+1),to:$.clipPos(L.Pos(m))}})}(T(8401))},2824:(q,z,T)=>{!function(L){"use strict";function I(M,u,m,d){if(m&&m.call){var f=m;m=null}else f=x(M,m,"rangeFinder");"number"==typeof u&&(u=L.Pos(u,0));var p=x(M,m,"minFoldSize");function g(D){var O=f(M,u);if(!O||O.to.line-O.from.line<p)return null;if("fold"===d)return O;for(var P=M.findMarksAt(O.from),U=0;U<P.length;++U)if(P[U].__isFold){if(!D)return null;O.cleared=!0,P[U].clear()}return O}var h=g(!0);if(x(M,m,"scanUp"))for(;!h&&u.line>M.firstLine();)u=L.Pos(u.line-1,0),h=g(!1);if(h&&!h.cleared&&"unfold"!==d){var _=function $(M,u,m){var d=x(M,u,"widget");if("function"==typeof d&&(d=d(m.from,m.to)),"string"==typeof d){var f=document.createTextNode(d);(d=document.createElement("span")).appendChild(f),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}(M,m,h);L.on(_,"mousedown",function(D){w.clear(),L.e_preventDefault(D)});var w=M.markText(h.from,h.to,{replacedWith:_,clearOnEnter:x(M,m,"clearOnEnter"),__isFold:!0});w.on("clear",function(D,O){L.signal(M,"unfold",M,D,O)}),L.signal(M,"fold",M,h.from,h.to)}}L.newFoldFunction=function(M,u){return function(m,d){I(m,d,{rangeFinder:M,widget:u})}},L.defineExtension("foldCode",function(M,u,m){I(this,M,u,m)}),L.defineExtension("isFolded",function(M){for(var u=this.findMarksAt(M),m=0;m<u.length;++m)if(u[m].__isFold)return!0}),L.commands.toggleFold=function(M){M.foldCode(M.getCursor())},L.commands.fold=function(M){M.foldCode(M.getCursor(),null,"fold")},L.commands.unfold=function(M){M.foldCode(M.getCursor(),{scanUp:!1},"unfold")},L.commands.foldAll=function(M){M.operation(function(){for(var u=M.firstLine(),m=M.lastLine();u<=m;u++)M.foldCode(L.Pos(u,0),{scanUp:!1},"fold")})},L.commands.unfoldAll=function(M){M.operation(function(){for(var u=M.firstLine(),m=M.lastLine();u<=m;u++)M.foldCode(L.Pos(u,0),{scanUp:!1},"unfold")})},L.registerHelper("fold","combine",function(){var M=Array.prototype.slice.call(arguments,0);return function(u,m){for(var d=0;d<M.length;++d){var f=M[d](u,m);if(f)return f}}}),L.registerHelper("fold","auto",function(M,u){for(var m=M.getHelpers(u,"fold"),d=0;d<m.length;d++){var f=m[d](M,u);if(f)return f}});var S={rangeFinder:L.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function x(M,u,m){if(u&&void 0!==u[m])return u[m];var d=M.options.foldOptions;return d&&void 0!==d[m]?d[m]:S[m]}L.defineOption("foldOptions",null),L.defineExtension("foldOption",function(M,u){return x(this,M,u)})}(T(8401))},5374:(q,z,T)=>{!function(L){"use strict";L.defineOption("foldGutter",!1,function(w,D,O){O&&O!=L.Init&&(w.clearGutter(w.state.foldGutter.options.gutter),w.state.foldGutter=null,w.off("gutterClick",f),w.off("changes",g),w.off("viewportChange",h),w.off("fold",_),w.off("unfold",_),w.off("swapDoc",g),w.off("optionChange",p)),D&&(w.state.foldGutter=new $(function S(w){return!0===w&&(w={}),null==w.gutter&&(w.gutter="CodeMirror-foldgutter"),null==w.indicatorOpen&&(w.indicatorOpen="CodeMirror-foldgutter-open"),null==w.indicatorFolded&&(w.indicatorFolded="CodeMirror-foldgutter-folded"),w}(D)),d(w),w.on("gutterClick",f),w.on("changes",g),w.on("viewportChange",h),w.on("fold",_),w.on("unfold",_),w.on("swapDoc",g),w.on("optionChange",p))});var I=L.Pos;function $(w){this.options=w,this.from=this.to=0}function x(w,D){for(var O=w.findMarks(I(D,0),I(D+1,0)),P=0;P<O.length;++P)if(O[P].__isFold){var U=O[P].find(-1);if(U&&U.line===D)return O[P]}}function M(w){if("string"==typeof w){var D=document.createElement("div");return D.className=w+" CodeMirror-guttermarker-subtle",D}return w.cloneNode(!0)}function u(w,D,O){var P=w.state.foldGutter.options,U=D-1,j=w.foldOption(P,"minFoldSize"),K=w.foldOption(P,"rangeFinder"),B="string"==typeof P.indicatorFolded&&m(P.indicatorFolded),Z="string"==typeof P.indicatorOpen&&m(P.indicatorOpen);w.eachLine(D,O,function(Y){++U;var W=null,re=Y.gutterMarkers;if(re&&(re=re[P.gutter]),x(w,U)){if(B&&re&&B.test(re.className))return;W=M(P.indicatorFolded)}else{var H=I(U,0),k=K&&K(w,H);if(k&&k.to.line-k.from.line>=j){if(Z&&re&&Z.test(re.className))return;W=M(P.indicatorOpen)}}!W&&!re||w.setGutterMarker(Y,P.gutter,W)})}function m(w){return new RegExp("(^|\\s)"+w+"(?:$|\\s)\\s*")}function d(w){var D=w.getViewport(),O=w.state.foldGutter;O&&(w.operation(function(){u(w,D.from,D.to)}),O.from=D.from,O.to=D.to)}function f(w,D,O){var P=w.state.foldGutter;if(P){var U=P.options;if(O==U.gutter){var j=x(w,D);j?j.clear():w.foldCode(I(D,0),U)}}}function p(w,D){"mode"==D&&g(w)}function g(w){var D=w.state.foldGutter;if(D){var O=D.options;D.from=D.to=0,clearTimeout(D.changeUpdate),D.changeUpdate=setTimeout(function(){d(w)},O.foldOnChangeTimeSpan||600)}}function h(w){var D=w.state.foldGutter;if(D){var O=D.options;clearTimeout(D.changeUpdate),D.changeUpdate=setTimeout(function(){var P=w.getViewport();D.from==D.to||P.from-D.to>20||D.from-P.to>20?d(w):w.operation(function(){P.from<D.from&&(u(w,P.from,D.from),D.from=P.from),P.to>D.to&&(u(w,D.to,P.to),D.to=P.to)})},O.updateViewportTimeSpan||400)}}function _(w,D){var O=w.state.foldGutter;if(O){var P=D.line;P>=O.from&&P<O.to&&u(w,P,P+1)}}}(T(8401),T(2824))},8401:function(q){q.exports=function(){"use strict";var z=navigator.userAgent,T=navigator.platform,L=/gecko\/\d/i.test(z),I=/MSIE \d/.test(z),$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(z),S=/Edge\/(\d+)/.exec(z),x=I||$||S,M=x&&(I?document.documentMode||6:+(S||$)[1]),u=!S&&/WebKit\//.test(z),m=u&&/Qt\/\d+\.\d+/.test(z),d=!S&&/Chrome\/(\d+)/.exec(z),f=d&&+d[1],p=/Opera\//.test(z),g=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(z),_=/PhantomJS/.test(z),w=g&&(/Mobile\/\w+/.test(z)||navigator.maxTouchPoints>2),D=/Android/.test(z),O=w||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(z),P=w||/Mac/.test(T),U=/\bCrOS\b/.test(z),j=/win/i.test(T),K=p&&z.match(/Version\/(\d*\.\d*)/);K&&(K=Number(K[1])),K&&K>=15&&(p=!1,u=!0);var B=P&&(m||p&&(null==K||K<12.11)),Z=L||x&&M>=9;function Y(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var R,W=function(a,l){var y=a.className,b=Y(l).exec(y);if(b){var E=y.slice(b.index+b[0].length);a.className=y.slice(0,b.index)+(E?b[1]+E:"")}};function re(a){for(var l=a.childNodes.length;l>0;--l)a.removeChild(a.firstChild);return a}function H(a,l){return re(a).appendChild(l)}function k(a,l,y,b){var E=document.createElement(a);if(y&&(E.className=y),b&&(E.style.cssText=b),"string"==typeof l)E.appendChild(document.createTextNode(l));else if(l)for(var V=0;V<l.length;++V)E.appendChild(l[V]);return E}function F(a,l,y,b){var E=k(a,l,y,b);return E.setAttribute("role","presentation"),E}function ne(a,l){if(3==l.nodeType&&(l=l.parentNode),a.contains)return a.contains(l);do{if(11==l.nodeType&&(l=l.host),l==a)return!0}while(l=l.parentNode)}function te(a){var y,l=a.ownerDocument||a;try{y=a.activeElement}catch{y=l.body||null}for(;y&&y.shadowRoot&&y.shadowRoot.activeElement;)y=y.shadowRoot.activeElement;return y}function ce(a,l){var y=a.className;Y(l).test(y)||(a.className+=(y?" ":"")+l)}function fe(a,l){for(var y=a.split(" "),b=0;b<y.length;b++)y[b]&&!Y(y[b]).test(l)&&(l+=" "+y[b]);return l}R=document.createRange?function(a,l,y,b){var E=document.createRange();return E.setEnd(b||a,y),E.setStart(a,l),E}:function(a,l,y){var b=document.body.createTextRange();try{b.moveToElementText(a.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",y),b.moveStart("character",l),b};var me=function(a){a.select()};function ue(a){return a.display.wrapper.ownerDocument}function xe(a){return ge(a.display.wrapper)}function ge(a){return a.getRootNode?a.getRootNode():a.ownerDocument}function Ne(a){return ue(a).defaultView}function Ae(a){var l=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,l)}}function He(a,l,y){for(var b in l||(l={}),a)a.hasOwnProperty(b)&&(!1!==y||!l.hasOwnProperty(b))&&(l[b]=a[b]);return l}function qe(a,l,y,b,E){null==l&&-1==(l=a.search(/[^\s\u00a0]/))&&(l=a.length);for(var V=b||0,J=E||0;;){var ae=a.indexOf("\t",V);if(ae<0||ae>=l)return J+(l-V);J+=ae-V,J+=y-J%y,V=ae+1}}w?me=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:x&&(me=function(a){try{a.select()}catch{}});var Qe=function(){this.id=null,this.f=null,this.time=0,this.handler=Ae(this.onTimeout,this)};function ct(a,l){for(var y=0;y<a.length;++y)if(a[y]==l)return y;return-1}Qe.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Qe.prototype.set=function(a,l){this.f=l;var y=+new Date+a;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=y)};var ht=50,ft={toString:function(){return"CodeMirror.Pass"}},vt={scroll:!1},cn={origin:"*mouse"},wt={origin:"+move"};function tn(a,l,y){for(var b=0,E=0;;){var V=a.indexOf("\t",b);-1==V&&(V=a.length);var J=V-b;if(V==a.length||E+J>=l)return b+Math.min(J,l-E);if(E+=V-b,b=V+1,(E+=y-E%y)>=l)return b}}var Qt=[""];function pn(a){for(;Qt.length<=a;)Qt.push(Ce(Qt)+" ");return Qt[a]}function Ce(a){return a[a.length-1]}function Re(a,l){for(var y=[],b=0;b<a.length;b++)y[b]=l(a[b],b);return y}function it(){}function st(a,l){var y;return Object.create?y=Object.create(a):(it.prototype=a,y=new it),l&&He(l,y),y}var yt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Xt(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||yt.test(a))}function mn(a,l){return l?!!(l.source.indexOf("\\w")>-1&&Xt(a))||l.test(a):Xt(a)}function Ze(a){for(var l in a)if(a.hasOwnProperty(l)&&a[l])return!1;return!0}var Tt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Zt(a){return a.charCodeAt(0)>=768&&Tt.test(a)}function un(a,l,y){for(;(y<0?l>0:l<a.length)&&Zt(a.charAt(l));)l+=y;return l}function Nt(a,l,y){for(var b=l>y?-1:1;;){if(l==y)return l;var E=(l+y)/2,V=b<0?Math.ceil(E):Math.floor(E);if(V==l)return a(V)?l:y;a(V)?y=V:l=V+b}}var Gn=null;function Rn(a,l,y){var b;Gn=null;for(var E=0;E<a.length;++E){var V=a[E];if(V.from<l&&V.to>l)return E;V.to==l&&(V.from!=V.to&&"before"==y?b=E:Gn=E),V.from==l&&(V.from!=V.to&&"before"!=y?b=E:Gn=E)}return b??Gn}var Yn=function(){function y(he){return he<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(he):1424<=he&&he<=1524?"R":1536<=he&&he<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(he-1536):1774<=he&&he<=2220?"r":8192<=he&&he<=8203?"w":8204==he?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,E=/[stwN]/,V=/[LRr]/,J=/[Lb1n]/,ae=/[1n]/;function de(he,Te,ke){this.level=he,this.from=Te,this.to=ke}return function(he,Te){var ke="ltr"==Te?"L":"R";if(0==he.length||"ltr"==Te&&!b.test(he))return!1;for(var Ge=he.length,Ue=[],nt=0;nt<Ge;++nt)Ue.push(y(he.charCodeAt(nt)));for(var pt=0,St=ke;pt<Ge;++pt){var Pt=Ue[pt];"m"==Pt?Ue[pt]=St:St=Pt}for(var Wt=0,$t=ke;Wt<Ge;++Wt){var Jt=Ue[Wt];"1"==Jt&&"r"==$t?Ue[Wt]="n":V.test(Jt)&&($t=Jt,"r"==Jt&&(Ue[Wt]="R"))}for(var Tn=1,gn=Ue[0];Tn<Ge-1;++Tn){var ii=Ue[Tn];"+"==ii&&"1"==gn&&"1"==Ue[Tn+1]?Ue[Tn]="1":","==ii&&gn==Ue[Tn+1]&&("1"==gn||"n"==gn)&&(Ue[Tn]=gn),gn=ii}for(var Yi=0;Yi<Ge;++Yi){var Sr=Ue[Yi];if(","==Sr)Ue[Yi]="N";else if("%"==Sr){var Fr=void 0;for(Fr=Yi+1;Fr<Ge&&"%"==Ue[Fr];++Fr);for(var Fs=Yi&&"!"==Ue[Yi-1]||Fr<Ge&&"1"==Ue[Fr]?"1":"N",Cs=Yi;Cs<Fr;++Cs)Ue[Cs]=Fs;Yi=Fr-1}}for(var yr=0,Co=ke;yr<Ge;++yr){var xi=Ue[yr];"L"==Co&&"1"==xi?Ue[yr]="L":V.test(xi)&&(Co=xi)}for(var Mo=0;Mo<Ge;++Mo)if(E.test(Ue[Mo])){var Vt=void 0;for(Vt=Mo+1;Vt<Ge&&E.test(Ue[Vt]);++Vt);for(var Tr="L"==(Mo?Ue[Mo-1]:ke),k1=Tr==("L"==(Vt<Ge?Ue[Vt]:ke))?Tr?"L":"R":ke,Ms=Mo;Ms<Vt;++Ms)Ue[Ms]=k1;Mo=Vt-1}for(var Ka,as=[],fo=0;fo<Ge;)if(J.test(Ue[fo])){var zd=fo;for(++fo;fo<Ge&&J.test(Ue[fo]);++fo);as.push(new de(0,zd,fo))}else{var _c=fo,O1=as.length,N1="rtl"==Te?1:0;for(++fo;fo<Ge&&"L"!=Ue[fo];++fo);for(var Ss=_c;Ss<fo;)if(ae.test(Ue[Ss])){_c<Ss&&(as.splice(O1,0,new de(1,_c,Ss)),O1+=N1);var R1=Ss;for(++Ss;Ss<fo&&ae.test(Ue[Ss]);++Ss);as.splice(O1,0,new de(2,R1,Ss)),O1+=N1,_c=Ss}else++Ss;_c<fo&&as.splice(O1,0,new de(1,_c,fo))}return"ltr"==Te&&(1==as[0].level&&(Ka=he.match(/^\s+/))&&(as[0].from=Ka[0].length,as.unshift(new de(0,0,Ka[0].length))),1==Ce(as).level&&(Ka=he.match(/\s+$/))&&(Ce(as).to-=Ka[0].length,as.push(new de(0,Ge-Ka[0].length,Ge)))),"rtl"==Te?as.reverse():as}}();function _n(a,l){var y=a.order;return null==y&&(y=a.order=Yn(a.text,l)),y}var Di=[],_e=function(a,l,y){if(a.addEventListener)a.addEventListener(l,y,!1);else if(a.attachEvent)a.attachEvent("on"+l,y);else{var b=a._handlers||(a._handlers={});b[l]=(b[l]||Di).concat(y)}};function Fe(a,l){return a._handlers&&a._handlers[l]||Di}function gt(a,l,y){if(a.removeEventListener)a.removeEventListener(l,y,!1);else if(a.detachEvent)a.detachEvent("on"+l,y);else{var b=a._handlers,E=b&&b[l];if(E){var V=ct(E,y);V>-1&&(b[l]=E.slice(0,V).concat(E.slice(V+1)))}}}function kt(a,l){var y=Fe(a,l);if(y.length)for(var b=Array.prototype.slice.call(arguments,2),E=0;E<y.length;++E)y[E].apply(null,b)}function Cn(a,l,y){return"string"==typeof l&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),kt(a,y||l.type,a,l),Is(l)||l.codemirrorIgnore}function Dn(a){var l=a._handlers&&a._handlers.cursorActivity;if(l)for(var y=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),b=0;b<l.length;++b)-1==ct(y,l[b])&&y.push(l[b])}function hn(a,l){return Fe(a,l).length>0}function Ii(a){a.prototype.on=function(l,y){_e(this,l,y)},a.prototype.off=function(l,y){gt(this,l,y)}}function mi(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Qr(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Is(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function xt(a){mi(a),Qr(a)}function zi(a){return a.target||a.srcElement}function ur(a){var l=a.which;return null==l&&(1&a.button?l=1:2&a.button?l=3:4&a.button&&(l=2)),P&&a.ctrlKey&&1==l&&(l=3),l}var fi,Mn,Ha=function(){if(x&&M<9)return!1;var a=k("div");return"draggable"in a||"dragDrop"in a}();function gi(a){if(null==fi){var l=k("span","\u200b");H(a,k("span",[l,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(fi=l.offsetWidth<=1&&l.offsetHeight>2&&!(x&&M<8))}var y=fi?k("span","\u200b"):k("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}function Ws(a){if(null!=Mn)return Mn;var l=H(a,document.createTextNode("A\u062eA")),y=R(l,0,1).getBoundingClientRect(),b=R(l,1,2).getBoundingClientRect();return re(a),!(!y||y.left==y.right)&&(Mn=b.right-y.right<3)}var a,_o=3!="\n\nb".split(/\n/).length?function(a){for(var l=0,y=[],b=a.length;l<=b;){var E=a.indexOf("\n",l);-1==E&&(E=a.length);var V=a.slice(l,"\r"==a.charAt(E-1)?E-1:E),J=V.indexOf("\r");-1!=J?(y.push(V.slice(0,J)),l+=J+1):(y.push(V),l=E+1)}return y}:function(a){return a.split(/\r\n?|\n/)},et=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var l;try{l=a.ownerDocument.selection.createRange()}catch{}return!(!l||l.parentElement()!=a)&&0!=l.compareEndPoints("StartToEnd",l)},Xr="oncopy"in(a=k("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),bo=null;var ns={},Hr={};function ba(a,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),ns[a]=l}function fr(a){if("string"==typeof a&&Hr.hasOwnProperty(a))a=Hr[a];else if(a&&"string"==typeof a.name&&Hr.hasOwnProperty(a.name)){var l=Hr[a.name];"string"==typeof l&&(l={name:l}),(a=st(l,a)).name=l.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return fr("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return fr("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function gr(a,l){l=fr(l);var y=ns[l.name];if(!y)return gr(a,"text/plain");var b=y(a,l);if(hr.hasOwnProperty(l.name)){var E=hr[l.name];for(var V in E)E.hasOwnProperty(V)&&(b.hasOwnProperty(V)&&(b["_"+V]=b[V]),b[V]=E[V])}if(b.name=l.name,l.helperType&&(b.helperType=l.helperType),l.modeProps)for(var J in l.modeProps)b[J]=l.modeProps[J];return b}var hr={};function _t(a,l){He(l,hr.hasOwnProperty(a)?hr[a]:hr[a]={})}function Go(a,l){if(!0===l)return l;if(a.copyState)return a.copyState(l);var y={};for(var b in l){var E=l[b];E instanceof Array&&(E=E.concat([])),y[b]=E}return y}function is(a,l){for(var y;a.innerMode&&(y=a.innerMode(l))&&y.mode!=a;)l=y.state,a=y.mode;return y||{mode:a,state:l}}function a1(a,l,y){return!a.startState||a.startState(l,y)}var jt=function(a,l,y){this.pos=this.start=0,this.string=a,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};function Yt(a,l){if((l-=a.first)<0||l>=a.size)throw new Error("There is no line "+(l+a.first)+" in the document.");for(var y=a;!y.lines;)for(var b=0;;++b){var E=y.children[b],V=E.chunkSize();if(l<V){y=E;break}l-=V}return y.lines[l]}function ao(a,l,y){var b=[],E=l.line;return a.iter(l.line,y.line+1,function(V){var J=V.text;E==y.line&&(J=J.slice(0,y.ch)),E==l.line&&(J=J.slice(l.ch)),b.push(J),++E}),b}function Jn(a,l,y){var b=[];return a.iter(l,y,function(E){b.push(E.text)}),b}function Yo(a,l){var y=l-a.height;if(y)for(var b=a;b;b=b.parent)b.height+=y}function ln(a){if(null==a.parent)return null;for(var l=a.parent,y=ct(l.lines,a),b=l.parent;b;l=b,b=b.parent)for(var E=0;b.children[E]!=l;++E)y+=b.children[E].chunkSize();return y+l.first}function Io(a,l){var y=a.first;e:do{for(var b=0;b<a.children.length;++b){var E=a.children[b],V=E.height;if(l<V){a=E;continue e}l-=V,y+=E.chunkSize()}return y}while(!a.lines);for(var J=0;J<a.lines.length;++J){var de=a.lines[J].height;if(l<de)break;l-=de}return y+J}function be(a,l){return l>=a.first&&l<a.first+a.size}function Oe(a,l){return String(a.lineNumberFormatter(l+a.firstLineNumber))}function Ie(a,l,y){if(void 0===y&&(y=null),!(this instanceof Ie))return new Ie(a,l,y);this.line=a,this.ch=l,this.sticky=y}function je(a,l){return a.line-l.line||a.ch-l.ch}function In(a,l){return a.sticky==l.sticky&&0==je(a,l)}function kn(a){return Ie(a.line,a.ch)}function Ei(a,l){return je(a,l)<0?l:a}function vr(a,l){return je(a,l)<0?a:l}function ks(a,l){return Math.max(a.first,Math.min(l,a.first+a.size-1))}function wn(a,l){if(l.line<a.first)return Ie(a.first,0);var y=a.first+a.size-1;return l.line>y?Ie(y,Yt(a,y).text.length):function fm(a,l){var y=a.ch;return null==y||y>l?Ie(a.line,l):y<0?Ie(a.line,0):a}(l,Yt(a,l.line).text.length)}function Th(a,l){for(var y=[],b=0;b<l.length;b++)y[b]=wn(a,l[b]);return y}jt.prototype.eol=function(){return this.pos>=this.string.length},jt.prototype.sol=function(){return this.pos==this.lineStart},jt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},jt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},jt.prototype.eat=function(a){var l=this.string.charAt(this.pos);if("string"==typeof a?l==a:l&&(a.test?a.test(l):a(l)))return++this.pos,l},jt.prototype.eatWhile=function(a){for(var l=this.pos;this.eat(a););return this.pos>l},jt.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},jt.prototype.skipToEnd=function(){this.pos=this.string.length},jt.prototype.skipTo=function(a){var l=this.string.indexOf(a,this.pos);if(l>-1)return this.pos=l,!0},jt.prototype.backUp=function(a){this.pos-=a},jt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=qe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},jt.prototype.indentation=function(){return qe(this.string,null,this.tabSize)-(this.lineStart?qe(this.string,this.lineStart,this.tabSize):0)},jt.prototype.match=function(a,l,y){if("string"!=typeof a){var V=this.string.slice(this.pos).match(a);return V&&V.index>0?null:(V&&!1!==l&&(this.pos+=V[0].length),V)}var b=function(J){return y?J.toLowerCase():J};if(b(this.string.substr(this.pos,a.length))==b(a))return!1!==l&&(this.pos+=a.length),!0},jt.prototype.current=function(){return this.string.slice(this.start,this.pos)},jt.prototype.hideFirstChars=function(a,l){this.lineStart+=a;try{return l()}finally{this.lineStart-=a}},jt.prototype.lookAhead=function(a){var l=this.lineOracle;return l&&l.lookAhead(a)},jt.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var S2=function(a,l){this.state=a,this.lookAhead=l},Ua=function(a,l,y,b){this.state=l,this.doc=a,this.line=y,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};function T2(a,l,y,b){var E=[a.state.modeGen],V={};Dh(a,l.text,a.doc.mode,y,function(he,Te){return E.push(he,Te)},V,b);for(var J=y.state,ae=function(he){y.baseTokens=E;var Te=a.state.overlays[he],ke=1,Ge=0;y.state=!0,Dh(a,l.text,Te.mode,y,function(Ue,nt){for(var pt=ke;Ge<Ue;){var St=E[ke];St>Ue&&E.splice(ke,1,Ue,E[ke+1],St),ke+=2,Ge=Math.min(Ue,St)}if(nt)if(Te.opaque)E.splice(pt,ke-pt,Ue,"overlay "+nt),ke=pt+2;else for(;pt<ke;pt+=2){var Pt=E[pt+1];E[pt+1]=(Pt?Pt+" ":"")+"overlay "+nt}},V),y.state=J,y.baseTokens=null,y.baseTokenPos=1},de=0;de<a.state.overlays.length;++de)ae(de);return{styles:E,classes:V.bgClass||V.textClass?V:null}}function Eh(a,l,y){if(!l.styles||l.styles[0]!=a.state.modeGen){var b=c1(a,ln(l)),E=l.text.length>a.options.maxHighlightLength&&Go(a.doc.mode,b.state),V=T2(a,l,b);E&&(b.state=E),l.stateAfter=b.save(!E),l.styles=V.styles,V.classes?l.styleClasses=V.classes:l.styleClasses&&(l.styleClasses=null),y===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return l.styles}function c1(a,l,y){var b=a.doc,E=a.display;if(!b.mode.startState)return new Ua(b,!0,l);var V=function hm(a,l,y){for(var b,E,V=a.doc,J=y?-1:l-(a.doc.mode.innerMode?1e3:100),ae=l;ae>J;--ae){if(ae<=V.first)return V.first;var de=Yt(V,ae-1),he=de.stateAfter;if(he&&(!y||ae+(he instanceof S2?he.lookAhead:0)<=V.modeFrontier))return ae;var Te=qe(de.text,null,a.options.tabSize);(null==E||b>Te)&&(E=ae-1,b=Te)}return E}(a,l,y),J=V>b.first&&Yt(b,V-1).stateAfter,ae=J?Ua.fromSaved(b,J,V):new Ua(b,a1(b.mode),V);return b.iter(V,l,function(de){E2(a,de.text,ae);var he=ae.line;de.stateAfter=he==l-1||he%5==0||he>=E.viewFrom&&he<E.viewTo?ae.save():null,ae.nextLine()}),y&&(b.modeFrontier=ae.line),ae}function E2(a,l,y,b){var E=a.doc.mode,V=new jt(l,a.options.tabSize,y);for(V.start=V.pos=b||0,""==l&&ko(E,y.state);!V.eol();)xn(E,V,y.state),V.start=V.pos}function ko(a,l){if(a.blankLine)return a.blankLine(l);if(a.innerMode){var y=is(a,l);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function xn(a,l,y,b){for(var E=0;E<10;E++){b&&(b[0]=is(a,y).mode);var V=a.token(l,y);if(l.pos>l.start)return V}throw new Error("Mode "+a.name+" failed to advance stream.")}Ua.prototype.lookAhead=function(a){var l=this.doc.getLine(this.line+a);return null!=l&&a>this.maxLookAhead&&(this.maxLookAhead=a),l},Ua.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Ua.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ua.fromSaved=function(a,l,y){return l instanceof S2?new Ua(a,Go(a.mode,l.state),y,l.lookAhead):new Ua(a,Go(a.mode,l),y)},Ua.prototype.save=function(a){var l=!1!==a?Go(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new S2(l,this.maxLookAhead):l};var Lh=function(a,l,y){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=l||null,this.state=y};function Ah(a,l,y,b){var J,Te,E=a.doc,V=E.mode,ae=Yt(E,(l=wn(E,l)).line),de=c1(a,l.line,y),he=new jt(ae.text,a.options.tabSize,de);for(b&&(Te=[]);(b||he.pos<l.ch)&&!he.eol();)he.start=he.pos,J=xn(V,he,de.state),b&&Te.push(new Lh(he,J,Go(E.mode,de.state)));return b?Te:new Lh(he,J,de.state)}function uc(a,l){if(a)for(;;){var y=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;a=a.slice(0,y.index)+a.slice(y.index+y[0].length);var b=y[1]?"bgClass":"textClass";null==l[b]?l[b]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(l[b])||(l[b]+=" "+y[2])}return a}function Dh(a,l,y,b,E,V,J){var ae=y.flattenSpans;null==ae&&(ae=a.options.flattenSpans);var ke,de=0,he=null,Te=new jt(l,a.options.tabSize,b),Ge=a.options.addModeClass&&[null];for(""==l&&uc(ko(y,b.state),V);!Te.eol();){if(Te.pos>a.options.maxHighlightLength?(ae=!1,J&&E2(a,l,b,Te.pos),Te.pos=l.length,ke=null):ke=uc(xn(y,Te,b.state,Ge),V),Ge){var Ue=Ge[0].name;Ue&&(ke="m-"+(ke?Ue+" "+ke:Ue))}if(!ae||he!=ke){for(;de<Te.start;)E(de=Math.min(Te.start,de+5e3),he);he=ke}Te.start=Te.pos}for(;de<Te.pos;){var nt=Math.min(Te.pos,de+5e3);E(nt,he),de=nt}}var Ih=!1,qt=!1;function l1(a,l,y){this.marker=a,this.from=l,this.to=y}function fc(a,l){if(a)for(var y=0;y<a.length;++y){var b=a[y];if(b.marker==l)return b}}function cd(a,l){for(var y,b=0;b<a.length;++b)a[b]!=l&&(y||(y=[])).push(a[b]);return y}function ld(a,l){if(l.full)return null;var y=be(a,l.from.line)&&Yt(a,l.from.line).markedSpans,b=be(a,l.to.line)&&Yt(a,l.to.line).markedSpans;if(!y&&!b)return null;var E=l.from.ch,V=l.to.ch,J=0==je(l.from,l.to),ae=function L2(a,l,y){var b;if(a)for(var E=0;E<a.length;++E){var V=a[E],J=V.marker;null!=V.from&&!(J.inclusiveLeft?V.from<=l:V.from<l)&&(V.from!=l||"bookmark"!=J.type||y&&V.marker.insertLeft)||(b||(b=[])).push(new l1(J,V.from,null==V.to||(J.inclusiveRight?V.to>=l:V.to>l)?null:V.to))}return b}(y,E,J),de=function A2(a,l,y){var b;if(a)for(var E=0;E<a.length;++E){var V=a[E],J=V.marker;(null==V.to||(J.inclusiveRight?V.to>=l:V.to>l)||V.from==l&&"bookmark"==J.type&&(!y||V.marker.insertLeft))&&(b||(b=[])).push(new l1(J,null==V.from||(J.inclusiveLeft?V.from<=l:V.from<l)?null:V.from-l,null==V.to?null:V.to-l))}return b}(b,V,J),he=1==l.text.length,Te=Ce(l.text).length+(he?E:0);if(ae)for(var ke=0;ke<ae.length;++ke){var Ge=ae[ke];if(null==Ge.to){var Ue=fc(de,Ge.marker);Ue?he&&(Ge.to=null==Ue.to?null:Ue.to+Te):Ge.to=E}}if(de)for(var nt=0;nt<de.length;++nt){var pt=de[nt];null!=pt.to&&(pt.to+=Te),null==pt.from?fc(ae,pt.marker)||(pt.from=Te,he&&(ae||(ae=[])).push(pt)):(pt.from+=Te,he&&(ae||(ae=[])).push(pt))}ae&&(ae=at(ae)),de&&de!=ae&&(de=at(de));var Pt=[ae];if(!he){var $t,Wt=l.text.length-2;if(Wt>0&&ae)for(var Jt=0;Jt<ae.length;++Jt)null==ae[Jt].to&&($t||($t=[])).push(new l1(ae[Jt].marker,null,null));for(var Tn=0;Tn<Wt;++Tn)Pt.push($t);Pt.push(de)}return Pt}function at(a){for(var l=0;l<a.length;++l){var y=a[l];null!=y.from&&y.from==y.to&&!1!==y.marker.clearWhenEmpty&&a.splice(l--,1)}return a.length?a:null}function d1(a){var l=a.markedSpans;if(l){for(var y=0;y<l.length;++y)l[y].marker.detachLine(a);a.markedSpans=null}}function D2(a,l){if(l){for(var y=0;y<l.length;++y)l[y].marker.attachLine(a);a.markedSpans=l}}function _l(a){return a.inclusiveLeft?-1:0}function dd(a){return a.inclusiveRight?1:0}function De(a,l){var y=a.lines.length-l.lines.length;if(0!=y)return y;var b=a.find(),E=l.find(),V=je(b.from,E.from)||_l(a)-_l(l);return V?-V:je(b.to,E.to)||dd(a)-dd(l)||l.id-a.id}function Ke(a,l){var b,y=qt&&a.markedSpans;if(y)for(var E=void 0,V=0;V<y.length;++V)(E=y[V]).marker.collapsed&&null==(l?E.from:E.to)&&(!b||De(b,E.marker)<0)&&(b=E.marker);return b}function bt(a){return Ke(a,!0)}function rn(a){return Ke(a,!1)}function _r(a,l){var b,y=qt&&a.markedSpans;if(y)for(var E=0;E<y.length;++E){var V=y[E];V.marker.collapsed&&(null==V.from||V.from<l)&&(null==V.to||V.to>l)&&(!b||De(b,V.marker)<0)&&(b=V.marker)}return b}function qn(a,l,y,b,E){var V=Yt(a,l),J=qt&&V.markedSpans;if(J)for(var ae=0;ae<J.length;++ae){var de=J[ae];if(de.marker.collapsed){var he=de.marker.find(0),Te=je(he.from,y)||_l(de.marker)-_l(E),ke=je(he.to,b)||dd(de.marker)-dd(E);if(!(Te>=0&&ke<=0||Te<=0&&ke>=0)&&(Te<=0&&(de.marker.inclusiveRight&&E.inclusiveLeft?je(he.to,y)>=0:je(he.to,y)>0)||Te>=0&&(de.marker.inclusiveRight&&E.inclusiveLeft?je(he.from,b)<=0:je(he.from,b)<0)))return!0}}}function hi(a){for(var l;l=bt(a);)a=l.find(-1,!0).line;return a}function ar(a,l){var y=Yt(a,l),b=hi(y);return y==b?l:ln(b)}function Ir(a,l){if(l>a.lastLine())return l;var b,y=Yt(a,l);if(!kr(a,y))return l;for(;b=rn(y);)y=b.find(1,!0).line;return ln(y)+1}function kr(a,l){var y=qt&&l.markedSpans;if(y)for(var b=void 0,E=0;E<y.length;++E)if((b=y[E]).marker.collapsed){if(null==b.from)return!0;if(!b.marker.widgetNode&&0==b.from&&b.marker.inclusiveLeft&&lo(a,l,b))return!0}}function lo(a,l,y){if(null==y.to){var b=y.marker.find(1,!0);return lo(a,b.line,fc(b.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==l.text.length)return!0;for(var E=void 0,V=0;V<l.markedSpans.length;++V)if((E=l.markedSpans[V]).marker.collapsed&&!E.marker.widgetNode&&E.from==y.to&&(null==E.to||E.to!=y.from)&&(E.marker.inclusiveLeft||y.marker.inclusiveRight)&&lo(a,l,E))return!0}function dn(a){for(var l=0,y=(a=hi(a)).parent,b=0;b<y.lines.length;++b){var E=y.lines[b];if(E==a)break;l+=E.height}for(var V=y.parent;V;V=(y=V).parent)for(var J=0;J<V.children.length;++J){var ae=V.children[J];if(ae==y)break;l+=ae.height}return l}function jn(a){if(0==a.height)return 0;for(var y,l=a.text.length,b=a;y=bt(b);){var E=y.find(0,!0);b=E.from.line,l+=E.from.ch-E.to.ch}for(b=a;y=rn(b);){var V=y.find(0,!0);l-=b.text.length-V.from.ch,l+=(b=V.to.line).text.length-V.to.ch}return l}function Va(a){var l=a.display,y=a.doc;l.maxLine=Yt(y,y.first),l.maxLineLength=jn(l.maxLine),l.maxLineChanged=!0,y.iter(function(b){var E=jn(b);E>l.maxLineLength&&(l.maxLineLength=E,l.maxLine=b)})}var bs=function(a,l,y){this.text=a,D2(this,l),this.height=y?y(this):1};function Oh(a){a.parent=null,d1(a)}bs.prototype.lineNo=function(){return ln(this)},Ii(bs);var ud={},bl={};function wi(a,l){if(!a||/^\s*$/.test(a))return null;var y=l.addModeClass?bl:ud;return y[a]||(y[a]=a.replace(/\S+/g,"cm-$&"))}function lu(a,l){var y=F("span",null,null,u?"padding-right: .1px":null),b={pre:F("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};l.measure={};for(var E=0;E<=(l.rest?l.rest.length:0);E++){var V=E?l.rest[E-1]:l.line,J=void 0;b.pos=0,b.addToken=Gs,Ws(a.display.measure)&&(J=_n(V,a.doc.direction))&&(b.addToken=JC(b.addToken,J)),b.map=[],I2(V,b,Eh(a,V,l!=a.display.externalMeasured&&ln(V))),V.styleClasses&&(V.styleClasses.bgClass&&(b.bgClass=fe(V.styleClasses.bgClass,b.bgClass||"")),V.styleClasses.textClass&&(b.textClass=fe(V.styleClasses.textClass,b.textClass||""))),0==b.map.length&&b.map.push(0,0,b.content.appendChild(gi(a.display.measure))),0==E?(l.measure.map=b.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(b.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(u){var de=b.content.lastChild;(/\bcm-tab\b/.test(de.className)||de.querySelector&&de.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return kt(a,"renderLine",a,l.line,b.pre),b.pre.className&&(b.textClass=fe(b.pre.className,b.textClass||"")),b}function pm(a){var l=k("span","\u2022","cm-invalidchar");return l.title="\\u"+a.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Gs(a,l,y,b,E,V,J){if(l){var Te,ae=a.splitSpaces?function mm(a,l){if(a.length>1&&!/  /.test(a))return a;for(var y=l,b="",E=0;E<a.length;E++){var V=a.charAt(E);" "==V&&y&&(E==a.length-1||32==a.charCodeAt(E+1))&&(V="\xa0"),b+=V,y=" "==V}return b}(l,a.trailingSpace):l,de=a.cm.state.specialChars,he=!1;if(de.test(l)){Te=document.createDocumentFragment();for(var ke=0;;){de.lastIndex=ke;var Ge=de.exec(l),Ue=Ge?Ge.index-ke:l.length-ke;if(Ue){var nt=document.createTextNode(ae.slice(ke,ke+Ue));Te.appendChild(x&&M<9?k("span",[nt]):nt),a.map.push(a.pos,a.pos+Ue,nt),a.col+=Ue,a.pos+=Ue}if(!Ge)break;ke+=Ue+1;var pt=void 0;if("\t"==Ge[0]){var St=a.cm.options.tabSize,Pt=St-a.col%St;(pt=Te.appendChild(k("span",pn(Pt),"cm-tab"))).setAttribute("role","presentation"),pt.setAttribute("cm-text","\t"),a.col+=Pt}else"\r"==Ge[0]||"\n"==Ge[0]?((pt=Te.appendChild(k("span","\r"==Ge[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Ge[0]),a.col+=1):((pt=a.cm.options.specialCharPlaceholder(Ge[0])).setAttribute("cm-text",Ge[0]),Te.appendChild(x&&M<9?k("span",[pt]):pt),a.col+=1);a.map.push(a.pos,a.pos+1,pt),a.pos++}}else a.col+=l.length,Te=document.createTextNode(ae),a.map.push(a.pos,a.pos+l.length,Te),x&&M<9&&(he=!0),a.pos+=l.length;if(a.trailingSpace=32==ae.charCodeAt(l.length-1),y||b||E||he||V||J){var Wt=y||"";b&&(Wt+=b),E&&(Wt+=E);var $t=k("span",[Te],Wt,V);if(J)for(var Jt in J)J.hasOwnProperty(Jt)&&"style"!=Jt&&"class"!=Jt&&$t.setAttribute(Jt,J[Jt]);return a.content.appendChild($t)}a.content.appendChild(Te)}}function JC(a,l){return function(y,b,E,V,J,ae,de){E=E?E+" cm-force-border":"cm-force-border";for(var he=y.pos,Te=he+b.length;;){for(var ke=void 0,Ge=0;Ge<l.length&&!((ke=l[Ge]).to>he&&ke.from<=he);Ge++);if(ke.to>=Te)return a(y,b,E,V,J,ae,de);a(y,b.slice(0,ke.to-he),E,V,null,ae,de),V=null,b=b.slice(ke.to-he),he=ke.to}}}function c7(a,l,y,b){var E=!b&&y.widgetNode;E&&a.map.push(a.pos,a.pos+l,E),!b&&a.cm.display.input.needsContentAttribute&&(E||(E=a.content.appendChild(document.createElement("span"))),E.setAttribute("cm-marker",y.id)),E&&(a.cm.display.input.setUneditable(E),a.content.appendChild(E)),a.pos+=l,a.trailingSpace=!1}function I2(a,l,y){var b=a.markedSpans,E=a.text,V=0;if(b)for(var ke,Ge,nt,pt,St,Pt,Wt,ae=E.length,de=0,he=1,Te="",Ue=0;;){if(Ue==de){nt=pt=St=Ge="",Wt=null,Pt=null,Ue=1/0;for(var $t=[],Jt=void 0,Tn=0;Tn<b.length;++Tn){var gn=b[Tn],ii=gn.marker;if("bookmark"==ii.type&&gn.from==de&&ii.widgetNode)$t.push(ii);else if(gn.from<=de&&(null==gn.to||gn.to>de||ii.collapsed&&gn.to==de&&gn.from==de)){if(null!=gn.to&&gn.to!=de&&Ue>gn.to&&(Ue=gn.to,pt=""),ii.className&&(nt+=" "+ii.className),ii.css&&(Ge=(Ge?Ge+";":"")+ii.css),ii.startStyle&&gn.from==de&&(St+=" "+ii.startStyle),ii.endStyle&&gn.to==Ue&&(Jt||(Jt=[])).push(ii.endStyle,gn.to),ii.title&&((Wt||(Wt={})).title=ii.title),ii.attributes)for(var Yi in ii.attributes)(Wt||(Wt={}))[Yi]=ii.attributes[Yi];ii.collapsed&&(!Pt||De(Pt.marker,ii)<0)&&(Pt=gn)}else gn.from>de&&Ue>gn.from&&(Ue=gn.from)}if(Jt)for(var Sr=0;Sr<Jt.length;Sr+=2)Jt[Sr+1]==Ue&&(pt+=" "+Jt[Sr]);if(!Pt||Pt.from==de)for(var Fr=0;Fr<$t.length;++Fr)c7(l,0,$t[Fr]);if(Pt&&(Pt.from||0)==de){if(c7(l,(null==Pt.to?ae+1:Pt.to)-de,Pt.marker,null==Pt.from),null==Pt.to)return;Pt.to==de&&(Pt=!1)}}if(de>=ae)break;for(var Fs=Math.min(ae,Ue);;){if(Te){var Cs=de+Te.length;if(!Pt){var yr=Cs>Fs?Te.slice(0,Fs-de):Te;l.addToken(l,yr,ke?ke+nt:nt,St,de+yr.length==Ue?pt:"",Ge,Wt)}if(Cs>=Fs){Te=Te.slice(Fs-de),de=Fs;break}de=Cs,St=""}Te=E.slice(V,V=y[he++]),ke=wi(y[he++],l.cm.options)}}else for(var J=1;J<y.length;J+=2)l.addToken(l,E.slice(V,V=y[J]),wi(y[J+1],l.cm.options))}function du(a,l,y){this.line=l,this.rest=function co(a){for(var l,y;l=rn(a);)a=l.find(1,!0).line,(y||(y=[])).push(a);return y}(l),this.size=this.rest?ln(Ce(this.rest))-y+1:1,this.node=this.text=null,this.hidden=kr(a,l)}function u1(a,l,y){for(var E,b=[],V=l;V<y;V=E){var J=new du(a.doc,Yt(a.doc,V),V);E=V+J.size,b.push(J)}return b}var fd=null;var hc=null;function Oo(a,l){var y=Fe(a,l);if(y.length){var E,b=Array.prototype.slice.call(arguments,2);fd?E=fd.delayedCallbacks:hc?E=hc:(E=hc=[],setTimeout(yl,0));for(var V=function(ae){E.push(function(){return y[ae].apply(null,b)})},J=0;J<y.length;++J)V(J)}}function yl(){var a=hc;hc=null;for(var l=0;l<a.length;++l)a[l]()}function vm(a,l,y,b){for(var E=0;E<l.changes.length;E++){var V=l.changes[E];"text"==V?uu(a,l):"gutter"==V?hd(a,l,y,b):"class"==V?k2(a,l):"widget"==V&&u7(a,l,b)}l.changes=null}function Xe(a){return a.node==a.text&&(a.node=k("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),x&&M<8&&(a.node.style.zIndex=2)),a.node}function $e(a,l){var y=a.display.externalMeasured;return y&&y.line==l.line?(a.display.externalMeasured=null,l.measure=y.measure,y.built):lu(a,l)}function uu(a,l){var y=l.text.className,b=$e(a,l);l.text==l.node&&(l.node=b.pre),l.text.parentNode.replaceChild(b.pre,l.text),l.text=b.pre,b.bgClass!=l.bgClass||b.textClass!=l.textClass?(l.bgClass=b.bgClass,l.textClass=b.textClass,k2(a,l)):y&&(l.text.className=y)}function k2(a,l){(function _m(a,l){var y=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),l.background)y?l.background.className=y:(l.background.parentNode.removeChild(l.background),l.background=null);else if(y){var b=Xe(l);l.background=b.insertBefore(k("div",null,y),b.firstChild),a.display.input.setUneditable(l.background)}})(a,l),l.line.wrapClass?Xe(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className=""),l.text.className=(l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass)||""}function hd(a,l,y,b){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var E=Xe(l);l.gutterBackground=k("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(a.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),a.display.input.setUneditable(l.gutterBackground),E.insertBefore(l.gutterBackground,l.text)}var V=l.line.gutterMarkers;if(a.options.lineNumbers||V){var J=Xe(l),ae=l.gutter=k("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(ae.setAttribute("aria-hidden","true"),a.display.input.setUneditable(ae),J.insertBefore(ae,l.text),l.line.gutterClass&&(ae.className+=" "+l.line.gutterClass),a.options.lineNumbers&&(!V||!V["CodeMirror-linenumbers"])&&(l.lineNumber=ae.appendChild(k("div",Oe(a.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),V)for(var de=0;de<a.display.gutterSpecs.length;++de){var he=a.display.gutterSpecs[de].className,Te=V.hasOwnProperty(he)&&V[he];Te&&ae.appendChild(k("div",[Te],"CodeMirror-gutter-elt","left: "+b.gutterLeft[he]+"px; width: "+b.gutterWidth[he]+"px"))}}}function u7(a,l,y){l.alignable&&(l.alignable=null);for(var b=Y("CodeMirror-linewidget"),E=l.node.firstChild,V=void 0;E;E=V)V=E.nextSibling,b.test(E.className)&&l.node.removeChild(E);bm(a,l,y)}function f7(a,l,y,b){var E=$e(a,l);return l.text=l.node=E.pre,E.bgClass&&(l.bgClass=E.bgClass),E.textClass&&(l.textClass=E.textClass),k2(a,l),hd(a,l,y,b),bm(a,l,b),l.node}function bm(a,l,y){if(Nh(a,l.line,l,y,!0),l.rest)for(var b=0;b<l.rest.length;b++)Nh(a,l.rest[b],l,y,!1)}function Nh(a,l,y,b,E){if(l.widgets)for(var V=Xe(y),J=0,ae=l.widgets;J<ae.length;++J){var de=ae[J],he=k("div",[de.node],"CodeMirror-linewidget"+(de.className?" "+de.className:""));de.handleMouseEvents||he.setAttribute("cm-ignore-events","true"),wl(de,he,y,b),a.display.input.setUneditable(he),E&&de.above?V.insertBefore(he,y.gutter||y.text):V.appendChild(he),Oo(de,"redraw")}}function wl(a,l,y,b){if(a.noHScroll){(y.alignable||(y.alignable=[])).push(l);var E=b.wrapperWidth;l.style.left=b.fixedPos+"px",a.coverGutter||(E-=b.gutterTotalWidth,l.style.paddingLeft=b.gutterTotalWidth+"px"),l.style.width=E+"px"}a.coverGutter&&(l.style.zIndex=5,l.style.position="relative",a.noHScroll||(l.style.marginLeft=-b.gutterTotalWidth+"px"))}function O2(a){if(null!=a.height)return a.height;var l=a.doc.cm;if(!l)return 0;if(!ne(document.body,a.node)){var y="position: relative;";a.coverGutter&&(y+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),a.noHScroll&&(y+="width: "+l.display.wrapper.clientWidth+"px;"),H(l.display.measure,k("div",[a.node],null,y))}return a.height=a.node.parentNode.offsetHeight}function ca(a,l){for(var y=zi(l);y!=a.wrapper;y=y.parentNode)if(!y||1==y.nodeType&&"true"==y.getAttribute("cm-ignore-events")||y.parentNode==a.sizer&&y!=a.mover)return!0}function fu(a){return a.lineSpace.offsetTop}function Pc(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ym(a){if(a.cachedPaddingH)return a.cachedPaddingH;var l=H(a.measure,k("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,b={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(a.cachedPaddingH=b),b}function Ur(a){return ht-a.display.nativeBarWidth}function wa(a){return a.display.scroller.clientWidth-Ur(a)-a.display.barWidth}function hu(a){return a.display.scroller.clientHeight-Ur(a)-a.display.barHeight}function N2(a,l,y){if(a.line==l)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var b=0;b<a.rest.length;b++)if(a.rest[b]==l)return{map:a.measure.maps[b],cache:a.measure.caches[b]};for(var E=0;E<a.rest.length;E++)if(ln(a.rest[E])>y)return{map:a.measure.maps[E],cache:a.measure.caches[E],before:!0}}}function h7(a,l,y,b){return eo(a,R2(a,l),y,b)}function mu(a,l){if(l>=a.display.viewFrom&&l<a.display.viewTo)return a.display.view[g1(a,l)];var y=a.display.externalMeasured;return y&&l>=y.lineN&&l<y.lineN+y.size?y:void 0}function R2(a,l){var y=ln(l),b=mu(a,y);b&&!b.text?b=null:b&&b.changes&&(vm(a,b,y,Hh(a)),a.curOp.forceUpdate=!0),b||(b=function Rh(a,l){var y=ln(l=hi(l)),b=a.display.externalMeasured=new du(a.doc,l,y);b.lineN=y;var E=b.built=lu(a,b);return b.text=E.pre,H(a.display.lineMeasure,E.pre),b}(a,l));var E=N2(b,l,y);return{line:l,view:b,rect:null,map:E.map,cache:E.cache,before:E.before,hasHeights:!1}}function eo(a,l,y,b,E){l.before&&(y=-1);var J,V=y+(b||"");return l.cache.hasOwnProperty(V)?J=l.cache[V]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(function pu(a,l,y){var b=a.options.lineWrapping,E=b&&wa(a);if(!l.measure.heights||b&&l.measure.width!=E){var V=l.measure.heights=[];if(b){l.measure.width=E;for(var J=l.text.firstChild.getClientRects(),ae=0;ae<J.length-1;ae++){var de=J[ae],he=J[ae+1];Math.abs(de.bottom-he.bottom)>2&&V.push((de.bottom+he.top)/2-y.top)}}V.push(y.bottom-y.top)}}(a,l.view,l.rect),l.hasHeights=!0),(J=function wm(a,l,y,b){var he,E=f1(l.map,y,b),V=E.node,J=E.start,ae=E.end,de=E.collapse;if(3==V.nodeType){for(var Te=0;Te<4;Te++){for(;J&&Zt(l.line.text.charAt(E.coverStart+J));)--J;for(;E.coverStart+ae<E.coverEnd&&Zt(l.line.text.charAt(E.coverStart+ae));)++ae;if((he=x&&M<9&&0==J&&ae==E.coverEnd-E.coverStart?V.parentNode.getBoundingClientRect():eM(R(V,J,ae).getClientRects(),b)).left||he.right||0==J)break;ae=J,J-=1,de="right"}x&&M<11&&(he=function pc(a,l){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function aa(a){if(null!=bo)return bo;var l=H(a,k("span","x")),y=l.getBoundingClientRect(),b=R(l,0,1).getBoundingClientRect();return bo=Math.abs(y.left-b.left)>1}(a))return l;var y=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*y,right:l.right*y,top:l.top*b,bottom:l.bottom*b}}(a.display.measure,he))}else{var ke;J>0&&(de=b="right"),he=a.options.lineWrapping&&(ke=V.getClientRects()).length>1?ke["right"==b?ke.length-1:0]:V.getBoundingClientRect()}if(x&&M<9&&!J&&(!he||!he.left&&!he.right)){var Ge=V.parentNode.getClientRects()[0];he=Ge?{left:Ge.left,right:Ge.left+m1(a.display),top:Ge.top,bottom:Ge.bottom}:gu}for(var Ue=he.top-l.rect.top,nt=he.bottom-l.rect.top,pt=(Ue+nt)/2,St=l.view.measure.heights,Pt=0;Pt<St.length-1&&!(pt<St[Pt]);Pt++);var Jt={left:("right"==de?he.right:he.left)-l.rect.left,right:("left"==de?he.left:he.right)-l.rect.left,top:Pt?St[Pt-1]:0,bottom:St[Pt]};return!he.left&&!he.right&&(Jt.bogus=!0),a.options.singleCursorHeightPerLine||(Jt.rtop=Ue,Jt.rbottom=nt),Jt}(a,l,y,b)).bogus||(l.cache[V]=J)),{left:J.left,right:J.right,top:E?J.rtop:J.top,bottom:E?J.rbottom:J.bottom}}var rs,gu={left:0,right:0,top:0,bottom:0};function f1(a,l,y){for(var b,E,V,J,ae,de,he=0;he<a.length;he+=3)if(de=a[he+1],l<(ae=a[he])?(E=0,V=1,J="left"):l<de?V=1+(E=l-ae):(he==a.length-3||l==de&&a[he+3]>l)&&(E=(V=de-ae)-1,l>=de&&(J="right")),null!=E){if(b=a[he+2],ae==de&&y==(b.insertLeft?"left":"right")&&(J=y),"left"==y&&0==E)for(;he&&a[he-2]==a[he-3]&&a[he-1].insertLeft;)b=a[2+(he-=3)],J="left";if("right"==y&&E==de-ae)for(;he<a.length-3&&a[he+3]==a[he+4]&&!a[he+5].insertLeft;)b=a[(he+=3)+2],J="right";break}return{node:b,start:E,end:V,collapse:J,coverStart:ae,coverEnd:de}}function eM(a,l){var y=gu;if("left"==l)for(var b=0;b<a.length&&(y=a[b]).left==y.right;b++);else for(var E=a.length-1;E>=0&&(y=a[E]).left==y.right;E--);return y}function Li(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var l=0;l<a.rest.length;l++)a.measure.caches[l]={}}function h1(a){a.display.externalMeasure=null,re(a.display.lineMeasure);for(var l=0;l<a.display.view.length;l++)Li(a.display.view[l])}function pd(a){h1(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function vu(a){return d&&D?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function F2(a){return d&&D?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function md(a){var y=hi(a).widgets,b=0;if(y)for(var E=0;E<y.length;++E)y[E].above&&(b+=O2(y[E]));return b}function Ys(a,l,y,b,E){if(!E){var V=md(l);y.top+=V,y.bottom+=V}if("line"==b)return y;b||(b="local");var J=dn(l);if("local"==b?J+=fu(a.display):J-=a.display.viewOffset,"page"==b||"window"==b){var ae=a.display.lineSpace.getBoundingClientRect();J+=ae.top+("window"==b?0:F2(ue(a)));var de=ae.left+("window"==b?0:vu(ue(a)));y.left+=de,y.right+=de}return y.top+=J,y.bottom+=J,y}function Mt(a,l,y){if("div"==y)return l;var b=l.left,E=l.top;if("page"==y)b-=vu(ue(a)),E-=F2(ue(a));else if("local"==y||!y){var V=a.display.sizer.getBoundingClientRect();b+=V.left,E+=V.top}var J=a.display.lineSpace.getBoundingClientRect();return{left:b-J.left,top:E-J.top}}function _u(a,l,y,b,E){return b||(b=Yt(a.doc,l.line)),Ys(a,b,h7(a,b,l.ch,E),y)}function la(a,l,y,b,E,V){function J(nt,pt){var St=eo(a,E,nt,pt?"right":"left",V);return pt?St.left=St.right:St.right=St.left,Ys(a,b,St,y)}b=b||Yt(a.doc,l.line),E||(E=R2(a,b));var ae=_n(b,a.doc.direction),de=l.ch,he=l.sticky;if(de>=b.text.length?(de=b.text.length,he="before"):de<=0&&(de=0,he="after"),!ae)return J("before"==he?de-1:de,"before"==he);function Te(nt,pt,St){return J(St?nt-1:nt,1==ae[pt].level!=St)}var ke=Rn(ae,de,he),Ge=Gn,Ue=Te(de,ke,"before"==he);return null!=Ge&&(Ue.other=Te(de,Ge,"before"!=he)),Ue}function Fh(a,l){var y=0;l=wn(a.doc,l),a.options.lineWrapping||(y=m1(a.display)*l.ch);var b=Yt(a.doc,l.line),E=dn(b)+fu(a.display);return{left:y,right:y,top:E,bottom:E+b.height}}function bu(a,l,y,b,E){var V=Ie(a,l,y);return V.xRel=E,b&&(V.outside=b),V}function p1(a,l,y){var b=a.doc;if((y+=a.display.viewOffset)<0)return bu(b.first,0,null,-1,-1);var E=Io(b,y),V=b.first+b.size-1;if(E>V)return bu(b.first+b.size-1,Yt(b,V).text.length,null,1,1);l<0&&(l=0);for(var J=Yt(b,E);;){var ae=Bh(a,J,E,l,y),de=_r(J,ae.ch+(ae.xRel>0||ae.outside>0?1:0));if(!de)return ae;var he=de.find(1);if(he.line==E)return he;J=Yt(b,E=he.line)}}function Ph(a,l,y,b){b-=md(l);var E=l.text.length,V=Nt(function(J){return eo(a,y,J-1).bottom<=b},E,0);return{begin:V,end:E=Nt(function(J){return eo(a,y,J).top>b},V,E)}}function zh(a,l,y,b){return y||(y=R2(a,l)),Ph(a,l,y,Ys(a,l,eo(a,y,b),"line").top)}function $h(a,l,y,b){return!(a.bottom<=y)&&(a.top>y||(b?a.left:a.right)>l)}function Bh(a,l,y,b,E){E-=dn(l);var V=R2(a,l),J=md(l),ae=0,de=l.text.length,he=!0,Te=_n(l,a.doc.direction);if(Te){var ke=(a.options.lineWrapping?m7:p7)(a,l,y,V,Te,b,E);ae=(he=1!=ke.level)?ke.from:ke.to-1,de=he?ke.to:ke.from-1}var pt,St,Ge=null,Ue=null,nt=Nt(function(Tn){var gn=eo(a,V,Tn);return gn.top+=J,gn.bottom+=J,!!$h(gn,b,E,!1)&&(gn.top<=E&&gn.left<=b&&(Ge=Tn,Ue=gn),!0)},ae,de),Pt=!1;if(Ue){var Wt=b-Ue.left<Ue.right-b,$t=Wt==he;nt=Ge+($t?0:1),St=$t?"after":"before",pt=Wt?Ue.left:Ue.right}else{!he&&(nt==de||nt==ae)&&nt++,St=0==nt?"after":nt==l.text.length?"before":eo(a,V,nt-(he?1:0)).bottom+J<=E==he?"after":"before";var Jt=la(a,Ie(y,nt,St),"line",l,V);pt=Jt.left,Pt=E<Jt.top?-1:E>=Jt.bottom?1:0}return bu(y,nt=un(l.text,nt,1),St,Pt,b-pt)}function p7(a,l,y,b,E,V,J){var ae=Nt(function(ke){var Ge=E[ke],Ue=1!=Ge.level;return $h(la(a,Ie(y,Ue?Ge.to:Ge.from,Ue?"before":"after"),"line",l,b),V,J,!0)},0,E.length-1),de=E[ae];if(ae>0){var he=1!=de.level,Te=la(a,Ie(y,he?de.from:de.to,he?"after":"before"),"line",l,b);$h(Te,V,J,!0)&&Te.top>J&&(de=E[ae-1])}return de}function m7(a,l,y,b,E,V,J){var ae=Ph(a,l,b,J),de=ae.begin,he=ae.end;/\s/.test(l.text.charAt(he-1))&&he--;for(var Te=null,ke=null,Ge=0;Ge<E.length;Ge++){var Ue=E[Ge];if(!(Ue.from>=he||Ue.to<=de)){var pt=eo(a,b,1!=Ue.level?Math.min(he,Ue.to)-1:Math.max(de,Ue.from)).right,St=pt<V?V-pt+1e9:pt-V;(!Te||ke>St)&&(Te=Ue,ke=St)}}return Te||(Te=E[E.length-1]),Te.from<de&&(Te={from:de,to:Te.to,level:Te.level}),Te.to>he&&(Te={from:Te.from,to:he,level:Te.level}),Te}function gd(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==rs){rs=k("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)rs.appendChild(document.createTextNode("x")),rs.appendChild(k("br"));rs.appendChild(document.createTextNode("x"))}H(a.measure,rs);var y=rs.offsetHeight/50;return y>3&&(a.cachedTextHeight=y),re(a.measure),y||1}function m1(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var l=k("span","xxxxxxxxxx"),y=k("pre",[l],"CodeMirror-line-like");H(a.measure,y);var b=l.getBoundingClientRect(),E=(b.right-b.left)/10;return E>2&&(a.cachedCharWidth=E),E||10}function Hh(a){for(var l=a.display,y={},b={},E=l.gutters.clientLeft,V=l.gutters.firstChild,J=0;V;V=V.nextSibling,++J){var ae=a.display.gutterSpecs[J].className;y[ae]=V.offsetLeft+V.clientLeft+E,b[ae]=V.clientWidth}return{fixedPos:Uh(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:y,gutterWidth:b,wrapperWidth:l.wrapper.clientWidth}}function Uh(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function xm(a){var l=gd(a.display),y=a.options.lineWrapping,b=y&&Math.max(5,a.display.scroller.clientWidth/m1(a.display)-3);return function(E){if(kr(a.doc,E))return 0;var V=0;if(E.widgets)for(var J=0;J<E.widgets.length;J++)E.widgets[J].height&&(V+=E.widgets[J].height);return y?V+(Math.ceil(E.text.length/b)||1)*l:V+l}}function Vh(a){var l=a.doc,y=xm(a);l.iter(function(b){var E=y(b);E!=b.height&&Yo(b,E)})}function xl(a,l,y,b){var E=a.display;if(!y&&"true"==zi(l).getAttribute("cm-not-content"))return null;var V,J,ae=E.lineSpace.getBoundingClientRect();try{V=l.clientX-ae.left,J=l.clientY-ae.top}catch{return null}var he,de=p1(a,V,J);if(b&&de.xRel>0&&(he=Yt(a.doc,de.line).text).length==de.ch){var Te=qe(he,he.length,a.options.tabSize)-he.length;de=Ie(de.line,Math.max(0,Math.round((V-ym(a.display).left)/m1(a.display))-Te))}return de}function g1(a,l){if(l>=a.display.viewTo||(l-=a.display.viewFrom)<0)return null;for(var y=a.display.view,b=0;b<y.length;b++)if((l-=y[b].size)<0)return b}function Os(a,l,y,b){null==l&&(l=a.doc.first),null==y&&(y=a.doc.first+a.doc.size),b||(b=0);var E=a.display;if(b&&y<E.viewTo&&(null==E.updateLineNumbers||E.updateLineNumbers>l)&&(E.updateLineNumbers=l),a.curOp.viewChanged=!0,l>=E.viewTo)qt&&ar(a.doc,l)<E.viewTo&&rt(a);else if(y<=E.viewFrom)qt&&Ir(a.doc,y+b)>E.viewFrom?rt(a):(E.viewFrom+=b,E.viewTo+=b);else if(l<=E.viewFrom&&y>=E.viewTo)rt(a);else if(l<=E.viewFrom){var V=yu(a,y,y+b,1);V?(E.view=E.view.slice(V.index),E.viewFrom=V.lineN,E.viewTo+=b):rt(a)}else if(y>=E.viewTo){var J=yu(a,l,l,-1);J?(E.view=E.view.slice(0,J.index),E.viewTo=J.lineN):rt(a)}else{var ae=yu(a,l,l,-1),de=yu(a,y,y+b,1);ae&&de?(E.view=E.view.slice(0,ae.index).concat(u1(a,ae.lineN,de.lineN)).concat(E.view.slice(de.index)),E.viewTo+=b):rt(a)}var he=E.externalMeasured;he&&(y<he.lineN?he.lineN+=b:l<he.lineN+he.size&&(E.externalMeasured=null))}function Cl(a,l,y){a.curOp.viewChanged=!0;var b=a.display,E=a.display.externalMeasured;if(E&&l>=E.lineN&&l<E.lineN+E.size&&(b.externalMeasured=null),!(l<b.viewFrom||l>=b.viewTo)){var V=b.view[g1(a,l)];if(null!=V.node){var J=V.changes||(V.changes=[]);-1==ct(J,y)&&J.push(y)}}}function rt(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function yu(a,l,y,b){var V,E=g1(a,l),J=a.display.view;if(!qt||y==a.doc.first+a.doc.size)return{index:E,lineN:y};for(var ae=a.display.viewFrom,de=0;de<E;de++)ae+=J[de].size;if(ae!=l){if(b>0){if(E==J.length-1)return null;V=ae+J[E].size-l,E++}else V=ae-l;l+=V,y+=V}for(;ar(a.doc,y)!=y;){if(E==(b<0?0:J.length-1))return null;y+=b*J[E-(b<0?1:0)].size,E+=b}return{index:E,lineN:y}}function an(a){for(var l=a.display.view,y=0,b=0;b<l.length;b++){var E=l[b];!E.hidden&&(!E.node||E.changes)&&++y}return y}function vd(a){a.display.input.showSelection(a.display.input.prepareSelection())}function ot(a,l){void 0===l&&(l=!0);var y=a.doc,b={},E=b.cursors=document.createDocumentFragment(),V=b.selection=document.createDocumentFragment(),J=a.options.$customCursor;J&&(l=!0);for(var ae=0;ae<y.sel.ranges.length;ae++)if(l||ae!=y.sel.primIndex){var de=y.sel.ranges[ae];if(!(de.from().line>=a.display.viewTo||de.to().line<a.display.viewFrom)){var he=de.empty();if(J){var Te=J(a,de);Te&&os(a,Te,E)}else(he||a.options.showCursorWhenSelecting)&&os(a,de.head,E);he||No(a,de,V)}}return b}function os(a,l,y){var b=la(a,l,"div",null,null,!a.options.singleCursorHeightPerLine),E=y.appendChild(k("div","\xa0","CodeMirror-cursor"));if(E.style.left=b.left+"px",E.style.top=b.top+"px",E.style.height=Math.max(0,b.bottom-b.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var V=_u(a,l,"div",null,null),J=V.right-V.left;E.style.width=(J>0?J:a.defaultCharWidth())+"px"}if(b.other){var ae=y.appendChild(k("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));ae.style.display="",ae.style.left=b.other.left+"px",ae.style.top=b.other.top+"px",ae.style.height=.85*(b.other.bottom-b.other.top)+"px"}}function ti(a,l){return a.top-l.top||a.left-l.left}function No(a,l,y){var b=a.display,E=a.doc,V=document.createDocumentFragment(),J=ym(a.display),ae=J.left,de=Math.max(b.sizerWidth,wa(a)-b.sizer.offsetLeft)-J.right,he="ltr"==E.direction;function Te($t,Jt,Tn,gn){Jt<0&&(Jt=0),Jt=Math.round(Jt),gn=Math.round(gn),V.appendChild(k("div",null,"CodeMirror-selected","position: absolute; left: "+$t+"px;\n                             top: "+Jt+"px; width: "+(Tn??de-$t)+"px;\n                             height: "+(gn-Jt)+"px"))}function ke($t,Jt,Tn){var Yi,Sr,gn=Yt(E,$t),ii=gn.text.length;function Fr(yr,Co){return _u(a,Ie($t,yr),"div",gn,Co)}function Fs(yr,Co,xi){var Mo=zh(a,gn,null,yr),Vt="ltr"==Co==("after"==xi)?"left":"right";return Fr("after"==xi?Mo.begin:Mo.end-(/\s/.test(gn.text.charAt(Mo.end-1))?2:1),Vt)[Vt]}var Cs=_n(gn,E.direction);return function Un(a,l,y,b){if(!a)return b(l,y,"ltr",0);for(var E=!1,V=0;V<a.length;++V){var J=a[V];(J.from<y&&J.to>l||l==y&&J.to==l)&&(b(Math.max(J.from,l),Math.min(J.to,y),1==J.level?"rtl":"ltr",V),E=!0)}E||b(l,y,"ltr")}(Cs,Jt||0,Tn??ii,function(yr,Co,xi,Mo){var Vt="ltr"==xi,Tr=Fr(yr,Vt?"left":"right"),Ps=Fr(Co-1,Vt?"right":"left"),k1=null==Jt&&0==yr,Ms=null==Tn&&Co==ii,as=0==Mo,Ka=!Cs||Mo==Cs.length-1;if(Ps.top-Tr.top<=3){var _c=(he?k1:Ms)&&as?ae:(Vt?Tr:Ps).left;Te(_c,Tr.top,((he?Ms:k1)&&Ka?de:(Vt?Ps:Tr).right)-_c,Tr.bottom)}else{var N1,Ss,R1,S3;Vt?(N1=he&&k1&&as?ae:Tr.left,Ss=he?de:Fs(yr,xi,"before"),R1=he?ae:Fs(Co,xi,"after"),S3=he&&Ms&&Ka?de:Ps.right):(N1=he?Fs(yr,xi,"before"):ae,Ss=!he&&k1&&as?de:Tr.right,R1=!he&&Ms&&Ka?ae:Ps.left,S3=he?Fs(Co,xi,"after"):de),Te(N1,Tr.top,Ss-N1,Tr.bottom),Tr.bottom<Ps.top&&Te(ae,Tr.bottom,null,Ps.top),Te(R1,Ps.top,S3-R1,Ps.bottom)}(!Yi||ti(Tr,Yi)<0)&&(Yi=Tr),ti(Ps,Yi)<0&&(Yi=Ps),(!Sr||ti(Tr,Sr)<0)&&(Sr=Tr),ti(Ps,Sr)<0&&(Sr=Ps)}),{start:Yi,end:Sr}}var Ge=l.from(),Ue=l.to();if(Ge.line==Ue.line)ke(Ge.line,Ge.ch,Ue.ch);else{var nt=Yt(E,Ge.line),pt=Yt(E,Ue.line),St=hi(nt)==hi(pt),Pt=ke(Ge.line,Ge.ch,St?nt.text.length+1:null).end,Wt=ke(Ue.line,St?0:null,Ue.ch).start;St&&(Pt.top<Wt.top-2?(Te(Pt.right,Pt.top,null,Pt.bottom),Te(ae,Wt.top,Wt.left,Wt.bottom)):Te(Pt.right,Pt.top,Wt.left-Pt.right,Pt.bottom)),Pt.bottom<Wt.top&&Te(ae,Pt.bottom,null,Wt.top)}y.appendChild(V)}function Ro(a){if(a.state.focused){var l=a.display;clearInterval(l.blinker);var y=!0;l.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?l.blinker=setInterval(function(){a.hasFocus()||v1(a),l.cursorDiv.style.visibility=(y=!y)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function Ml(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||wu(a))}function qo(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&v1(a))},100)}function wu(a,l){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(kt(a,"focus",a,l),a.state.focused=!0,ce(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),u&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Ro(a))}function v1(a,l){a.state.delayingBlurEvent||(a.state.focused&&(kt(a,"blur",a,l),a.state.focused=!1,W(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function _1(a){for(var l=a.display,y=l.lineDiv.offsetTop,b=Math.max(0,l.scroller.getBoundingClientRect().top),E=l.lineDiv.getBoundingClientRect().top,V=0,J=0;J<l.view.length;J++){var ae=l.view[J],de=a.options.lineWrapping,he=void 0,Te=0;if(!ae.hidden){if(E+=ae.line.height,x&&M<8){var ke=ae.node.offsetTop+ae.node.offsetHeight;he=ke-y,y=ke}else{var Ge=ae.node.getBoundingClientRect();he=Ge.bottom-Ge.top,!de&&ae.text.firstChild&&(Te=ae.text.firstChild.getBoundingClientRect().right-Ge.left-1)}var Ue=ae.line.height-he;if((Ue>.005||Ue<-.005)&&(E<b&&(V-=Ue),Yo(ae.line,he),Cm(ae.line),ae.rest))for(var nt=0;nt<ae.rest.length;nt++)Cm(ae.rest[nt]);if(Te>a.display.sizerWidth){var pt=Math.ceil(Te/m1(a.display));pt>a.display.maxLineLength&&(a.display.maxLineLength=pt,a.display.maxLine=ae.line,a.display.maxLineChanged=!0)}}}Math.abs(V)>2&&(l.scroller.scrollTop+=V)}function Cm(a){if(a.widgets)for(var l=0;l<a.widgets.length;++l){var y=a.widgets[l],b=y.node.parentNode;b&&(y.height=b.offsetHeight)}}function xu(a,l,y){var b=y&&null!=y.top?Math.max(0,y.top):a.scroller.scrollTop;b=Math.floor(b-fu(a));var E=y&&null!=y.bottom?y.bottom:b+a.wrapper.clientHeight,V=Io(l,b),J=Io(l,E);if(y&&y.ensure){var ae=y.ensure.from.line,de=y.ensure.to.line;ae<V?(V=ae,J=Io(l,dn(Yt(l,ae))+a.wrapper.clientHeight)):Math.min(de,l.lastLine())>=J&&(V=Io(l,dn(Yt(l,de))-a.wrapper.clientHeight),J=de)}return{from:V,to:Math.max(J,V+1)}}function Cu(a,l){var y=a.display,b=gd(a.display);l.top<0&&(l.top=0);var E=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:y.scroller.scrollTop,V=hu(a),J={};l.bottom-l.top>V&&(l.bottom=l.top+V);var ae=a.doc.height+Pc(y),he=l.bottom>ae-b;if(l.top<E)J.scrollTop=l.top<b?0:l.top;else if(l.bottom>E+V){var Te=Math.min(l.top,(he?ae:l.bottom)-V);Te!=E&&(J.scrollTop=Te)}var ke=a.options.fixedGutter?0:y.gutters.offsetWidth,Ge=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:y.scroller.scrollLeft-ke,Ue=wa(a)-y.gutters.offsetWidth,nt=l.right-l.left>Ue;return nt&&(l.right=l.left+Ue),l.left<10?J.scrollLeft=0:l.left<Ge?J.scrollLeft=Math.max(0,l.left+ke-(nt?0:10)):l.right>Ue+Ge-3&&(J.scrollLeft=l.right+(nt?0:10)-Ue),J}function _d(a,l){null!=l&&(bd(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+l)}function z2(a){bd(a);var l=a.getCursor();a.curOp.scrollToPos={from:l,to:l,margin:a.options.cursorScrollMargin}}function b1(a,l,y){(null!=l||null!=y)&&bd(a),null!=l&&(a.curOp.scrollLeft=l),null!=y&&(a.curOp.scrollTop=y)}function bd(a){var l=a.curOp.scrollToPos;l&&(a.curOp.scrollToPos=null,Wh(a,Fh(a,l.from),Fh(a,l.to),l.margin))}function Wh(a,l,y,b){var E=Cu(a,{left:Math.min(l.left,y.left),top:Math.min(l.top,y.top)-b,right:Math.max(l.right,y.right),bottom:Math.max(l.bottom,y.bottom)+b});b1(a,E.scrollLeft,E.scrollTop)}function yd(a,l){Math.abs(a.doc.scrollTop-l)<2||(L||Kh(a,{top:l}),Sl(a,l,!0),L&&Kh(a),H2(a,100))}function Sl(a,l,y){l=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,l)),(a.display.scroller.scrollTop!=l||y)&&(a.doc.scrollTop=l,a.display.scrollbars.setScrollTop(l),a.display.scroller.scrollTop!=l&&(a.display.scroller.scrollTop=l))}function y1(a,l,y,b){l=Math.max(0,Math.min(l,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(y?l==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-l)<2)||b)&&(a.doc.scrollLeft=l,Mu(a),a.display.scroller.scrollLeft!=l&&(a.display.scroller.scrollLeft=l),a.display.scrollbars.setScrollLeft(l))}function w1(a){var l=a.display,y=l.gutters.offsetWidth,b=Math.round(a.doc.height+Pc(a.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:a.options.fixedGutter?y:0,docHeight:b,scrollHeight:b+Ur(a)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:y}}var mc=function(a,l,y){this.cm=y;var b=this.vert=k("div",[k("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),E=this.horiz=k("div",[k("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=E.tabIndex=-1,a(b),a(E),_e(b,"scroll",function(){b.clientHeight&&l(b.scrollTop,"vertical")}),_e(E,"scroll",function(){E.clientWidth&&l(E.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,x&&M<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mc.prototype.update=function(a){var l=a.scrollWidth>a.clientWidth+1,y=a.scrollHeight>a.clientHeight+1,b=a.nativeBarWidth;return y?(this.vert.style.display="block",this.vert.style.bottom=l?b+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(l?b:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),l?(this.horiz.style.display="block",this.horiz.style.right=y?b+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(y?b:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==b&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?b:0,bottom:l?b:0}},mc.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mc.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mc.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=P&&!h?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Qe,this.disableVert=new Qe},mc.prototype.enableZeroWidthBar=function(a,l,y){a.style.visibility="",l.set(1e3,function b(){var E=a.getBoundingClientRect();("vert"==y?document.elementFromPoint(E.right-1,(E.top+E.bottom)/2):document.elementFromPoint((E.right+E.left)/2,E.bottom-1))!=a?a.style.visibility="hidden":l.set(1e3,b)})},mc.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var $2=function(){};function Tl(a,l){l||(l=w1(a));var y=a.display.barWidth,b=a.display.barHeight;B2(a,l);for(var E=0;E<4&&y!=a.display.barWidth||b!=a.display.barHeight;E++)y!=a.display.barWidth&&a.options.lineWrapping&&_1(a),B2(a,w1(a)),y=a.display.barWidth,b=a.display.barHeight}function B2(a,l){var y=a.display,b=y.scrollbars.update(l);y.sizer.style.paddingRight=(y.barWidth=b.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=b.bottom)+"px",y.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=b.bottom+"px",y.scrollbarFiller.style.width=b.right+"px"):y.scrollbarFiller.style.display="",b.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=b.bottom+"px",y.gutterFiller.style.width=l.gutterWidth+"px"):y.gutterFiller.style.display=""}$2.prototype.update=function(){return{bottom:0,right:0}},$2.prototype.setScrollLeft=function(){},$2.prototype.setScrollTop=function(){},$2.prototype.clear=function(){};var qs={native:mc,null:$2};function x1(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&W(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new qs[a.options.scrollbarStyle](function(l){a.display.wrapper.insertBefore(l,a.display.scrollbarFiller),_e(l,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,y){"horizontal"==y?y1(a,l):yd(a,l)},a),a.display.scrollbars.addClass&&ce(a.display.wrapper,a.display.scrollbars.addClass)}var Gh=0;function C1(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Gh,markArrays:null},function l7(a){fd?fd.ops.push(a):a.ownsGroup=fd={ops:[a],delayedCallbacks:[]}}(a.curOp)}function M1(a){var l=a.curOp;l&&function gm(a,l){var y=a.ownsGroup;if(y)try{!function d7(a){var l=a.delayedCallbacks,y=0;do{for(;y<l.length;y++)l[y].call(null);for(var b=0;b<a.ops.length;b++){var E=a.ops[b];if(E.cursorActivityHandlers)for(;E.cursorActivityCalled<E.cursorActivityHandlers.length;)E.cursorActivityHandlers[E.cursorActivityCalled++].call(null,E.cm)}}while(y<l.length)}(y)}finally{fd=null,l(y)}}(l,function(y){for(var b=0;b<y.ops.length;b++)y.ops[b].cm.curOp=null;!function Mm(a){for(var l=a.ops,y=0;y<l.length;y++)wd(l[y]);for(var b=0;b<l.length;b++)b7(l[b]);for(var E=0;E<l.length;E++)y7(l[E]);for(var V=0;V<l.length;V++)w7(l[V]);for(var J=0;J<l.length;J++)Yh(l[J])}(y)})}function wd(a){var l=a.cm,y=l.display;(function Sm(a){var l=a.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Ur(a)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Ur(a)+"px",l.scrollbarsClipped=!0)})(l),a.updateMaxLine&&Va(l),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<y.viewFrom||a.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&l.options.lineWrapping,a.update=a.mustUpdate&&new to(l,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function b7(a){a.updatedDisplay=a.mustUpdate&&qh(a.cm,a.update)}function y7(a){var l=a.cm,y=l.display;a.updatedDisplay&&_1(l),a.barMeasure=w1(l),y.maxLineChanged&&!l.options.lineWrapping&&(a.adjustWidthTo=h7(l,y.maxLine,y.maxLine.text.length).left+3,l.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+a.adjustWidthTo+Ur(l)+l.display.barWidth),a.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+a.adjustWidthTo-wa(l))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=y.input.prepareSelection())}function w7(a){var l=a.cm;null!=a.adjustWidthTo&&(l.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<l.doc.scrollLeft&&y1(l,Math.min(l.display.scroller.scrollLeft,a.maxScrollLeft),!0),l.display.maxLineChanged=!1);var y=a.focus&&a.focus==te(xe(l));a.preparedSelection&&l.display.input.showSelection(a.preparedSelection,y),(a.updatedDisplay||a.startHeight!=l.doc.height)&&Tl(l,a.barMeasure),a.updatedDisplay&&Qh(l,a.barMeasure),a.selectionChanged&&Ro(l),l.state.focused&&a.updateInput&&l.display.input.reset(a.typing),y&&Ml(a.cm)}function Yh(a){var l=a.cm,y=l.display,b=l.doc;a.updatedDisplay&&Tm(l,a.update),null!=y.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),null!=a.scrollTop&&Sl(l,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&y1(l,a.scrollLeft,!0,!0),a.scrollToPos&&function P2(a,l){if(!Cn(a,"scrollCursorIntoView")){var y=a.display,b=y.sizer.getBoundingClientRect(),E=null,V=y.wrapper.ownerDocument;if(l.top+b.top<0?E=!0:l.bottom+b.top>(V.defaultView.innerHeight||V.documentElement.clientHeight)&&(E=!1),null!=E&&!_){var J=k("div","\u200b",null,"position: absolute;\n                         top: "+(l.top-y.viewOffset-fu(a.display))+"px;\n                         height: "+(l.bottom-l.top+Ur(a)+y.barHeight)+"px;\n                         left: "+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");a.display.lineSpace.appendChild(J),J.scrollIntoView(E),a.display.lineSpace.removeChild(J)}}}(l,function v7(a,l,y,b){var E;null==b&&(b=0),!a.options.lineWrapping&&l==y&&(y="before"==l.sticky?Ie(l.line,l.ch+1,"before"):l,l=l.ch?Ie(l.line,"before"==l.sticky?l.ch-1:l.ch,"after"):l);for(var V=0;V<5;V++){var J=!1,ae=la(a,l),de=y&&y!=l?la(a,y):ae,he=Cu(a,E={left:Math.min(ae.left,de.left),top:Math.min(ae.top,de.top)-b,right:Math.max(ae.left,de.left),bottom:Math.max(ae.bottom,de.bottom)+b}),Te=a.doc.scrollTop,ke=a.doc.scrollLeft;if(null!=he.scrollTop&&(yd(a,he.scrollTop),Math.abs(a.doc.scrollTop-Te)>1&&(J=!0)),null!=he.scrollLeft&&(y1(a,he.scrollLeft),Math.abs(a.doc.scrollLeft-ke)>1&&(J=!0)),!J)break}return E}(l,wn(b,a.scrollToPos.from),wn(b,a.scrollToPos.to),a.scrollToPos.margin));var V=a.maybeHiddenMarkers,J=a.maybeUnhiddenMarkers;if(V)for(var ae=0;ae<V.length;++ae)V[ae].lines.length||kt(V[ae],"hide");if(J)for(var de=0;de<J.length;++de)J[de].lines.length&&kt(J[de],"unhide");y.wrapper.offsetHeight&&(b.scrollTop=l.display.scroller.scrollTop),a.changeObjs&&kt(l,"changes",l,a.changeObjs),a.update&&a.update.finish()}function ys(a,l){if(a.curOp)return l();C1(a);try{return l()}finally{M1(a)}}function wo(a,l){return function(){if(a.curOp)return l.apply(a,arguments);C1(a);try{return l.apply(a,arguments)}finally{M1(a)}}}function xo(a){return function(){if(this.curOp)return a.apply(this,arguments);C1(this);try{return a.apply(this,arguments)}finally{M1(this)}}}function Or(a){return function(){var l=this.cm;if(!l||l.curOp)return a.apply(this,arguments);C1(l);try{return a.apply(this,arguments)}finally{M1(l)}}}function H2(a,l){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(l,Ae(x7,a))}function x7(a){var l=a.doc;if(!(l.highlightFrontier>=a.display.viewTo)){var y=+new Date+a.options.workTime,b=c1(a,l.highlightFrontier),E=[];l.iter(b.line,Math.min(l.first+l.size,a.display.viewTo+500),function(V){if(b.line>=a.display.viewFrom){var J=V.styles,ae=V.text.length>a.options.maxHighlightLength?Go(l.mode,b.state):null,de=T2(a,V,b,!0);ae&&(b.state=ae),V.styles=de.styles;var he=V.styleClasses,Te=de.classes;Te?V.styleClasses=Te:he&&(V.styleClasses=null);for(var ke=!J||J.length!=V.styles.length||he!=Te&&(!he||!Te||he.bgClass!=Te.bgClass||he.textClass!=Te.textClass),Ge=0;!ke&&Ge<J.length;++Ge)ke=J[Ge]!=V.styles[Ge];ke&&E.push(b.line),V.stateAfter=b.save(),b.nextLine()}else V.text.length<=a.options.maxHighlightLength&&E2(a,V.text,b),V.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>y)return H2(a,a.options.workDelay),!0}),l.highlightFrontier=b.line,l.modeFrontier=Math.max(l.modeFrontier,b.line),E.length&&ys(a,function(){for(var V=0;V<E.length;V++)Cl(a,E[V],"text")})}}var to=function(a,l,y){var b=a.display;this.viewport=l,this.visible=xu(b,a.doc,l),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=wa(a),this.force=y,this.dims=Hh(a),this.events=[]};function qh(a,l){var y=a.display,b=a.doc;if(l.editorIsHidden)return rt(a),!1;if(!l.force&&l.visible.from>=y.viewFrom&&l.visible.to<=y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&0==an(a))return!1;V2(a)&&(rt(a),l.dims=Hh(a));var E=b.first+b.size,V=Math.max(l.visible.from-a.options.viewportMargin,b.first),J=Math.min(E,l.visible.to+a.options.viewportMargin);y.viewFrom<V&&V-y.viewFrom<20&&(V=Math.max(b.first,y.viewFrom)),y.viewTo>J&&y.viewTo-J<20&&(J=Math.min(E,y.viewTo)),qt&&(V=ar(a.doc,V),J=Ir(a.doc,J));var ae=V!=y.viewFrom||J!=y.viewTo||y.lastWrapHeight!=l.wrapperHeight||y.lastWrapWidth!=l.wrapperWidth;(function g7(a,l,y){var b=a.display;0==b.view.length||l>=b.viewTo||y<=b.viewFrom?(b.view=u1(a,l,y),b.viewFrom=l):(b.viewFrom>l?b.view=u1(a,l,b.viewFrom).concat(b.view):b.viewFrom<l&&(b.view=b.view.slice(g1(a,l))),b.viewFrom=l,b.viewTo<y?b.view=b.view.concat(u1(a,b.viewTo,y)):b.viewTo>y&&(b.view=b.view.slice(0,g1(a,y)))),b.viewTo=y})(a,V,J),y.viewOffset=dn(Yt(a.doc,y.viewFrom)),a.display.mover.style.top=y.viewOffset+"px";var de=an(a);if(!ae&&0==de&&!l.force&&y.renderedView==y.view&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo))return!1;var he=function C7(a){if(a.hasFocus())return null;var l=te(xe(a));if(!l||!ne(a.display.lineDiv,l))return null;var y={activeElt:l};if(window.getSelection){var b=Ne(a).getSelection();b.anchorNode&&b.extend&&ne(a.display.lineDiv,b.anchorNode)&&(y.anchorNode=b.anchorNode,y.anchorOffset=b.anchorOffset,y.focusNode=b.focusNode,y.focusOffset=b.focusOffset)}return y}(a);return de>4&&(y.lineDiv.style.display="none"),function M7(a,l,y){var b=a.display,E=a.options.lineNumbers,V=b.lineDiv,J=V.firstChild;function ae(nt){var pt=nt.nextSibling;return u&&P&&a.display.currentWheelTarget==nt?nt.style.display="none":nt.parentNode.removeChild(nt),pt}for(var de=b.view,he=b.viewFrom,Te=0;Te<de.length;Te++){var ke=de[Te];if(!ke.hidden)if(ke.node&&ke.node.parentNode==V){for(;J!=ke.node;)J=ae(J);var Ue=E&&null!=l&&l<=he&&ke.lineNumber;ke.changes&&(ct(ke.changes,"gutter")>-1&&(Ue=!1),vm(a,ke,he,y)),Ue&&(re(ke.lineNumber),ke.lineNumber.appendChild(document.createTextNode(Oe(a.options,he)))),J=ke.node.nextSibling}else{var Ge=f7(a,ke,he,y);V.insertBefore(Ge,J)}he+=ke.size}for(;J;)J=ae(J)}(a,y.updateLineNumbers,l.dims),de>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,function U2(a){if(a&&a.activeElt&&a.activeElt!=te(ge(a.activeElt))&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&ne(document.body,a.anchorNode)&&ne(document.body,a.focusNode))){var l=a.activeElt.ownerDocument,y=l.defaultView.getSelection(),b=l.createRange();b.setEnd(a.anchorNode,a.anchorOffset),b.collapse(!1),y.removeAllRanges(),y.addRange(b),y.extend(a.focusNode,a.focusOffset)}}(he),re(y.cursorDiv),re(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,ae&&(y.lastWrapHeight=l.wrapperHeight,y.lastWrapWidth=l.wrapperWidth,H2(a,400)),y.updateLineNumbers=null,!0}function Tm(a,l){for(var y=l.viewport,b=!0;;b=!1){if(b&&a.options.lineWrapping&&l.oldDisplayWidth!=wa(a))b&&(l.visible=xu(a.display,a.doc,y));else if(y&&null!=y.top&&(y={top:Math.min(a.doc.height+Pc(a.display)-hu(a),y.top)}),l.visible=xu(a.display,a.doc,y),l.visible.from>=a.display.viewFrom&&l.visible.to<=a.display.viewTo)break;if(!qh(a,l))break;_1(a);var E=w1(a);vd(a),Tl(a,E),Qh(a,E),l.force=!1}l.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(l.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Kh(a,l){var y=new to(a,l);if(qh(a,y)){_1(a),Tm(a,y);var b=w1(a);vd(a),Tl(a,b),Qh(a,b),y.finish()}}function Zh(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",Oo(a,"gutterChanged",a)}function Qh(a,l){a.display.sizer.style.minHeight=l.docHeight+"px",a.display.heightForcer.style.top=l.docHeight+"px",a.display.gutters.style.height=l.docHeight+a.display.barHeight+Ur(a)+"px"}function Mu(a){var l=a.display,y=l.view;if(l.alignWidgets||l.gutters.firstChild&&a.options.fixedGutter){for(var b=Uh(l)-l.scroller.scrollLeft+a.doc.scrollLeft,E=l.gutters.offsetWidth,V=b+"px",J=0;J<y.length;J++)if(!y[J].hidden){a.options.fixedGutter&&(y[J].gutter&&(y[J].gutter.style.left=V),y[J].gutterBackground&&(y[J].gutterBackground.style.left=V));var ae=y[J].alignable;if(ae)for(var de=0;de<ae.length;de++)ae[de].style.left=V}a.options.fixedGutter&&(l.gutters.style.left=b+E+"px")}}function V2(a){if(!a.options.lineNumbers)return!1;var l=a.doc,y=Oe(a.options,l.first+l.size-1),b=a.display;if(y.length!=b.lineNumChars){var E=b.measure.appendChild(k("div",[k("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),V=E.firstChild.offsetWidth,J=E.offsetWidth-V;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(V,b.lineGutter.offsetWidth-J)+1,b.lineNumWidth=b.lineNumInnerWidth+J,b.lineNumChars=b.lineNumInnerWidth?y.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",Zh(a.display),!0}return!1}function br(a,l){for(var y=[],b=!1,E=0;E<a.length;E++){var V=a[E],J=null;if("string"!=typeof V&&(J=V.style,V=V.className),"CodeMirror-linenumbers"==V){if(!l)continue;b=!0}y.push({className:V,style:J})}return l&&!b&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function Rt(a){var l=a.gutters,y=a.gutterSpecs;re(l),a.lineGutter=null;for(var b=0;b<y.length;++b){var E=y[b],V=E.className,J=E.style,ae=l.appendChild(k("div",null,"CodeMirror-gutter "+V));J&&(ae.style.cssText=J),"CodeMirror-linenumbers"==V&&(a.lineGutter=ae,ae.style.width=(a.lineNumWidth||1)+"px")}l.style.display=y.length?"":"none",Zh(a)}function bn(a){Rt(a.display),Os(a),Mu(a)}function uo(a,l,y,b){var E=this;this.input=y,E.scrollbarFiller=k("div",null,"CodeMirror-scrollbar-filler"),E.scrollbarFiller.setAttribute("cm-not-content","true"),E.gutterFiller=k("div",null,"CodeMirror-gutter-filler"),E.gutterFiller.setAttribute("cm-not-content","true"),E.lineDiv=F("div",null,"CodeMirror-code"),E.selectionDiv=k("div",null,null,"position: relative; z-index: 1"),E.cursorDiv=k("div",null,"CodeMirror-cursors"),E.measure=k("div",null,"CodeMirror-measure"),E.lineMeasure=k("div",null,"CodeMirror-measure"),E.lineSpace=F("div",[E.measure,E.lineMeasure,E.selectionDiv,E.cursorDiv,E.lineDiv],null,"position: relative; outline: none");var V=F("div",[E.lineSpace],"CodeMirror-lines");E.mover=k("div",[V],null,"position: relative"),E.sizer=k("div",[E.mover],"CodeMirror-sizer"),E.sizerWidth=null,E.heightForcer=k("div",null,null,"position: absolute; height: "+ht+"px; width: 1px;"),E.gutters=k("div",null,"CodeMirror-gutters"),E.lineGutter=null,E.scroller=k("div",[E.sizer,E.heightForcer,E.gutters],"CodeMirror-scroll"),E.scroller.setAttribute("tabIndex","-1"),E.wrapper=k("div",[E.scrollbarFiller,E.gutterFiller,E.scroller],"CodeMirror"),d&&f>=105&&(E.wrapper.style.clipPath="inset(0px)"),E.wrapper.setAttribute("translate","no"),x&&M<8&&(E.gutters.style.zIndex=-1,E.scroller.style.paddingRight=0),!u&&!(L&&O)&&(E.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(E.wrapper):a(E.wrapper)),E.viewFrom=E.viewTo=l.first,E.reportedViewFrom=E.reportedViewTo=l.first,E.view=[],E.renderedView=null,E.externalMeasured=null,E.viewOffset=0,E.lastWrapHeight=E.lastWrapWidth=0,E.updateLineNumbers=null,E.nativeBarWidth=E.barHeight=E.barWidth=0,E.scrollbarsClipped=!1,E.lineNumWidth=E.lineNumInnerWidth=E.lineNumChars=null,E.alignWidgets=!1,E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null,E.maxLine=null,E.maxLineLength=0,E.maxLineChanged=!1,E.wheelDX=E.wheelDY=E.wheelStartX=E.wheelStartY=null,E.shift=!1,E.selForContextMenu=null,E.activeTouch=null,E.gutterSpecs=br(b.gutters,b.lineNumbers),Rt(E),y.init(E)}to.prototype.signal=function(a,l){hn(a,l)&&this.events.push(arguments)},to.prototype.finish=function(){for(var a=0;a<this.events.length;a++)kt.apply(null,this.events[a])};var Ks=0,Nr=null;function Zs(a){var l=a.wheelDeltaX,y=a.wheelDeltaY;return null==l&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(l=a.detail),null==y&&a.detail&&a.axis==a.VERTICAL_AXIS?y=a.detail:null==y&&(y=a.wheelDelta),{x:l,y}}function xd(a){var l=Zs(a);return l.x*=Nr,l.y*=Nr,l}function pr(a,l){d&&102==f&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var y=Zs(l),b=y.x,E=y.y,V=Nr;0===l.deltaMode&&(b=l.deltaX,E=l.deltaY,V=1);var J=a.display,ae=J.scroller,he=ae.scrollHeight>ae.clientHeight;if(b&&ae.scrollWidth>ae.clientWidth||E&&he){if(E&&P&&u)e:for(var Te=l.target,ke=J.view;Te!=ae;Te=Te.parentNode)for(var Ge=0;Ge<ke.length;Ge++)if(ke[Ge].node==Te){a.display.currentWheelTarget=Te;break e}if(b&&!L&&!p&&null!=V)return E&&he&&yd(a,Math.max(0,ae.scrollTop+E*V)),y1(a,Math.max(0,ae.scrollLeft+b*V)),(!E||E&&he)&&mi(l),void(J.wheelStartX=null);if(E&&null!=V){var Ue=E*V,nt=a.doc.scrollTop,pt=nt+J.wrapper.clientHeight;Ue<0?nt=Math.max(0,nt+Ue-50):pt=Math.min(a.doc.height,pt+Ue+50),Kh(a,{top:nt,bottom:pt})}Ks<20&&0!==l.deltaMode&&(null==J.wheelStartX?(J.wheelStartX=ae.scrollLeft,J.wheelStartY=ae.scrollTop,J.wheelDX=b,J.wheelDY=E,setTimeout(function(){if(null!=J.wheelStartX){var St=ae.scrollLeft-J.wheelStartX,Pt=ae.scrollTop-J.wheelStartY,Wt=Pt&&J.wheelDY&&Pt/J.wheelDY||St&&J.wheelDX&&St/J.wheelDX;J.wheelStartX=J.wheelStartY=null,Wt&&(Nr=(Nr*Ks+Wt)/(Ks+1),++Ks)}},200)):(J.wheelDX+=b,J.wheelDY+=E))}}x?Nr=-.53:L?Nr=15:d?Nr=-.7:g&&(Nr=-1/3);var $i=function(a,l){this.ranges=a,this.primIndex=l};$i.prototype.primary=function(){return this.ranges[this.primIndex]},$i.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var y=this.ranges[l],b=a.ranges[l];if(!In(y.anchor,b.anchor)||!In(y.head,b.head))return!1}return!0},$i.prototype.deepCopy=function(){for(var a=[],l=0;l<this.ranges.length;l++)a[l]=new ni(kn(this.ranges[l].anchor),kn(this.ranges[l].head));return new $i(a,this.primIndex)},$i.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},$i.prototype.contains=function(a,l){l||(l=a);for(var y=0;y<this.ranges.length;y++){var b=this.ranges[y];if(je(l,b.from())>=0&&je(a,b.to())<=0)return y}return-1};var ni=function(a,l){this.anchor=a,this.head=l};function Sn(a,l,y){var b=a&&a.options.selectionsMayTouch,E=l[y];l.sort(function(Ge,Ue){return je(Ge.from(),Ue.from())}),y=ct(l,E);for(var V=1;V<l.length;V++){var J=l[V],ae=l[V-1],de=je(ae.to(),J.from());if(b&&!J.empty()?de>0:de>=0){var he=vr(ae.from(),J.from()),Te=Ei(ae.to(),J.to()),ke=ae.empty()?J.from()==J.head:ae.from()==ae.head;V<=y&&--y,l.splice(--V,2,new ni(ke?Te:he,ke?he:Te))}}return new $i(l,y)}function xa(a,l){return new $i([new ni(a,l||a)],0)}function zc(a){return a.text?Ie(a.from.line+a.text.length-1,Ce(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function S1(a,l){if(je(a,l.from)<0)return a;if(je(a,l.to)<=0)return zc(l);var y=a.line+l.text.length-(l.to.line-l.from.line)-1,b=a.ch;return a.line==l.to.line&&(b+=zc(l).ch-l.to.ch),Ie(y,b)}function Mr(a,l){for(var y=[],b=0;b<a.sel.ranges.length;b++){var E=a.sel.ranges[b];y.push(new ni(S1(E.anchor,l),S1(E.head,l)))}return Sn(a.cm,y,a.sel.primIndex)}function Cd(a,l,y){return a.line==l.line?Ie(y.line,a.ch-l.ch+y.ch):Ie(y.line+(a.line-l.line),a.ch)}function ja(a){a.doc.mode=gr(a.options,a.doc.modeOption),$c(a)}function $c(a){a.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,H2(a,100),a.state.modeGen++,a.curOp&&Os(a)}function Xh(a,l){return 0==l.from.ch&&0==l.to.ch&&""==Ce(l.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function gc(a,l,y,b){function E(Wt){return y?y[Wt]:null}function V(Wt,$t,Jt){(function Fc(a,l,y,b){a.text=l,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),d1(a),D2(a,y);var E=b?b(a):1;E!=a.height&&Yo(a,E)})(Wt,$t,Jt,b),Oo(Wt,"change",Wt,l)}function J(Wt,$t){for(var Jt=[],Tn=Wt;Tn<$t;++Tn)Jt.push(new bs(he[Tn],E(Tn),b));return Jt}var ae=l.from,de=l.to,he=l.text,Te=Yt(a,ae.line),ke=Yt(a,de.line),Ge=Ce(he),Ue=E(he.length-1),nt=de.line-ae.line;if(l.full)a.insert(0,J(0,he.length)),a.remove(he.length,a.size-he.length);else if(Xh(a,l)){var pt=J(0,he.length-1);V(ke,ke.text,Ue),nt&&a.remove(ae.line,nt),pt.length&&a.insert(ae.line,pt)}else if(Te==ke)if(1==he.length)V(Te,Te.text.slice(0,ae.ch)+Ge+Te.text.slice(de.ch),Ue);else{var St=J(1,he.length-1);St.push(new bs(Ge+Te.text.slice(de.ch),Ue,b)),V(Te,Te.text.slice(0,ae.ch)+he[0],E(0)),a.insert(ae.line+1,St)}else if(1==he.length)V(Te,Te.text.slice(0,ae.ch)+he[0]+ke.text.slice(de.ch),E(0)),a.remove(ae.line+1,nt);else{V(Te,Te.text.slice(0,ae.ch)+he[0],E(0)),V(ke,Ge+ke.text.slice(de.ch),Ue);var Pt=J(1,he.length-1);nt>1&&a.remove(ae.line+1,nt-1),a.insert(ae.line+1,Pt)}Oo(a,"change",a,l)}function Wa(a,l,y){!function b(E,V,J){if(E.linked)for(var ae=0;ae<E.linked.length;++ae){var de=E.linked[ae];if(de.doc!=V){var he=J&&de.sharedHist;y&&!he||(l(de.doc,he),b(de.doc,E,he))}}}(a,null,!0)}function El(a,l){if(l.cm)throw new Error("This document is already in use.");a.doc=l,l.cm=a,Vh(a),ja(a),Kn(a),a.options.direction=l.direction,a.options.lineWrapping||Va(a),a.options.mode=l.modeOption,Os(a)}function Kn(a){("rtl"==a.doc.direction?ce:W)(a.display.lineDiv,"CodeMirror-rtl")}function Ll(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Ca(a,l){var y={from:kn(l.from),to:zc(l),text:ao(a,l.from,l.to)};return Su(a,y,l.from.line,l.to.line+1),Wa(a,function(b){return Su(b,y,l.from.line,l.to.line+1)},!0),y}function j2(a){for(;a.length&&Ce(a).ranges;)a.pop()}function no(a,l,y,b){var E=a.history;E.undone.length=0;var J,ae,V=+new Date;if((E.lastOp==b||E.lastOrigin==l.origin&&l.origin&&("+"==l.origin.charAt(0)&&E.lastModTime>V-(a.cm?a.cm.options.historyEventDelay:500)||"*"==l.origin.charAt(0)))&&(J=function Sd(a,l){return l?(j2(a.done),Ce(a.done)):a.done.length&&!Ce(a.done).ranges?Ce(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),Ce(a.done)):void 0}(E,E.lastOp==b)))ae=Ce(J.changes),0==je(l.from,l.to)&&0==je(l.from,ae.to)?ae.to=zc(l):J.changes.push(Ca(a,l));else{var de=Ce(E.done);for((!de||!de.ranges)&&Fo(a.sel,E.done),J={changes:[Ca(a,l)],generation:E.generation},E.done.push(J);E.done.length>E.undoDepth;)E.done.shift(),E.done[0].ranges||E.done.shift()}E.done.push(y),E.generation=++E.maxGeneration,E.lastModTime=E.lastSelTime=V,E.lastOp=E.lastSelOp=b,E.lastOrigin=E.lastSelOrigin=l.origin,ae||kt(a,"historyAdded")}function ws(a,l,y,b){var E=a.history,V=b&&b.origin;y==E.lastSelOp||V&&E.lastSelOrigin==V&&(E.lastModTime==E.lastSelTime&&E.lastOrigin==V||function e3(a,l,y,b){var E=l.charAt(0);return"*"==E||"+"==E&&y.ranges.length==b.ranges.length&&y.somethingSelected()==b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,V,Ce(E.done),l))?E.done[E.done.length-1]=l:Fo(l,E.done),E.lastSelTime=+new Date,E.lastSelOrigin=V,E.lastSelOp=y,b&&!1!==b.clearRedo&&j2(E.undone)}function Fo(a,l){var y=Ce(l);y&&y.ranges&&y.equals(a)||l.push(a)}function Su(a,l,y,b){var E=l["spans_"+a.id],V=0;a.iter(Math.max(a.first,y),Math.min(a.first+a.size,b),function(J){J.markedSpans&&((E||(E=l["spans_"+a.id]={}))[V]=J.markedSpans),++V})}function T1(a){if(!a)return null;for(var l,y=0;y<a.length;++y)a[y].marker.explicitlyCleared?l||(l=a.slice(0,y)):l&&l.push(a[y]);return l?l.length?l:null:a}function Ma(a,l){var y=function Tu(a,l){var y=l["spans_"+a.id];if(!y)return null;for(var b=[],E=0;E<l.text.length;++E)b.push(T1(y[E]));return b}(a,l),b=ld(a,l);if(!y)return b;if(!b)return y;for(var E=0;E<y.length;++E){var V=y[E],J=b[E];if(V&&J)e:for(var ae=0;ae<J.length;++ae){for(var de=J[ae],he=0;he<V.length;++he)if(V[he].marker==de.marker)continue e;V.push(de)}else J&&(y[E]=J)}return y}function Al(a,l,y){for(var b=[],E=0;E<a.length;++E){var V=a[E];if(V.ranges)b.push(y?$i.prototype.deepCopy.call(V):V);else{var J=V.changes,ae=[];b.push({changes:ae});for(var de=0;de<J.length;++de){var he=J[de],Te=void 0;if(ae.push({from:he.from,to:he.to,text:he.text}),l)for(var ke in he)(Te=ke.match(/^spans_(\d+)$/))&&ct(l,Number(Te[1]))>-1&&(Ce(ae)[ke]=he[ke],delete he[ke])}}}return b}function t3(a,l,y,b){if(b){var E=a.anchor;if(y){var V=je(l,E)<0;V!=je(y,E)<0?(E=l,l=y):V!=je(l,y)<0&&(l=y)}return new ni(E,l)}return new ni(y||l,l)}function Eu(a,l,y,b,E){null==E&&(E=a.cm&&(a.cm.display.shift||a.extend)),xs(a,new $i([t3(a.sel.primary(),l,y,E)],0),b)}function Lu(a,l,y){for(var b=[],E=a.cm&&(a.cm.display.shift||a.extend),V=0;V<a.sel.ranges.length;V++)b[V]=t3(a.sel.ranges[V],l[V],null,E);xs(a,Sn(a.cm,b,a.sel.primIndex),y)}function Au(a,l,y,b){var E=a.sel.ranges.slice(0);E[l]=y,xs(a,Sn(a.cm,E,a.sel.primIndex),b)}function Em(a,l,y,b){xs(a,xa(l,y),b)}function S7(a,l,y){var b=a.history.done,E=Ce(b);E&&E.ranges?(b[b.length-1]=l,r3(a,l,y)):xs(a,l,y)}function xs(a,l,y){r3(a,l,y),ws(a,a.sel,a.cm?a.cm.curOp.id:NaN,y)}function r3(a,l,y){(hn(a,"beforeSelectionChange")||a.cm&&hn(a.cm,"beforeSelectionChange"))&&(l=function n3(a,l,y){var b={ranges:l.ranges,update:function(E){this.ranges=[];for(var V=0;V<E.length;V++)this.ranges[V]=new ni(wn(a,E[V].anchor),wn(a,E[V].head))},origin:y&&y.origin};return kt(a,"beforeSelectionChange",a,b),a.cm&&kt(a.cm,"beforeSelectionChange",a.cm,b),b.ranges!=l.ranges?Sn(a.cm,b.ranges,b.ranges.length-1):l}(a,l,y));var b=y&&y.bias||(je(l.primary().head,a.sel.primary().head)<0?-1:1);T7(a,L7(a,l,b,!0)),(!y||!1!==y.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&z2(a.cm)}function T7(a,l){l.equals(a.sel)||(a.sel=l,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,Dn(a.cm)),Oo(a,"cursorActivity",a))}function E7(a){T7(a,L7(a,a.sel,null,!1))}function L7(a,l,y,b){for(var E,V=0;V<l.ranges.length;V++){var J=l.ranges[V],ae=l.ranges.length==a.sel.ranges.length&&a.sel.ranges[V],de=o3(a,J.anchor,ae&&ae.anchor,y,b),he=J.head==J.anchor?de:o3(a,J.head,ae&&ae.head,y,b);(E||de!=J.anchor||he!=J.head)&&(E||(E=l.ranges.slice(0,V)),E[V]=new ni(de,he))}return E?Sn(a.cm,E,l.primIndex):l}function W2(a,l,y,b,E){var V=Yt(a,l.line);if(V.markedSpans)for(var J=0;J<V.markedSpans.length;++J){var ae=V.markedSpans[J],de=ae.marker,he="selectLeft"in de?!de.selectLeft:de.inclusiveLeft,Te="selectRight"in de?!de.selectRight:de.inclusiveRight;if((null==ae.from||(he?ae.from<=l.ch:ae.from<l.ch))&&(null==ae.to||(Te?ae.to>=l.ch:ae.to>l.ch))){if(E&&(kt(de,"beforeCursorEnter"),de.explicitlyCleared)){if(V.markedSpans){--J;continue}break}if(!de.atomic)continue;if(y){var ke=de.find(b<0?1:-1),Ge=void 0;if((b<0?Te:he)&&(ke=A7(a,ke,-b,ke&&ke.line==l.line?V:null)),ke&&ke.line==l.line&&(Ge=je(ke,y))&&(b<0?Ge<0:Ge>0))return W2(a,ke,l,b,E)}var Ue=de.find(b<0?-1:1);return(b<0?he:Te)&&(Ue=A7(a,Ue,b,Ue.line==l.line?V:null)),Ue?W2(a,Ue,l,b,E):null}}return l}function o3(a,l,y,b,E){var V=b||1;return W2(a,l,y,V,E)||!E&&W2(a,l,y,V,!0)||W2(a,l,y,-V,E)||!E&&W2(a,l,y,-V,!0)||(a.cantEdit=!0,Ie(a.first,0))}function A7(a,l,y,b){return y<0&&0==l.ch?l.line>a.first?wn(a,Ie(l.line-1)):null:y>0&&l.ch==(b||Yt(a,l.line)).text.length?l.line<a.first+a.size-1?Ie(l.line+1,0):null:new Ie(l.line,l.ch+y)}function D7(a){a.setSelection(Ie(a.firstLine(),0),Ie(a.lastLine()),vt)}function I7(a,l,y){var b={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return b.canceled=!0}};return y&&(b.update=function(E,V,J,ae){E&&(b.from=wn(a,E)),V&&(b.to=wn(a,V)),J&&(b.text=J),void 0!==ae&&(b.origin=ae)}),kt(a,"beforeChange",a,b),a.cm&&kt(a.cm,"beforeChange",a.cm,b),b.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function G2(a,l,y){if(a.cm){if(!a.cm.curOp)return wo(a.cm,G2)(a,l,y);if(a.cm.state.suppressEdits)return}if(!(hn(a,"beforeChange")||a.cm&&hn(a.cm,"beforeChange"))||(l=I7(a,l,!0))){var b=Ih&&!y&&function Rc(a,l,y){var b=null;if(a.iter(l.line,y.line+1,function(Ue){if(Ue.markedSpans)for(var nt=0;nt<Ue.markedSpans.length;++nt){var pt=Ue.markedSpans[nt].marker;pt.readOnly&&(!b||-1==ct(b,pt))&&(b||(b=[])).push(pt)}}),!b)return null;for(var E=[{from:l,to:y}],V=0;V<b.length;++V)for(var J=b[V],ae=J.find(0),de=0;de<E.length;++de){var he=E[de];if(!(je(he.to,ae.from)<0||je(he.from,ae.to)>0)){var Te=[de,1],ke=je(he.from,ae.from),Ge=je(he.to,ae.to);(ke<0||!J.inclusiveLeft&&!ke)&&Te.push({from:he.from,to:ae.from}),(Ge>0||!J.inclusiveRight&&!Ge)&&Te.push({from:ae.to,to:he.to}),E.splice.apply(E,Te),de+=Te.length-3}}return E}(a,l.from,l.to);if(b)for(var E=b.length-1;E>=0;--E)s3(a,{from:b[E].from,to:b[E].to,text:E?[""]:l.text,origin:l.origin});else s3(a,l)}}function s3(a,l){if(1!=l.text.length||""!=l.text[0]||0!=je(l.from,l.to)){var y=Mr(a,l);no(a,l,y,a.cm?a.cm.curOp.id:NaN),Du(a,l,y,ld(a,l));var b=[];Wa(a,function(E,V){!V&&-1==ct(b,E.history)&&(si(E.history,l),b.push(E.history)),Du(E,l,null,ld(E,l))})}}function Y2(a,l,y){var b=a.cm&&a.cm.state.suppressEdits;if(!b||y){for(var V,E=a.history,J=a.sel,ae="undo"==l?E.done:E.undone,de="undo"==l?E.undone:E.done,he=0;he<ae.length&&(V=ae[he],!(y?V.ranges&&!V.equals(a.sel):!V.ranges));he++);if(he!=ae.length){for(E.lastOrigin=E.lastSelOrigin=null;;){if(!(V=ae.pop()).ranges){if(b)return void ae.push(V);break}if(Fo(V,de),y&&!V.equals(a.sel))return void xs(a,V,{clearRedo:!1});J=V}var Te=[];Fo(J,de),de.push({changes:Te,generation:E.generation}),E.generation=V.generation||++E.maxGeneration;for(var ke=hn(a,"beforeChange")||a.cm&&hn(a.cm,"beforeChange"),Ge=function(pt){var St=V.changes[pt];if(St.origin=l,ke&&!I7(a,St,!1))return ae.length=0,{};Te.push(Ca(a,St));var Pt=pt?Mr(a,St):Ce(ae);Du(a,St,Pt,Ma(a,St)),!pt&&a.cm&&a.cm.scrollIntoView({from:St.from,to:zc(St)});var Wt=[];Wa(a,function($t,Jt){!Jt&&-1==ct(Wt,$t.history)&&(si($t.history,St),Wt.push($t.history)),Du($t,St,null,Ma($t,St))})},Ue=V.changes.length-1;Ue>=0;--Ue){var nt=Ge(Ue);if(nt)return nt.v}}}}function k7(a,l){if(0!=l&&(a.first+=l,a.sel=new $i(Re(a.sel.ranges,function(E){return new ni(Ie(E.anchor.line+l,E.anchor.ch),Ie(E.head.line+l,E.head.ch))}),a.sel.primIndex),a.cm)){Os(a.cm,a.first,a.first-l,l);for(var y=a.cm.display,b=y.viewFrom;b<y.viewTo;b++)Cl(a.cm,b,"gutter")}}function Du(a,l,y,b){if(a.cm&&!a.cm.curOp)return wo(a.cm,Du)(a,l,y,b);if(l.to.line<a.first)k7(a,l.text.length-1-(l.to.line-l.from.line));else if(!(l.from.line>a.lastLine())){if(l.from.line<a.first){var E=l.text.length-1-(a.first-l.from.line);k7(a,E),l={from:Ie(a.first,0),to:Ie(l.to.line+E,l.to.ch),text:[Ce(l.text)],origin:l.origin}}var V=a.lastLine();l.to.line>V&&(l={from:l.from,to:Ie(V,Yt(a,V).text.length),text:[l.text[0]],origin:l.origin}),l.removed=ao(a,l.from,l.to),y||(y=Mr(a,l)),a.cm?function tM(a,l,y){var b=a.doc,E=a.display,V=l.from,J=l.to,ae=!1,de=V.line;a.options.lineWrapping||(de=ln(hi(Yt(b,V.line))),b.iter(de,J.line+1,function(Ue){if(Ue==E.maxLine)return ae=!0,!0})),b.sel.contains(l.from,l.to)>-1&&Dn(a),gc(b,l,y,xm(a)),a.options.lineWrapping||(b.iter(de,V.line+l.text.length,function(Ue){var nt=jn(Ue);nt>E.maxLineLength&&(E.maxLine=Ue,E.maxLineLength=nt,E.maxLineChanged=!0,ae=!1)}),ae&&(a.curOp.updateMaxLine=!0)),function tt(a,l){if(a.modeFrontier=Math.min(a.modeFrontier,l),!(a.highlightFrontier<l-10)){for(var y=a.first,b=l-1;b>y;b--){var E=Yt(a,b).stateAfter;if(E&&(!(E instanceof S2)||b+E.lookAhead<l)){y=b+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,y)}}(b,V.line),H2(a,400);var he=l.text.length-(J.line-V.line)-1;l.full?Os(a):V.line!=J.line||1!=l.text.length||Xh(a.doc,l)?Os(a,V.line,J.line+1,he):Cl(a,V.line,"text");var Te=hn(a,"changes"),ke=hn(a,"change");if(ke||Te){var Ge={from:V,to:J,text:l.text,removed:l.removed,origin:l.origin};ke&&Oo(a,"change",a,Ge),Te&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(Ge)}a.display.selForContextMenu=null}(a.cm,l,b):gc(a,l,b),r3(a,y,vt),a.cantEdit&&o3(a,Ie(a.firstLine(),0))&&(a.cantEdit=!1)}}function q2(a,l,y,b,E){var V;b||(b=y),je(b,y)<0&&(y=(V=[b,y])[0],b=V[1]),"string"==typeof l&&(l=a.splitLines(l)),G2(a,{from:y,to:b,text:l,origin:E})}function Lm(a,l,y,b){y<a.line?a.line+=b:l<a.line&&(a.line=l,a.ch=0)}function a3(a,l,y,b){for(var E=0;E<a.length;++E){var V=a[E],J=!0;if(V.ranges){V.copied||((V=a[E]=V.deepCopy()).copied=!0);for(var ae=0;ae<V.ranges.length;ae++)Lm(V.ranges[ae].anchor,l,y,b),Lm(V.ranges[ae].head,l,y,b)}else{for(var de=0;de<V.changes.length;++de){var he=V.changes[de];if(y<he.from.line)he.from=Ie(he.from.line+b,he.from.ch),he.to=Ie(he.to.line+b,he.to.ch);else if(l<=he.to.line){J=!1;break}}J||(a.splice(0,E+1),E=0)}}}function si(a,l){var y=l.from.line,b=l.to.line,E=l.text.length-(b-y)-1;a3(a.done,y,b,E),a3(a.undone,y,b,E)}function Td(a,l,y,b){var E=l,V=l;return"number"==typeof l?V=Yt(a,ks(a,l)):E=ln(l),null==E?null:(b(V,E)&&a.cm&&Cl(a.cm,E,y),V)}function K2(a){this.lines=a,this.parent=null;for(var l=0,y=0;y<a.length;++y)a[y].parent=this,l+=a[y].height;this.height=l}function Z2(a){this.children=a;for(var l=0,y=0,b=0;b<a.length;++b){var E=a[b];l+=E.chunkSize(),y+=E.height,E.parent=this}this.size=l,this.height=y,this.parent=null}ni.prototype.from=function(){return vr(this.anchor,this.head)},ni.prototype.to=function(){return Ei(this.anchor,this.head)},ni.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},K2.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,l){for(var y=a,b=a+l;y<b;++y){var E=this.lines[y];this.height-=E.height,Oh(E),Oo(E,"delete")}this.lines.splice(a,l)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,l,y){this.height+=y,this.lines=this.lines.slice(0,a).concat(l).concat(this.lines.slice(a));for(var b=0;b<l.length;++b)l[b].parent=this},iterN:function(a,l,y){for(var b=a+l;a<b;++a)if(y(this.lines[a]))return!0}},Z2.prototype={chunkSize:function(){return this.size},removeInner:function(a,l){this.size-=l;for(var y=0;y<this.children.length;++y){var b=this.children[y],E=b.chunkSize();if(a<E){var V=Math.min(l,E-a),J=b.height;if(b.removeInner(a,V),this.height-=J-b.height,E==V&&(this.children.splice(y--,1),b.parent=null),0==(l-=V))break;a=0}else a-=E}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof K2))){var ae=[];this.collapse(ae),this.children=[new K2(ae)],this.children[0].parent=this}},collapse:function(a){for(var l=0;l<this.children.length;++l)this.children[l].collapse(a)},insertInner:function(a,l,y){this.size+=l.length,this.height+=y;for(var b=0;b<this.children.length;++b){var E=this.children[b],V=E.chunkSize();if(a<=V){if(E.insertInner(a,l,y),E.lines&&E.lines.length>50){for(var J=E.lines.length%25+25,ae=J;ae<E.lines.length;){var de=new K2(E.lines.slice(ae,ae+=25));E.height-=de.height,this.children.splice(++b,0,de),de.parent=this}E.lines=E.lines.slice(0,J),this.maybeSpill()}break}a-=V}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var y=new Z2(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=y.size,a.height-=y.height;var E=ct(a.parent.children,a);a.parent.children.splice(E+1,0,y)}else{var b=new Z2(a.children);b.parent=a,a.children=[b,y],a=b}y.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,l,y){for(var b=0;b<this.children.length;++b){var E=this.children[b],V=E.chunkSize();if(a<V){var J=Math.min(l,V-a);if(E.iterN(a,J,y))return!0;if(0==(l-=J))break;a=0}else a-=V}}};var Ed=function(a,l,y){if(y)for(var b in y)y.hasOwnProperty(b)&&(this[b]=y[b]);this.doc=a,this.node=l};function c3(a,l,y){dn(l)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&_d(a,y)}Ed.prototype.clear=function(){var a=this.doc.cm,l=this.line.widgets,y=this.line,b=ln(y);if(null!=b&&l){for(var E=0;E<l.length;++E)l[E]==this&&l.splice(E--,1);l.length||(y.widgets=null);var V=O2(this);Yo(y,Math.max(0,y.height-V)),a&&(ys(a,function(){c3(a,y,-V),Cl(a,b,"widget")}),Oo(a,"lineWidgetCleared",a,this,b))}},Ed.prototype.changed=function(){var a=this,l=this.height,y=this.doc.cm,b=this.line;this.height=null;var E=O2(this)-l;E&&(kr(this.doc,b)||Yo(b,b.height+E),y&&ys(y,function(){y.curOp.forceUpdate=!0,c3(y,b,E),Oo(y,"lineWidgetChanged",y,a,ln(b))}))},Ii(Ed);var Iu=0,Dl=function(a,l){this.lines=[],this.type=l,this.doc=a,this.id=++Iu};function Ns(a,l,y,b,E){if(b&&b.shared)return function Am(a,l,y,b,E){(b=He(b)).shared=!1;var V=[Ns(a,l,y,b,E)],J=V[0],ae=b.widgetNode;return Wa(a,function(de){ae&&(b.widgetNode=ae.cloneNode(!0)),V.push(Ns(de,wn(de,l),wn(de,y),b,E));for(var he=0;he<de.linked.length;++he)if(de.linked[he].isParent)return;J=Ce(V)}),new Ld(V,J)}(a,l,y,b,E);if(a.cm&&!a.cm.curOp)return wo(a.cm,Ns)(a,l,y,b,E);var V=new Dl(a,E),J=je(l,y);if(b&&He(b,V,!1),J>0||0==J&&!1!==V.clearWhenEmpty)return V;if(V.replacedWith&&(V.collapsed=!0,V.widgetNode=F("span",[V.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||V.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(V.widgetNode.insertLeft=!0)),V.collapsed){if(qn(a,l.line,l,y,V)||l.line!=y.line&&qn(a,y.line,l,y,V))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function kh(){qt=!0}()}V.addToHistory&&no(a,{from:l,to:y,origin:"markText"},a.sel,NaN);var he,ae=l.line,de=a.cm;if(a.iter(ae,y.line+1,function(ke){de&&V.collapsed&&!de.options.lineWrapping&&hi(ke)==de.display.maxLine&&(he=!0),V.collapsed&&ae!=l.line&&Yo(ke,0),function vl(a,l,y){var b=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));b&&a.markedSpans&&b.has(a.markedSpans)?a.markedSpans.push(l):(a.markedSpans=a.markedSpans?a.markedSpans.concat([l]):[l],b&&b.add(a.markedSpans)),l.marker.attachLine(a)}(ke,new l1(V,ae==l.line?l.ch:null,ae==y.line?y.ch:null),a.cm&&a.cm.curOp),++ae}),V.collapsed&&a.iter(l.line,y.line+1,function(ke){kr(a,ke)&&Yo(ke,0)}),V.clearOnEnter&&_e(V,"beforeCursorEnter",function(){return V.clear()}),V.readOnly&&(function ya(){Ih=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),V.collapsed&&(V.id=++Iu,V.atomic=!0),de){if(he&&(de.curOp.updateMaxLine=!0),V.collapsed)Os(de,l.line,y.line+1);else if(V.className||V.startStyle||V.endStyle||V.css||V.attributes||V.title)for(var Te=l.line;Te<=y.line;Te++)Cl(de,Te,"text");V.atomic&&E7(de.doc),Oo(de,"markerAdded",de,V)}return V}Dl.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,l=a&&!a.curOp;if(l&&C1(a),hn(this,"clear")){var y=this.find();y&&Oo(this,"clear",y.from,y.to)}for(var b=null,E=null,V=0;V<this.lines.length;++V){var J=this.lines[V],ae=fc(J.markedSpans,this);a&&!this.collapsed?Cl(a,ln(J),"text"):a&&(null!=ae.to&&(E=ln(J)),null!=ae.from&&(b=ln(J))),J.markedSpans=cd(J.markedSpans,ae),null==ae.from&&this.collapsed&&!kr(this.doc,J)&&a&&Yo(J,gd(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var de=0;de<this.lines.length;++de){var he=hi(this.lines[de]),Te=jn(he);Te>a.display.maxLineLength&&(a.display.maxLine=he,a.display.maxLineLength=Te,a.display.maxLineChanged=!0)}null!=b&&a&&this.collapsed&&Os(a,b,E+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&E7(a.doc)),a&&Oo(a,"markerCleared",a,this,b,E),l&&M1(a),this.parent&&this.parent.clear()}},Dl.prototype.find=function(a,l){null==a&&"bookmark"==this.type&&(a=1);for(var y,b,E=0;E<this.lines.length;++E){var V=this.lines[E],J=fc(V.markedSpans,this);if(null!=J.from&&(y=Ie(l?V:ln(V),J.from),-1==a))return y;if(null!=J.to&&(b=Ie(l?V:ln(V),J.to),1==a))return b}return y&&{from:y,to:b}},Dl.prototype.changed=function(){var a=this,l=this.find(-1,!0),y=this,b=this.doc.cm;!l||!b||ys(b,function(){var E=l.line,V=ln(l.line),J=mu(b,V);if(J&&(Li(J),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!kr(y.doc,E)&&null!=y.height){var ae=y.height;y.height=null;var de=O2(y)-ae;de&&Yo(E,E.height+de)}Oo(b,"markerChanged",b,a)})},Dl.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||-1==ct(l.maybeHiddenMarkers,this))&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Dl.prototype.detachLine=function(a){if(this.lines.splice(ct(this.lines,a),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Ii(Dl);var Ld=function(a,l){this.markers=a,this.primary=l;for(var y=0;y<a.length;++y)a[y].parent=this};function l3(a){return a.findMarks(Ie(a.first,0),a.clipPos(Ie(a.lastLine())),function(l){return l.parent})}function nM(a){for(var l=function(b){var E=a[b],V=[E.primary.doc];Wa(E.primary.doc,function(de){return V.push(de)});for(var J=0;J<E.markers.length;J++){var ae=E.markers[J];-1==ct(V,ae.doc)&&(ae.parent=null,E.markers.splice(J--,1))}},y=0;y<a.length;y++)l(y)}Ld.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Oo(this,"clear")}},Ld.prototype.find=function(a,l){return this.primary.find(a,l)},Ii(Ld);var cr=0,ss=function(a,l,y,b,E){if(!(this instanceof ss))return new ss(a,l,y,b,E);null==y&&(y=0),Z2.call(this,[new K2([new bs("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var V=Ie(y,0);this.sel=xa(V),this.history=new Ll(null),this.id=++cr,this.modeOption=l,this.lineSep=b,this.direction="rtl"==E?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),gc(this,{from:V,to:V,text:a}),xs(this,xa(V),vt)};ss.prototype=st(Z2.prototype,{constructor:ss,iter:function(a,l,y){y?this.iterN(a-this.first,l-a,y):this.iterN(this.first,this.first+this.size,a)},insert:function(a,l){for(var y=0,b=0;b<l.length;++b)y+=l[b].height;this.insertInner(a-this.first,l,y)},remove:function(a,l){this.removeInner(a-this.first,l)},getValue:function(a){var l=Jn(this,this.first,this.first+this.size);return!1===a?l:l.join(a||this.lineSeparator())},setValue:Or(function(a){var l=Ie(this.first,0),y=this.first+this.size-1;G2(this,{from:l,to:Ie(y,Yt(this,y).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&b1(this.cm,0,0),xs(this,xa(l),vt)}),replaceRange:function(a,l,y,b){q2(this,a,l=wn(this,l),y=y?wn(this,y):l,b)},getRange:function(a,l,y){var b=ao(this,wn(this,a),wn(this,l));return!1===y?b:b.join(""===y?"":y||this.lineSeparator())},getLine:function(a){var l=this.getLineHandle(a);return l&&l.text},getLineHandle:function(a){if(be(this,a))return Yt(this,a)},getLineNumber:function(a){return ln(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=Yt(this,a)),hi(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return wn(this,a)},getCursor:function(a){var l=this.sel.primary();return null==a||"head"==a?l.head:"anchor"==a?l.anchor:"end"==a||"to"==a||!1===a?l.to():l.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Or(function(a,l,y){Em(this,wn(this,"number"==typeof a?Ie(a,l||0):a),null,y)}),setSelection:Or(function(a,l,y){Em(this,wn(this,a),wn(this,l||a),y)}),extendSelection:Or(function(a,l,y){Eu(this,wn(this,a),l&&wn(this,l),y)}),extendSelections:Or(function(a,l){Lu(this,Th(this,a),l)}),extendSelectionsBy:Or(function(a,l){Lu(this,Th(this,Re(this.sel.ranges,a)),l)}),setSelections:Or(function(a,l,y){if(a.length){for(var b=[],E=0;E<a.length;E++)b[E]=new ni(wn(this,a[E].anchor),wn(this,a[E].head||a[E].anchor));null==l&&(l=Math.min(a.length-1,this.sel.primIndex)),xs(this,Sn(this.cm,b,l),y)}}),addSelection:Or(function(a,l,y){var b=this.sel.ranges.slice(0);b.push(new ni(wn(this,a),wn(this,l||a))),xs(this,Sn(this.cm,b,b.length-1),y)}),getSelection:function(a){for(var y,l=this.sel.ranges,b=0;b<l.length;b++){var E=ao(this,l[b].from(),l[b].to());y=y?y.concat(E):E}return!1===a?y:y.join(a||this.lineSeparator())},getSelections:function(a){for(var l=[],y=this.sel.ranges,b=0;b<y.length;b++){var E=ao(this,y[b].from(),y[b].to());!1!==a&&(E=E.join(a||this.lineSeparator())),l[b]=E}return l},replaceSelection:function(a,l,y){for(var b=[],E=0;E<this.sel.ranges.length;E++)b[E]=a;this.replaceSelections(b,l,y||"+input")},replaceSelections:Or(function(a,l,y){for(var b=[],E=this.sel,V=0;V<E.ranges.length;V++){var J=E.ranges[V];b[V]={from:J.from(),to:J.to(),text:this.splitLines(a[V]),origin:y}}for(var ae=l&&"end"!=l&&function Md(a,l,y){for(var b=[],E=Ie(a.first,0),V=E,J=0;J<l.length;J++){var ae=l[J],de=Cd(ae.from,E,V),he=Cd(zc(ae),E,V);if(E=ae.to,V=he,"around"==y){var Te=a.sel.ranges[J],ke=je(Te.head,Te.anchor)<0;b[J]=new ni(ke?he:de,ke?de:he)}else b[J]=new ni(de,de)}return new $i(b,a.sel.primIndex)}(this,b,l),de=b.length-1;de>=0;de--)G2(this,b[de]);ae?S7(this,ae):this.cm&&z2(this.cm)}),undo:Or(function(){Y2(this,"undo")}),redo:Or(function(){Y2(this,"redo")}),undoSelection:Or(function(){Y2(this,"undo",!0)}),redoSelection:Or(function(){Y2(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,l=0,y=0,b=0;b<a.done.length;b++)a.done[b].ranges||++l;for(var E=0;E<a.undone.length;E++)a.undone[E].ranges||++y;return{undo:l,redo:y}},clearHistory:function(){var a=this;this.history=new Ll(this.history),Wa(this,function(l){return l.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Al(this.history.done),undone:Al(this.history.undone)}},setHistory:function(a){var l=this.history=new Ll(this.history);l.done=Al(a.done.slice(0),null,!0),l.undone=Al(a.undone.slice(0),null,!0)},setGutterMarker:Or(function(a,l,y){return Td(this,a,"gutter",function(b){var E=b.gutterMarkers||(b.gutterMarkers={});return E[l]=y,!y&&Ze(E)&&(b.gutterMarkers=null),!0})}),clearGutter:Or(function(a){var l=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[a]&&Td(l,y,"gutter",function(){return y.gutterMarkers[a]=null,Ze(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(a){var l;if("number"==typeof a){if(!(be(this,a)&&(l=a,a=Yt(this,a))))return null}else if(null==(l=ln(a)))return null;return{line:l,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Or(function(a,l,y){return Td(this,a,"gutter"==l?"gutter":"class",function(b){var E="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass";if(b[E]){if(Y(y).test(b[E]))return!1;b[E]+=" "+y}else b[E]=y;return!0})}),removeLineClass:Or(function(a,l,y){return Td(this,a,"gutter"==l?"gutter":"class",function(b){var E="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass",V=b[E];if(!V)return!1;if(null==y)b[E]=null;else{var J=V.match(Y(y));if(!J)return!1;var ae=J.index+J[0].length;b[E]=V.slice(0,J.index)+(J.index&&ae!=V.length?" ":"")+V.slice(ae)||null}return!0})}),addLineWidget:Or(function(a,l,y){return function O7(a,l,y,b){var E=new Ed(a,y,b),V=a.cm;return V&&E.noHScroll&&(V.display.alignWidgets=!0),Td(a,l,"widget",function(J){var ae=J.widgets||(J.widgets=[]);if(null==E.insertAt?ae.push(E):ae.splice(Math.min(ae.length,Math.max(0,E.insertAt)),0,E),E.line=J,V&&!kr(a,J)){var de=dn(J)<a.scrollTop;Yo(J,J.height+O2(E)),de&&_d(V,E.height),V.curOp.forceUpdate=!0}return!0}),V&&Oo(V,"lineWidgetAdded",V,E,"number"==typeof l?l:ln(l)),E}(this,a,l,y)}),removeLineWidget:function(a){a.clear()},markText:function(a,l,y){return Ns(this,wn(this,a),wn(this,l),y,y&&y.type||"range")},setBookmark:function(a,l){var y={replacedWith:l&&(null==l.nodeType?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return Ns(this,a=wn(this,a),a,y,"bookmark")},findMarksAt:function(a){var l=[],y=Yt(this,(a=wn(this,a)).line).markedSpans;if(y)for(var b=0;b<y.length;++b){var E=y[b];(null==E.from||E.from<=a.ch)&&(null==E.to||E.to>=a.ch)&&l.push(E.marker.parent||E.marker)}return l},findMarks:function(a,l,y){a=wn(this,a),l=wn(this,l);var b=[],E=a.line;return this.iter(a.line,l.line+1,function(V){var J=V.markedSpans;if(J)for(var ae=0;ae<J.length;ae++){var de=J[ae];!(null!=de.to&&E==a.line&&a.ch>=de.to||null==de.from&&E!=a.line||null!=de.from&&E==l.line&&de.from>=l.ch)&&(!y||y(de.marker))&&b.push(de.marker.parent||de.marker)}++E}),b},getAllMarks:function(){var a=[];return this.iter(function(l){var y=l.markedSpans;if(y)for(var b=0;b<y.length;++b)null!=y[b].from&&a.push(y[b].marker)}),a},posFromIndex:function(a){var l,y=this.first,b=this.lineSeparator().length;return this.iter(function(E){var V=E.text.length+b;if(V>a)return l=a,!0;a-=V,++y}),wn(this,Ie(y,l))},indexFromPos:function(a){var l=(a=wn(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,a.line,function(b){l+=b.text.length+y}),l},copy:function(a){var l=new ss(Jn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,a&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(a){a||(a={});var l=this.first,y=this.first+this.size;null!=a.from&&a.from>l&&(l=a.from),null!=a.to&&a.to<y&&(y=a.to);var b=new ss(Jn(this,l,y),a.mode||this.modeOption,l,this.lineSep,this.direction);return a.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function N7(a,l){for(var y=0;y<l.length;y++){var b=l[y],E=b.find(),V=a.clipPos(E.from),J=a.clipPos(E.to);if(je(V,J)){var ae=Ns(a,V,J,b.primary,b.primary.type);b.markers.push(ae),ae.parent=b}}}(b,l3(this)),b},unlinkDoc:function(a){if(a instanceof li&&(a=a.doc),this.linked)for(var l=0;l<this.linked.length;++l)if(this.linked[l].doc==a){this.linked.splice(l,1),a.unlinkDoc(this),nM(l3(this));break}if(a.history==this.history){var b=[a.id];Wa(a,function(E){return b.push(E.id)},!0),a.history=new Ll(null),a.history.done=Al(this.history.done,b),a.history.undone=Al(this.history.undone,b)}},iterLinkedDocs:function(a){Wa(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):_o(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Or(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(l){return l.order=null}),this.cm&&function Jh(a){ys(a,function(){Kn(a),Os(a)})}(this.cm))})}),ss.prototype.eachLine=ss.prototype.iter;var Ad=0;function Rs(a){var l=this;if(E1(l),!Cn(l,a)&&!ca(l.display,a)){mi(a),x&&(Ad=+new Date);var y=xl(l,a,!0),b=a.dataTransfer.files;if(y&&!l.isReadOnly())if(b&&b.length&&window.FileReader&&window.File)for(var E=b.length,V=Array(E),J=0,ae=function(){++J==E&&wo(l,function(){var Ue={from:y=wn(l.doc,y),to:y,text:l.doc.splitLines(V.filter(function(nt){return null!=nt}).join(l.doc.lineSeparator())),origin:"paste"};G2(l.doc,Ue),S7(l.doc,xa(wn(l.doc,y),wn(l.doc,zc(Ue))))})()},de=function(Ue,nt){if(l.options.allowDropFileTypes&&-1==ct(l.options.allowDropFileTypes,Ue.type))ae();else{var pt=new FileReader;pt.onerror=function(){return ae()},pt.onload=function(){var St=pt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(St)||(V[nt]=St),ae()},pt.readAsText(Ue)}},he=0;he<b.length;he++)de(b[he],he);else{if(l.state.draggingText&&l.doc.sel.contains(y)>-1)return l.state.draggingText(a),void setTimeout(function(){return l.display.input.focus()},20);try{var Te=a.dataTransfer.getData("Text");if(Te){var ke;if(l.state.draggingText&&!l.state.draggingText.copy&&(ke=l.listSelections()),r3(l.doc,xa(y,y)),ke)for(var Ge=0;Ge<ke.length;++Ge)q2(l.doc,"",ke[Ge].anchor,ke[Ge].head,"drag");l.replaceSelection(Te,"around","paste"),l.display.input.focus()}}catch{}}}}function E1(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Qs(a){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),y=[],b=0;b<l.length;b++){var E=l[b].CodeMirror;E&&y.push(E)}y.length&&y[0].operation(function(){for(var V=0;V<y.length;V++)a(y[V])})}}var Dm=!1;function d3(){Dm||(function F7(){var a;_e(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Qs(vc)},100))}),_e(window,"blur",function(){return Qs(v1)})}(),Dm=!0)}function vc(a){var l=a.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,a.setSize()}for(var Bc={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},X2=0;X2<10;X2++)Bc[X2+48]=Bc[X2+96]=String(X2);for(var J2=65;J2<=90;J2++)Bc[J2]=String.fromCharCode(J2);for(var L1=1;L1<=12;L1++)Bc[L1+111]=Bc[L1+63235]="F"+L1;var Ga={};function e0(a){var l=a.split(/-(?!$)/);a=l[l.length-1];for(var y,b,E,V,J=0;J<l.length-1;J++){var ae=l[J];if(/^(cmd|meta|m)$/i.test(ae))V=!0;else if(/^a(lt)?$/i.test(ae))y=!0;else if(/^(c|ctrl|control)$/i.test(ae))b=!0;else{if(!/^s(hift)?$/i.test(ae))throw new Error("Unrecognized modifier name: "+ae);E=!0}}return y&&(a="Alt-"+a),b&&(a="Ctrl-"+a),V&&(a="Cmd-"+a),E&&(a="Shift-"+a),a}function ku(a){var l={};for(var y in a)if(a.hasOwnProperty(y)){var b=a[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if("..."==b){delete a[y];continue}for(var E=Re(y.split(" "),e0),V=0;V<E.length;V++){var J=void 0,ae=void 0;V==E.length-1?(ae=E.join(" "),J=b):(ae=E.slice(0,V+1).join(" "),J="...");var de=l[ae];if(de){if(de!=J)throw new Error("Inconsistent bindings for "+ae)}else l[ae]=J}delete a[y]}for(var he in l)a[he]=l[he];return a}function Il(a,l,y,b){var E=(l=f3(l)).call?l.call(a,b):l[a];if(!1===E)return"nothing";if("..."===E)return"multi";if(null!=E&&y(E))return"handled";if(l.fallthrough){if("[object Array]"!=Object.prototype.toString.call(l.fallthrough))return Il(a,l.fallthrough,y,b);for(var V=0;V<l.fallthrough.length;V++){var J=Il(a,l.fallthrough[V],y,b);if(J)return J}}}function kl(a){var l="string"==typeof a?a:Bc[a.keyCode];return"Ctrl"==l||"Alt"==l||"Shift"==l||"Mod"==l}function Bn(a,l,y){var b=a;return l.altKey&&"Alt"!=b&&(a="Alt-"+a),(B?l.metaKey:l.ctrlKey)&&"Ctrl"!=b&&(a="Ctrl-"+a),(B?l.ctrlKey:l.metaKey)&&"Mod"!=b&&(a="Cmd-"+a),!y&&l.shiftKey&&"Shift"!=b&&(a="Shift-"+a),a}function u3(a,l){if(p&&34==a.keyCode&&a.char)return!1;var y=Bc[a.keyCode];return null!=y&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(y=a.code),Bn(y,a,l))}function f3(a){return"string"==typeof a?Ga[a]:a}function Dd(a,l){for(var y=a.doc.sel.ranges,b=[],E=0;E<y.length;E++){for(var V=l(y[E]);b.length&&je(V.from,Ce(b).to)<=0;){var J=b.pop();if(je(J.from,V.from)<0){V.from=J.from;break}}b.push(V)}ys(a,function(){for(var ae=b.length-1;ae>=0;ae--)q2(a.doc,"",b[ae].from,b[ae].to,"+delete");z2(a)})}function h3(a,l,y){var b=un(a.text,l+y,y);return b<0||b>a.text.length?null:b}function p3(a,l,y){var b=h3(a,l.ch,y);return null==b?null:new Ie(l.line,b,y<0?"after":"before")}function Ou(a,l,y,b,E){if(a){"rtl"==l.doc.direction&&(E=-E);var V=_n(y,l.doc.direction);if(V){var he,J=E<0?Ce(V):V[0],de=E<0==(1==J.level)?"after":"before";if(J.level>0||"rtl"==l.doc.direction){var Te=R2(l,y),ke=eo(l,Te,he=E<0?y.text.length-1:0).top;he=Nt(function(Ge){return eo(l,Te,Ge).top==ke},E<0==(1==J.level)?J.from:J.to-1,he),"before"==de&&(he=h3(y,he,1))}else he=E<0?J.to:J.from;return new Ie(b,he,de)}}return new Ie(b,E<0?y.text.length:0,E<0?"before":"after")}Ga.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ga.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ga.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ga.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ga.default=P?Ga.macDefault:Ga.pcDefault;var t0={selectAll:D7,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),vt)},killLine:function(a){return Dd(a,function(l){if(l.empty()){var y=Yt(a.doc,l.head.line).text.length;return l.head.ch==y&&l.head.line<a.lastLine()?{from:l.head,to:Ie(l.head.line+1,0)}:{from:l.head,to:Ie(l.head.line,y)}}return{from:l.from(),to:l.to()}})},deleteLine:function(a){return Dd(a,function(l){return{from:Ie(l.from().line,0),to:wn(a.doc,Ie(l.to().line+1,0))}})},delLineLeft:function(a){return Dd(a,function(l){return{from:Ie(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(a){return Dd(a,function(l){var y=a.charCoords(l.head,"div").top+5;return{from:a.coordsChar({left:0,top:y},"div"),to:l.from()}})},delWrappedLineRight:function(a){return Dd(a,function(l){var y=a.charCoords(l.head,"div").top+5,b=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div");return{from:l.from(),to:b}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Ie(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Ie(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(l){return Im(a,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(l){return km(a,l.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(l){return function P7(a,l){var y=Yt(a.doc,l),b=function Jr(a){for(var l;l=rn(a);)a=l.find(1,!0).line;return a}(y);return b!=y&&(l=ln(b)),Ou(!0,a,y,l,-1)}(a,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(l){var y=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div")},wt)},goLineLeft:function(a){return a.extendSelectionsBy(function(l){var y=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:0,top:y},"div")},wt)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(l){var y=a.cursorCoords(l.head,"div").top+5,b=a.coordsChar({left:0,top:y},"div");return b.ch<a.getLine(b.line).search(/\S/)?km(a,l.head):b},wt)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var l=[],y=a.listSelections(),b=a.options.tabSize,E=0;E<y.length;E++){var V=y[E].from(),J=qe(a.getLine(V.line),V.ch,b);l.push(pn(b-J%b))}a.replaceSelections(l)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ys(a,function(){for(var l=a.listSelections(),y=[],b=0;b<l.length;b++)if(l[b].empty()){var E=l[b].head,V=Yt(a.doc,E.line).text;if(V)if(E.ch==V.length&&(E=new Ie(E.line,E.ch-1)),E.ch>0)E=new Ie(E.line,E.ch+1),a.replaceRange(V.charAt(E.ch-1)+V.charAt(E.ch-2),Ie(E.line,E.ch-2),E,"+transpose");else if(E.line>a.doc.first){var J=Yt(a.doc,E.line-1).text;J&&(E=new Ie(E.line,1),a.replaceRange(V.charAt(0)+a.doc.lineSeparator()+J.charAt(J.length-1),Ie(E.line-1,J.length-1),E,"+transpose"))}y.push(new ni(E,E))}a.setSelections(y)})},newlineAndIndent:function(a){return ys(a,function(){for(var l=a.listSelections(),y=l.length-1;y>=0;y--)a.replaceRange(a.doc.lineSeparator(),l[y].anchor,l[y].head,"+input");l=a.listSelections();for(var b=0;b<l.length;b++)a.indentLine(l[b].from().line,null,!0);z2(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Im(a,l){var y=Yt(a.doc,l),b=hi(y);return b!=y&&(l=ln(b)),Ou(!0,a,b,l,1)}function km(a,l){var y=Im(a,l.line),b=Yt(a.doc,y.line),E=_n(b,a.doc.direction);if(!E||0==E[0].level){var V=Math.max(y.ch,b.text.search(/\S/));return Ie(y.line,l.line==y.line&&l.ch<=V&&l.ch?0:V,y.sticky)}return y}function Nu(a,l,y){if("string"==typeof l&&!(l=t0[l]))return!1;a.display.input.ensurePolled();var b=a.display.shift,E=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),y&&(a.display.shift=!1),E=l(a)!=ft}finally{a.display.shift=b,a.state.suppressEdits=!1}return E}var vi=new Qe;function Se(a,l,y,b){var E=a.state.keySeq;if(E){if(kl(l))return"handled";if(/\'$/.test(l)?a.state.keySeq=null:vi.set(50,function(){a.state.keySeq==E&&(a.state.keySeq=null,a.display.input.reset())}),Ee(a,E+" "+l,y,b))return!0}return Ee(a,l,y,b)}function Ee(a,l,y,b){var E=function dt(a,l,y){for(var b=0;b<a.state.keyMaps.length;b++){var E=Il(l,a.state.keyMaps[b],y,a);if(E)return E}return a.options.extraKeys&&Il(l,a.options.extraKeys,y,a)||Il(l,a.options.keyMap,y,a)}(a,l,b);return"multi"==E&&(a.state.keySeq=l),"handled"==E&&Oo(a,"keyHandled",a,l,y),("handled"==E||"multi"==E)&&(mi(y),Ro(a)),!!E}function Xi(a,l){var y=u3(l,!0);return!!y&&(l.shiftKey&&!a.state.keySeq?Se(a,"Shift-"+y,l,function(b){return Nu(a,b,!0)})||Se(a,y,l,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return Nu(a,b)}):Se(a,y,l,function(b){return Nu(a,b)}))}var A1=null;function Ya(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField()||(l.curOp.focus=te(xe(l)),Cn(l,a)))){x&&M<11&&27==a.keyCode&&(a.returnValue=!1);var y=a.keyCode;l.display.shift=16==y||a.shiftKey;var b=Xi(l,a);p&&(A1=b?y:null,!b&&88==y&&!Xr&&(P?a.metaKey:a.ctrlKey)&&l.replaceSelection("",null,"cut")),L&&!P&&!b&&46==y&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==y&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&function m3(a){var l=a.display.lineDiv;function y(b){(18==b.keyCode||!b.altKey)&&(W(l,"CodeMirror-crosshair"),gt(document,"keyup",y),gt(document,"mouseover",y))}ce(l,"CodeMirror-crosshair"),_e(document,"keyup",y),_e(document,"mouseover",y)}(l)}}function Ru(a){16==a.keyCode&&(this.doc.sel.shift=!1),Cn(this,a)}function Nm(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField()||ca(l.display,a)||Cn(l,a)||a.ctrlKey&&!a.altKey||P&&a.metaKey)){var y=a.keyCode,b=a.charCode;if(p&&y==A1)return A1=null,void mi(a);if(!p||a.which&&!(a.which<10)||!Xi(l,a)){var E=String.fromCharCode(b??y);"\b"!=E&&(function Om(a,l,y){return Se(a,"'"+y+"'",l,function(b){return Nu(a,b,!0)})}(l,a,E)||l.display.input.onKeyPress(a))}}}var Po,da,Fu=function(a,l,y){this.time=a,this.pos=l,this.button=y};function Sa(a){var l=this,y=l.display;if(!(Cn(l,a)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=a.shiftKey,ca(y,a))return void(u||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100)));if(!kd(l,a)){var b=xl(l,a),E=ur(a),V=b?function Rm(a,l){var y=+new Date;return da&&da.compare(y,a,l)?(Po=da=null,"triple"):Po&&Po.compare(y,a,l)?(da=new Fu(y,a,l),Po=null,"double"):(Po=new Fu(y,a,l),da=null,"single")}(b,E):"single";Ne(l).focus(),1==E&&l.state.selectingText&&l.state.selectingText(a),(!b||!function Hc(a,l,y,b,E){var V="Click";return"double"==b?V="Double"+V:"triple"==b&&(V="Triple"+V),Se(a,Bn(V=(1==l?"Left":2==l?"Middle":"Right")+V,E),E,function(J){if("string"==typeof J&&(J=t0[J]),!J)return!1;var ae=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),ae=J(a,y)!=ft}finally{a.state.suppressEdits=!1}return ae})}(l,E,b,V,a))&&(1==E?b?function Fm(a,l,y,b){x?setTimeout(Ae(Ml,a),0):a.curOp.focus=te(xe(a));var J,E=function z7(a,l,y){var b=a.getOption("configureMouse"),E=b?b(a,l,y):{};return null==E.unit&&(E.unit=(U?y.shiftKey&&y.metaKey:y.altKey)?"rectangle":"single"==l?"char":"double"==l?"word":"line"),(null==E.extend||a.doc.extend)&&(E.extend=a.doc.extend||y.shiftKey),null==E.addNew&&(E.addNew=P?y.metaKey:y.ctrlKey),null==E.moveOnDrag&&(E.moveOnDrag=!(P?y.altKey:y.ctrlKey)),E}(a,y,b),V=a.doc.sel;a.options.dragDrop&&Ha&&!a.isReadOnly()&&"single"==y&&(J=V.contains(l))>-1&&(je((J=V.ranges[J]).from(),l)<0||l.xRel>0)&&(je(J.to(),l)>0||l.xRel<0)?function $7(a,l,y,b){var E=a.display,V=!1,J=wo(a,function(he){u&&(E.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:qo(a)),gt(E.wrapper.ownerDocument,"mouseup",J),gt(E.wrapper.ownerDocument,"mousemove",ae),gt(E.scroller,"dragstart",de),gt(E.scroller,"drop",J),V||(mi(he),b.addNew||Eu(a.doc,y,null,null,b.extend),u&&!g||x&&9==M?setTimeout(function(){E.wrapper.ownerDocument.body.focus({preventScroll:!0}),E.input.focus()},20):E.input.focus())}),ae=function(he){V=V||Math.abs(l.clientX-he.clientX)+Math.abs(l.clientY-he.clientY)>=10},de=function(){return V=!0};u&&(E.scroller.draggable=!0),a.state.draggingText=J,J.copy=!b.moveOnDrag,_e(E.wrapper.ownerDocument,"mouseup",J),_e(E.wrapper.ownerDocument,"mousemove",ae),_e(E.scroller,"dragstart",de),_e(E.scroller,"drop",J),a.state.delayingBlurEvent=!0,setTimeout(function(){return E.input.focus()},20),E.scroller.dragDrop&&E.scroller.dragDrop()}(a,b,l,E):function g3(a,l,y,b){x&&qo(a);var E=a.display,V=a.doc;mi(l);var J,ae,de=V.sel,he=de.ranges;if(b.addNew&&!b.extend?(ae=V.sel.contains(y),J=ae>-1?he[ae]:new ni(y,y)):(J=V.sel.primary(),ae=V.sel.primIndex),"rectangle"==b.unit)b.addNew||(J=new ni(y,y)),y=xl(a,l,!0,!0),ae=-1;else{var Te=Pm(a,y,b.unit);J=b.extend?t3(J,Te.anchor,Te.head,b.extend):Te}b.addNew?-1==ae?(ae=he.length,xs(V,Sn(a,he.concat([J]),ae),{scroll:!1,origin:"*mouse"})):he.length>1&&he[ae].empty()&&"char"==b.unit&&!b.extend?(xs(V,Sn(a,he.slice(0,ae).concat(he.slice(ae+1)),0),{scroll:!1,origin:"*mouse"}),de=V.sel):Au(V,ae,J,cn):(ae=0,xs(V,new $i([J],0),cn),de=V.sel);var ke=y;function Ge($t){if(0!=je(ke,$t))if(ke=$t,"rectangle"==b.unit){for(var Jt=[],Tn=a.options.tabSize,gn=qe(Yt(V,y.line).text,y.ch,Tn),ii=qe(Yt(V,$t.line).text,$t.ch,Tn),Yi=Math.min(gn,ii),Sr=Math.max(gn,ii),Fr=Math.min(y.line,$t.line),Fs=Math.min(a.lastLine(),Math.max(y.line,$t.line));Fr<=Fs;Fr++){var Cs=Yt(V,Fr).text,yr=tn(Cs,Yi,Tn);Yi==Sr?Jt.push(new ni(Ie(Fr,yr),Ie(Fr,yr))):Cs.length>yr&&Jt.push(new ni(Ie(Fr,yr),Ie(Fr,tn(Cs,Sr,Tn))))}Jt.length||Jt.push(new ni(y,y)),xs(V,Sn(a,de.ranges.slice(0,ae).concat(Jt),ae),{origin:"*mouse",scroll:!1}),a.scrollIntoView($t)}else{var Vt,Co=J,xi=Pm(a,$t,b.unit),Mo=Co.anchor;je(xi.anchor,Mo)>0?(Vt=xi.head,Mo=vr(Co.from(),xi.anchor)):(Vt=xi.anchor,Mo=Ei(Co.to(),xi.head));var Tr=de.ranges.slice(0);Tr[ae]=function v3(a,l){var y=l.anchor,b=l.head,E=Yt(a.doc,y.line);if(0==je(y,b)&&y.sticky==b.sticky)return l;var V=_n(E);if(!V)return l;var J=Rn(V,y.ch,y.sticky),ae=V[J];if(ae.from!=y.ch&&ae.to!=y.ch)return l;var he,de=J+(ae.from==y.ch==(1!=ae.level)?0:1);if(0==de||de==V.length)return l;if(b.line!=y.line)he=(b.line-y.line)*("ltr"==a.doc.direction?1:-1)>0;else{var Te=Rn(V,b.ch,b.sticky),ke=Te-J||(b.ch-y.ch)*(1==ae.level?-1:1);he=Te==de-1||Te==de?ke<0:ke>0}var Ge=V[de+(he?-1:0)],Ue=he==(1==Ge.level),nt=Ue?Ge.from:Ge.to,pt=Ue?"after":"before";return y.ch==nt&&y.sticky==pt?l:new ni(new Ie(y.line,nt,pt),b)}(a,new ni(wn(V,Mo),Vt)),xs(V,Sn(a,Tr,ae),cn)}}var Ue=E.wrapper.getBoundingClientRect(),nt=0;function pt($t){var Jt=++nt,Tn=xl(a,$t,!0,"rectangle"==b.unit);if(Tn)if(0!=je(Tn,ke)){a.curOp.focus=te(xe(a)),Ge(Tn);var gn=xu(E,V);(Tn.line>=gn.to||Tn.line<gn.from)&&setTimeout(wo(a,function(){nt==Jt&&pt($t)}),150)}else{var ii=$t.clientY<Ue.top?-20:$t.clientY>Ue.bottom?20:0;ii&&setTimeout(wo(a,function(){nt==Jt&&(E.scroller.scrollTop+=ii,pt($t))}),50)}}function St($t){a.state.selectingText=!1,nt=1/0,$t&&(mi($t),E.input.focus()),gt(E.wrapper.ownerDocument,"mousemove",Pt),gt(E.wrapper.ownerDocument,"mouseup",Wt),V.history.lastSelOrigin=null}var Pt=wo(a,function($t){0!==$t.buttons&&ur($t)?pt($t):St($t)}),Wt=wo(a,St);a.state.selectingText=Wt,_e(E.wrapper.ownerDocument,"mousemove",Pt),_e(E.wrapper.ownerDocument,"mouseup",Wt)}(a,b,l,E)}(l,b,V,a):zi(a)==y.scroller&&mi(a):2==E?(b&&Eu(l.doc,b),setTimeout(function(){return y.input.focus()},20)):3==E&&(Z?l.display.input.onContextMenu(a):qo(l)))}}}function Pm(a,l,y){if("char"==y)return new ni(l,l);if("word"==y)return a.findWordAt(l);if("line"==y)return new ni(Ie(l.line,0),wn(a.doc,Ie(l.line+1,0)));var b=y(a,l);return new ni(b.from,b.to)}function Pu(a,l,y,b){var E,V;if(l.touches)E=l.touches[0].clientX,V=l.touches[0].clientY;else try{E=l.clientX,V=l.clientY}catch{return!1}if(E>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;b&&mi(l);var J=a.display,ae=J.lineDiv.getBoundingClientRect();if(V>ae.bottom||!hn(a,y))return Is(l);V-=ae.top-J.viewOffset;for(var de=0;de<a.display.gutterSpecs.length;++de){var he=J.gutters.childNodes[de];if(he&&he.getBoundingClientRect().right>=E)return kt(a,y,a,Io(a.doc,V),a.display.gutterSpecs[de].className,l),Is(l)}}function kd(a,l){return Pu(a,l,"gutterClick",!0)}function zm(a,l){ca(a.display,l)||function $m(a,l){return!!hn(a,"gutterContextMenu")&&Pu(a,l,"gutterContextMenu",!1)}(a,l)||Cn(a,l,"contextmenu")||Z||a.display.input.onContextMenu(l)}function zu(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),pd(a)}Fu.prototype.compare=function(a,l,y){return this.time+400>a&&0==je(l,this.pos)&&y==this.button};var D1={toString:function(){return"CodeMirror.Init"}},_3={},n0={};function b3(a,l,y){if(!l!=!(y&&y!=D1)){var E=a.display.dragFunctions,V=l?_e:gt;V(a.display.scroller,"dragstart",E.start),V(a.display.scroller,"dragenter",E.enter),V(a.display.scroller,"dragover",E.over),V(a.display.scroller,"dragleave",E.leave),V(a.display.scroller,"drop",E.drop)}}function B7(a){a.options.lineWrapping?(ce(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(W(a.display.wrapper,"CodeMirror-wrap"),Va(a)),Vh(a),Os(a),pd(a),setTimeout(function(){return Tl(a)},100)}function li(a,l){var y=this;if(!(this instanceof li))return new li(a,l);this.options=l=l?He(l):{},He(_3,l,!1);var b=l.value;"string"==typeof b?b=new ss(b,l.mode,null,l.lineSeparator,l.direction):l.mode&&(b.modeOption=l.mode),this.doc=b;var E=new li.inputStyles[l.inputStyle](this),V=this.display=new uo(a,b,E,l);for(var J in V.wrapper.CodeMirror=this,zu(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),x1(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Qe,keySeq:null,specialChars:null},l.autofocus&&!O&&V.input.focus(),x&&M<11&&setTimeout(function(){return y.display.input.reset(!0)},20),function I1(a){var l=a.display;_e(l.scroller,"mousedown",wo(a,Sa)),_e(l.scroller,"dblclick",x&&M<11?wo(a,function(de){if(!Cn(a,de)){var he=xl(a,de);if(he&&!kd(a,de)&&!ca(a.display,de)){mi(de);var Te=a.findWordAt(he);Eu(a.doc,Te.anchor,Te.head)}}}):function(de){return Cn(a,de)||mi(de)}),_e(l.scroller,"contextmenu",function(de){return zm(a,de)}),_e(l.input.getField(),"contextmenu",function(de){l.scroller.contains(de.target)||zm(a,de)});var y,b={end:0};function E(){l.activeTouch&&(y=setTimeout(function(){return l.activeTouch=null},1e3),(b=l.activeTouch).end=+new Date)}function V(de){if(1!=de.touches.length)return!1;var he=de.touches[0];return he.radiusX<=1&&he.radiusY<=1}function J(de,he){if(null==he.left)return!0;var Te=he.left-de.left,ke=he.top-de.top;return Te*Te+ke*ke>400}_e(l.scroller,"touchstart",function(de){if(!Cn(a,de)&&!V(de)&&!kd(a,de)){l.input.ensurePolled(),clearTimeout(y);var he=+new Date;l.activeTouch={start:he,moved:!1,prev:he-b.end<=300?b:null},1==de.touches.length&&(l.activeTouch.left=de.touches[0].pageX,l.activeTouch.top=de.touches[0].pageY)}}),_e(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),_e(l.scroller,"touchend",function(de){var he=l.activeTouch;if(he&&!ca(l,de)&&null!=he.left&&!he.moved&&new Date-he.start<300){var ke,Te=a.coordsChar(l.activeTouch,"page");ke=!he.prev||J(he,he.prev)?new ni(Te,Te):!he.prev.prev||J(he,he.prev.prev)?a.findWordAt(Te):new ni(Ie(Te.line,0),wn(a.doc,Ie(Te.line+1,0))),a.setSelection(ke.anchor,ke.head),a.focus(),mi(de)}E()}),_e(l.scroller,"touchcancel",E),_e(l.scroller,"scroll",function(){l.scroller.clientHeight&&(yd(a,l.scroller.scrollTop),y1(a,l.scroller.scrollLeft,!0),kt(a,"scroll",a))}),_e(l.scroller,"mousewheel",function(de){return pr(a,de)}),_e(l.scroller,"DOMMouseScroll",function(de){return pr(a,de)}),_e(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(de){Cn(a,de)||xt(de)},over:function(de){Cn(a,de)||(function Q2(a,l){var y=xl(a,l);if(y){var b=document.createDocumentFragment();os(a,y,b),a.display.dragCursor||(a.display.dragCursor=k("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),H(a.display.dragCursor,b)}}(a,de),xt(de))},start:function(de){return function R7(a,l){if(x&&(!a.state.draggingText||+new Date-Ad<100))xt(l);else if(!Cn(a,l)&&!ca(a.display,l)&&(l.dataTransfer.setData("Text",a.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!g)){var y=k("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(y.width=y.height=1,a.display.wrapper.appendChild(y),y._top=y.offsetTop),l.dataTransfer.setDragImage(y,0,0),p&&y.parentNode.removeChild(y)}}(a,de)},drop:wo(a,Rs),leave:function(de){Cn(a,de)||E1(a)}};var ae=l.input.getField();_e(ae,"keyup",function(de){return Ru.call(a,de)}),_e(ae,"keydown",wo(a,Ya)),_e(ae,"keypress",wo(a,Nm)),_e(ae,"focus",function(de){return wu(a,de)}),_e(ae,"blur",function(de){return v1(a,de)})}(this),d3(),C1(this),this.curOp.forceUpdate=!0,El(this,b),l.autofocus&&!O||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&wu(y)},20):v1(this),n0)n0.hasOwnProperty(J)&&n0[J](this,l[J],D1);V2(this),l.finishInit&&l.finishInit(this);for(var ae=0;ae<lr.length;++ae)lr[ae](this);M1(this),u&&l.lineWrapping&&"optimizelegibility"==getComputedStyle(V.lineDiv).textRendering&&(V.lineDiv.style.textRendering="auto")}li.defaults=_3,li.optionHandlers=n0;var lr=[];function Od(a,l,y,b){var V,E=a.doc;null==y&&(y="add"),"smart"==y&&(E.mode.indent?V=c1(a,l).state:y="prev");var J=a.options.tabSize,ae=Yt(E,l),de=qe(ae.text,null,J);ae.stateAfter&&(ae.stateAfter=null);var Te,he=ae.text.match(/^\s*/)[0];if(b||/\S/.test(ae.text)){if("smart"==y&&((Te=E.mode.indent(V,ae.text.slice(he.length),ae.text))==ft||Te>150)){if(!b)return;y="prev"}}else Te=0,y="not";"prev"==y?Te=l>E.first?qe(Yt(E,l-1).text,null,J):0:"add"==y?Te=de+a.options.indentUnit:"subtract"==y?Te=de-a.options.indentUnit:"number"==typeof y&&(Te=de+y),Te=Math.max(0,Te);var ke="",Ge=0;if(a.options.indentWithTabs)for(var Ue=Math.floor(Te/J);Ue;--Ue)Ge+=J,ke+="\t";if(Ge<Te&&(ke+=pn(Te-Ge)),ke!=he)return q2(E,ke,Ie(l,0),Ie(l,he.length),"+input"),ae.stateAfter=null,!0;for(var nt=0;nt<E.sel.ranges.length;nt++){var pt=E.sel.ranges[nt];if(pt.head.line==l&&pt.head.ch<he.length){var St=Ie(l,he.length);Au(E,nt,new ni(St,St));break}}}li.defineInitHook=function(a){return lr.push(a)};var qa=null;function r0(a){qa=a}function y3(a,l,y,b,E){var V=a.doc;a.display.shift=!1,b||(b=V.sel);var J=+new Date-200,ae="paste"==E||a.state.pasteIncoming>J,de=_o(l),he=null;if(ae&&b.ranges.length>1)if(qa&&qa.text.join("\n")==l){if(b.ranges.length%qa.text.length==0){he=[];for(var Te=0;Te<qa.text.length;Te++)he.push(V.splitLines(qa.text[Te]))}}else de.length==b.ranges.length&&a.options.pasteLinesPerSelection&&(he=Re(de,function(Pt){return[Pt]}));for(var ke=a.curOp.updateInput,Ge=b.ranges.length-1;Ge>=0;Ge--){var Ue=b.ranges[Ge],nt=Ue.from(),pt=Ue.to();Ue.empty()&&(y&&y>0?nt=Ie(nt.line,nt.ch-y):a.state.overwrite&&!ae?pt=Ie(pt.line,Math.min(Yt(V,pt.line).text.length,pt.ch+Ce(de).length)):ae&&qa&&qa.lineWise&&qa.text.join("\n")==de.join("\n")&&(nt=pt=Ie(nt.line,0)));var St={from:nt,to:pt,text:he?he[Ge%he.length]:de,origin:E||(ae?"paste":a.state.cutIncoming>J?"cut":"+input")};G2(a.doc,St),Oo(a,"inputRead",a,St)}l&&!ae&&x3(a,l),z2(a),a.curOp.updateInput<2&&(a.curOp.updateInput=ke),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function w3(a,l){var y=a.clipboardData&&a.clipboardData.getData("Text");if(y)return a.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&ys(l,function(){return y3(l,y,0,null,"paste")}),!0}function x3(a,l){if(a.options.electricChars&&a.options.smartIndent)for(var y=a.doc.sel,b=y.ranges.length-1;b>=0;b--){var E=y.ranges[b];if(!(E.head.ch>100||b&&y.ranges[b-1].head.line==E.head.line)){var V=a.getModeAt(E.head),J=!1;if(V.electricChars){for(var ae=0;ae<V.electricChars.length;ae++)if(l.indexOf(V.electricChars.charAt(ae))>-1){J=Od(a,E.head.line,"smart");break}}else V.electricInput&&V.electricInput.test(Yt(a.doc,E.head.line).text.slice(0,E.head.ch))&&(J=Od(a,E.head.line,"smart"));J&&Oo(a,"electricInput",a,E.head.line)}}}function Nd(a){for(var l=[],y=[],b=0;b<a.doc.sel.ranges.length;b++){var E=a.doc.sel.ranges[b].head.line,V={anchor:Ie(E,0),head:Ie(E+1,0)};y.push(V),l.push(a.getRange(V.anchor,V.head))}return{text:l,ranges:y}}function Ta(a,l,y,b){a.setAttribute("autocorrect",y?"on":"off"),a.setAttribute("autocapitalize",b?"on":"off"),a.setAttribute("spellcheck",!!l)}function Hm(){var a=k("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=k("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?a.style.width="1000px":a.setAttribute("wrap","off"),w&&(a.style.border="1px solid black"),l}function Rd(a,l,y,b,E){var V=l,J=y,ae=Yt(a,l.line),de=E&&"rtl"==a.direction?-y:y;function Te(Wt){var $t;if("codepoint"==b){var Jt=ae.text.charCodeAt(l.ch+(y>0?0:-1));$t=isNaN(Jt)?null:new Ie(l.line,Math.max(0,Math.min(ae.text.length,l.ch+y*((y>0?Jt>=55296&&Jt<56320:Jt>=56320&&Jt<57343)?2:1))),-y)}else $t=E?function Id(a,l,y,b){var E=_n(l,a.doc.direction);if(!E)return p3(l,y,b);y.ch>=l.text.length?(y.ch=l.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var V=Rn(E,y.ch,y.sticky),J=E[V];if("ltr"==a.doc.direction&&J.level%2==0&&(b>0?J.to>y.ch:J.from<y.ch))return p3(l,y,b);var de,ae=function(Pt,Wt){return h3(l,Pt instanceof Ie?Pt.ch:Pt,Wt)},he=function(Pt){return a.options.lineWrapping?(de=de||R2(a,l),zh(a,l,de,Pt)):{begin:0,end:l.text.length}},Te=he("before"==y.sticky?ae(y,-1):y.ch);if("rtl"==a.doc.direction||1==J.level){var ke=1==J.level==b<0,Ge=ae(y,ke?1:-1);if(null!=Ge&&(ke?Ge<=J.to&&Ge<=Te.end:Ge>=J.from&&Ge>=Te.begin))return new Ie(y.line,Ge,ke?"before":"after")}var nt=function(Pt,Wt,$t){for(;Pt>=0&&Pt<E.length;Pt+=Wt){var Tn=E[Pt],gn=Wt>0==(1!=Tn.level),ii=gn?$t.begin:ae($t.end,-1);if(Tn.from<=ii&&ii<Tn.to||(ii=gn?Tn.from:ae(Tn.to,-1),$t.begin<=ii&&ii<$t.end))return Yi=ii,gn?new Ie(y.line,ae(Yi,1),"before"):new Ie(y.line,Yi,"after")}var Yi},pt=nt(V+b,b,Te);if(pt)return pt;var St=b>0?Te.end:ae(Te.begin,-1);return null==St||b>0&&St==l.text.length||!(pt=nt(b>0?0:E.length-1,b,he(St)))?null:pt}(a.cm,ae,l,y):p3(ae,l,y);if(null==$t){if(Wt||!function he(){var Wt=l.line+de;return!(Wt<a.first||Wt>=a.first+a.size)&&(l=new Ie(Wt,l.ch,l.sticky),ae=Yt(a,Wt))}())return!1;l=Ou(E,a.cm,ae,l.line,de)}else l=$t;return!0}if("char"==b||"codepoint"==b)Te();else if("column"==b)Te(!0);else if("word"==b||"group"==b)for(var ke=null,Ge="group"==b,Ue=a.cm&&a.cm.getHelper(l,"wordChars"),nt=!0;!(y<0)||Te(!nt);nt=!1){var pt=ae.text.charAt(l.ch)||"\n",St=mn(pt,Ue)?"w":Ge&&"\n"==pt?"n":!Ge||/\s/.test(pt)?null:"p";if(Ge&&!nt&&!St&&(St="s"),ke&&ke!=St){y<0&&(y=1,Te(),l.sticky="after");break}if(St&&(ke=St),y>0&&!Te(!nt))break}var Pt=o3(a,l,V,J,!0);return In(V,Pt)&&(Pt.hitSide=!0),Pt}function o0(a,l,y,b){var J,he,E=a.doc,V=l.left;if("page"==b){var ae=Math.min(a.display.wrapper.clientHeight,Ne(a).innerHeight||E(a).documentElement.clientHeight),de=Math.max(ae-.5*gd(a.display),3);J=(y>0?l.bottom:l.top)+y*de}else"line"==b&&(J=y>0?l.bottom+3:l.top-3);for(;(he=p1(a,V,J)).outside;){if(y<0?J<=0:J>=E.height){he.hitSide=!0;break}J+=5*y}return he}var Bi=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Qe,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function C3(a,l){var y=mu(a,l.line);if(!y||y.hidden)return null;var b=Yt(a.doc,l.line),E=N2(y,b,l.line),V=_n(b,a.doc.direction),J="left";V&&(J=Rn(V,l.ch)%2?"right":"left");var de=f1(E.map,l.ch,J);return de.offset="right"==de.collapse?de.end:de.start,de}function Fd(a,l){return l&&(a.bad=!0),a}function Ol(a,l,y){var b;if(l==a.display.lineDiv){if(!(b=a.display.lineDiv.childNodes[y]))return Fd(a.clipPos(Ie(a.display.viewTo-1)),!0);l=null,y=0}else for(b=l;;b=b.parentNode){if(!b||b==a.display.lineDiv)return null;if(b.parentNode&&b.parentNode==a.display.lineDiv)break}for(var E=0;E<a.display.view.length;E++){var V=a.display.view[E];if(V.node==b)return H7(V,l,y)}}function H7(a,l,y){var b=a.text.firstChild,E=!1;if(!l||!ne(b,l))return Fd(Ie(ln(a.line),0),!0);if(l==b&&(E=!0,l=b.childNodes[y],y=0,!l)){var V=a.rest?Ce(a.rest):a.line;return Fd(Ie(ln(V),V.text.length),E)}var J=3==l.nodeType?l:null,ae=l;for(!J&&1==l.childNodes.length&&3==l.firstChild.nodeType&&(J=l.firstChild,y&&(y=J.nodeValue.length));ae.parentNode!=b;)ae=ae.parentNode;var de=a.measure,he=de.maps;function Te(St,Pt,Wt){for(var $t=-1;$t<(he?he.length:0);$t++)for(var Jt=$t<0?de.map:he[$t],Tn=0;Tn<Jt.length;Tn+=3){var gn=Jt[Tn+2];if(gn==St||gn==Pt){var ii=ln($t<0?a.line:a.rest[$t]),Yi=Jt[Tn]+Wt;return(Wt<0||gn!=St)&&(Yi=Jt[Tn+(Wt?1:0)]),Ie(ii,Yi)}}}var ke=Te(J,ae,y);if(ke)return Fd(ke,E);for(var Ge=ae.nextSibling,Ue=J?J.nodeValue.length-y:0;Ge;Ge=Ge.nextSibling){if(ke=Te(Ge,Ge.firstChild,0))return Fd(Ie(ke.line,ke.ch-Ue),E);Ue+=Ge.textContent.length}for(var nt=ae.previousSibling,pt=y;nt;nt=nt.previousSibling){if(ke=Te(nt,nt.firstChild,-1))return Fd(Ie(ke.line,ke.ch+pt),E);pt+=nt.textContent.length}}Bi.prototype.init=function(a){var l=this,y=this,b=y.cm,E=y.div=a.lineDiv;function V(ae){for(var de=ae.target;de;de=de.parentNode){if(de==E)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(de.className))break}return!1}function J(ae){if(V(ae)&&!Cn(b,ae)){if(b.somethingSelected())r0({lineWise:!1,text:b.getSelections()}),"cut"==ae.type&&b.replaceSelection("",null,"cut");else{if(!b.options.lineWiseCopyCut)return;var de=Nd(b);r0({lineWise:!0,text:de.text}),"cut"==ae.type&&b.operation(function(){b.setSelections(de.ranges,0,vt),b.replaceSelection("",null,"cut")})}if(ae.clipboardData){ae.clipboardData.clearData();var he=qa.text.join("\n");if(ae.clipboardData.setData("Text",he),ae.clipboardData.getData("Text")==he)return void ae.preventDefault()}var Te=Hm(),ke=Te.firstChild;Ta(ke),b.display.lineSpace.insertBefore(Te,b.display.lineSpace.firstChild),ke.value=qa.text.join("\n");var Ge=te(ge(E));me(ke),setTimeout(function(){b.display.lineSpace.removeChild(Te),Ge.focus(),Ge==E&&y.showPrimarySelection()},50)}}E.contentEditable=!0,Ta(E,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize),_e(E,"paste",function(ae){!V(ae)||Cn(b,ae)||w3(ae,b)||M<=11&&setTimeout(wo(b,function(){return l.updateFromDOM()}),20)}),_e(E,"compositionstart",function(ae){l.composing={data:ae.data,done:!1}}),_e(E,"compositionupdate",function(ae){l.composing||(l.composing={data:ae.data,done:!1})}),_e(E,"compositionend",function(ae){l.composing&&(ae.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),_e(E,"touchstart",function(){return y.forceCompositionEnd()}),_e(E,"input",function(){l.composing||l.readFromDOMSoon()}),_e(E,"copy",J),_e(E,"cut",J)},Bi.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Bi.prototype.prepareSelection=function(){var a=ot(this.cm,!1);return a.focus=te(ge(this.div))==this.div,a},Bi.prototype.showSelection=function(a,l){!a||!this.cm.display.view.length||((a.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Bi.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Bi.prototype.showPrimarySelection=function(){var a=this.getSelection(),l=this.cm,y=l.doc.sel.primary(),b=y.from(),E=y.to();if(l.display.viewTo==l.display.viewFrom||b.line>=l.display.viewTo||E.line<l.display.viewFrom)a.removeAllRanges();else{var V=Ol(l,a.anchorNode,a.anchorOffset),J=Ol(l,a.focusNode,a.focusOffset);if(!V||V.bad||!J||J.bad||0!=je(vr(V,J),b)||0!=je(Ei(V,J),E)){var ae=l.display.view,de=b.line>=l.display.viewFrom&&C3(l,b)||{node:ae[0].measure.map[2],offset:0},he=E.line<l.display.viewTo&&C3(l,E);if(!he){var Te=ae[ae.length-1].measure,ke=Te.maps?Te.maps[Te.maps.length-1]:Te.map;he={node:ke[ke.length-1],offset:ke[ke.length-2]-ke[ke.length-3]}}if(!de||!he)return void a.removeAllRanges();var Ue,Ge=a.rangeCount&&a.getRangeAt(0);try{Ue=R(de.node,de.offset,he.offset,he.node)}catch{}Ue&&(!L&&l.state.focused?(a.collapse(de.node,de.offset),Ue.collapsed||(a.removeAllRanges(),a.addRange(Ue))):(a.removeAllRanges(),a.addRange(Ue)),Ge&&null==a.anchorNode?a.addRange(Ge):L&&this.startGracePeriod()),this.rememberSelection()}}},Bi.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Bi.prototype.showMultipleSelections=function(a){H(this.cm.display.cursorDiv,a.cursors),H(this.cm.display.selectionDiv,a.selection)},Bi.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Bi.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0).commonAncestorContainer;return ne(this.div,l)},Bi.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||te(ge(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Bi.prototype.blur=function(){this.div.blur()},Bi.prototype.getField=function(){return this.div},Bi.prototype.supportsTouch=function(){return!0},Bi.prototype.receivedFocus=function(){var a=this,l=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):ys(this.cm,function(){return l.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function y(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,y))})},Bi.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Bi.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),l=this.cm;if(D&&d&&this.cm.display.gutterSpecs.length&&function Um(a){for(var l=a;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var y=Ol(l,a.anchorNode,a.anchorOffset),b=Ol(l,a.focusNode,a.focusOffset);y&&b&&ys(l,function(){xs(l.doc,xa(y,b),vt),(y.bad||b.bad)&&(l.curOp.selectionChanged=!0)})}}},Bi.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var V,J,ae,a=this.cm,l=a.display,y=a.doc.sel.primary(),b=y.from(),E=y.to();if(0==b.ch&&b.line>a.firstLine()&&(b=Ie(b.line-1,Yt(a.doc,b.line-1).length)),E.ch==Yt(a.doc,E.line).text.length&&E.line<a.lastLine()&&(E=Ie(E.line+1,0)),b.line<l.viewFrom||E.line>l.viewTo-1)return!1;b.line==l.viewFrom||0==(V=g1(a,b.line))?(J=ln(l.view[0].line),ae=l.view[0].node):(J=ln(l.view[V].line),ae=l.view[V-1].node.nextSibling);var he,Te,de=g1(a,E.line);if(de==l.view.length-1?(he=l.viewTo-1,Te=l.lineDiv.lastChild):(he=ln(l.view[de+1].line)-1,Te=l.view[de+1].node.previousSibling),!ae)return!1;for(var ke=a.doc.splitLines(function Pd(a,l,y,b,E){var V="",J=!1,ae=a.doc.lineSeparator(),de=!1;function Te(){J&&(V+=ae,de&&(V+=ae),J=de=!1)}function ke(Ue){Ue&&(Te(),V+=Ue)}function Ge(Ue){if(1==Ue.nodeType){var nt=Ue.getAttribute("cm-text");if(nt)return void ke(nt);var St,pt=Ue.getAttribute("cm-marker");if(pt){var Pt=a.findMarks(Ie(b,0),Ie(E+1,0),function he(Ue){return function(nt){return nt.id==Ue}}(+pt));return void(Pt.length&&(St=Pt[0].find(0))&&ke(ao(a.doc,St.from,St.to).join(ae)))}if("false"==Ue.getAttribute("contenteditable"))return;var Wt=/^(pre|div|p|li|table|br)$/i.test(Ue.nodeName);if(!/^br$/i.test(Ue.nodeName)&&0==Ue.textContent.length)return;Wt&&Te();for(var $t=0;$t<Ue.childNodes.length;$t++)Ge(Ue.childNodes[$t]);/^(pre|p)$/i.test(Ue.nodeName)&&(de=!0),Wt&&(J=!0)}else 3==Ue.nodeType&&ke(Ue.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ge(l),l!=y;)l=l.nextSibling,de=!1;return V}(a,ae,Te,J,he)),Ge=ao(a.doc,Ie(J,0),Ie(he,Yt(a.doc,he).text.length));ke.length>1&&Ge.length>1;)if(Ce(ke)==Ce(Ge))ke.pop(),Ge.pop(),he--;else{if(ke[0]!=Ge[0])break;ke.shift(),Ge.shift(),J++}for(var Ue=0,nt=0,pt=ke[0],St=Ge[0],Pt=Math.min(pt.length,St.length);Ue<Pt&&pt.charCodeAt(Ue)==St.charCodeAt(Ue);)++Ue;for(var Wt=Ce(ke),$t=Ce(Ge),Jt=Math.min(Wt.length-(1==ke.length?Ue:0),$t.length-(1==Ge.length?Ue:0));nt<Jt&&Wt.charCodeAt(Wt.length-nt-1)==$t.charCodeAt($t.length-nt-1);)++nt;if(1==ke.length&&1==Ge.length&&J==b.line)for(;Ue&&Ue>b.ch&&Wt.charCodeAt(Wt.length-nt-1)==$t.charCodeAt($t.length-nt-1);)Ue--,nt++;ke[ke.length-1]=Wt.slice(0,Wt.length-nt).replace(/^\u200b+/,""),ke[0]=ke[0].slice(Ue).replace(/\u200b+$/,"");var Tn=Ie(J,Ue),gn=Ie(he,Ge.length?Ce(Ge).length-nt:0);return ke.length>1||ke[0]||je(Tn,gn)?(q2(a.doc,ke,Tn,gn,"+input"),!0):void 0},Bi.prototype.ensurePolled=function(){this.forceCompositionEnd()},Bi.prototype.reset=function(){this.forceCompositionEnd()},Bi.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Bi.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},Bi.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&ys(this.cm,function(){return Os(a.cm)})},Bi.prototype.setUneditable=function(a){a.contentEditable="false"},Bi.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||wo(this.cm,y3)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},Bi.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},Bi.prototype.onContextMenu=function(){},Bi.prototype.resetPosition=function(){},Bi.prototype.needsContentAttribute=!0;var Rr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Qe,this.hasSelection=!1,this.composing=null,this.resetting=!1};Rr.prototype.init=function(a){var l=this,y=this,b=this.cm;this.createField(a);var E=this.textarea;function V(J){if(!Cn(b,J)){if(b.somethingSelected())r0({lineWise:!1,text:b.getSelections()});else{if(!b.options.lineWiseCopyCut)return;var ae=Nd(b);r0({lineWise:!0,text:ae.text}),"cut"==J.type?b.setSelections(ae.ranges,null,vt):(y.prevInput="",E.value=ae.text.join("\n"),me(E))}"cut"==J.type&&(b.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),w&&(E.style.width="0px"),_e(E,"input",function(){x&&M>=9&&l.hasSelection&&(l.hasSelection=null),y.poll()}),_e(E,"paste",function(J){Cn(b,J)||w3(J,b)||(b.state.pasteIncoming=+new Date,y.fastPoll())}),_e(E,"cut",V),_e(E,"copy",V),_e(a.scroller,"paste",function(J){if(!ca(a,J)&&!Cn(b,J)){if(!E.dispatchEvent)return b.state.pasteIncoming=+new Date,void y.focus();var ae=new Event("paste");ae.clipboardData=J.clipboardData,E.dispatchEvent(ae)}}),_e(a.lineSpace,"selectstart",function(J){ca(a,J)||mi(J)}),_e(E,"compositionstart",function(){var J=b.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:J,range:b.markText(J,b.getCursor("to"),{className:"CodeMirror-composing"})}}),_e(E,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},Rr.prototype.createField=function(a){this.wrapper=Hm(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;Ta(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},Rr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Rr.prototype.prepareSelection=function(){var a=this.cm,l=a.display,y=a.doc,b=ot(a);if(a.options.moveInputWithCursor){var E=la(a,y.sel.primary().head,"div"),V=l.wrapper.getBoundingClientRect(),J=l.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,E.top+J.top-V.top)),b.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,E.left+J.left-V.left))}return b},Rr.prototype.showSelection=function(a){var y=this.cm.display;H(y.cursorDiv,a.cursors),H(y.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Rr.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var y=l.getSelection();this.textarea.value=y,l.state.focused&&me(this.textarea),x&&M>=9&&(this.hasSelection=y)}else a||(this.prevInput=this.textarea.value="",x&&M>=9&&(this.hasSelection=null));this.resetting=!1}},Rr.prototype.getField=function(){return this.textarea},Rr.prototype.supportsTouch=function(){return!1},Rr.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!O||te(ge(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Rr.prototype.blur=function(){this.textarea.blur()},Rr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Rr.prototype.receivedFocus=function(){this.slowPoll()},Rr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Rr.prototype.fastPoll=function(){var a=!1,l=this;l.pollingFast=!0,l.polling.set(20,function y(){l.poll()||a?(l.pollingFast=!1,l.slowPoll()):(a=!0,l.polling.set(60,y))})},Rr.prototype.poll=function(){var a=this,l=this.cm,y=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||et(y)&&!b&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var E=y.value;if(E==b&&!l.somethingSelected())return!1;if(x&&M>=9&&this.hasSelection===E||P&&/[\uf700-\uf7ff]/.test(E))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var V=E.charCodeAt(0);if(8203==V&&!b&&(b="\u200b"),8666==V)return this.reset(),this.cm.execCommand("undo")}for(var J=0,ae=Math.min(b.length,E.length);J<ae&&b.charCodeAt(J)==E.charCodeAt(J);)++J;return ys(l,function(){y3(l,E.slice(J),b.length-J,null,a.composing?"*compose":null),E.length>1e3||E.indexOf("\n")>-1?y.value=a.prevInput="":a.prevInput=E,a.composing&&(a.composing.range.clear(),a.composing.range=l.markText(a.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Rr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Rr.prototype.onKeyPress=function(){x&&M>=9&&(this.hasSelection=null),this.fastPoll()},Rr.prototype.onContextMenu=function(a){var l=this,y=l.cm,b=y.display,E=l.textarea;l.contextMenuPending&&l.contextMenuPending();var V=xl(y,a),J=b.scroller.scrollTop;if(V&&!p){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(V)&&wo(y,xs)(y.doc,xa(V),vt);var ke,de=E.style.cssText,he=l.wrapper.style.cssText,Te=l.wrapper.offsetParent.getBoundingClientRect();if(l.wrapper.style.cssText="position: static",E.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-Te.top-5)+"px; left: "+(a.clientX-Te.left-5)+"px;\n      z-index: 1000; background: "+(x?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(ke=E.ownerDocument.defaultView.scrollY),b.input.focus(),u&&E.ownerDocument.defaultView.scrollTo(null,ke),b.input.reset(),y.somethingSelected()||(E.value=l.prevInput=" "),l.contextMenuPending=Ue,b.selForContextMenu=y.doc.sel,clearTimeout(b.detectingSelectAll),x&&M>=9&&Ge(),Z){xt(a);var nt=function(){gt(window,"mouseup",nt),setTimeout(Ue,20)};_e(window,"mouseup",nt)}else setTimeout(Ue,50)}function Ge(){if(null!=E.selectionStart){var pt=y.somethingSelected(),St="\u200b"+(pt?E.value:"");E.value="\u21da",E.value=St,l.prevInput=pt?"":"\u200b",E.selectionStart=1,E.selectionEnd=St.length,b.selForContextMenu=y.doc.sel}}function Ue(){if(l.contextMenuPending==Ue&&(l.contextMenuPending=!1,l.wrapper.style.cssText=he,E.style.cssText=de,x&&M<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=J),null!=E.selectionStart)){(!x||x&&M<9)&&Ge();var pt=0,St=function(){b.selForContextMenu==y.doc.sel&&0==E.selectionStart&&E.selectionEnd>0&&"\u200b"==l.prevInput?wo(y,D7)(y):pt++<10?b.detectingSelectAll=setTimeout(St,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(St,200)}}},Rr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},Rr.prototype.setUneditable=function(){},Rr.prototype.needsContentAttribute=!1,function Bm(a){var l=a.optionHandlers;function y(b,E,V,J){a.defaults[b]=E,V&&(l[b]=J?function(ae,de,he){he!=D1&&V(ae,de,he)}:V)}a.defineOption=y,a.Init=D1,y("value","",function(b,E){return b.setValue(E)},!0),y("mode",null,function(b,E){b.doc.modeOption=E,ja(b)},!0),y("indentUnit",2,ja,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(b){$c(b),pd(b),Os(b)},!0),y("lineSeparator",null,function(b,E){if(b.doc.lineSep=E,E){var V=[],J=b.doc.first;b.doc.iter(function(de){for(var he=0;;){var Te=de.text.indexOf(E,he);if(-1==Te)break;he=Te+E.length,V.push(Ie(J,Te))}J++});for(var ae=V.length-1;ae>=0;ae--)q2(b.doc,E,V[ae],Ie(V[ae].line,V[ae].ch+E.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,E,V){b.state.specialChars=new RegExp(E.source+(E.test("\t")?"":"|\t"),"g"),V!=D1&&b.refresh()}),y("specialCharPlaceholder",pm,function(b){return b.refresh()},!0),y("electricChars",!0),y("inputStyle",O?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(b,E){return b.getInputField().spellcheck=E},!0),y("autocorrect",!1,function(b,E){return b.getInputField().autocorrect=E},!0),y("autocapitalize",!1,function(b,E){return b.getInputField().autocapitalize=E},!0),y("rtlMoveVisually",!j),y("wholeLineUpdateBefore",!0),y("theme","default",function(b){zu(b),bn(b)},!0),y("keyMap","default",function(b,E,V){var J=f3(E),ae=V!=D1&&f3(V);ae&&ae.detach&&ae.detach(b,J),J.attach&&J.attach(b,ae||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,B7,!0),y("gutters",[],function(b,E){b.display.gutterSpecs=br(E,b.options.lineNumbers),bn(b)},!0),y("fixedGutter",!0,function(b,E){b.display.gutters.style.left=E?Uh(b.display)+"px":"0",b.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(b){return Tl(b)},!0),y("scrollbarStyle","native",function(b){x1(b),Tl(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),y("lineNumbers",!1,function(b,E){b.display.gutterSpecs=br(b.options.gutters,E),bn(b)},!0),y("firstLineNumber",1,bn,!0),y("lineNumberFormatter",function(b){return b},bn,!0),y("showCursorWhenSelecting",!1,vd,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(b,E){"nocursor"==E&&(v1(b),b.display.input.blur()),b.display.input.readOnlyChanged(E)}),y("screenReaderLabel",null,function(b,E){b.display.input.screenReaderLabelChanged(E=""===E?null:E)}),y("disableInput",!1,function(b,E){E||b.display.input.reset()},!0),y("dragDrop",!0,b3),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,vd,!0),y("singleCursorHeightPerLine",!0,vd,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,$c,!0),y("addModeClass",!1,$c,!0),y("pollInterval",100),y("undoDepth",200,function(b,E){return b.doc.history.undoDepth=E}),y("historyEventDelay",1250),y("viewportMargin",10,function(b){return b.refresh()},!0),y("maxHighlightLength",1e4,$c,!0),y("moveInputWithCursor",!0,function(b,E){E||b.display.input.resetPosition()}),y("tabindex",null,function(b,E){return b.display.input.getField().tabIndex=E||""}),y("autofocus",null),y("direction","ltr",function(b,E){return b.doc.setDirection(E)},!0),y("phrases",null)}(li),function $u(a){var l=a.optionHandlers,y=a.helpers={};a.prototype={constructor:a,focus:function(){Ne(this).focus(),this.display.input.focus()},setOption:function(b,E){var V=this.options,J=V[b];V[b]==E&&"mode"!=b||(V[b]=E,l.hasOwnProperty(b)&&wo(this,l[b])(this,E,J),kt(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,E){this.state.keyMaps[E?"push":"unshift"](f3(b))},removeKeyMap:function(b){for(var E=this.state.keyMaps,V=0;V<E.length;++V)if(E[V]==b||E[V].name==b)return E.splice(V,1),!0},addOverlay:xo(function(b,E){var V=b.token?b:a.getMode(this.options,b);if(V.startState)throw new Error("Overlays may not be stateful.");(function We(a,l,y){for(var b=0,E=y(l);b<a.length&&y(a[b])<=E;)b++;a.splice(b,0,l)})(this.state.overlays,{mode:V,modeSpec:b,opaque:E&&E.opaque,priority:E&&E.priority||0},function(J){return J.priority}),this.state.modeGen++,Os(this)}),removeOverlay:xo(function(b){for(var E=this.state.overlays,V=0;V<E.length;++V){var J=E[V].modeSpec;if(J==b||"string"==typeof b&&J.name==b)return E.splice(V,1),this.state.modeGen++,void Os(this)}}),indentLine:xo(function(b,E,V){"string"!=typeof E&&"number"!=typeof E&&(E=null==E?this.options.smartIndent?"smart":"prev":E?"add":"subtract"),be(this.doc,b)&&Od(this,b,E,V)}),indentSelection:xo(function(b){for(var E=this.doc.sel.ranges,V=-1,J=0;J<E.length;J++){var ae=E[J];if(ae.empty())ae.head.line>V&&(Od(this,ae.head.line,b,!0),V=ae.head.line,J==this.doc.sel.primIndex&&z2(this));else{var de=ae.from(),he=ae.to(),Te=Math.max(V,de.line);V=Math.min(this.lastLine(),he.line-(he.ch?0:1))+1;for(var ke=Te;ke<V;++ke)Od(this,ke,b);var Ge=this.doc.sel.ranges;0==de.ch&&E.length==Ge.length&&Ge[J].from().ch>0&&Au(this.doc,J,new ni(de,Ge[J].to()),vt)}}}),getTokenAt:function(b,E){return Ah(this,b,E)},getLineTokens:function(b,E){return Ah(this,Ie(b),E,!0)},getTokenTypeAt:function(b){b=wn(this.doc,b);var de,E=Eh(this,Yt(this.doc,b.line)),V=0,J=(E.length-1)/2,ae=b.ch;if(0==ae)de=E[2];else for(;;){var he=V+J>>1;if((he?E[2*he-1]:0)>=ae)J=he;else{if(!(E[2*he+1]<ae)){de=E[2*he+2];break}V=he+1}}var Te=de?de.indexOf("overlay "):-1;return Te<0?de:0==Te?null:de.slice(0,Te-1)},getModeAt:function(b){var E=this.doc.mode;return E.innerMode?a.innerMode(E,this.getTokenAt(b).state).mode:E},getHelper:function(b,E){return this.getHelpers(b,E)[0]},getHelpers:function(b,E){var V=[];if(!y.hasOwnProperty(E))return V;var J=y[E],ae=this.getModeAt(b);if("string"==typeof ae[E])J[ae[E]]&&V.push(J[ae[E]]);else if(ae[E])for(var de=0;de<ae[E].length;de++){var he=J[ae[E][de]];he&&V.push(he)}else ae.helperType&&J[ae.helperType]?V.push(J[ae.helperType]):J[ae.name]&&V.push(J[ae.name]);for(var Te=0;Te<J._global.length;Te++){var ke=J._global[Te];ke.pred(ae,this)&&-1==ct(V,ke.val)&&V.push(ke.val)}return V},getStateAfter:function(b,E){var V=this.doc;return c1(this,(b=ks(V,b??V.first+V.size-1))+1,E).state},cursorCoords:function(b,E){var J=this.doc.sel.primary();return la(this,null==b?J.head:"object"==typeof b?wn(this.doc,b):b?J.from():J.to(),E||"page")},charCoords:function(b,E){return _u(this,wn(this.doc,b),E||"page")},coordsChar:function(b,E){return p1(this,(b=Mt(this,b,E||"page")).left,b.top)},lineAtHeight:function(b,E){return b=Mt(this,{top:b,left:0},E||"page").top,Io(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,E,V){var ae,J=!1;if("number"==typeof b){var de=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>de&&(b=de,J=!0),ae=Yt(this.doc,b)}else ae=b;return Ys(this,ae,{top:0,left:0},E||"page",V||J).top+(J?this.doc.height-dn(ae):0)},defaultTextHeight:function(){return gd(this.display)},defaultCharWidth:function(){return m1(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,E,V,J,ae){var de=this.display,he=(b=la(this,wn(this.doc,b))).bottom,Te=b.left;if(E.style.position="absolute",E.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(E),de.sizer.appendChild(E),"over"==J)he=b.top;else if("above"==J||"near"==J){var ke=Math.max(de.wrapper.clientHeight,this.doc.height),Ge=Math.max(de.sizer.clientWidth,de.lineSpace.clientWidth);("above"==J||b.bottom+E.offsetHeight>ke)&&b.top>E.offsetHeight?he=b.top-E.offsetHeight:b.bottom+E.offsetHeight<=ke&&(he=b.bottom),Te+E.offsetWidth>Ge&&(Te=Ge-E.offsetWidth)}E.style.top=he+"px",E.style.left=E.style.right="","right"==ae?(Te=de.sizer.clientWidth-E.offsetWidth,E.style.right="0px"):("left"==ae?Te=0:"middle"==ae&&(Te=(de.sizer.clientWidth-E.offsetWidth)/2),E.style.left=Te+"px"),V&&function jh(a,l){var y=Cu(a,l);null!=y.scrollTop&&yd(a,y.scrollTop),null!=y.scrollLeft&&y1(a,y.scrollLeft)}(this,{left:Te,top:he,right:Te+E.offsetWidth,bottom:he+E.offsetHeight})},triggerOnKeyDown:xo(Ya),triggerOnKeyPress:xo(Nm),triggerOnKeyUp:Ru,triggerOnMouseDown:xo(Sa),execCommand:function(b){if(t0.hasOwnProperty(b))return t0[b].call(null,this)},triggerElectric:xo(function(b){x3(this,b)}),findPosH:function(b,E,V,J){var ae=1;E<0&&(ae=-1,E=-E);for(var de=wn(this.doc,b),he=0;he<E&&!(de=Rd(this.doc,de,ae,V,J)).hitSide;++he);return de},moveH:xo(function(b,E){var V=this;this.extendSelectionsBy(function(J){return V.display.shift||V.doc.extend||J.empty()?Rd(V.doc,J.head,b,E,V.options.rtlMoveVisually):b<0?J.from():J.to()},wt)}),deleteH:xo(function(b,E){var J=this.doc;this.doc.sel.somethingSelected()?J.replaceSelection("",null,"+delete"):Dd(this,function(ae){var de=Rd(J,ae.head,b,E,!1);return b<0?{from:de,to:ae.head}:{from:ae.head,to:de}})}),findPosV:function(b,E,V,J){var ae=1,de=J;E<0&&(ae=-1,E=-E);for(var he=wn(this.doc,b),Te=0;Te<E;++Te){var ke=la(this,he,"div");if(null==de?de=ke.left:ke.left=de,(he=o0(this,ke,ae,V)).hitSide)break}return he},moveV:xo(function(b,E){var V=this,J=this.doc,ae=[],de=!this.display.shift&&!J.extend&&J.sel.somethingSelected();if(J.extendSelectionsBy(function(Te){if(de)return b<0?Te.from():Te.to();var ke=la(V,Te.head,"div");null!=Te.goalColumn&&(ke.left=Te.goalColumn),ae.push(ke.left);var Ge=o0(V,ke,b,E);return"page"==E&&Te==J.sel.primary()&&_d(V,_u(V,Ge,"div").top-ke.top),Ge},wt),ae.length)for(var he=0;he<J.sel.ranges.length;he++)J.sel.ranges[he].goalColumn=ae[he]}),findWordAt:function(b){var V=Yt(this.doc,b.line).text,J=b.ch,ae=b.ch;if(V){var de=this.getHelper(b,"wordChars");"before"!=b.sticky&&ae!=V.length||!J?++ae:--J;for(var he=V.charAt(J),Te=mn(he,de)?function(ke){return mn(ke,de)}:/\s/.test(he)?function(ke){return/\s/.test(ke)}:function(ke){return!/\s/.test(ke)&&!mn(ke)};J>0&&Te(V.charAt(J-1));)--J;for(;ae<V.length&&Te(V.charAt(ae));)++ae}return new ni(Ie(b.line,J),Ie(b.line,ae))},toggleOverwrite:function(b){null!=b&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ce(this.display.cursorDiv,"CodeMirror-overwrite"):W(this.display.cursorDiv,"CodeMirror-overwrite"),kt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==te(xe(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:xo(function(b,E){b1(this,b,E)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-Ur(this)-this.display.barHeight,width:b.scrollWidth-Ur(this)-this.display.barWidth,clientHeight:hu(this),clientWidth:wa(this)}},scrollIntoView:xo(function(b,E){null==b?(b={from:this.doc.sel.primary().head,to:null},null==E&&(E=this.options.cursorScrollMargin)):"number"==typeof b?b={from:Ie(b,0),to:null}:null==b.from&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=E||0,null!=b.from.line?function _7(a,l){bd(a),a.curOp.scrollToPos=l}(this,b):Wh(this,b.from,b.to,b.margin)}),setSize:xo(function(b,E){var V=this,J=function(de){return"number"==typeof de||/^\d+$/.test(String(de))?de+"px":de};null!=b&&(this.display.wrapper.style.width=J(b)),null!=E&&(this.display.wrapper.style.height=J(E)),this.options.lineWrapping&&h1(this);var ae=this.display.viewFrom;this.doc.iter(ae,this.display.viewTo,function(de){if(de.widgets)for(var he=0;he<de.widgets.length;he++)if(de.widgets[he].noHScroll){Cl(V,ae,"widget");break}++ae}),this.curOp.forceUpdate=!0,kt(this,"refresh",this)}),operation:function(b){return ys(this,b)},startOperation:function(){return C1(this)},endOperation:function(){return M1(this)},refresh:xo(function(){var b=this.display.cachedTextHeight;Os(this),this.curOp.forceUpdate=!0,pd(this),b1(this,this.doc.scrollLeft,this.doc.scrollTop),Zh(this.display),(null==b||Math.abs(b-gd(this.display))>.5||this.options.lineWrapping)&&Vh(this),kt(this,"refresh",this)}),swapDoc:xo(function(b){var E=this.doc;return E.cm=null,this.state.selectingText&&this.state.selectingText(),El(this,b),pd(this),this.display.input.reset(),b1(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,Oo(this,"swapDoc",this,E),E}),phrase:function(b){var E=this.options.phrases;return E&&Object.prototype.hasOwnProperty.call(E,b)?E[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ii(a),a.registerHelper=function(b,E,V){y.hasOwnProperty(b)||(y[b]=a[b]={_global:[]}),y[b][E]=V},a.registerGlobalHelper=function(b,E,V,J){a.registerHelper(b,E,J),y[b]._global.push({pred:V,val:J})}}(li);var j7="iter insert remove copy getEditor constructor".split(" ");for(var M3 in ss.prototype)ss.prototype.hasOwnProperty(M3)&&ct(j7,M3)<0&&(li.prototype[M3]=function(a){return function(){return a.apply(this.doc,arguments)}}(ss.prototype[M3]));return Ii(ss),li.inputStyles={textarea:Rr,contenteditable:Bi},li.defineMode=function(a){!li.defaults.mode&&"null"!=a&&(li.defaults.mode=a),ba.apply(this,arguments)},li.defineMIME=function yo(a,l){Hr[a]=l},li.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),li.defineMIME("text/plain","null"),li.defineExtension=function(a,l){li.prototype[a]=l},li.defineDocExtension=function(a,l){ss.prototype[a]=l},li.fromTextArea=function U7(a,l){if((l=l?He(l):{}).value=a.value,!l.tabindex&&a.tabIndex&&(l.tabindex=a.tabIndex),!l.placeholder&&a.placeholder&&(l.placeholder=a.placeholder),null==l.autofocus){var y=te(ge(a));l.autofocus=y==a||null!=a.getAttribute("autofocus")&&y==document.body}function b(){a.value=ae.getValue()}var E;if(a.form&&(_e(a.form,"submit",b),!l.leaveSubmitMethodAlone)){var V=a.form;E=V.submit;try{var J=V.submit=function(){b(),V.submit=E,V.submit(),V.submit=J}}catch{}}l.finishInit=function(de){de.save=b,de.getTextArea=function(){return a},de.toTextArea=function(){de.toTextArea=isNaN,b(),a.parentNode.removeChild(de.getWrapperElement()),a.style.display="",a.form&&(gt(a.form,"submit",b),!l.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=E))}},a.style.display="none";var ae=li(function(de){return a.parentNode.insertBefore(de,a.nextSibling)},l);return ae},function V7(a){a.off=gt,a.on=_e,a.wheelEventPixels=xd,a.Doc=ss,a.splitLines=_o,a.countColumn=qe,a.findColumn=tn,a.isWordChar=Xt,a.Pass=ft,a.signal=kt,a.Line=bs,a.changeEnd=zc,a.scrollbarModel=qs,a.Pos=Ie,a.cmpPos=je,a.modes=ns,a.mimeModes=Hr,a.resolveMode=fr,a.getMode=gr,a.modeExtensions=hr,a.extendMode=_t,a.copyState=Go,a.startState=a1,a.innerMode=is,a.commands=t0,a.keyMap=Ga,a.keyName=u3,a.isModifierKey=kl,a.lookupKey=Il,a.normalizeKeyMap=ku,a.StringStream=jt,a.SharedTextMarker=Ld,a.TextMarker=Dl,a.LineWidget=Ed,a.e_preventDefault=mi,a.e_stopPropagation=Qr,a.e_stop=xt,a.addClass=ce,a.contains=ne,a.rmClass=W,a.keyNames=Bc}(li),li.version="5.65.18",li}()},6092:(q,z,T)=>{!function(L){"use strict";L.defineMode("javascript",function(I,$){var w,D,S=I.indentUnit,x=$.statementIndent,M=$.jsonld,u=$.json||M,m=!1!==$.trackScope,d=$.typescript,f=$.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function be(vr){return{type:vr,style:"keyword"}}var Oe=be("keyword a"),Ie=be("keyword b"),je=be("keyword c"),In=be("keyword d"),kn=be("operator"),Ei={type:"atom",style:"atom"};return{if:be("if"),while:Oe,with:Oe,else:Ie,do:Ie,try:Ie,finally:Ie,return:In,break:In,continue:In,new:be("new"),delete:je,void:je,throw:je,debugger:be("debugger"),var:be("var"),const:be("var"),let:be("var"),function:be("function"),catch:be("catch"),for:be("for"),switch:be("switch"),case:be("case"),default:be("default"),in:kn,typeof:kn,instanceof:kn,true:Ei,false:Ei,null:Ei,undefined:Ei,NaN:Ei,Infinity:Ei,this:be("this"),class:be("class"),super:be("atom"),yield:je,export:be("export"),import:be("import"),extends:je,await:je}}(),g=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function O(be,Oe,Ie){return w=be,D=Ie,Oe}function P(be,Oe){var Ie=be.next();if('"'==Ie||"'"==Ie)return Oe.tokenize=function U(be){return function(Oe,Ie){var In,je=!1;if(M&&"@"==Oe.peek()&&Oe.match(h))return Ie.tokenize=P,O("jsonld-keyword","meta");for(;null!=(In=Oe.next())&&(In!=be||je);)je=!je&&"\\"==In;return je||(Ie.tokenize=P),O("string","string")}}(Ie),Oe.tokenize(be,Oe);if("."==Ie&&be.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return O("number","number");if("."==Ie&&be.match(".."))return O("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ie))return O(Ie);if("="==Ie&&be.eat(">"))return O("=>","operator");if("0"==Ie&&be.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return O("number","number");if(/\d/.test(Ie))return be.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),O("number","number");if("/"==Ie)return be.eat("*")?(Oe.tokenize=j,j(be,Oe)):be.eat("/")?(be.skipToEnd(),O("comment","comment")):Io(be,Oe,1)?(function _(be){for(var Ie,Oe=!1,je=!1;null!=(Ie=be.next());){if(!Oe){if("/"==Ie&&!je)return;"["==Ie?je=!0:je&&"]"==Ie&&(je=!1)}Oe=!Oe&&"\\"==Ie}}(be),be.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),O("regexp","string-2")):(be.eat("="),O("operator","operator",be.current()));if("`"==Ie)return Oe.tokenize=K,K(be,Oe);if("#"==Ie&&"!"==be.peek())return be.skipToEnd(),O("meta","meta");if("#"==Ie&&be.eatWhile(f))return O("variable","property");if("<"==Ie&&be.match("!--")||"-"==Ie&&be.match("->")&&!/\S/.test(be.string.slice(0,be.start)))return be.skipToEnd(),O("comment","comment");if(g.test(Ie))return(">"!=Ie||!Oe.lexical||">"!=Oe.lexical.type)&&(be.eat("=")?("!"==Ie||"="==Ie)&&be.eat("="):/[<>*+\-|&?]/.test(Ie)&&(be.eat(Ie),">"==Ie&&be.eat(Ie))),"?"==Ie&&be.eat(".")?O("."):O("operator","operator",be.current());if(f.test(Ie)){be.eatWhile(f);var je=be.current();if("."!=Oe.lastType){if(p.propertyIsEnumerable(je)){var In=p[je];return O(In.type,In.style,je)}if("async"==je&&be.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return O("async","keyword",je)}return O("variable","variable",je)}}function j(be,Oe){for(var je,Ie=!1;je=be.next();){if("/"==je&&Ie){Oe.tokenize=P;break}Ie="*"==je}return O("comment","comment")}function K(be,Oe){for(var je,Ie=!1;null!=(je=be.next());){if(!Ie&&("`"==je||"$"==je&&be.eat("{"))){Oe.tokenize=P;break}Ie=!Ie&&"\\"==je}return O("quasi","string-2",be.current())}var B="([{}])";function Z(be,Oe){Oe.fatArrowAt&&(Oe.fatArrowAt=null);var Ie=be.string.indexOf("=>",be.start);if(!(Ie<0)){if(d){var je=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(be.string.slice(be.start,Ie));je&&(Ie=je.index)}for(var In=0,kn=!1,Ei=Ie-1;Ei>=0;--Ei){var vr=be.string.charAt(Ei),ks=B.indexOf(vr);if(ks>=0&&ks<3){if(!In){++Ei;break}if(0==--In){"("==vr&&(kn=!0);break}}else if(ks>=3&&ks<6)++In;else if(f.test(vr))kn=!0;else if(/["'\/`]/.test(vr))for(;;--Ei){if(0==Ei)return;if(be.string.charAt(Ei-1)==vr&&"\\"!=be.string.charAt(Ei-2)){Ei--;break}}else if(kn&&!In){++Ei;break}}kn&&!In&&(Oe.fatArrowAt=Ei)}}var Y={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function W(be,Oe,Ie,je,In,kn){this.indented=be,this.column=Oe,this.type=Ie,this.prev=In,this.info=kn,null!=je&&(this.align=je)}function re(be,Oe){if(!m)return!1;for(var Ie=be.localVars;Ie;Ie=Ie.next)if(Ie.name==Oe)return!0;for(var je=be.context;je;je=je.prev)for(Ie=je.vars;Ie;Ie=Ie.next)if(Ie.name==Oe)return!0}function H(be,Oe,Ie,je,In){var kn=be.cc;for(k.state=be,k.stream=In,k.marked=null,k.cc=kn,k.style=Oe,be.lexical.hasOwnProperty("align")||(be.lexical.align=!0);;)if((kn.length?kn.pop():u?ft:ct)(Ie,je)){for(;kn.length&&kn[kn.length-1].lex;)kn.pop()();return k.marked?k.marked:"variable"==Ie&&re(be,je)?"variable-2":Oe}}var k={state:null,column:null,marked:null,cc:null};function F(){for(var be=arguments.length-1;be>=0;be--)k.cc.push(arguments[be])}function R(){return F.apply(null,arguments),!0}function ne(be,Oe){for(var Ie=Oe;Ie;Ie=Ie.next)if(Ie.name==be)return!0;return!1}function te(be){var Oe=k.state;if(k.marked="def",m){if(Oe.context)if("var"==Oe.lexical.info&&Oe.context&&Oe.context.block){var Ie=ce(be,Oe.context);if(null!=Ie)return void(Oe.context=Ie)}else if(!ne(be,Oe.localVars))return void(Oe.localVars=new ue(be,Oe.localVars));$.globalVars&&!ne(be,Oe.globalVars)&&(Oe.globalVars=new ue(be,Oe.globalVars))}}function ce(be,Oe){if(Oe){if(Oe.block){var Ie=ce(be,Oe.prev);return Ie?Ie==Oe.prev?Oe:new me(Ie,Oe.vars,!0):null}return ne(be,Oe.vars)?Oe:new me(Oe.prev,new ue(be,Oe.vars),!1)}return null}function fe(be){return"public"==be||"private"==be||"protected"==be||"abstract"==be||"readonly"==be}function me(be,Oe,Ie){this.prev=be,this.vars=Oe,this.block=Ie}function ue(be,Oe){this.name=be,this.next=Oe}var xe=new ue("this",new ue("arguments",null));function ge(){k.state.context=new me(k.state.context,k.state.localVars,!1),k.state.localVars=xe}function Ne(){k.state.context=new me(k.state.context,k.state.localVars,!0),k.state.localVars=null}function Ae(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function He(be,Oe){var Ie=function(){var je=k.state,In=je.indented;if("stat"==je.lexical.type)In=je.lexical.indented;else for(var kn=je.lexical;kn&&")"==kn.type&&kn.align;kn=kn.prev)In=kn.indented;je.lexical=new W(In,k.stream.column(),be,null,je.lexical,Oe)};return Ie.lex=!0,Ie}function qe(){var be=k.state;be.lexical.prev&&(")"==be.lexical.type&&(be.indented=be.lexical.indented),be.lexical=be.lexical.prev)}function Qe(be){return function Oe(Ie){return Ie==be?R():";"==be||"}"==Ie||")"==Ie||"]"==Ie?F():R(Oe)}}function ct(be,Oe){return"var"==be?R(He("vardef",Oe),xt,Qe(";"),qe):"keyword a"==be?R(He("form"),cn,ct,qe):"keyword b"==be?R(He("form"),ct,qe):"keyword d"==be?k.stream.match(/^\s*$/,!1)?R():R(He("stat"),tn,Qe(";"),qe):"debugger"==be?R(Qe(";")):"{"==be?R(He("}"),Ne,Gn,qe,Ae):";"==be?R():"if"==be?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==qe&&k.state.cc.pop()(),R(He("form"),cn,ct,qe,Mn)):"function"==be?R(Xr):"for"==be?R(He("form"),Ne,Ws,ct,Ae,qe):"class"==be||d&&"interface"==Oe?(k.marked="keyword",R(He("form","class"==be?be:Oe),ba,qe)):"variable"==be?d&&"declare"==Oe?(k.marked="keyword",R(ct)):d&&("module"==Oe||"enum"==Oe||"type"==Oe)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==Oe?R(Jn):"type"==Oe?R(aa,Qe("operator"),_e,Qe(";")):R(He("form"),zi,Qe("{"),He("}"),Gn,qe,qe)):d&&"namespace"==Oe?(k.marked="keyword",R(He("form"),ft,ct,qe)):d&&"abstract"==Oe?(k.marked="keyword",R(ct)):R(He("stat"),mn):"switch"==be?R(He("form"),cn,Qe("{"),He("}","switch"),Ne,Gn,qe,qe,Ae):"case"==be?R(ft,Qe(":")):"default"==be?R(Qe(":")):"catch"==be?R(He("form"),ge,ht,ct,qe,Ae):"export"==be?R(He("stat"),hr,qe):"import"==be?R(He("stat"),Go,qe):"async"==be?R(ct):"@"==Oe?R(ft,ct):F(He("stat"),ft,Qe(";"),qe)}function ht(be){if("("==be)return R(ns,Qe(")"))}function ft(be,Oe){return wt(be,Oe,!1)}function vt(be,Oe){return wt(be,Oe,!0)}function cn(be){return"("!=be?F():R(He(")"),tn,Qe(")"),qe)}function wt(be,Oe,Ie){if(k.state.fatArrowAt==k.stream.start){var je=Ie?it:We;if("("==be)return R(ge,He(")"),Nt(ns,")"),qe,Qe("=>"),je,Ae);if("variable"==be)return F(ge,zi,Qe("=>"),je,Ae)}var In=Ie?pn:Qt;return Y.hasOwnProperty(be)?R(In):"function"==be?R(Xr,In):"class"==be||d&&"interface"==Oe?(k.marked="keyword",R(He("form"),Hr,qe)):"keyword c"==be||"async"==be?R(Ie?vt:ft):"("==be?R(He(")"),tn,Qe(")"),qe,In):"operator"==be||"spread"==be?R(Ie?vt:ft):"["==be?R(He("]"),ao,qe,In):"{"==be?Un(Tt,"}",null,In):"quasi"==be?F(Ce,In):"new"==be?R(function st(be){return function(Oe){return"."==Oe?R(be?Xt:yt):"variable"==Oe&&d?R(mi,be?pn:Qt):F(be?vt:ft)}}(Ie)):R()}function tn(be){return be.match(/[;\}\)\],]/)?F():F(ft)}function Qt(be,Oe){return","==be?R(tn):pn(be,Oe,!1)}function pn(be,Oe,Ie){var je=0==Ie?Qt:pn,In=0==Ie?ft:vt;if("=>"==be)return R(ge,Ie?it:We,Ae);if("operator"==be)return/\+\+|--/.test(Oe)||d&&"!"==Oe?R(je):d&&"<"==Oe&&k.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?R(He(">"),Nt(_e,">"),qe,je):"?"==Oe?R(ft,Qe(":"),In):R(In);if("quasi"==be)return F(Ce,je);if(";"!=be){if("("==be)return Un(vt,")","call",je);if("."==be)return R(Ze,je);if("["==be)return R(He("]"),tn,Qe("]"),qe,je);if(d&&"as"==Oe)return k.marked="keyword",R(_e,je);if("regexp"==be)return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),R(In)}}function Ce(be,Oe){return"quasi"!=be?F():"${"!=Oe.slice(Oe.length-2)?R(Ce):R(tn,Re)}function Re(be){if("}"==be)return k.marked="string-2",k.state.tokenize=K,R(Ce)}function We(be){return Z(k.stream,k.state),F("{"==be?ct:ft)}function it(be){return Z(k.stream,k.state),F("{"==be?ct:vt)}function yt(be,Oe){if("target"==Oe)return k.marked="keyword",R(Qt)}function Xt(be,Oe){if("target"==Oe)return k.marked="keyword",R(pn)}function mn(be){return":"==be?R(qe,ct):F(Qt,Qe(";"),qe)}function Ze(be){if("variable"==be)return k.marked="property",R()}function Tt(be,Oe){return"async"==be?(k.marked="property",R(Tt)):"variable"==be||"keyword"==k.style?(k.marked="property","get"==Oe||"set"==Oe?R(Zt):(d&&k.state.fatArrowAt==k.stream.start&&(Ie=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+Ie[0].length),R(un))):"number"==be||"string"==be?(k.marked=M?"property":k.style+" property",R(un)):"jsonld-keyword"==be?R(un):d&&fe(Oe)?(k.marked="keyword",R(Tt)):"["==be?R(ft,Rn,Qe("]"),un):"spread"==be?R(vt,un):"*"==Oe?(k.marked="keyword",R(Tt)):":"==be?F(un):void 0;var Ie}function Zt(be){return"variable"!=be?F(un):(k.marked="property",R(Xr))}function un(be){return":"==be?R(vt):"("==be?F(Xr):void 0}function Nt(be,Oe,Ie){function je(In,kn){if(Ie?Ie.indexOf(In)>-1:","==In){var Ei=k.state.lexical;return"call"==Ei.info&&(Ei.pos=(Ei.pos||0)+1),R(function(vr,ks){return vr==Oe||ks==Oe?F():F(be)},je)}return In==Oe||kn==Oe?R():Ie&&Ie.indexOf(";")>-1?F(be):R(Qe(Oe))}return function(In,kn){return In==Oe||kn==Oe?R():F(be,je)}}function Un(be,Oe,Ie){for(var je=3;je<arguments.length;je++)k.cc.push(arguments[je]);return R(He(Oe,Ie),Nt(be,Oe),qe)}function Gn(be){return"}"==be?R():F(ct,Gn)}function Rn(be,Oe){if(d){if(":"==be)return R(_e);if("?"==Oe)return R(Rn)}}function Yn(be,Oe){if(d&&(":"==be||"in"==Oe))return R(_e)}function _n(be){if(d&&":"==be)return k.stream.match(/^\s*\w+\s+is\b/,!1)?R(ft,Di,_e):R(_e)}function Di(be,Oe){if("is"==Oe)return k.marked="keyword",R()}function _e(be,Oe){return"keyof"==Oe||"typeof"==Oe||"infer"==Oe||"readonly"==Oe?(k.marked="keyword",R("typeof"==Oe?vt:_e)):"variable"==be||"void"==Oe?(k.marked="type",R(Ii)):"|"==Oe||"&"==Oe?R(_e):"string"==be||"number"==be||"atom"==be?R(Ii):"["==be?R(He("]"),Nt(_e,"]",","),qe,Ii):"{"==be?R(He("}"),gt,qe,Ii):"("==be?R(Nt(hn,")"),Fe,Ii):"<"==be?R(Nt(_e,">"),_e):"quasi"==be?F(Cn,Ii):void 0}function Fe(be){if("=>"==be)return R(_e)}function gt(be){return be.match(/[\}\)\]]/)?R():","==be||";"==be?R(gt):F(kt,gt)}function kt(be,Oe){return"variable"==be||"keyword"==k.style?(k.marked="property",R(kt)):"?"==Oe||"number"==be||"string"==be?R(kt):":"==be?R(_e):"["==be?R(Qe("variable"),Yn,Qe("]"),kt):"("==be?F(bo,kt):be.match(/[;\}\)\],]/)?void 0:R()}function Cn(be,Oe){return"quasi"!=be?F():"${"!=Oe.slice(Oe.length-2)?R(Cn):R(_e,Dn)}function Dn(be){if("}"==be)return k.marked="string-2",k.state.tokenize=K,R(Cn)}function hn(be,Oe){return"variable"==be&&k.stream.match(/^\s*[?:]/,!1)||"?"==Oe?R(hn):":"==be?R(_e):"spread"==be?R(hn):F(_e)}function Ii(be,Oe){return"<"==Oe?R(He(">"),Nt(_e,">"),qe,Ii):"|"==Oe||"."==be||"&"==Oe?R(_e):"["==be?R(_e,Qe("]"),Ii):"extends"==Oe||"implements"==Oe?(k.marked="keyword",R(_e)):"?"==Oe?R(_e,Qe(":"),_e):void 0}function mi(be,Oe){if("<"==Oe)return R(He(">"),Nt(_e,">"),qe,Ii)}function Qr(){return F(_e,Is)}function Is(be,Oe){if("="==Oe)return R(_e)}function xt(be,Oe){return"enum"==Oe?(k.marked="keyword",R(Jn)):F(zi,Rn,fi,gi)}function zi(be,Oe){return d&&fe(Oe)?(k.marked="keyword",R(zi)):"variable"==be?(te(Oe),R()):"spread"==be?R(zi):"["==be?Un(Ha,"]"):"{"==be?Un(ur,"}"):void 0}function ur(be,Oe){return"variable"!=be||k.stream.match(/^\s*:/,!1)?("variable"==be&&(k.marked="property"),"spread"==be?R(zi):"}"==be?F():"["==be?R(ft,Qe("]"),Qe(":"),ur):R(Qe(":"),zi,fi)):(te(Oe),R(fi))}function Ha(){return F(zi,fi)}function fi(be,Oe){if("="==Oe)return R(vt)}function gi(be){if(","==be)return R(xt)}function Mn(be,Oe){if("keyword b"==be&&"else"==Oe)return R(He("form","else"),ct,qe)}function Ws(be,Oe){return"await"==Oe?R(Ws):"("==be?R(He(")"),_o,qe):void 0}function _o(be){return"var"==be?R(xt,et):"variable"==be?R(et):F(et)}function et(be,Oe){return")"==be?R():";"==be?R(et):"in"==Oe||"of"==Oe?(k.marked="keyword",R(ft,et)):F(ft,et)}function Xr(be,Oe){return"*"==Oe?(k.marked="keyword",R(Xr)):"variable"==be?(te(Oe),R(Xr)):"("==be?R(ge,He(")"),Nt(ns,")"),qe,_n,ct,Ae):d&&"<"==Oe?R(He(">"),Nt(Qr,">"),qe,Xr):void 0}function bo(be,Oe){return"*"==Oe?(k.marked="keyword",R(bo)):"variable"==be?(te(Oe),R(bo)):"("==be?R(ge,He(")"),Nt(ns,")"),qe,_n,Ae):d&&"<"==Oe?R(He(">"),Nt(Qr,">"),qe,bo):void 0}function aa(be,Oe){return"keyword"==be||"variable"==be?(k.marked="type",R(aa)):"<"==Oe?R(He(">"),Nt(Qr,">"),qe):void 0}function ns(be,Oe){return"@"==Oe&&R(ft,ns),"spread"==be?R(ns):d&&fe(Oe)?(k.marked="keyword",R(ns)):d&&"this"==be?R(Rn,fi):F(zi,Rn,fi)}function Hr(be,Oe){return"variable"==be?ba(be,Oe):yo(be,Oe)}function ba(be,Oe){if("variable"==be)return te(Oe),R(yo)}function yo(be,Oe){return"<"==Oe?R(He(">"),Nt(Qr,">"),qe,yo):"extends"==Oe||"implements"==Oe||d&&","==be?("implements"==Oe&&(k.marked="keyword"),R(d?_e:ft,yo)):"{"==be?R(He("}"),fr,qe):void 0}function fr(be,Oe){return"async"==be||"variable"==be&&("static"==Oe||"get"==Oe||"set"==Oe||d&&fe(Oe))&&k.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",R(fr)):"variable"==be||"keyword"==k.style?(k.marked="property",R(gr,fr)):"number"==be||"string"==be?R(gr,fr):"["==be?R(ft,Rn,Qe("]"),gr,fr):"*"==Oe?(k.marked="keyword",R(fr)):d&&"("==be?F(bo,fr):";"==be||","==be?R(fr):"}"==be?R():"@"==Oe?R(ft,fr):void 0}function gr(be,Oe){if("!"==Oe||"?"==Oe)return R(gr);if(":"==be)return R(_e,fi);if("="==Oe)return R(vt);var Ie=k.state.lexical.prev;return F(Ie&&"interface"==Ie.info?bo:Xr)}function hr(be,Oe){return"*"==Oe?(k.marked="keyword",R(Yt,Qe(";"))):"default"==Oe?(k.marked="keyword",R(ft,Qe(";"))):"{"==be?R(Nt(_t,"}"),Yt,Qe(";")):F(ct)}function _t(be,Oe){return"as"==Oe?(k.marked="keyword",R(Qe("variable"))):"variable"==be?F(vt,_t):void 0}function Go(be){return"string"==be?R():"("==be?F(ft):"."==be?F(Qt):F(is,a1,Yt)}function is(be,Oe){return"{"==be?Un(is,"}"):("variable"==be&&te(Oe),"*"==Oe&&(k.marked="keyword"),R(jt))}function a1(be){if(","==be)return R(is,a1)}function jt(be,Oe){if("as"==Oe)return k.marked="keyword",R(is)}function Yt(be,Oe){if("from"==Oe)return k.marked="keyword",R(ft)}function ao(be){return"]"==be?R():F(Nt(vt,"]"))}function Jn(){return F(He("form"),zi,Qe("{"),He("}"),Nt(Yo,"}"),qe,qe)}function Yo(){return F(zi,fi)}function Io(be,Oe,Ie){return Oe.tokenize==P&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Oe.lastType)||"quasi"==Oe.lastType&&/\{\s*$/.test(be.string.slice(0,be.pos-(Ie||0)))}return ge.lex=Ne.lex=!0,Ae.lex=!0,qe.lex=!0,{startState:function(be){var Oe={tokenize:P,lastType:"sof",cc:[],lexical:new W((be||0)-S,0,"block",!1),localVars:$.localVars,context:$.localVars&&new me(null,null,!1),indented:be||0};return $.globalVars&&"object"==typeof $.globalVars&&(Oe.globalVars=$.globalVars),Oe},token:function(be,Oe){if(be.sol()&&(Oe.lexical.hasOwnProperty("align")||(Oe.lexical.align=!1),Oe.indented=be.indentation(),Z(be,Oe)),Oe.tokenize!=j&&be.eatSpace())return null;var Ie=Oe.tokenize(be,Oe);return"comment"==w?Ie:(Oe.lastType="operator"!=w||"++"!=D&&"--"!=D?w:"incdec",H(Oe,Ie,w,D,be))},indent:function(be,Oe){if(be.tokenize==j||be.tokenize==K)return L.Pass;if(be.tokenize!=P)return 0;var In,Ie=Oe&&Oe.charAt(0),je=be.lexical;if(!/^\s*else\b/.test(Oe))for(var kn=be.cc.length-1;kn>=0;--kn){var Ei=be.cc[kn];if(Ei==qe)je=je.prev;else if(Ei!=Mn&&Ei!=Ae)break}for(;("stat"==je.type||"form"==je.type)&&("}"==Ie||(In=be.cc[be.cc.length-1])&&(In==Qt||In==pn)&&!/^[,\.=+\-*:?[\(]/.test(Oe));)je=je.prev;x&&")"==je.type&&"stat"==je.prev.type&&(je=je.prev);var vr=je.type,ks=Ie==vr;return"vardef"==vr?je.indented+("operator"==be.lastType||","==be.lastType?je.info.length+1:0):"form"==vr&&"{"==Ie?je.indented:"form"==vr?je.indented+S:"stat"==vr?je.indented+(function ln(be,Oe){return"operator"==be.lastType||","==be.lastType||g.test(Oe.charAt(0))||/[,.]/.test(Oe.charAt(0))}(be,Oe)?x||S:0):"switch"!=je.info||ks||0==$.doubleIndentSwitch?je.align?je.column+(ks?0:1):je.indented+(ks?0:S):je.indented+(/^(?:case|default)\b/.test(Oe)?S:2*S)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:M,jsonMode:u,expressionAllowed:Io,skipExpression:function(be){H(be,"atom","atom","true",new L.StringStream("",2,null))}}}),L.registerHelper("wordChars","javascript",/[\w$]/),L.defineMIME("text/javascript","javascript"),L.defineMIME("text/ecmascript","javascript"),L.defineMIME("application/javascript","javascript"),L.defineMIME("application/x-javascript","javascript"),L.defineMIME("application/ecmascript","javascript"),L.defineMIME("application/json",{name:"javascript",json:!0}),L.defineMIME("application/x-json",{name:"javascript",json:!0}),L.defineMIME("application/manifest+json",{name:"javascript",json:!0}),L.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),L.defineMIME("text/typescript",{name:"javascript",typescript:!0}),L.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(T(8401))},8181:function(q,z){var $,T=typeof self<"u"?self:this,L=function(){function $(){this.fetch=!1,this.DOMException=T.DOMException}return $.prototype=T,new $}();$=L,function(x){var M_searchParams="URLSearchParams"in $,M_iterable="Symbol"in $&&"iterator"in Symbol,M_blob="FileReader"in $&&"Blob"in $&&function(){try{return new Blob,!0}catch{return!1}}(),M_formData="FormData"in $,M_arrayBuffer="ArrayBuffer"in $;if(M_arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(F){return F&&m.indexOf(Object.prototype.toString.call(F))>-1};function f(F){if("string"!=typeof F&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(F))throw new TypeError("Invalid character in header field name");return F.toLowerCase()}function p(F){return"string"!=typeof F&&(F=String(F)),F}function g(F){var R={next:function(){var ne=F.shift();return{done:void 0===ne,value:ne}}};return M_iterable&&(R[Symbol.iterator]=function(){return R}),R}function h(F){this.map={},F instanceof h?F.forEach(function(R,ne){this.append(ne,R)},this):Array.isArray(F)?F.forEach(function(R){this.append(R[0],R[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(R){this.append(R,F[R])},this)}function _(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function w(F){return new Promise(function(R,ne){F.onload=function(){R(F.result)},F.onerror=function(){ne(F.error)}})}function D(F){var R=new FileReader,ne=w(R);return R.readAsArrayBuffer(F),ne}function U(F){if(F.slice)return F.slice(0);var R=new Uint8Array(F.byteLength);return R.set(new Uint8Array(F)),R.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(F){this._bodyInit=F,F?"string"==typeof F?this._bodyText=F:M_blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:M_formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:M_searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():M_arrayBuffer&&M_blob&&function u(F){return F&&DataView.prototype.isPrototypeOf(F)}(F)?(this._bodyArrayBuffer=U(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):M_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||d(F))?this._bodyArrayBuffer=U(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||("string"==typeof F?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):M_searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},M_blob&&(this.blob=function(){var F=_(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var F=_(this);if(F)return F;if(this._bodyBlob)return function O(F){var R=new FileReader,ne=w(R);return R.readAsText(F),ne}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function P(F){for(var R=new Uint8Array(F),ne=new Array(R.length),te=0;te<R.length;te++)ne[te]=String.fromCharCode(R[te]);return ne.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},M_formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(F,R){F=f(F),R=p(R);var ne=this.map[F];this.map[F]=ne?ne+", "+R:R},h.prototype.delete=function(F){delete this.map[f(F)]},h.prototype.get=function(F){return F=f(F),this.has(F)?this.map[F]:null},h.prototype.has=function(F){return this.map.hasOwnProperty(f(F))},h.prototype.set=function(F,R){this.map[f(F)]=p(R)},h.prototype.forEach=function(F,R){for(var ne in this.map)this.map.hasOwnProperty(ne)&&F.call(R,this.map[ne],ne,this)},h.prototype.keys=function(){var F=[];return this.forEach(function(R,ne){F.push(ne)}),g(F)},h.prototype.values=function(){var F=[];return this.forEach(function(R){F.push(R)}),g(F)},h.prototype.entries=function(){var F=[];return this.forEach(function(R,ne){F.push([ne,R])}),g(F)},M_iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var K=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Z(F,R){var ne=(R=R||{}).body;if(F instanceof Z){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,R.headers||(this.headers=new h(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!ne&&null!=F._bodyInit&&(ne=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new h(R.headers)),this.method=function B(F){var R=F.toUpperCase();return K.indexOf(R)>-1?R:F}(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ne)}function Y(F){var R=new FormData;return F.trim().split("&").forEach(function(ne){if(ne){var te=ne.split("="),ce=te.shift().replace(/\+/g," "),fe=te.join("=").replace(/\+/g," ");R.append(decodeURIComponent(ce),decodeURIComponent(fe))}}),R}function W(F){var R=new h;return F.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(te){var ce=te.split(":"),fe=ce.shift().trim();if(fe){var me=ce.join(":").trim();R.append(fe,me)}}),R}function re(F,R){R||(R={}),this.type="default",this.status=void 0===R.status?200:R.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new h(R.headers),this.url=R.url||"",this._initBody(F)}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})},j.call(Z.prototype),j.call(re.prototype),re.prototype.clone=function(){return new re(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},re.error=function(){var F=new re(null,{status:0,statusText:""});return F.type="error",F};var H=[301,302,303,307,308];re.redirect=function(F,R){if(-1===H.indexOf(R))throw new RangeError("Invalid status code");return new re(null,{status:R,headers:{location:F}})},x.DOMException=$.DOMException;try{new x.DOMException}catch{x.DOMException=function(R,ne){this.message=R,this.name=ne;var te=Error(R);this.stack=te.stack},x.DOMException.prototype=Object.create(Error.prototype),x.DOMException.prototype.constructor=x.DOMException}function k(F,R){return new Promise(function(ne,te){var ce=new Z(F,R);if(ce.signal&&ce.signal.aborted)return te(new x.DOMException("Aborted","AbortError"));var fe=new XMLHttpRequest;function me(){fe.abort()}fe.onload=function(){var ue={status:fe.status,statusText:fe.statusText,headers:W(fe.getAllResponseHeaders()||"")};ue.url="responseURL"in fe?fe.responseURL:ue.headers.get("X-Request-URL"),ne(new re("response"in fe?fe.response:fe.responseText,ue))},fe.onerror=function(){te(new TypeError("Network request failed"))},fe.ontimeout=function(){te(new TypeError("Network request failed"))},fe.onabort=function(){te(new x.DOMException("Aborted","AbortError"))},fe.open(ce.method,ce.url,!0),"include"===ce.credentials?fe.withCredentials=!0:"omit"===ce.credentials&&(fe.withCredentials=!1),"responseType"in fe&&M_blob&&(fe.responseType="blob"),ce.headers.forEach(function(ue,xe){fe.setRequestHeader(xe,ue)}),ce.signal&&(ce.signal.addEventListener("abort",me),fe.onreadystatechange=function(){4===fe.readyState&&ce.signal.removeEventListener("abort",me)}),fe.send(typeof ce._bodyInit>"u"?null:ce._bodyInit)})}k.polyfill=!0,$.fetch||($.fetch=k,$.Headers=h,$.Request=Z,$.Response=re),x.Headers=h,x.Request=Z,x.Response=re,x.fetch=k,Object.defineProperty(x,"__esModule",{value:!0})}({}),L.fetch.ponyfill=!0,delete L.fetch.polyfill;var I=L;(z=I.fetch).default=I.fetch,z.fetch=I.fetch,z.Headers=I.Headers,z.Request=I.Request,z.Response=I.Response,q.exports=z},1202:(q,z,T)=>{z.formatArgs=function I(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+q.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;u.splice(1,0,m,"color: inherit");let d=0,f=0;u[0].replace(/%[a-zA-Z%]/g,p=>{"%%"!==p&&(d++,"%c"===p&&(f=d))}),u.splice(f,0,m)},z.save=function $(u){try{u?z.storage.setItem("debug",u):z.storage.removeItem("debug")}catch{}},z.load=function S(){let u;try{u=z.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=process.env.DEBUG),u},z.useColors=function L(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},z.storage=function x(){try{return localStorage}catch{}}(),z.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),z.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],z.log=console.debug||console.log||(()=>{}),q.exports=T(7044)(z);const{formatters:M}=q.exports;M.j=function(u){try{return JSON.stringify(u)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}},7044:(q,z,T)=>{q.exports=function L(I){function S(g){let h,w,D,_=null;function O(...P){if(!O.enabled)return;const U=O,j=Number(new Date);U.diff=j-(h||j),U.prev=h,U.curr=j,h=j,P[0]=S.coerce(P[0]),"string"!=typeof P[0]&&P.unshift("%O");let B=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(Y,W)=>{if("%%"===Y)return"%";B++;const re=S.formatters[W];return"function"==typeof re&&(Y=re.call(U,P[B]),P.splice(B,1),B--),Y}),S.formatArgs.call(U,P),(U.log||S.log).apply(U,P)}return O.namespace=g,O.useColors=S.useColors(),O.color=S.selectColor(g),O.extend=x,O.destroy=S.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==_?_:(w!==S.namespaces&&(w=S.namespaces,D=S.enabled(g)),D),set:P=>{_=P}}),"function"==typeof S.init&&S.init(O),O}function x(g,h){const _=S(this.namespace+(typeof h>"u"?":":h)+g);return _.log=this.log,_}function d(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}return S.debug=S,S.default=S,S.coerce=function f(g){return g instanceof Error?g.stack||g.message:g},S.disable=function u(){const g=[...S.names.map(d),...S.skips.map(d).map(h=>"-"+h)].join(",");return S.enable(""),g},S.enable=function M(g){let h;S.save(g),S.namespaces=g,S.names=[],S.skips=[];const _=("string"==typeof g?g:"").split(/[\s,]+/),w=_.length;for(h=0;h<w;h++)_[h]&&("-"===(g=_[h].replace(/\*/g,".*?"))[0]?S.skips.push(new RegExp("^"+g.slice(1)+"$")):S.names.push(new RegExp("^"+g+"$")))},S.enabled=function m(g){if("*"===g[g.length-1])return!0;let h,_;for(h=0,_=S.skips.length;h<_;h++)if(S.skips[h].test(g))return!1;for(h=0,_=S.names.length;h<_;h++)if(S.names[h].test(g))return!0;return!1},S.humanize=T(9389),S.destroy=function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(I).forEach(g=>{S[g]=I[g]}),S.names=[],S.skips=[],S.formatters={},S.selectColor=function $(g){let h=0;for(let _=0;_<g.length;_++)h=(h<<5)-h+g.charCodeAt(_),h|=0;return S.colors[Math.abs(h)%S.colors.length]},S.enable(S.load()),S}},3333:(q,z,T)=>{"use strict";var L=T(4688),I=T(1144),$=T(9327),S=T(1031);q.exports=function(M,u,m){if(!M||"object"!=typeof M&&"function"!=typeof M)throw new $("`obj` must be an object or a function`");if("string"!=typeof u&&"symbol"!=typeof u)throw new $("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new $("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new $("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new $("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new $("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,g=arguments.length>6&&arguments[6],h=!!S&&S(M,u);if(L)L(M,u,{configurable:null===p&&h?h.configurable:!p,enumerable:null===d&&h?h.enumerable:!d,value:m,writable:null===f&&h?h.writable:!f});else{if(!g&&(d||f||p))throw new I("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");M[u]=m}}},4296:(q,z,T)=>{"use strict";var L=T(241),I="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),$=Object.prototype.toString,S=Array.prototype.concat,x=T(3333),u=T(4052)(),m=function(f,p,g,h){if(p in f)if(!0===h){if(f[p]===g)return}else if(!function(f){return"function"==typeof f&&"[object Function]"===$.call(f)}(h)||!h())return;u?x(f,p,g,!0):x(f,p,g)},d=function(f,p){var g=arguments.length>2?arguments[2]:{},h=L(p);I&&(h=S.call(h,Object.getOwnPropertySymbols(p)));for(var _=0;_<h.length;_+=1)m(f,h[_],p[h[_]],g[h[_]])};d.supportsDescriptors=!!u,q.exports=d},4688:(q,z,T)=>{"use strict";var I=T(9249)("%Object.defineProperty%",!0)||!1;if(I)try{I({},"a",{value:1})}catch{I=!1}q.exports=I},7153:q=>{"use strict";q.exports=EvalError},939:q=>{"use strict";q.exports=Error},1486:q=>{"use strict";q.exports=RangeError},4654:q=>{"use strict";q.exports=ReferenceError},1144:q=>{"use strict";q.exports=SyntaxError},9327:q=>{"use strict";q.exports=TypeError},6005:q=>{"use strict";q.exports=URIError},1704:(q,z,T)=>{"use strict";var L=T(9327);q.exports=function($){if(null==$)throw new L(arguments.length>0&&arguments[1]||"Cannot call method on "+$);return $}},2297:(q,z,T)=>{"use strict";var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,I=T(8086),$=T(6460),S=T(1540),x=T(6624);q.exports=function(d){if(I(d))return d;var p,f="default";if(arguments.length>1&&(arguments[1]===String?f="string":arguments[1]===Number&&(f="number")),L&&(Symbol.toPrimitive?p=function(d,f){var p=d[f];if(null!==p&&typeof p<"u"){if(!$(p))throw new TypeError(p+" returned for property "+f+" of object "+d+" is not a function");return p}}(d,Symbol.toPrimitive):x(d)&&(p=Symbol.prototype.valueOf)),typeof p<"u"){var g=p.call(d,f);if(I(g))return g;throw new TypeError("unable to convert exotic object to primitive")}return"default"===f&&(S(d)||x(d))&&(f="string"),function(d,f){if(typeof d>"u"||null===d)throw new TypeError("Cannot call method on "+d);if("string"!=typeof f||"number"!==f&&"string"!==f)throw new TypeError('hint must be "string" or "number"');var g,h,_,p="string"===f?["toString","valueOf"]:["valueOf","toString"];for(_=0;_<p.length;++_)if($(g=d[p[_]])&&(h=g.call(d),I(h)))return h;throw new TypeError("No default value")}(d,"default"===f?"number":f)}},8086:q=>{"use strict";q.exports=function(T){return null===T||"function"!=typeof T&&"object"!=typeof T}},3496:function(q){q.exports=function(){"use strict";var z=Function.prototype.toString,T=Object.create,L=Object.defineProperty,I=Object.getOwnPropertyDescriptor,$=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,M=Object.prototype,u=M.hasOwnProperty,m=M.propertyIsEnumerable,d="function"==typeof S,f="function"==typeof WeakMap,p=function(){if(f)return function(){return new WeakMap};var j=function(){function K(){this._keys=[],this._values=[]}return K.prototype.has=function(B){return!!~this._keys.indexOf(B)},K.prototype.get=function(B){return this._values[this._keys.indexOf(B)]},K.prototype.set=function(B,Z){this._keys.push(B),this._values.push(Z)},K}();return function(){return new j}}(),g=function(j,K){var B=j.__proto__||x(j);if(!B)return T(null);var Z=B.constructor;if(Z===K.Object)return B===K.Object.prototype?{}:T(B);if(~z.call(Z).indexOf("[native code]"))try{return new Z}catch{}return T(B)},h=function(j,K,B,Z){var Y=g(j,K);for(var W in Z.set(j,Y),j)u.call(j,W)&&(Y[W]=B(j[W],Z));if(d)for(var re=S(j),H=0,k=re.length,F=void 0;H<k;++H)m.call(j,F=re[H])&&(Y[F]=B(j[F],Z));return Y},_=function(j,K,B,Z){var Y=g(j,K);Z.set(j,Y);for(var W=d?$(j).concat(S(j)):$(j),re=0,H=W.length,k=void 0,F=void 0;re<H;++re)if("callee"!==(k=W[re])&&"caller"!==k)if(F=I(j,k)){!F.get&&!F.set&&(F.value=B(j[k],Z));try{L(Y,k,F)}catch{Y[k]=F.value}}else Y[k]=B(j[k],Z);return Y},D=Array.isArray,O=Object.getPrototypeOf,P=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function U(j,K){var B=!(!K||!K.isStrict),Z=K&&K.realm||P,Y=B?_:h,W=function(re,H){if(!re||"object"!=typeof re)return re;if(H.has(re))return H.get(re);var R,k=re.__proto__||O(re),F=k&&k.constructor;if(!F||F===Z.Object)return Y(re,Z,W,H);if(D(re)){if(B)return _(re,Z,W,H);R=new F,H.set(re,R);for(var ne=0,te=re.length;ne<te;++ne)R[ne]=W(re[ne],H);return R}if(re instanceof Z.Date)return new F(re.getTime());if(re instanceof Z.RegExp)return(R=new F(re.source,re.flags||function(j){var K="";return j.global&&(K+="g"),j.ignoreCase&&(K+="i"),j.multiline&&(K+="m"),j.unicode&&(K+="u"),j.sticky&&(K+="y"),K}(re))).lastIndex=re.lastIndex,R;if(Z.Map&&re instanceof Z.Map)return R=new F,H.set(re,R),re.forEach(function(ce,fe){R.set(fe,W(ce,H))}),R;if(Z.Set&&re instanceof Z.Set)return R=new F,H.set(re,R),re.forEach(function(ce){R.add(W(ce,H))}),R;if(Z.Blob&&re instanceof Z.Blob)return re.slice(0,re.size,re.type);if(Z.Buffer&&Z.Buffer.isBuffer(re))return R=Z.Buffer.allocUnsafe?Z.Buffer.allocUnsafe(re.length):new F(re.length),H.set(re,R),re.copy(R),R;if(Z.ArrayBuffer){if(Z.ArrayBuffer.isView(re))return R=new F(re.buffer.slice(0)),H.set(re,R),R;if(re instanceof Z.ArrayBuffer)return R=re.slice(0),H.set(re,R),R}return"function"==typeof re.then||re instanceof Error||Z.WeakMap&&re instanceof Z.WeakMap||Z.WeakSet&&re instanceof Z.WeakSet?re:Y(re,Z,W,H)};return W(j,p())}return U.default=U,U.strict=function(K,B){return U(K,{isStrict:!0,realm:B?B.realm:void 0})},U}()},1244:(q,z,T)=>{"use strict";var L=T(4510).default;Object.defineProperty(z,"__esModule",{value:!0});const I=T(2450),$=T(2185),S=T(1670),{Response:x}=typeof FHIRCLIENT_PURE<"u"?window:T(8181),M=I.debug.extend("client");function m(){return m=L(function*(h,_){const w=(0,I.absolute)("/",_.state.serverUrl);function D(P){return O.apply(this,arguments)}function O(){return(O=L(function*(P){const U=P.pathname.split("/").pop();(0,I.assert)(U,`Invalid url "${P}"`),(0,I.assert)(S.patientCompartment.indexOf(U)>-1,`Cannot filter "${U}" resources by patient`);const j=yield(0,I.fetchConformanceStatement)(_.state.serverUrl),K=(0,I.getPatientParam)(j,U);return P.searchParams.set(K,_.patient.id),P.href})).apply(this,arguments)}return"string"==typeof h||h instanceof URL?{url:yield D(new URL(h+"",w))}:(h.url=yield D(new URL(h.url+"",w)),h)}),m.apply(this,arguments)}function p(h,_,w,D,O){let P=(0,I.makeArray)(_.resolveReferences).filter(Boolean).map(K=>String(K).trim()).filter(Boolean);if(P=P.filter((K,B)=>!(P.indexOf(K,B+1)>-1&&(M('Duplicated reference path "%s"',K),1))),!P.length)return Promise.resolve();const U={};P.forEach(K=>{const B=K.split(".").length;U[B]||(U[B]=[]),U[B].push(K)});let j=Promise.resolve();return Object.keys(U).sort().forEach(K=>{const B=U[K];j=j.then(()=>Promise.all(B.map(Z=>function f(h,_,w,D,O,P){const U=(0,I.getPath)(h,_);if(U){const j=Array.isArray(U);return Promise.all((0,I.makeArray)(U).filter(Boolean).map((K,B)=>{const Z=K.reference;if(Z)return function d(h,_,w,D){if(!_[h]){const{signal:O,headers:P}=D;_[h]=w.request({url:h,headers:P,signal:O}).then(U=>(_[h]=U,U),U=>{throw delete _[h],U})}return Promise.resolve(_[h])}(Z,D,O,P).then(Y=>{w&&(j?_.indexOf("..")>-1?(0,I.setPath)(h,`${_.replace("..",`.${B}.`)}`,Y):(0,I.setPath)(h,`${_}.${B}`,Y):(0,I.setPath)(h,_,Y))}).catch(Y=>{if(404!==Y.status)throw Y})}))}}(h,Z,!!_.graph,w,D,O))))}),j}z.default=class g{constructor(_,w){var D=this;this.units=I.units;const O="string"==typeof w?{serverUrl:w}:w;(0,I.assert)(O.serverUrl&&O.serverUrl.match(/https?:\/\/.+/),'A "serverUrl" option is required and must begin with "http(s)"'),this.state=O,this.environment=_,this._refreshTask=null;const P=this;this.patient={get id(){return P.getPatientId()},read:U=>{const j=this.patient.id;return j?this.request(Object.assign(Object.assign({},U),{url:`Patient/${j}`})):Promise.reject(new Error("Patient is not available"))},request:(U,j={})=>this.patient.id?L(function*(){const K=yield function u(h,_){return m.apply(this,arguments)}(U,D);return D.request(K,j)})():Promise.reject(new Error("Patient is not available"))},this.encounter={get id(){return P.getEncounterId()},read:U=>{const j=this.encounter.id;return j?this.request(Object.assign(Object.assign({},U),{url:`Encounter/${j}`})):Promise.reject(new Error("Encounter is not available"))}},this.user={get fhirUser(){return P.getFhirUser()},get id(){return P.getUserId()},get resourceType(){return P.getUserType()},read:U=>{const j=this.user.fhirUser;return j?this.request(Object.assign(Object.assign({},U),{url:j})):Promise.reject(new Error("User is not available"))}},this.connect(_.fhir)}connect(_){if("function"==typeof _){const w={baseUrl:this.state.serverUrl.replace(/\/$/,"")},D=this.getState("tokenResponse.access_token");if(D)w.auth={token:D};else{const{username:P,password:U}=this.state;P&&U&&(w.auth={user:P,pass:U})}this.api=_(w);const O=this.getState("tokenResponse.patient");O&&(this.patient.api=_(Object.assign(Object.assign({},w),{patient:O})))}return this}getPatientId(){const _=this.state.tokenResponse;return _?_.patient?_.patient:((this.state.scope||"").match(/\blaunch(\/patient)?\b/)?M("The ID of the selected patient is not available. Please check if your server supports that."):M($.default.noScopeForId,"patient","patient"),null):(this.state.authorizeUri?M($.default.noIfNoAuth,"the ID of the selected patient"):M($.default.noFreeContext,"selected patient"),null)}getEncounterId(){const _=this.state.tokenResponse;return _?_.encounter?_.encounter:((this.state.scope||"").match(/\blaunch(\/encounter)?\b/)?M("The ID of the selected encounter is not available. Please check if your server supports that, and that the selected patient has any recorded encounters."):M($.default.noScopeForId,"encounter","encounter"),null):(this.state.authorizeUri?M($.default.noIfNoAuth,"the ID of the selected encounter"):M($.default.noFreeContext,"selected encounter"),null)}getIdToken(){const _=this.state.tokenResponse;if(_){const w=_.id_token,D=this.state.scope||"";if(!w){const O=D.match(/\bopenid\b/),P=D.match(/\bprofile\b/),U=D.match(/\bfhirUser\b/);return M(O&&(U||P)?"The id_token is not available. Please check if your server supports that.":"You are trying to get the id_token but you are not using the right scopes. Please add 'openid' and 'fhirUser' or 'profile' to the scopes you are requesting."),null}return(0,I.jwtDecode)(w,this.environment)}return this.state.authorizeUri?M($.default.noIfNoAuth,"the id_token"):M($.default.noFreeContext,"id_token"),null}getFhirUser(){const _=this.getIdToken();return _?_.fhirUser?_.fhirUser.split("/").slice(-2).join("/"):_.profile:null}getUserId(){const _=this.getFhirUser();return _?_.split("/")[1]:null}getUserType(){const _=this.getFhirUser();return _?_.split("/")[0]:null}getAuthorizationHeader(){const _=this.getState("tokenResponse.access_token");if(_)return"Bearer "+_;const{username:w,password:D}=this.state;return w&&D?"Basic "+this.environment.btoa(w+":"+D):null}_clearState(){var _=this;return L(function*(){const w=_.environment.getStorage(),D=yield w.get(S.SMART_KEY);D&&(yield w.unset(D)),yield w.unset(S.SMART_KEY),_.state.tokenResponse={}})()}create(_,w){return this.request(Object.assign(Object.assign({},w),{url:`${_.resourceType}`,method:"POST",body:JSON.stringify(_),headers:Object.assign({"content-type":"application/json"},(w||{}).headers)}))}update(_,w){return this.request(Object.assign(Object.assign({},w),{url:`${_.resourceType}/${_.id}`,method:"PUT",body:JSON.stringify(_),headers:Object.assign({"content-type":"application/json"},(w||{}).headers)}))}delete(_,w={}){return this.request(Object.assign(Object.assign({},w),{url:_,method:"DELETE"}))}patch(_,w,D={}){var O=this;return L(function*(){return(0,I.assertJsonPatch)(w),O.request(Object.assign(Object.assign({},D),{url:_,method:"PATCH",body:JSON.stringify(w),headers:Object.assign({prefer:"return=presentation","content-type":"application/json-patch+json; charset=UTF-8"},D.headers)}))})()}request(_,w={},D={}){var O=this;return L(function*(){var P;const U=I.debug.extend("client:request");let j;(0,I.assert)(_,"request requires an url or request options as argument"),"string"==typeof _||_ instanceof URL?(j=String(_),_={}):j=String(_.url),j=(0,I.absolute)(j,O.state.serverUrl);const K={graph:!1!==w.graph,flat:!!w.flat,pageLimit:null!==(P=w.pageLimit)&&void 0!==P?P:1,resolveReferences:w.resolveReferences||[],useRefreshToken:!1!==w.useRefreshToken,onPage:"function"==typeof w.onPage?w.onPage:void 0},B=_.signal||void 0;let Y;return(K.useRefreshToken?O.refreshIfNeeded({signal:B}).then(()=>_):Promise.resolve(_)).then(W=>{const re=O.getAuthorizationHeader();return re&&(W.headers=Object.assign(Object.assign({},W.headers),{authorization:re})),W}).then(W=>(U("%s, options: %O, fhirOptions: %O",j,W,K),(0,I.request)(j,W).then(re=>W.includeResponse?(Y=re.response,re.body):re))).catch(function(){var W=L(function*(re){throw 401==re.status?O.getState("tokenResponse.access_token")?K.useRefreshToken?(U("Auto-refresh failed! Please re-launch the app."),yield O._clearState(),re.message+="\n"+$.default.expired,re):(U("Your session has expired and the useRefreshToken option is set to false. Please re-launch the app."),yield O._clearState(),re.message+="\n"+$.default.expired,re):(re.message+="\nThis app cannot be accessed directly. Please launch it as SMART app!",re):re});return function(re){return W.apply(this,arguments)}}()).catch(W=>{throw 403==W.status&&U("Permission denied! Please make sure that you have requested the proper scopes."),W}).then(W=>{return!W||"string"==typeof W||W instanceof x?_.includeResponse?{body:W,response:Y}:W:(re=L(function*(H){return"Bundle"==H.resourceType?yield Promise.all((H.entry||[]).map(k=>p(k.resource,K,D,O,_))):yield p(H,K,D,O,_),H}),function(H){return re.apply(this,arguments)})(W).then(function(){var re=L(function*(H){if(H&&"Bundle"==H.resourceType){const k=H.link||[];if(K.flat&&(H=(H.entry||[]).map(F=>F.resource)),K.onPage&&(yield K.onPage(H,Object.assign({},D))),--K.pageLimit){const F=k.find(R=>"next"==R.relation);if(H=(0,I.makeArray)(H),F&&F.url){const R=yield O.request({url:F.url,signal:B},K,D);return K.onPage?null:K.resolveReferences.length?(Object.assign(D,R.references),H.concat((0,I.makeArray)(R.data||R))):H.concat((0,I.makeArray)(R))}}}return H});return function(H){return re.apply(this,arguments)}}()).then(re=>{if(K.graph)D={};else if(!K.onPage&&K.resolveReferences.length)return{data:re,references:D};return re}).then(re=>_.includeResponse?{body:re,response:Y}:re);var re})})()}refreshIfNeeded(_={}){const w=this.getState("tokenResponse.access_token"),D=this.getState("tokenResponse.refresh_token");return w&&D&&(this.state.expiresAt||0)-10<Date.now()/1e3?this.refresh(_):Promise.resolve(this.state)}refresh(_={}){var w,D;const O=I.debug.extend("client:refresh");O("Attempting to refresh with refresh_token...");const P=null===(D=null===(w=this.state)||void 0===w?void 0:w.tokenResponse)||void 0===D?void 0:D.refresh_token;(0,I.assert)(P,"Unable to refresh. No refresh_token found.");const U=this.state.tokenUri;(0,I.assert)(U,"Unable to refresh. No tokenUri found.");const j=this.getState("tokenResponse.scope")||"",K=j.search(/\boffline_access\b/)>-1,B=j.search(/\bonline_access\b/)>-1;if((0,I.assert)(K||B,"Unable to refresh. No offline_access or online_access scope found."),!this._refreshTask){const Z=Object.assign(Object.assign({credentials:this.environment.options.refreshTokenWithCredentials||"same-origin"},_),{method:"POST",mode:"cors",headers:Object.assign(Object.assign({},_.headers||{}),{"content-type":"application/x-www-form-urlencoded"}),body:`grant_type=refresh_token&refresh_token=${encodeURIComponent(P)}`});if(!("authorization"in Z.headers)){const{clientSecret:Y,clientId:W}=this.state;Y&&(Z.headers.authorization="Basic "+this.environment.btoa(W+":"+Y))}this._refreshTask=(0,I.request)(U,Z).then(Y=>((0,I.assert)(Y.access_token,"No access token received"),O("Received new access token response %O",Y),this.state.tokenResponse=Object.assign(Object.assign({},this.state.tokenResponse),Y),this.state.expiresAt=(0,I.getAccessTokenExpiration)(Y,this.environment),this.state)).catch(Y=>{var W,re;throw!(null===(re=null===(W=this.state)||void 0===W?void 0:W.tokenResponse)||void 0===re)&&re.refresh_token&&(O("Deleting the expired or invalid refresh token."),delete this.state.tokenResponse.refresh_token),Y}).finally(()=>{this._refreshTask=null;const Y=this.state.key;Y?this.environment.getStorage().set(Y,this.state):O("No 'key' found in Clint.state. Cannot persist the instance.")})}return this._refreshTask}byCode(_,w){return(0,I.byCode)(_,w)}byCodes(_,w){return(0,I.byCodes)(_,w)}getPath(_,w=""){return(0,I.getPath)(_,w)}getState(_=""){return(0,I.getPath)(Object.assign({},this.state),_)}getFhirVersion(){return(0,I.fetchConformanceStatement)(this.state.serverUrl).then(_=>_.fhirVersion)}getFhirRelease(){return this.getFhirVersion().then(_=>{var w;return null!==(w=S.fhirVersions[_])&&void 0!==w?w:0})}}},5369:(q,z,T)=>{"use strict";var L=T(4510).default;Object.defineProperty(z,"__esModule",{value:!0});class I extends Error{constructor(S){super(`${S.status} ${S.statusText}\nURL: ${S.url}`),this.name="HttpError",this.response=S,this.statusCode=S.status,this.status=S.status,this.statusText=S.statusText}parse(){var S=this;return L(function*(){if(!S.response.bodyUsed)try{const x=S.response.headers.get("content-type")||"text/plain";if(x.match(/\bjson\b/i)){let M=yield S.response.json();M.error?(S.message+="\n"+M.error,M.error_description&&(S.message+=": "+M.error_description)):S.message+="\n\n"+JSON.stringify(M,null,4)}else if(x.match(/^text\//i)){let M=yield S.response.text();M&&(S.message+="\n\n"+M)}}catch{}return S})()}toJSON(){return{name:this.name,statusCode:this.statusCode,status:this.status,statusText:this.statusText,message:this.message}}}z.default=I},1861:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const L=T(3122),I=T(1244),$=T(7472),S=T(5890),x=T(3979);z.default=class M{constructor(m={}){this._url=null,this._storage=null,this.security=S,this.options=Object.assign({replaceBrowserHistory:!0,fullSessionStorageSupport:!0,refreshTokenWithCredentials:"same-origin"},m)}relative(m){return new URL(m,this.getUrl().href).href}get fhir(){return"function"==typeof fhir?fhir:null}getUrl(){return this._url||(this._url=new URL(location+"")),this._url}redirect(m){location.href=m}getStorage(){return this._storage||(this._storage=new $.default),this._storage}getAbortController(){return AbortController}atob(m){return window.atob(m)}btoa(m){return window.btoa(m)}base64urlencode(m){return"string"==typeof m?(0,x.encodeURL)(m):(0,x.fromUint8Array)(m,!0)}base64urldecode(m){return(0,x.decode)(m)}getSmartApi(){return{ready:(...m)=>(0,L.ready)(this,...m),authorize:m=>(0,L.authorize)(this,m),init:m=>(0,L.init)(this,m),client:m=>new I.default(this,m),options:this.options,utils:{security:S}}}}},6672:(q,z,T)=>{"use strict";const I=new(T(1861).default),{ready:$,authorize:S,init:x,client:M,options:u,utils:m}=I.getSmartApi();if(typeof FHIRCLIENT_PURE>"u"){const f=T(8181);T(2459),window.fetch||(window.fetch=f.default,window.Headers=f.Headers,window.Request=f.Request,window.Response=f.Response)}const d={AbortController:window.AbortController,client:M,utils:m,oauth2:{settings:u,ready:$,authorize:S,init:x}};q.exports=d},2450:(q,z,T)=>{"use strict";var L=T(4510).default,I=function(te,ce){var fe={};for(var me in te)Object.prototype.hasOwnProperty.call(te,me)&&ce.indexOf(me)<0&&(fe[me]=te[me]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(me=Object.getOwnPropertySymbols(te);ue<me.length;ue++)ce.indexOf(me[ue])<0&&Object.prototype.propertyIsEnumerable.call(te,me[ue])&&(fe[me[ue]]=te[me[ue]])}return fe};Object.defineProperty(z,"__esModule",{value:!0}),z.assertJsonPatch=z.assert=z.getTargetWindow=z.getPatientParam=z.byCodes=z.byCode=z.getAccessTokenExpiration=z.getTimeInFuture=z.jwtDecode=z.randomString=z.absolute=z.makeArray=z.setPath=z.getPath=z.fetchConformanceStatement=z.getAndCache=z.request=z.loweCaseKeys=z.responseToJSON=z.checkResponse=z.units=z.debug=void 0;const $=T(5369),S=T(1670),x=T(1202),{fetch:M}=typeof FHIRCLIENT_PURE<"u"?window:T(8181),u=x("FHIR");z.debug=u;const m={};function d({value:te,code:ce}){if("number"!=typeof te)throw new Error("Found a non-numerical unit: "+te+" "+ce)}function f(te){return p.apply(this,arguments)}function p(){return(p=L(function*(te){if(!te.ok){const ce=new $.default(te);throw yield ce.parse(),ce}return te})).apply(this,arguments)}function g(te){return te.text().then(ce=>ce.length?JSON.parse(ce):"")}function h(te){if(!te)return te;if(Array.isArray(te))return te.map(fe=>fe&&"object"==typeof fe?h(fe):fe);let ce={};return Object.keys(te).forEach(fe=>{const me=fe.toLowerCase(),ue=te[fe];ce[me]=ue&&"object"==typeof ue?h(ue):ue}),ce}function _(te,ce={}){const{includeResponse:fe}=ce,me=I(ce,["includeResponse"]);return M(te,Object.assign(Object.assign({mode:"cors"},me),{headers:Object.assign({accept:"application/json"},h(me.headers))})).then(f).then(ue=>{const xe=ue.headers.get("content-type")+"";return xe.match(/\bjson\b/i)?g(ue).then(ge=>({res:ue,body:ge})):xe.match(/^text\//i)?ue.text().then(ge=>({res:ue,body:ge})):{res:ue}}).then(({res:ue,body:xe})=>{if(!xe&&201==ue.status){const ge=ue.headers.get("location");if(ge)return _(ge,Object.assign(Object.assign({},me),{method:"GET",body:null,includeResponse:fe}))}return fe?{body:xe,response:ue}:void 0===xe?ue:xe})}function w(te,ce,fe=!1){return fe||!m[te]?(m[te]=_(te,ce),m[te]):Promise.resolve(m[te])}function O(te,ce=""){if(!(ce=ce.trim()))return te;let fe=ce.split("."),me=te;for(;me&&fe.length;){const ue=fe.shift();if(!ue&&Array.isArray(me))return me.map(xe=>O(xe,fe.join(".")));me=me[ue]}return me}function U(te){return Array.isArray(te)?te:[te]}function B(te,ce){const fe=te.split(".")[1];return fe?JSON.parse(ce.atob(fe)):null}function W(te,ce){const fe={};function me(ue,xe){ue&&Array.isArray(ue.coding)&&ue.coding.forEach(({code:ge})=>{ge&&(fe[ge]=fe[ge]||[],fe[ge].push(xe))})}return U(te).forEach(ue=>{"Observation"===ue.resourceType&&ue[ce]&&(Array.isArray(ue[ce])?ue[ce].forEach(xe=>me(xe,ue)):me(ue[ce],ue))}),fe}function F(){return(F=L(function*(te,ce=800,fe=720){if("function"==typeof te&&(te=yield te()),te&&"object"==typeof te)return te;if("string"!=typeof te)return u("Invalid target type '%s'. Failing back to '_self'.",typeof te),self;if("_self"==te)return self;if("_parent"==te)return parent;if("_top"==te)return top||self;if("_blank"==te){let ue,xe=null;try{if(xe=window.open("","SMARTAuthPopup"),!xe)throw new Error("Perhaps window.open was blocked")}catch(ge){ue=ge}return xe||(u("Cannot open window. Failing back to '_self'. %s",ue),self)}if("popup"==te){let ue,xe=null;try{if(xe=window.open("","SMARTAuthPopup",["height="+fe,"width="+ce,"menubar=0","resizable=1","status=0","top="+(screen.height-fe)/2,"left="+(screen.width-ce)/2].join(",")),!xe)throw new Error("Perhaps the popup window was blocked")}catch(ge){ue=ge}return xe||(u("Cannot open window. Failing back to '_self'. %s",ue),self)}return frames[te]||(u("Unknown target '%s'. Failing back to '_self'.",te),self)})).apply(this,arguments)}function R(te,ce){if(!te)throw new Error(ce)}z.units={cm({code:te,value:ce}){if(d({code:te,value:ce}),"cm"==te)return ce;if("m"==te)return 100*ce;if("in"==te||"[in_us]"==te||"[in_i]"==te)return 2.54*ce;if("ft"==te||"[ft_us]"==te)return 30.48*ce;throw new Error("Unrecognized length unit: "+te)},kg({code:te,value:ce}){if(d({code:te,value:ce}),"kg"==te)return ce;if("g"==te)return ce/1e3;if(te.match(/lb/))return ce/2.20462;if(te.match(/oz/))return ce/35.274;throw new Error("Unrecognized weight unit: "+te)},any:te=>(d(te),te.value)},z.checkResponse=f,z.responseToJSON=g,z.loweCaseKeys=h,z.request=_,z.getAndCache=w,z.fetchConformanceStatement=function D(te="/",ce){const fe=String(te).replace(/\/*$/,"/")+"metadata";return w(fe,ce).catch(me=>{throw new Error(`Failed to fetch the conformance statement from "${fe}". ${me}`)})},z.getPath=O,z.setPath=function P(te,ce,fe,me=!1){return ce.trim().split(".").reduce((ue,xe,ge,Ne)=>{if(!ue||ge!==Ne.length-1)return ue&&void 0===ue[xe]&&me&&(ue[xe]=Ne[ge+1].match(/^[0-9]+$/)?[]:{}),ue?ue[xe]:void 0;ue[xe]=fe},te),te},z.makeArray=U,z.absolute=function j(te,ce){return te.match(/^http/)||te.match(/^urn/)?te:String(ce||"").replace(/\/+$/,"")+"/"+te.replace(/^\/+/,"")},z.randomString=function K(te=8,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"){const fe=[],me=ce.length;for(;te--;)fe.push(ce.charAt(Math.floor(Math.random()*me)));return fe.join("")},z.jwtDecode=B,z.getTimeInFuture=function Z(te=120,ce){return Math.floor(+(ce||new Date)/1e3+te)},z.getAccessTokenExpiration=function Y(te,ce){const fe=Math.floor(Date.now()/1e3);if(te.expires_in)return fe+te.expires_in;if(te.access_token){let me=B(te.access_token,ce);if(me&&me.exp)return me.exp}return fe+300},z.byCode=W,z.byCodes=function re(te,ce){const fe=W(te,ce);return(...me)=>me.filter(ue=>ue+""in fe).reduce((ue,xe)=>ue.concat(fe[xe+""]),[])},z.getPatientParam=function H(te,ce){const me=(O(te,"rest.0.resource")||[]).find(xe=>xe.type===ce);if(!me)throw new Error(`Resource "${ce}" is not supported by this FHIR server`);if(!Array.isArray(me.searchParam))throw new Error(`No search parameters supported for "${ce}" on this FHIR server`);if("Patient"==ce&&me.searchParam.find(xe=>"_id"==xe.name))return"_id";const ue=S.patientParams.find(xe=>me.searchParam.find(ge=>ge.name==xe));if(!ue)throw new Error("I don't know what param to use for "+ce);return ue},z.getTargetWindow=function k(te){return F.apply(this,arguments)},z.assert=R,z.assertJsonPatch=function ne(te){R(Array.isArray(te),"The JSON patch must be an array"),R(te.length>0,"The JSON patch array should not be empty"),te.forEach(ce=>{R(["add","replace","test","move","copy","remove"].indexOf(ce.op)>-1,'Each patch operation must have an "op" property which must be one of: "add", "replace", "test", "move", "copy", "remove"'),R(ce.path&&typeof ce.path,`Invalid "${ce.op}" operation. Missing "path" property`),"add"==ce.op||"replace"==ce.op||"test"==ce.op?(R("value"in ce,`Invalid "${ce.op}" operation. Missing "value" property`),R(3==Object.keys(ce).length,`Invalid "${ce.op}" operation. Contains unknown properties`)):"move"==ce.op||"copy"==ce.op?(R("string"==typeof ce.from,`Invalid "${ce.op}" operation. Requires a string "from" property`),R(3==Object.keys(ce).length,`Invalid "${ce.op}" operation. Contains unknown properties`)):R(2==Object.keys(ce).length,`Invalid "${ce.op}" operation. Contains unknown properties`)})}},5890:(q,z,T)=>{"use strict";var L=T(4510).default;Object.defineProperty(z,"__esModule",{value:!0}),z.signCompactJws=z.importJWK=z.generatePKCEChallenge=z.digestSha256=z.randomBytes=void 0;const I=T(3979),$="object"==typeof globalThis&&globalThis.crypto?globalThis.crypto:T(4881).A,S=()=>{if(!$.subtle)throw globalThis.isSecureContext?new Error("Some of the required subtle crypto functionality is not available in the current environment (no crypto.subtle)"):new Error("Some of the required subtle crypto functionality is not available unless you run this app in secure context (using HTTPS or running locally). See https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts");return $.subtle},x={ES384:{name:"ECDSA",namedCurve:"P-384"},RS384:{name:"RSASSA-PKCS1-v1_5",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-384"}}};function M(_){return $.getRandomValues(new Uint8Array(_))}function u(_){return m.apply(this,arguments)}function m(){return(m=L(function*(_){const w=(new TextEncoder).encode(_),D=yield S().digest("SHA-256",w);return new Uint8Array(D)})).apply(this,arguments)}function p(){return(p=L(function*(_){if(!_.alg)throw new Error('The "alg" property of the JWK must be set to "ES384" or "RS384"');if(Array.isArray(_.key_ops)||(_.key_ops=["sign"]),!_.key_ops.includes("sign"))throw new Error('The "key_ops" property of the JWK does not contain "sign"');try{return yield S().importKey("jwk",_,x[_.alg],!0===_.ext,_.key_ops)}catch(w){throw new Error(`The ${_.alg} is not supported by this browser: ${w}`)}})).apply(this,arguments)}function h(){return(h=L(function*(_,w,D,O){const P=JSON.stringify(Object.assign(Object.assign({},D),{alg:_})),U=JSON.stringify(O),j=`${(0,I.encodeURL)(P)}.${(0,I.encodeURL)(U)}`,K=yield S().sign(Object.assign(Object.assign({},w.algorithm),{hash:"SHA-384"}),w,(new TextEncoder).encode(j));return`${j}.${(0,I.fromUint8Array)(new Uint8Array(K),!0)}`})).apply(this,arguments)}z.randomBytes=M,z.digestSha256=u,z.generatePKCEChallenge=function(){var _=L(function*(w=96){const D=M(w),O=(0,I.fromUint8Array)(D,!0);return{codeChallenge:(0,I.fromUint8Array)(yield u(O),!0),codeVerifier:O}});return function(){return _.apply(this,arguments)}}(),z.importJWK=function f(_){return p.apply(this,arguments)},z.signCompactJws=function g(_,w,D,O){return h.apply(this,arguments)}},1670:(q,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.SMART_KEY=z.patientParams=z.fhirVersions=z.patientCompartment=void 0,z.patientCompartment=["Account","AdverseEvent","AllergyIntolerance","Appointment","AppointmentResponse","AuditEvent","Basic","BodySite","BodyStructure","CarePlan","CareTeam","ChargeItem","Claim","ClaimResponse","ClinicalImpression","Communication","CommunicationRequest","Composition","Condition","Consent","Coverage","CoverageEligibilityRequest","CoverageEligibilityResponse","DetectedIssue","DeviceRequest","DeviceUseRequest","DeviceUseStatement","DiagnosticOrder","DiagnosticReport","DocumentManifest","DocumentReference","EligibilityRequest","Encounter","EnrollmentRequest","EpisodeOfCare","ExplanationOfBenefit","FamilyMemberHistory","Flag","Goal","Group","ImagingManifest","ImagingObjectSelection","ImagingStudy","Immunization","ImmunizationEvaluation","ImmunizationRecommendation","Invoice","List","MeasureReport","Media","MedicationAdministration","MedicationDispense","MedicationOrder","MedicationRequest","MedicationStatement","MolecularSequence","NutritionOrder","Observation","Order","Patient","Person","Procedure","ProcedureRequest","Provenance","QuestionnaireResponse","ReferralRequest","RelatedPerson","RequestGroup","ResearchSubject","RiskAssessment","Schedule","ServiceRequest","Specimen","SupplyDelivery","SupplyRequest","VisionPrescription"],z.fhirVersions={"0.4.0":2,"0.5.0":2,"1.0.0":2,"1.0.1":2,"1.0.2":2,"1.1.0":3,"1.4.0":3,"1.6.0":3,"1.8.0":3,"3.0.0":3,"3.0.1":3,"3.3.0":4,"3.5.0":4,"4.0.0":4,"4.0.1":4},z.patientParams=["patient","subject","requester","member","actor","beneficiary"],z.SMART_KEY="SMART_KEY"},3122:(q,z,T)=>{"use strict";var L=T(4510).default;Object.defineProperty(z,"__esModule",{value:!0}),z.init=z.buildTokenRequest=z.ready=z.onMessage=z.isInPopUp=z.isInFrame=z.authorize=z.getSecurityExtensions=z.fetchWellKnownJson=z.KEY=void 0;const I=T(2450),$=T(1244),S=T(1670);Object.defineProperty(z,"KEY",{enumerable:!0,get:function(){return S.SMART_KEY}});const x=I.debug.extend("oauth2");function M(){return"object"==typeof window}function u(Z="/",Y){const W=String(Z).replace(/\/*$/,"/")+".well-known/smart-configuration";return(0,I.getAndCache)(W,Y).catch(re=>{throw new Error(`Failed to fetch the well-known json "${W}". ${re.message}`)})}function f(Z="/"){return function m(Z="/",Y){return u(Z,Y).then(W=>{if(!W.authorization_endpoint||!W.token_endpoint)throw new Error("Invalid wellKnownJson");return{registrationUri:W.registration_endpoint||"",authorizeUri:W.authorization_endpoint,tokenUri:W.token_endpoint,codeChallengeMethods:W.code_challenge_methods_supported||[]}})}(Z).catch(()=>function d(Z="/",Y){return(0,I.fetchConformanceStatement)(Z,Y).then(W=>{const H=((0,I.getPath)(W||{},"rest.0.security.extension")||[]).filter(F=>"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris"===F.url).map(F=>F.extension)[0],k={registrationUri:"",authorizeUri:"",tokenUri:"",codeChallengeMethods:[]};return H&&H.forEach(F=>{"register"===F.url&&(k.registrationUri=F.valueUri),"authorize"===F.url&&(k.authorizeUri=F.valueUri),"token"===F.url&&(k.tokenUri=F.valueUri)}),k})}(Z))}function p(Z){return g.apply(this,arguments)}function g(){return(g=L(function*(Z,Y={}){const W=Z.getUrl();if(Array.isArray(Y)){const We=W.searchParams.get("iss")||W.searchParams.get("fhirServiceUrl");if(!We)throw new Error('Passing in an "iss" url parameter is required if authorize uses multiple configurations');const it=Y.find(st=>{if(st.issMatch){if("function"==typeof st.issMatch)return!!st.issMatch(We);if("string"==typeof st.issMatch)return st.issMatch===We;if(st.issMatch instanceof RegExp)return st.issMatch.test(We)}return!1});return(0,I.assert)(it,`No configuration found matching the current "iss" parameter "${We}"`),yield p(Z,it)}const{clientSecret:re,fakeTokenResponse:H,encounterId:k,target:F,width:R,height:ne,pkceMode:te,clientPublicKeySetUrl:ce,redirect_uri:fe,client_id:me}=Y;let{iss:ue,launch:xe,patientId:ge,fhirServiceUrl:Ne,redirectUri:Ae,noRedirect:He,scope:qe="",clientId:Qe,completeInTarget:ct,clientPrivateJwk:ht}=Y;const ft=Z.getStorage();ue=W.searchParams.get("iss")||ue,Ne=W.searchParams.get("fhirServiceUrl")||Ne,xe=W.searchParams.get("launch")||xe,ge=W.searchParams.get("patientId")||ge,Qe=W.searchParams.get("clientId")||Qe,Qe||(Qe=me),Ae||(Ae=fe),Ae?Ae.match(/^https?\:\/\//)||(Ae=Z.relative(Ae)):Ae=Z.relative(".");const vt=String(ue||Ne||"");if(!vt)throw new Error("No server url found. It must be specified as `iss` or as `fhirServiceUrl` parameter");if(ue&&x("Making %s launch...",xe?"EHR":"standalone"),xe&&!qe.match(/launch/)&&(qe+=" launch"),M()){const We=_(),it=w();(We||it)&&!0!==ct&&!1!==ct&&(ct=We,console.warn('Your app is being authorized from within an iframe or popup window. Please be explicit and provide a "completeInTarget" option. Use "true" to complete the authorization in the same window, or "false" to try to complete it in the parent or the opener window. See http://docs.smarthealthit.org/client-js/api.html'))}const cn=yield ft.get(S.SMART_KEY);yield ft.unset(cn);const wt=(0,I.randomString)(16),tn={clientId:Qe,scope:qe,redirectUri:Ae,serverUrl:vt,clientSecret:re,clientPrivateJwk:ht,tokenResponse:{},key:wt,completeInTarget:ct,clientPublicKeySetUrl:ce};(!M()||(0,I.getPath)(Z,"options.fullSessionStorageSupport"))&&(yield ft.set(S.SMART_KEY,wt)),H&&Object.assign(tn.tokenResponse,H),ge&&Object.assign(tn.tokenResponse,{patient:ge}),k&&Object.assign(tn.tokenResponse,{encounter:k});let pn=Ae+"?state="+encodeURIComponent(wt);if(Ne&&!ue)return x("Making fake launch..."),yield ft.set(wt,tn),He?pn:yield Z.redirect(pn);const Ce=yield f(vt);if(Object.assign(tn,Ce),yield ft.set(wt,tn),!tn.authorizeUri)return He?pn:yield Z.redirect(pn);const Re=["response_type=code","client_id="+encodeURIComponent(Qe||""),"scope="+encodeURIComponent(qe),"redirect_uri="+encodeURIComponent(Ae),"aud="+encodeURIComponent(vt),"state="+encodeURIComponent(wt)];if(xe&&Re.push("launch="+encodeURIComponent(xe)),function h(Z,Y){if("disabled"===Y)return!1;if("unsafeV1"===Y)return!0;if("required"===Y){if(!Z)throw new Error("Required PKCE code challenge method (`S256`) was not found in the server's codeChallengeMethods declaration.");return!0}return Z}(Ce.codeChallengeMethods.includes("S256"),te)){let We=yield Z.security.generatePKCEChallenge();Object.assign(tn,We),yield ft.set(wt,tn),Re.push("code_challenge="+tn.codeChallenge),Re.push("code_challenge_method=S256")}if(pn=tn.authorizeUri+"?"+Re.join("&"),He)return pn;if(!F||!M())return yield Z.redirect(pn);{let We;if(We=yield(0,I.getTargetWindow)(F,R,ne),We!==self)try{We.sessionStorage.removeItem(cn),We.sessionStorage.setItem(wt,JSON.stringify(tn))}catch(it){(0,I.debug)('Failed to modify window.sessionStorage. Perhaps it is from different origin?. Failing back to "_self". %s',it),We=self}if(We!==self)try{We.location.href=pn,self.addEventListener("message",D)}catch(it){(0,I.debug)('Failed to modify window.location. Perhaps it is from different origin?. Failing back to "_self". %s',it),self.location.href=pn}else self.location.href=pn}})).apply(this,arguments)}function _(){try{return self!==top&&parent!==self}catch{return!0}}function w(){try{return self===top&&!!opener&&opener!==self&&!!window.name}catch{return!1}}function D(Z){"completeAuth"==Z.data.type&&Z.origin===new URL(self.location.href).origin&&(window.removeEventListener("message",D),window.location.href=Z.data.url)}function O(Z){return P.apply(this,arguments)}function P(){return(P=L(function*(Z,Y={}){var W,re;const H=Z.getUrl(),k=Z.getStorage(),F=H.searchParams;let R=F.get("state");const ne=F.get("code"),te=F.get("error"),ce=F.get("error_description");if(R||(R=yield k.get(S.SMART_KEY)),te||ce)throw new Error([te,ce].filter(Boolean).join(": "));x("key: %s, code: %s",R,ne),(0,I.assert)(R,"No 'state' parameter found. Please (re)launch the app.");let fe=yield k.get(R);const me=!M()||(0,I.getPath)(Z,"options.fullSessionStorageSupport");if(M()&&fe&&!fe.completeInTarget){const Ne=_(),Ae=w();if((Ne||Ae)&&!H.searchParams.get("complete")){H.searchParams.set("complete","1");const{href:He,origin:qe}=H;return Ne&&parent.postMessage({type:"completeAuth",url:He},qe),Ae&&(opener.postMessage({type:"completeAuth",url:He},qe),window.close()),new Promise(()=>{})}}H.searchParams.delete("complete");const ue=F.has("state");if(M()&&(0,I.getPath)(Z,"options.replaceBrowserHistory")&&(ne||ue)&&(ne&&(F.delete("code"),x("Removed code parameter from the url.")),ue&&me&&(F.delete("state"),x("Removed state parameter from the url.")),window.history.replaceState&&window.history.replaceState({},"",H.href)),(0,I.assert)(fe,"No state found! Please (re)launch the app."),ne&&!(null===(W=fe.tokenResponse)||void 0===W?void 0:W.access_token)&&fe.tokenUri){(0,I.assert)(ne,"'code' url parameter is required"),x("Preparing to exchange the code for access token...");const Ne=yield U(Z,{code:ne,state:fe,clientPublicKeySetUrl:Y.clientPublicKeySetUrl,privateKey:Y.privateKey||fe.clientPrivateJwk});x("Token request options: %O",Ne);const Ae=yield(0,I.request)(fe.tokenUri,Ne);x("Token response: %O",Ae),(0,I.assert)(Ae.access_token,"Failed to obtain access token."),fe.expiresAt=(0,I.getAccessTokenExpiration)(Ae,Z),fe=Object.assign(Object.assign({},fe),{tokenResponse:Ae}),yield k.set(R,fe),x("Authorization successful!")}else x(null!==(re=fe.tokenResponse)&&void 0!==re&&re.access_token?"Already authorized":"No authorization needed");me&&(yield k.set(S.SMART_KEY,R));const ge=new $.default(Z,fe);return x("Created client instance: %O",ge),ge})).apply(this,arguments)}function U(Z,Y){return j.apply(this,arguments)}function j(){return(j=L(function*(Z,{code:Y,state:W,clientPublicKeySetUrl:re,privateKey:H}){const{redirectUri:k,clientSecret:F,tokenUri:R,clientId:ne,codeVerifier:te}=W;(0,I.assert)(k,"Missing state.redirectUri"),(0,I.assert)(R,"Missing state.tokenUri"),(0,I.assert)(ne,"Missing state.clientId");const ce={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:`code=${Y}&grant_type=authorization_code&redirect_uri=${encodeURIComponent(k)}`};if(F)ce.headers.authorization="Basic "+Z.btoa(ne+":"+F),x("Using state.clientSecret to construct the authorization header: %s",ce.headers.authorization);else if(H){const fe="key"in H?H.key:yield Z.security.importJWK(H),me={typ:"JWT",kid:H.kid,jku:re||W.clientPublicKeySetUrl},ue={iss:ne,sub:ne,aud:R,jti:Z.base64urlencode(Z.security.randomBytes(32)),exp:(0,I.getTimeInFuture)(120)},xe=yield Z.security.signCompactJws(H.alg,fe,me,ue);ce.body+=`&client_assertion_type=${encodeURIComponent("urn:ietf:params:oauth:client-assertion-type:jwt-bearer")}`,ce.body+=`&client_assertion=${encodeURIComponent(xe)}`,x("Using state.clientPrivateJwk to add a client_assertion to the POST body")}else x("Public client detected; adding state.clientId to the POST body"),ce.body+=`&client_id=${encodeURIComponent(ne)}`;return te&&(x("Found state.codeVerifier, adding to the POST body"),ce.body+="&code_verifier="+te),ce})).apply(this,arguments)}function B(){return(B=L(function*(Z,Y,W){const re=Z.getUrl(),H=re.searchParams.get("code"),k=re.searchParams.get("state");if(H&&k)return O(Z,W);const F=Z.getStorage(),R=k||(yield F.get(S.SMART_KEY)),ne=yield F.get(R);return ne?new $.default(Z,ne):p(Z,Y).then(()=>new Promise(()=>{}))})).apply(this,arguments)}z.fetchWellKnownJson=u,z.getSecurityExtensions=f,z.authorize=p,z.isInFrame=_,z.isInPopUp=w,z.onMessage=D,z.ready=O,z.buildTokenRequest=U,z.init=function K(Z,Y,W){return B.apply(this,arguments)}},7472:(q,z,T)=>{"use strict";var L=T(4510).default;Object.defineProperty(z,"__esModule",{value:!0}),z.default=class I{get(S){return L(function*(){const x=sessionStorage[S];return x?JSON.parse(x):null})()}set(S,x){return L(function*(){return sessionStorage[S]=JSON.stringify(x),x})()}unset(S){return L(function*(){return S in sessionStorage&&(delete sessionStorage[S],!0)})()}}},2185:(q,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default={expired:"Session expired! Please re-launch the app",noScopeForId:"Trying to get the ID of the selected %s. Please add 'launch' or 'launch/%s' to the requested scopes and try again.",noIfNoAuth:"You are trying to get %s but the app is not authorized yet.",noFreeContext:"Please don't use open fhir servers if you need to access launch context items like the %S."}},7990:(q,z,T)=>{"use strict";var L=T(6460),I=Object.prototype.toString,$=Object.prototype.hasOwnProperty;q.exports=function(d,f,p){if(!L(f))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=p),"[object Array]"===I.call(d)?function(d,f,p){for(var g=0,h=d.length;g<h;g++)$.call(d,g)&&(null==p?f(d[g],g,d):f.call(p,d[g],g,d))}(d,f,g):"string"==typeof d?function(d,f,p){for(var g=0,h=d.length;g<h;g++)null==p?f(d.charAt(g),g,d):f.call(p,d.charAt(g),g,d)}(d,f,g):function(d,f,p){for(var g in d)$.call(d,g)&&(null==p?f(d[g],g,d):f.call(p,d[g],g,d))}(d,f,g)}},421:q=>{"use strict";var T=Object.prototype.toString,L=Math.max,$=function(u,m){for(var d=[],f=0;f<u.length;f+=1)d[f]=u[f];for(var p=0;p<m.length;p+=1)d[p+u.length]=m[p];return d};q.exports=function(u){var m=this;if("function"!=typeof m||"[object Function]"!==T.apply(m))throw new TypeError("Function.prototype.bind called on incompatible "+m);for(var f,d=function(u,m){for(var d=[],f=1,p=0;f<u.length;f+=1,p+=1)d[p]=u[f];return d}(arguments),g=L(0,m.length-d.length),h=[],_=0;_<g;_++)h[_]="$"+_;if(f=Function("binder","return function ("+function(M,u){for(var m="",d=0;d<M.length;d+=1)m+=M[d],d+1<M.length&&(m+=",");return m}(h)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var D=m.apply(this,$(d,arguments));return Object(D)===D?D:this}return m.apply(u,$(d,arguments))}),m.prototype){var w=function(){};w.prototype=m.prototype,f.prototype=new w,w.prototype=null}return f}},2307:(q,z,T)=>{"use strict";var L=T(421);q.exports=Function.prototype.bind||L},5206:(q,z,T)=>{"use strict";var L=T(4117),I=T(7504),$=T(5410)(),S=T(4831),x=S("Function.prototype.toString"),M=S("String.prototype.match"),u=S("Object.prototype.toString"),m=/^class /,f=/\s*function\s+([^(\s]*)\s*/,p=!(0 in[,]),_=Function.prototype,w=function(){return!1};if("object"==typeof document){var D=document.all;u(D)===u(document.all)&&(w=function(P){if((p||!P)&&(typeof P>"u"||"object"==typeof P))try{var U=u(P);return("[object HTMLAllCollection]"===U||"[object Object]"===U)&&null==P("")}catch{}return!1})}q.exports=function(){if(w(this)||!function(P){if(L(P)||"function"!=typeof P)return!1;try{return!!M(x(P),m)}catch{}return!1}(this)&&!L(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if($&&I(this,"name"))return this.name;if(this===_)return"";var P=x(this),U=M(P,f);return U&&U[1]}},9310:(q,z,T)=>{"use strict";var L=T(4296),I=T(9475),$=T(5206),S=T(8103),x=T(7145),M=I($);L(M,{getPolyfill:S,implementation:$,shim:x}),q.exports=M},8103:(q,z,T)=>{"use strict";var L=T(5206);q.exports=function(){return L}},7145:(q,z,T)=>{"use strict";var L=T(4296).supportsDescriptors,I=T(5410)(),$=T(8103),S=Object.defineProperty,x=TypeError;q.exports=function(){var u=$();if(I)return u;if(!L)throw new x("Shimming Function.prototype.name support requires ES5 property descriptor support.");var m=Function.prototype;return S(m,"name",{configurable:!0,enumerable:!1,get:function(){var d=u.call(this);return this!==m&&S(this,"name",{configurable:!0,enumerable:!1,value:d,writable:!1}),d}}),u}},5410:q=>{"use strict";var z=function(){return"string"==typeof function(){}.name},T=Object.getOwnPropertyDescriptor;if(T)try{T([],"length")}catch{T=null}z.functionsHaveConfigurableNames=function(){if(!z()||!T)return!1;var $=T(function(){},"name");return!!$&&!!$.configurable};var L=Function.prototype.bind;z.boundFunctionsHaveNames=function(){return z()&&"function"==typeof L&&""!==function(){}.bind().name},q.exports=z},9249:(q,z,T)=>{"use strict";var L,I=T(939),$=T(7153),S=T(1486),x=T(4654),M=T(1144),u=T(9327),m=T(6005),d=Function,f=function(fe){try{return d('"use strict"; return ('+fe+").constructor;")()}catch{}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch{p=null}var g=function(){throw new u},h=p?function(){try{return g}catch{try{return p(arguments,"callee").get}catch{return g}}}():g,_=T(7067)(),w=T(908)(),D=Object.getPrototypeOf||(w?function(fe){return fe.__proto__}:null),O={},P=typeof Uint8Array>"u"||!D?L:D(Uint8Array),U={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?L:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?L:ArrayBuffer,"%ArrayIteratorPrototype%":_&&D?D([][Symbol.iterator]()):L,"%AsyncFromSyncIteratorPrototype%":L,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?L:Atomics,"%BigInt%":typeof BigInt>"u"?L:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?L:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?L:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?L:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":I,"%eval%":eval,"%EvalError%":$,"%Float32Array%":typeof Float32Array>"u"?L:Float32Array,"%Float64Array%":typeof Float64Array>"u"?L:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?L:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?L:Int8Array,"%Int16Array%":typeof Int16Array>"u"?L:Int16Array,"%Int32Array%":typeof Int32Array>"u"?L:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&D?D(D([][Symbol.iterator]())):L,"%JSON%":"object"==typeof JSON?JSON:L,"%Map%":typeof Map>"u"?L:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_||!D?L:D((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?L:Promise,"%Proxy%":typeof Proxy>"u"?L:Proxy,"%RangeError%":S,"%ReferenceError%":x,"%Reflect%":typeof Reflect>"u"?L:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?L:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_||!D?L:D((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?L:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&D?D(""[Symbol.iterator]()):L,"%Symbol%":_?Symbol:L,"%SyntaxError%":M,"%ThrowTypeError%":h,"%TypedArray%":P,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?L:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?L:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?L:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?L:Uint32Array,"%URIError%":m,"%WeakMap%":typeof WeakMap>"u"?L:WeakMap,"%WeakRef%":typeof WeakRef>"u"?L:WeakRef,"%WeakSet%":typeof WeakSet>"u"?L:WeakSet};if(D)try{null.error}catch(fe){var j=D(D(fe));U["%Error.prototype%"]=j}var K=function fe(me){var ue;if("%AsyncFunction%"===me)ue=f("async function () {}");else if("%GeneratorFunction%"===me)ue=f("function* () {}");else if("%AsyncGeneratorFunction%"===me)ue=f("async function* () {}");else if("%AsyncGenerator%"===me){var xe=fe("%AsyncGeneratorFunction%");xe&&(ue=xe.prototype)}else if("%AsyncIteratorPrototype%"===me){var ge=fe("%AsyncGenerator%");ge&&D&&(ue=D(ge.prototype))}return U[me]=ue,ue},B={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Z=T(2307),Y=T(5961),W=Z.call(Function.call,Array.prototype.concat),re=Z.call(Function.apply,Array.prototype.splice),H=Z.call(Function.call,String.prototype.replace),k=Z.call(Function.call,String.prototype.slice),F=Z.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ne=/\\(\\)?/g,ce=function(me,ue){var ge,xe=me;if(Y(B,xe)&&(xe="%"+(ge=B[xe])[0]+"%"),Y(U,xe)){var Ne=U[xe];if(Ne===O&&(Ne=K(xe)),typeof Ne>"u"&&!ue)throw new u("intrinsic "+me+" exists, but is not available. Please file an issue!");return{alias:ge,name:xe,value:Ne}}throw new M("intrinsic "+me+" does not exist!")};q.exports=function(me,ue){if("string"!=typeof me||0===me.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ue)throw new u('"allowMissing" argument must be a boolean');if(null===F(/^%?[^%]*%?$/,me))throw new M("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xe=function(me){var ue=k(me,0,1),xe=k(me,-1);if("%"===ue&&"%"!==xe)throw new M("invalid intrinsic syntax, expected closing `%`");if("%"===xe&&"%"!==ue)throw new M("invalid intrinsic syntax, expected opening `%`");var ge=[];return H(me,R,function(Ne,Ae,He,qe){ge[ge.length]=He?H(qe,ne,"$1"):Ae||Ne}),ge}(me),ge=xe.length>0?xe[0]:"",Ne=ce("%"+ge+"%",ue),Ae=Ne.name,He=Ne.value,qe=!1,Qe=Ne.alias;Qe&&(ge=Qe[0],re(xe,W([0,1],Qe)));for(var ct=1,ht=!0;ct<xe.length;ct+=1){var ft=xe[ct],vt=k(ft,0,1),cn=k(ft,-1);if(('"'===vt||"'"===vt||"`"===vt||'"'===cn||"'"===cn||"`"===cn)&&vt!==cn)throw new M("property names with quotes must have matching quotes");if(("constructor"===ft||!ht)&&(qe=!0),Y(U,Ae="%"+(ge+="."+ft)+"%"))He=U[Ae];else if(null!=He){if(!(ft in He)){if(!ue)throw new u("base intrinsic for "+me+" exists, but the property is not available.");return}if(p&&ct+1>=xe.length){var wt=p(He,ft);He=(ht=!!wt)&&"get"in wt&&!("originalValue"in wt.get)?wt.get:He[ft]}else ht=Y(He,ft),He=He[ft];ht&&!qe&&(U[Ae]=He)}}return He}},1031:(q,z,T)=>{"use strict";var I=T(9249)("%Object.getOwnPropertyDescriptor%",!0);if(I)try{I([],"length")}catch{I=null}q.exports=I},2258:q=>{"use strict";var z=typeof BigInt<"u"&&BigInt;q.exports=function(){return"function"==typeof z&&"function"==typeof BigInt&&"bigint"==typeof z(42)&&"bigint"==typeof BigInt(42)}},4052:(q,z,T)=>{"use strict";var L=T(4688),I=function(){return!!L};I.hasArrayLengthDefineBug=function(){if(!L)return null;try{return 1!==L([],"length",{value:1}).length}catch{return!0}},q.exports=I},908:q=>{"use strict";var z={__proto__:null,foo:{}},T=Object;q.exports=function(){return{__proto__:z}.foo===z.foo&&!(z instanceof T)}},7067:(q,z,T)=>{"use strict";var L=typeof Symbol<"u"&&Symbol,I=T(5401);q.exports=function(){return"function"==typeof L&&"function"==typeof Symbol&&"symbol"==typeof L("foo")&&"symbol"==typeof Symbol("bar")&&I()}},5401:q=>{"use strict";q.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var T={},L=Symbol("test"),I=Object(L);if("string"==typeof L||"[object Symbol]"!==Object.prototype.toString.call(L)||"[object Symbol]"!==Object.prototype.toString.call(I))return!1;for(L in T[L]=42,T)return!1;if("function"==typeof Object.keys&&0!==Object.keys(T).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(T).length)return!1;var S=Object.getOwnPropertySymbols(T);if(1!==S.length||S[0]!==L||!Object.prototype.propertyIsEnumerable.call(T,L))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var x=Object.getOwnPropertyDescriptor(T,L);if(42!==x.value||!0!==x.enumerable)return!1}return!0}},8984:(q,z,T)=>{"use strict";var L=T(5401);q.exports=function(){return L()&&!!Symbol.toStringTag}},5961:(q,z,T)=>{"use strict";var L=Function.prototype.call,I=Object.prototype.hasOwnProperty,$=T(2307);q.exports=$.call(L,I)},9186:(q,z,T)=>{"use strict";var L=T(9475),I=T(4831),S=T(9249)("%ArrayBuffer%",!0),x=I("ArrayBuffer.prototype.byteLength",!0),M=I("Object.prototype.toString"),u=!!S&&!x&&new S(0).slice,m=!!u&&L(u);q.exports=x||m?function(f){if(!f||"object"!=typeof f)return!1;try{return x?x(f):m(f,0),!0}catch{return!1}}:S?function(f){return"[object ArrayBuffer]"===M(f)}:function(f){return!1}},3219:(q,z,T)=>{"use strict";var u,L=Object.prototype.toString,I=Function.prototype.toString,$=/^\s*async(?:\s+function(?:\s+|\()|\s*\()/,S=T(8984)(),x=Object.getPrototypeOf;q.exports=function(d){if("function"!=typeof d)return!1;if($.test(I.call(d)))return!0;if(!S)return"[object AsyncFunction]"===L.call(d);if(!x)return!1;if(typeof u>"u"){var p=function(){if(!S)return!1;try{return Function("return async function () {}")()}catch{}}();u=!!p&&x(p)}return x(d)===u}},8719:(q,z,T)=>{"use strict";if(T(2258)()){var I=BigInt.prototype.valueOf;q.exports=function(x){return!(null===x||typeof x>"u"||"boolean"==typeof x||"string"==typeof x||"number"==typeof x||"symbol"==typeof x||"function"==typeof x)&&("bigint"==typeof x||function(x){try{return I.call(x),!0}catch{}return!1}(x))}}else q.exports=function(x){return!1}},7116:(q,z,T)=>{"use strict";var L=T(4831),I=L("Boolean.prototype.toString"),$=L("Object.prototype.toString"),M=T(8984)();q.exports=function(m){return"boolean"==typeof m||null!==m&&"object"==typeof m&&(M&&Symbol.toStringTag in m?function(m){try{return I(m),!0}catch{return!1}}(m):"[object Boolean]"===$(m))}},6460:q=>{"use strict";var L,I,z=Function.prototype.toString,T="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof T&&"function"==typeof Object.defineProperty)try{L=Object.defineProperty({},"length",{get:function(){throw I}}),I={},T(function(){throw 42},null,L)}catch(O){O!==I&&(T=null)}else T=null;var $=/^\s*class\b/,S=function(P){try{var U=z.call(P);return $.test(U)}catch{return!1}},x=function(P){try{return!S(P)&&(z.call(P),!0)}catch{return!1}},M=Object.prototype.toString,h="function"==typeof Symbol&&!!Symbol.toStringTag,_=!(0 in[,]),w=function(){return!1};if("object"==typeof document){var D=document.all;M.call(D)===M.call(document.all)&&(w=function(P){if((_||!P)&&(typeof P>"u"||"object"==typeof P))try{var U=M.call(P);return("[object HTMLAllCollection]"===U||"[object HTML document.all class]"===U||"[object HTMLCollection]"===U||"[object Object]"===U)&&null==P("")}catch{}return!1})}q.exports=T?function(P){if(w(P))return!0;if(!P||"function"!=typeof P&&"object"!=typeof P)return!1;try{T(P,null,L)}catch(U){if(U!==I)return!1}return!S(P)&&x(P)}:function(P){if(w(P))return!0;if(!P||"function"!=typeof P&&"object"!=typeof P)return!1;if(h)return x(P);if(S(P))return!1;var U=M.call(P);return!("[object Function]"!==U&&"[object GeneratorFunction]"!==U&&!/^\[object HTML/.test(U))&&x(P)}},1540:(q,z,T)=>{"use strict";var L=Date.prototype.getDay,$=Object.prototype.toString,x=T(8984)();q.exports=function(u){return"object"==typeof u&&null!==u&&(x?function(u){try{return L.call(u),!0}catch{return!1}}(u):"[object Date]"===$.call(u))}},8647:(q,z,T)=>{"use strict";var I=T(4831)("FinalizationRegistry.prototype.register",!0);q.exports=I?function(S){if(!S||"object"!=typeof S)return!1;try{return I(S,{},null),!0}catch{return!1}}:function(S){return!1}},7276:(q,z,T)=>{"use strict";var u,L=Object.prototype.toString,I=Function.prototype.toString,$=/^\s*(?:function)?\*/,S=T(8984)(),x=Object.getPrototypeOf;q.exports=function(d){if("function"!=typeof d)return!1;if($.test(I.call(d)))return!0;if(!S)return"[object GeneratorFunction]"===L.call(d);if(!x)return!1;if(typeof u>"u"){var p=function(){if(!S)return!1;try{return Function("return function*() {}")()}catch{}}();u=!!p&&x(p)}return x(d)===u}},6790:q=>{"use strict";var L,z="function"==typeof Map&&Map.prototype?Map:null,T="function"==typeof Set&&Set.prototype?Set:null;z||(L=function(x){return!1});var I=z?Map.prototype.has:null,$=T?Set.prototype.has:null;!L&&!I&&(L=function(x){return!1}),q.exports=L||function(x){if(!x||"object"!=typeof x)return!1;try{if(I.call(x),$)try{$.call(x)}catch{return!0}return x instanceof z}catch{}return!1}},8699:(q,z,T)=>{"use strict";var L=Number.prototype.toString,$=Object.prototype.toString,x=T(8984)();q.exports=function(u){return"number"==typeof u||"object"==typeof u&&(x?function(u){try{return L.call(u),!0}catch{return!1}}(u):"[object Number]"===$.call(u))}},7212:(q,z,T)=>{"use strict";var $,S,x,M,L=T(4831),I=T(8984)();if(I){$=L("Object.prototype.hasOwnProperty"),S=L("RegExp.prototype.exec"),x={};var u=function(){throw x};M={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(M[Symbol.toPrimitive]=u)}var m=L("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;q.exports=I?function(g){if(!g||"object"!=typeof g)return!1;var h=d(g,"lastIndex");if(!h||!$(h,"value"))return!1;try{S(g,M)}catch(w){return w===x}}:function(g){return!(!g||"object"!=typeof g&&"function"!=typeof g)&&"[object RegExp]"===m(g)}},6004:q=>{"use strict";var L,z="function"==typeof Map&&Map.prototype?Map:null,T="function"==typeof Set&&Set.prototype?Set:null;T||(L=function(x){return!1});var I=z?Map.prototype.has:null,$=T?Set.prototype.has:null;!L&&!$&&(L=function(x){return!1}),q.exports=L||function(x){if(!x||"object"!=typeof x)return!1;try{if($.call(x),I)try{I.call(x)}catch{return!0}return x instanceof T}catch{}return!1}},1810:(q,z,T)=>{"use strict";var I=T(4831)("SharedArrayBuffer.prototype.byteLength",!0);q.exports=I?function(S){if(!S||"object"!=typeof S)return!1;try{return I(S),!0}catch{return!1}}:function(S){return!1}},3389:(q,z,T)=>{"use strict";var L=String.prototype.valueOf,$=Object.prototype.toString,x=T(8984)();q.exports=function(u){return"string"==typeof u||"object"==typeof u&&(x?function(u){try{return L.call(u),!0}catch{return!1}}(u):"[object String]"===$.call(u))}},6624:(q,z,T)=>{"use strict";var L=Object.prototype.toString;if(T(7067)()){var $=Symbol.prototype.toString,S=/^Symbol\(.*\)$/;q.exports=function(u){if("symbol"==typeof u)return!0;if("[object Symbol]"!==L.call(u))return!1;try{return function(u){return"symbol"==typeof u.valueOf()&&S.test($.call(u))}(u)}catch{return!1}}}else q.exports=function(u){return!1}},6468:(q,z,T)=>{"use strict";var L=T(7323);q.exports=function($){return!!L($)}},2878:q=>{"use strict";var L,z="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,T="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;z||(L=function(x){return!1});var I=z?z.prototype.has:null,$=T?T.prototype.has:null;!L&&!I&&(L=function(x){return!1}),q.exports=L||function(x){if(!x||"object"!=typeof x)return!1;try{if(I.call(x,I),$)try{$.call(x,$)}catch{return!0}return x instanceof z}catch{}return!1}},9185:(q,z,T)=>{"use strict";var I=T(4831)("WeakRef.prototype.deref",!0);q.exports=typeof WeakRef>"u"?function(S){return!1}:function(S){if(!S||"object"!=typeof S)return!1;try{return I(S),!0}catch{return!1}}},7516:(q,z,T)=>{"use strict";var L=T(9249),I=T(4831),$=L("%WeakSet%",!0),S=I("WeakSet.prototype.has",!0);if(S){var x=I("WeakMap.prototype.has",!0);q.exports=function(u){if(!u||"object"!=typeof u)return!1;try{if(S(u,S),x)try{x(u,x)}catch{return!0}return u instanceof $}catch{}return!1}}else q.exports=function(u){return!1}},8606:q=>{var z={}.toString;q.exports=Array.isArray||function(T){return"[object Array]"==z.call(T)}},6263:(q,z,T)=>{"use strict";var L=T(3999),I=L(T(5276)),$=L(T(9506)),S=T(1806),x=T(2595),M=T(6170),u=T(3963);q.exports=function(){function d(f,p){(0,I.default)(this,d),this._grammar=f,this._exprStr=p,this._ast=null}return(0,$.default)(d,[{key:"compile",value:function(){var p=new x(this._grammar),g=new M(this._grammar),h=p.tokenize(this._exprStr);return g.addTokens(h),this._ast=g.complete(),this}},{key:"eval",value:function(){return this._eval(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Promise)}},{key:"evalSync",value:function(){var g=this._eval(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u);if(g.error)throw g.error;return g.value}},{key:"_eval",value:function(p,g){var h=this;return g.resolve().then(function(){var _=h._getAst();return new S(h._grammar,p,void 0,g).eval(_)})}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),d}()},4272:(q,z,T)=>{"use strict";var L=T(3999),I=L(T(1529)),$=L(T(5276)),S=L(T(9506)),x=T(6263),u=T(1216).getGrammar,m=function(){function d(){(0,$.default)(this,d),this.expr=this.expr.bind(this),this._grammar=u()}return(0,S.default)(d,[{key:"addBinaryOp",value:function(p,g,h,_){this._addGrammarElement(p,(0,I.default)({type:"binaryOp",precedence:g},_?"evalOnDemand":"eval",h))}},{key:"addFunction",value:function(p,g){this._grammar.functions[p]=g}},{key:"addFunctions",value:function(p){for(var g in p)this._grammar.functions[g]=p[g]}},{key:"addUnaryOp",value:function(p,g){this._addGrammarElement(p,{type:"unaryOp",weight:1/0,eval:g})}},{key:"addTransform",value:function(p,g){this._grammar.transforms[p]=g}},{key:"addTransforms",value:function(p){for(var g in p)this._grammar.transforms[g]=p[g]}},{key:"compile",value:function(p){return this.createExpression(p).compile()}},{key:"createExpression",value:function(p){return new x(this._grammar,p)}},{key:"getFunction",value:function(p){return this._grammar.functions[p]}},{key:"getTransform",value:function(p){return this._grammar.transforms[p]}},{key:"eval",value:function(p){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(p).eval(g)}},{key:"evalSync",value:function(p){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(p).evalSync(g)}},{key:"expr",value:function(p){for(var g=arguments.length,h=new Array(g>1?g-1:0),_=1;_<g;_++)h[_-1]=arguments[_];var w=p.reduce(function(D,O,P){return D+(O+(P<h.length?h[P]:""))},"");return this.createExpression(w)}},{key:"removeOp",value:function(p){this._grammar.elements[p]&&("binaryOp"===this._grammar.elements[p].type||"unaryOp"===this._grammar.elements[p].type)&&delete this._grammar.elements[p]}},{key:"_addGrammarElement",value:function(p,g){this._grammar.elements[p]=g}}]),d}();q.exports=new m,q.exports.Jexl=m},2595:(q,z,T)=>{"use strict";var L=T(3999),I=L(T(5276)),$=L(T(9506)),S=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,x=/^[a-zA-Z\u0430-\u044f\u0410-\u042f_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Z\u0430-\u044f\u0410-\u042f0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,M=/\\\\/,u=/^\s*$/,m=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],d=["[a-zA-Z\u0430-\u044f\u0410-\u042f_\xc0-\xd6\xd8-\xf6\xf8-\xff\\$][a-zA-Z0-9\u0430-\u044f\u0410-\u042f_\xc0-\xd6\xd8-\xf6\xf8-\xff\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],f=["binaryOp","unaryOp","openParen","openBracket","question","colon"];q.exports=function(){function g(h){(0,I.default)(this,g),this._grammar=h}return(0,$.default)(g,[{key:"getElements",value:function(_){var w=this._getSplitRegex();return _.split(w).filter(function(D){return D})}},{key:"getTokens",value:function(_){for(var w=[],D=!1,O=0;O<_.length;O++)this._isWhitespace(_[O])?w.length&&(w[w.length-1].raw+=_[O]):"-"===_[O]&&this._isNegative(w)?D=!0:(D&&(_[O]="-"+_[O],D=!1),w.push(this._createToken(_[O])));return D&&w.push(this._createToken("-")),w}},{key:"tokenize",value:function(_){var w=this.getElements(_);return this.getTokens(w)}},{key:"_createToken",value:function(_){var w={type:"literal",value:_,raw:_};if('"'===_[0]||"'"===_[0])w.value=this._unquote(_);else if(_.match(S))w.value=parseFloat(_);else if("true"===_||"false"===_)w.value="true"===_;else if(this._grammar.elements[_])w.type=this._grammar.elements[_].type;else{if(!_.match(x))throw new Error("Invalid expression token: ".concat(_));w.type="identifier"}return w}},{key:"_escapeRegExp",value:function(_){return(_=_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(x)&&(_="\\b"+_+"\\b"),_}},{key:"_getSplitRegex",value:function(){var _=this;if(!this._splitRegex){var w=Object.keys(this._grammar.elements).sort(function(D,O){return O.length-D.length}).map(function(D){return _._escapeRegExp(D)},this);this._splitRegex=new RegExp("("+[m.join("|"),w.join("|"),d.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(_){return!_.length||f.some(function(w){return w===_[_.length-1].type})}},{key:"_isWhitespace",value:function(_){return!!_.match(u)}},{key:"_unquote",value:function(_){var w=_[0],D=new RegExp("\\\\"+w,"g");return _.substr(1,_.length-2).replace(D,w).replace(M,"\\")}}]),g}()},3963:(q,z,T)=>{"use strict";var L=T(3999),I=L(T(5276)),$=L(T(9506)),S=function(){function x(M){(0,I.default)(this,x),M(this._resolve.bind(this),this._reject.bind(this))}return(0,$.default)(x,[{key:"catch",value:function(u){if(this.error)try{this._resolve(u(this.error))}catch(m){this._reject(m)}return this}},{key:"then",value:function(u,m){if(!this.error)try{this._resolve(u(this.value))}catch(d){this._reject(d)}return m&&this.catch(m),this}},{key:"_reject",value:function(u){this.value=void 0,this.error=u}},{key:"_resolve",value:function(u){u instanceof x?u.error?this._reject(u.error):this._resolve(u.value):(this.value=u,this.error=void 0)}}]),x}();S.all=function(x){return new S(function(M){M(x.map(function(m){for(;m instanceof S;){if(m.error)throw Error(m.error);m=m.value}return m}))})},S.resolve=function(x){return new S(function(M){return M(x)})},S.reject=function(x){return new S(function(M,u){return u(x)})},q.exports=S},1806:(q,z,T)=>{"use strict";var L=T(3999),I=L(T(5276)),$=L(T(9506)),S=T(5274);q.exports=function(){function M(u,m,d){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Promise;(0,I.default)(this,M),this._grammar=u,this._context=m||{},this._relContext=d||this._context,this.Promise=f}return(0,$.default)(M,[{key:"eval",value:function(m){var d=this;return this.Promise.resolve().then(function(){return S[m.type].call(d,m)})}},{key:"evalArray",value:function(m){var d=this;return this.Promise.all(m.map(function(f){return d.eval(f)}))}},{key:"evalMap",value:function(m){var d=this,f=Object.keys(m),p={},g=f.map(function(h){return d.eval(m[h])});return this.Promise.all(g).then(function(h){return h.forEach(function(_,w){p[f[w]]=_}),p})}},{key:"_filterRelative",value:function(m,d){var f=this,p=[];return Array.isArray(m)||(m=void 0===m?[]:[m]),m.forEach(function(g){var h=new M(f._grammar,f._context,g,f.Promise);p.push(h.eval(d))}),this.Promise.all(p).then(function(g){var h=[];return g.forEach(function(_,w){_&&h.push(m[w])}),h})}},{key:"_filterStatic",value:function(m,d){return this.eval(d).then(function(f){return"boolean"==typeof f?f?m:void 0:m[f]})}}]),M}()},5274:(q,z,T)=>{"use strict";var I=T(3999)(T(3205)),$={functions:"Jexl Function",transforms:"Transform"};z.ArrayLiteral=function(S){return this.evalArray(S.value)},z.BinaryExpression=function(S){var x=this,M=this._grammar.elements[S.operator];if(M.evalOnDemand){var u=function(d){return{eval:function(){return x.eval(d)}}};return M.evalOnDemand(u(S.left),u(S.right))}return this.Promise.all([this.eval(S.left),this.eval(S.right)]).then(function(m){return M.eval(m[0],m[1])})},z.ConditionalExpression=function(S){var x=this;return this.eval(S.test).then(function(M){return M?S.consequent?x.eval(S.consequent):M:x.eval(S.alternate)})},z.FilterExpression=function(S){var x=this;return this.eval(S.subject).then(function(M){return S.relative?x._filterRelative(M,S.expr):x._filterStatic(M,S.expr)})},z.Identifier=function(S){return S.from?this.eval(S.from).then(function(x){if(null!=x)return Array.isArray(x)&&(x=x[0]),x[S.value]}):S.relative?this._relContext[S.value]:this._context[S.value]},z.Literal=function(S){return S.value},z.ObjectLiteral=function(S){return this.evalMap(S.value)},z.FunctionCall=function(S){var x=$[S.pool];if(!x)throw new Error("Corrupt AST: Pool '".concat(S.pool,"' not found"));var u=this._grammar[S.pool][S.name];if(!u)throw new Error("".concat(x," ").concat(S.name," is not defined."));return this.evalArray(S.args||[]).then(function(m){return u.apply(void 0,(0,I.default)(m))})},z.UnaryExpression=function(S){var x=this;return this.eval(S.right).then(function(M){return x._grammar.elements[S.operator].eval(M)})}},1216:(q,z)=>{"use strict";z.getGrammar=function(){return{elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(L,I){return L+I}},"-":{type:"binaryOp",precedence:30,eval:function(L,I){return L-I}},"*":{type:"binaryOp",precedence:40,eval:function(L,I){return L*I}},"/":{type:"binaryOp",precedence:40,eval:function(L,I){return L/I}},"//":{type:"binaryOp",precedence:40,eval:function(L,I){return Math.floor(L/I)}},"%":{type:"binaryOp",precedence:50,eval:function(L,I){return L%I}},"^":{type:"binaryOp",precedence:50,eval:function(L,I){return Math.pow(L,I)}},"==":{type:"binaryOp",precedence:20,eval:function(L,I){return L==I}},"!=":{type:"binaryOp",precedence:20,eval:function(L,I){return L!=I}},">":{type:"binaryOp",precedence:20,eval:function(L,I){return L>I}},">=":{type:"binaryOp",precedence:20,eval:function(L,I){return L>=I}},"<":{type:"binaryOp",precedence:20,eval:function(L,I){return L<I}},"<=":{type:"binaryOp",precedence:20,eval:function(L,I){return L<=I}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(L,I){return L.eval().then(function($){return $&&I.eval()})}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(L,I){return L.eval().then(function($){return $||I.eval()})}},in:{type:"binaryOp",precedence:20,eval:function(L,I){return"string"==typeof I?-1!==I.indexOf(L):!!Array.isArray(I)&&I.some(function($){return $===L})}},"!":{type:"unaryOp",precedence:1/0,eval:function(L){return!L}}},functions:{},transforms:{}}}},6170:(q,z,T)=>{"use strict";var L=T(3999),I=L(T(5276)),$=L(T(9506)),S=T(6932),x=T(5959).x;q.exports=function(){function u(m,d,f){(0,I.default)(this,u),this._grammar=m,this._state="expectOperand",this._tree=null,this._exprStr=d||"",this._relative=!1,this._stopMap=f||{}}return(0,$.default)(u,[{key:"addToken",value:function(d){if("complete"===this._state)throw new Error("Cannot add a new token to a completed Parser");var f=x[this._state],p=this._exprStr;if(this._exprStr+=d.raw,f.subHandler){this._subParser||this._startSubExpression(p);var g=this._subParser.addToken(d);if(g){if(this._endSubExpression(),this._parentStop)return g;this._state=g}}else{if(!f.tokenTypes[d.type]){if(this._stopMap[d.type])return this._stopMap[d.type];throw new Error("Token ".concat(d.raw," (").concat(d.type,") unexpected in expression: ").concat(this._exprStr))}var h=f.tokenTypes[d.type],_=S[d.type];h.handler&&(_=h.handler),_&&_.call(this,d),h.toState&&(this._state=h.toState)}return!1}},{key:"addTokens",value:function(d){d.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!x[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){x[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(d){this._cursor?(this._cursor.right=d,this._setParent(d,this._cursor)):this._tree=d,this._cursor=d}},{key:"_placeBeforeCursor",value:function(d){this._cursor=this._cursor._parent,this._placeAtCursor(d)}},{key:"_setParent",value:function(d,f){Object.defineProperty(d,"_parent",{value:f,writable:!0})}},{key:"_startSubExpression",value:function(d){var f=x[this._state].endStates;f||(this._parentStop=!0,f=this._stopMap),this._subParser=new u(this._grammar,d,f)}}]),u}()},6932:(q,z)=>{"use strict";z.argVal=function(T){T&&this._cursor.args.push(T)},z.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},z.arrayVal=function(T){T&&this._cursor.value.push(T)},z.binaryOp=function(T){for(var L=this._grammar.elements[T.value].precedence||0,I=this._cursor._parent;I&&I.operator&&this._grammar.elements[I.operator].precedence>=L;)this._cursor=I,I=I._parent;var $={type:"BinaryExpression",operator:T.value,left:this._cursor};this._setParent(this._cursor,$),this._cursor=I,this._placeAtCursor($)},z.dot=function(){this._nextIdentEncapsulate=this._cursor&&"UnaryExpression"!==this._cursor.type&&("BinaryExpression"!==this._cursor.type||"BinaryExpression"===this._cursor.type&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},z.filter=function(T){this._placeBeforeCursor({type:"FilterExpression",expr:T,relative:this._subParser.isRelative(),subject:this._cursor})},z.functionCall=function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})},z.identifier=function(T){var L={type:"Identifier",value:T.value};this._nextIdentEncapsulate?(L.from=this._cursor,this._placeBeforeCursor(L),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(L.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(L))},z.literal=function(T){this._placeAtCursor({type:"Literal",value:T.value})},z.objKey=function(T){this._curObjKey=T.value},z.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},z.objVal=function(T){this._cursor.value[this._curObjKey]=T},z.subExpression=function(T){this._placeAtCursor(T)},z.ternaryEnd=function(T){this._cursor.alternate=T},z.ternaryMid=function(T){this._cursor.consequent=T},z.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},z.transform=function(T){this._placeBeforeCursor({type:"FunctionCall",name:T.value,args:[this._cursor],pool:"transforms"})},z.unaryOp=function(T){this._placeAtCursor({type:"UnaryExpression",operator:T.value})}},5959:(q,z,T)=>{"use strict";var L=T(6932);z.x={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:L.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:L.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:L.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:L.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:L.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:L.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:L.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:L.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:L.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:L.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:L.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:L.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:L.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:L.ternaryEnd,completable:!0}}},3979:function(q){typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global,q.exports=function(){"use strict";var Ne,z="3.7.7",T=z,L="function"==typeof Buffer,I="function"==typeof TextDecoder?new TextDecoder:void 0,$="function"==typeof TextEncoder?new TextEncoder:void 0,x=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),M=(Ne={},x.forEach(function(Ae,He){return Ne[Ae]=He}),Ne),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,m=String.fromCharCode.bind(String),d="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(ge){return new Uint8Array(Array.prototype.slice.call(ge,0))},f=function(ge){return ge.replace(/=/g,"").replace(/[+\/]/g,function(Ne){return"+"==Ne?"-":"_"})},p=function(ge){return ge.replace(/[^A-Za-z0-9\+\/]/g,"")},g=function(ge){for(var Ne,Ae,He,qe,Qe="",ct=ge.length%3,ht=0;ht<ge.length;){if((Ae=ge.charCodeAt(ht++))>255||(He=ge.charCodeAt(ht++))>255||(qe=ge.charCodeAt(ht++))>255)throw new TypeError("invalid character found");Qe+=x[(Ne=Ae<<16|He<<8|qe)>>18&63]+x[Ne>>12&63]+x[Ne>>6&63]+x[63&Ne]}return ct?Qe.slice(0,ct-3)+"===".substring(ct):Qe},h="function"==typeof btoa?function(ge){return btoa(ge)}:L?function(ge){return Buffer.from(ge,"binary").toString("base64")}:g,_=L?function(ge){return Buffer.from(ge).toString("base64")}:function(ge){for(var Ae=[],He=0,qe=ge.length;He<qe;He+=4096)Ae.push(m.apply(null,ge.subarray(He,He+4096)));return h(Ae.join(""))},w=function(ge,Ne){return void 0===Ne&&(Ne=!1),Ne?f(_(ge)):_(ge)},D=function(ge){if(ge.length<2)return(Ne=ge.charCodeAt(0))<128?ge:Ne<2048?m(192|Ne>>>6)+m(128|63&Ne):m(224|Ne>>>12&15)+m(128|Ne>>>6&63)+m(128|63&Ne);var Ne=65536+1024*(ge.charCodeAt(0)-55296)+(ge.charCodeAt(1)-56320);return m(240|Ne>>>18&7)+m(128|Ne>>>12&63)+m(128|Ne>>>6&63)+m(128|63&Ne)},O=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,P=function(ge){return ge.replace(O,D)},U=L?function(ge){return Buffer.from(ge,"utf8").toString("base64")}:$?function(ge){return _($.encode(ge))}:function(ge){return h(P(ge))},j=function(ge,Ne){return void 0===Ne&&(Ne=!1),Ne?f(U(ge)):U(ge)},K=function(ge){return j(ge,!0)},B=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Z=function(ge){switch(ge.length){case 4:var Ae=((7&ge.charCodeAt(0))<<18|(63&ge.charCodeAt(1))<<12|(63&ge.charCodeAt(2))<<6|63&ge.charCodeAt(3))-65536;return m(55296+(Ae>>>10))+m(56320+(1023&Ae));case 3:return m((15&ge.charCodeAt(0))<<12|(63&ge.charCodeAt(1))<<6|63&ge.charCodeAt(2));default:return m((31&ge.charCodeAt(0))<<6|63&ge.charCodeAt(1))}},Y=function(ge){return ge.replace(B,Z)},W=function(ge){if(ge=ge.replace(/\s+/g,""),!u.test(ge))throw new TypeError("malformed base64.");ge+="==".slice(2-(3&ge.length));for(var Ne,He,qe,Ae="",Qe=0;Qe<ge.length;)Ne=M[ge.charAt(Qe++)]<<18|M[ge.charAt(Qe++)]<<12|(He=M[ge.charAt(Qe++)])<<6|(qe=M[ge.charAt(Qe++)]),Ae+=64===He?m(Ne>>16&255):64===qe?m(Ne>>16&255,Ne>>8&255):m(Ne>>16&255,Ne>>8&255,255&Ne);return Ae},re="function"==typeof atob?function(ge){return atob(p(ge))}:L?function(ge){return Buffer.from(ge,"base64").toString("binary")}:W,H=L?function(ge){return d(Buffer.from(ge,"base64"))}:function(ge){return d(re(ge).split("").map(function(Ne){return Ne.charCodeAt(0)}))},k=function(ge){return H(R(ge))},F=L?function(ge){return Buffer.from(ge,"base64").toString("utf8")}:I?function(ge){return I.decode(H(ge))}:function(ge){return Y(re(ge))},R=function(ge){return p(ge.replace(/[-_]/g,function(Ne){return"-"==Ne?"+":"/"}))},ne=function(ge){return F(R(ge))},ce=function(ge){return{value:ge,enumerable:!1,writable:!0,configurable:!0}},fe=function(){var ge=function(Ne,Ae){return Object.defineProperty(String.prototype,Ne,ce(Ae))};ge("fromBase64",function(){return ne(this)}),ge("toBase64",function(Ne){return j(this,Ne)}),ge("toBase64URI",function(){return j(this,!0)}),ge("toBase64URL",function(){return j(this,!0)}),ge("toUint8Array",function(){return k(this)})},me=function(){var ge=function(Ne,Ae){return Object.defineProperty(Uint8Array.prototype,Ne,ce(Ae))};ge("toBase64",function(Ne){return w(this,Ne)}),ge("toBase64URI",function(){return w(this,!0)}),ge("toBase64URL",function(){return w(this,!0)})},xe={version:z,VERSION:T,atob:re,atobPolyfill:W,btoa:h,btoaPolyfill:g,fromBase64:ne,toBase64:j,encode:j,encodeURI:K,encodeURL:K,utob:P,btou:Y,decode:ne,isValid:function(ge){if("string"!=typeof ge)return!1;var Ne=ge.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(Ne)||!/[^\s0-9a-zA-Z\-_]/.test(Ne)},fromUint8Array:w,toUint8Array:k,extendString:fe,extendUint8Array:me,extendBuiltins:function(){fe(),me()},Base64:{}};return Object.keys(xe).forEach(function(ge){return xe.Base64[ge]=xe[ge]}),xe}()},8174:q=>{var _e,T="__lodash_hash_undefined__",L=1/0,I="[object Function]",$="[object GeneratorFunction]",S="[object Symbol]",x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/,u=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,g="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,_=g||h||Function("return this")(),O=Array.prototype,P=Function.prototype,U=Object.prototype,j=_["__core-js_shared__"],K=(_e=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+_e:"",B=P.toString,Z=U.hasOwnProperty,Y=U.toString,W=RegExp("^"+B.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=_.Symbol,H=O.splice,k=it(_,"Map"),F=it(Object,"create"),R=re?re.prototype:void 0,ne=R?R.toString:void 0;function te(_e){var Fe=-1,gt=_e?_e.length:0;for(this.clear();++Fe<gt;){var kt=_e[Fe];this.set(kt[0],kt[1])}}function ge(_e){var Fe=-1,gt=_e?_e.length:0;for(this.clear();++Fe<gt;){var kt=_e[Fe];this.set(kt[0],kt[1])}}function ct(_e){var Fe=-1,gt=_e?_e.length:0;for(this.clear();++Fe<gt;){var kt=_e[Fe];this.set(kt[0],kt[1])}}function tn(_e,Fe){for(var gt=_e.length;gt--;)if(un(_e[gt][0],Fe))return gt;return-1}function We(_e,Fe){var gt=_e.__data__;return function yt(_e){var Fe=typeof _e;return"string"==Fe||"number"==Fe||"symbol"==Fe||"boolean"==Fe?"__proto__"!==_e:null===_e}(Fe)?gt["string"==typeof Fe?"string":"hash"]:gt.map}function it(_e,Fe){var gt=function w(_e,Fe){return _e?.[Fe]}(_e,Fe);return function pn(_e){if(!Gn(_e)||function Xt(_e){return!!K&&K in _e}(_e))return!1;var Fe=function Un(_e){var Fe=Gn(_e)?Y.call(_e):"";return Fe==I||Fe==$}(_e)||function D(_e){var Fe=!1;if(null!=_e&&"function"!=typeof _e.toString)try{Fe=!!(_e+"")}catch{}return Fe}(_e)?W:p;return Fe.test(function Tt(_e){if(null!=_e){try{return B.call(_e)}catch{}try{return _e+""}catch{}}return""}(_e))}(gt)?gt:void 0}te.prototype.clear=function ce(){this.__data__=F?F(null):{}},te.prototype.delete=function fe(_e){return this.has(_e)&&delete this.__data__[_e]},te.prototype.get=function me(_e){var Fe=this.__data__;if(F){var gt=Fe[_e];return gt===T?void 0:gt}return Z.call(Fe,_e)?Fe[_e]:void 0},te.prototype.has=function ue(_e){var Fe=this.__data__;return F?void 0!==Fe[_e]:Z.call(Fe,_e)},te.prototype.set=function xe(_e,Fe){return this.__data__[_e]=F&&void 0===Fe?T:Fe,this},ge.prototype.clear=function Ne(){this.__data__=[]},ge.prototype.delete=function Ae(_e){var Fe=this.__data__,gt=tn(Fe,_e);return!(gt<0||(gt==Fe.length-1?Fe.pop():H.call(Fe,gt,1),0))},ge.prototype.get=function He(_e){var Fe=this.__data__,gt=tn(Fe,_e);return gt<0?void 0:Fe[gt][1]},ge.prototype.has=function qe(_e){return tn(this.__data__,_e)>-1},ge.prototype.set=function Qe(_e,Fe){var gt=this.__data__,kt=tn(gt,_e);return kt<0?gt.push([_e,Fe]):gt[kt][1]=Fe,this},ct.prototype.clear=function ht(){this.__data__={hash:new te,map:new(k||ge),string:new te}},ct.prototype.delete=function ft(_e){return We(this,_e).delete(_e)},ct.prototype.get=function vt(_e){return We(this,_e).get(_e)},ct.prototype.has=function cn(_e){return We(this,_e).has(_e)},ct.prototype.set=function wt(_e,Fe){return We(this,_e).set(_e,Fe),this};var mn=Zt(function(_e){_e=function _n(_e){return null==_e?"":function Ce(_e){if("string"==typeof _e)return _e;if(Yn(_e))return ne?ne.call(_e):"";var Fe=_e+"";return"0"==Fe&&1/_e==-L?"-0":Fe}(_e)}(_e);var Fe=[];return u.test(_e)&&Fe.push(""),_e.replace(m,function(gt,kt,Cn,Dn){Fe.push(Cn?Dn.replace(f,"$1"):kt||gt)}),Fe});function Ze(_e){if("string"==typeof _e||Yn(_e))return _e;var Fe=_e+"";return"0"==Fe&&1/_e==-L?"-0":Fe}function Zt(_e,Fe){if("function"!=typeof _e||Fe&&"function"!=typeof Fe)throw new TypeError("Expected a function");var gt=function(){var kt=arguments,Cn=Fe?Fe.apply(this,kt):kt[0],Dn=gt.cache;if(Dn.has(Cn))return Dn.get(Cn);var hn=_e.apply(this,kt);return gt.cache=Dn.set(Cn,hn),hn};return gt.cache=new(Zt.Cache||ct),gt}function un(_e,Fe){return _e===Fe||_e!=_e&&Fe!=Fe}Zt.Cache=ct;var Nt=Array.isArray;function Gn(_e){var Fe=typeof _e;return!!_e&&("object"==Fe||"function"==Fe)}function Yn(_e){return"symbol"==typeof _e||function Rn(_e){return!!_e&&"object"==typeof _e}(_e)&&Y.call(_e)==S}q.exports=function Di(_e,Fe,gt){var kt=null==_e?void 0:function Qt(_e,Fe){Fe=function st(_e,Fe){if(Nt(_e))return!1;var gt=typeof _e;return!("number"!=gt&&"symbol"!=gt&&"boolean"!=gt&&null!=_e&&!Yn(_e))||M.test(_e)||!x.test(_e)||null!=Fe&&_e in Object(Fe)}(Fe,_e)?[Fe]:function Re(_e){return Nt(_e)?_e:mn(_e)}(Fe);for(var gt=0,kt=Fe.length;null!=_e&&gt<kt;)_e=_e[Ze(Fe[gt++])];return gt&&gt==kt?_e:void 0}(_e,Fe);return void 0===kt?gt:kt}},8546:(q,z,T)=>{q=T.nmd(q);var I="__lodash_hash_undefined__",$=1,S=2,x=9007199254740991,M="[object Arguments]",u="[object Array]",m="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Function]",h="[object GeneratorFunction]",_="[object Map]",w="[object Number]",D="[object Null]",O="[object Object]",P="[object Promise]",U="[object Proxy]",j="[object RegExp]",K="[object Set]",B="[object String]",Y="[object Undefined]",W="[object WeakMap]",re="[object ArrayBuffer]",H="[object DataView]",ge=/^\[object .+?Constructor\]$/,Ne=/^(?:0|[1-9]\d*)$/,Ae={};Ae["[object Float32Array]"]=Ae["[object Float64Array]"]=Ae["[object Int8Array]"]=Ae["[object Int16Array]"]=Ae["[object Int32Array]"]=Ae["[object Uint8Array]"]=Ae["[object Uint8ClampedArray]"]=Ae["[object Uint16Array]"]=Ae["[object Uint32Array]"]=!0,Ae[M]=Ae[u]=Ae[re]=Ae[d]=Ae[H]=Ae[f]=Ae[p]=Ae[g]=Ae[_]=Ae[w]=Ae[O]=Ae[j]=Ae[K]=Ae[B]=Ae[W]=!1;var He="object"==typeof global&&global&&global.Object===Object&&global,qe="object"==typeof self&&self&&self.Object===Object&&self,Qe=He||qe||Function("return this")(),ct=z&&!z.nodeType&&z,ht=ct&&q&&!q.nodeType&&q,ft=ht&&ht.exports===ct,vt=ft&&He.process,cn=function(){try{return vt&&vt.binding&&vt.binding("util")}catch{}}(),wt=cn&&cn.isTypedArray;function pn(De,Ke){for(var bt=-1,rn=null==De?0:De.length;++bt<rn;)if(Ke(De[bt],bt,De))return!0;return!1}function We(De,Ke){return De.has(Ke)}function st(De){var Ke=-1,bt=Array(De.size);return De.forEach(function(rn,_r){bt[++Ke]=[_r,rn]}),bt}function Xt(De){var Ke=-1,bt=Array(De.size);return De.forEach(function(rn){bt[++Ke]=rn}),bt}var De,mn=Array.prototype,Tt=Object.prototype,Zt=Qe["__core-js_shared__"],un=Function.prototype.toString,Nt=Tt.hasOwnProperty,Un=(De=/[^.]+$/.exec(Zt&&Zt.keys&&Zt.keys.IE_PROTO||""))?"Symbol(src)_1."+De:"",Gn=Tt.toString,Rn=RegExp("^"+un.call(Nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yn=ft?Qe.Buffer:void 0,_n=Qe.Symbol,Di=Qe.Uint8Array,_e=Tt.propertyIsEnumerable,Fe=mn.splice,gt=_n?_n.toStringTag:void 0,kt=Object.getOwnPropertySymbols,Cn=Yn?Yn.isBuffer:void 0,Dn=function yt(De,Ke){return function(bt){return De(Ke(bt))}}(Object.keys,Object),hn=xn(Qe,"DataView"),Ii=xn(Qe,"Map"),mi=xn(Qe,"Promise"),Qr=xn(Qe,"Set"),Is=xn(Qe,"WeakMap"),xt=xn(Object,"create"),zi=ya(hn),ur=ya(Ii),Ha=ya(mi),fi=ya(Qr),gi=ya(Is),Mn=_n?_n.prototype:void 0,Ws=Mn?Mn.valueOf:void 0;function _o(De){var Ke=-1,bt=null==De?0:De.length;for(this.clear();++Ke<bt;){var rn=De[Ke];this.set(rn[0],rn[1])}}function Hr(De){var Ke=-1,bt=null==De?0:De.length;for(this.clear();++Ke<bt;){var rn=De[Ke];this.set(rn[0],rn[1])}}function _t(De){var Ke=-1,bt=null==De?0:De.length;for(this.clear();++Ke<bt;){var rn=De[Ke];this.set(rn[0],rn[1])}}function ao(De){var Ke=-1,bt=null==De?0:De.length;for(this.__data__=new _t;++Ke<bt;)this.add(De[Ke])}function ln(De){var Ke=this.__data__=new Hr(De);this.size=Ke.size}function kn(De,Ke){for(var bt=De.length;bt--;)if(kh(De[bt][0],Ke))return bt;return-1}function vr(De){return null==De?void 0===De?Y:D:gt&&gt in Object(De)?function Lh(De){var Ke=Nt.call(De,gt),bt=De[gt];try{De[gt]=void 0;var rn=!0}catch{}var _r=Gn.call(De);return rn&&(Ke?De[gt]=bt:delete De[gt]),_r}(De):function qt(De){return Gn.call(De)}(De)}function ks(De){return Rc(De)&&vr(De)==M}function wn(De,Ke,bt,rn,_r){return De===Ke||(null==De||null==Ke||!Rc(De)&&!Rc(Ke)?De!=De&&Ke!=Ke:function fm(De,Ke,bt,rn,_r,qn){var hi=fc(De),Jr=fc(Ke),co=hi?u:uc(De),ar=Jr?u:uc(Ke),Ir=(co=co==M?O:co)==O,kr=(ar=ar==M?O:ar)==O,lo=co==ar;if(lo&&vl(De)){if(!vl(Ke))return!1;hi=!0,Ir=!1}if(lo&&!Ir)return qn||(qn=new ln),hi||d1(De)?T2(De,Ke,bt,rn,_r,qn):function Eh(De,Ke,bt,rn,_r,qn,hi){switch(bt){case H:if(De.byteLength!=Ke.byteLength||De.byteOffset!=Ke.byteOffset)return!1;De=De.buffer,Ke=Ke.buffer;case re:return!(De.byteLength!=Ke.byteLength||!qn(new Di(De),new Di(Ke)));case d:case f:case w:return kh(+De,+Ke);case p:return De.name==Ke.name&&De.message==Ke.message;case j:case B:return De==Ke+"";case _:var Jr=st;case K:if(Jr||(Jr=Xt),De.size!=Ke.size&&!(rn&$))return!1;var ar=hi.get(De);if(ar)return ar==Ke;rn|=S,hi.set(De,Ke);var Ir=T2(Jr(De),Jr(Ke),rn,_r,qn,hi);return hi.delete(De),Ir;case"[object Symbol]":if(Ws)return Ws.call(De)==Ws.call(Ke)}return!1}(De,Ke,co,bt,rn,_r,qn);if(!(bt&$)){var dn=Ir&&Nt.call(De,"__wrapped__"),jn=kr&&Nt.call(Ke,"__wrapped__");if(dn||jn){var Va=dn?De.value():De,bs=jn?Ke.value():Ke;return qn||(qn=new ln),_r(Va,bs,bt,rn,qn)}}return!!lo&&(qn||(qn=new ln),function c1(De,Ke,bt,rn,_r,qn){var hi=bt&$,Jr=E2(De),co=Jr.length;if(co!=E2(Ke).length&&!hi)return!1;for(var kr=co;kr--;){var lo=Jr[kr];if(!(hi?lo in Ke:Nt.call(Ke,lo)))return!1}var dn=qn.get(De);if(dn&&qn.get(Ke))return dn==Ke;var jn=!0;qn.set(De,Ke),qn.set(Ke,De);for(var Va=hi;++kr<co;){var bs=De[lo=Jr[kr]],Fc=Ke[lo];if(rn)var Oh=hi?rn(Fc,bs,lo,Ke,De,qn):rn(bs,Fc,lo,De,Ke,qn);if(!(void 0===Oh?bs===Fc||_r(bs,Fc,bt,rn,qn):Oh)){jn=!1;break}Va||(Va="constructor"==lo)}if(jn&&!Va){var ud=De.constructor,bl=Ke.constructor;ud!=bl&&"constructor"in De&&"constructor"in Ke&&!("function"==typeof ud&&ud instanceof ud&&"function"==typeof bl&&bl instanceof bl)&&(jn=!1)}return qn.delete(De),qn.delete(Ke),jn}(De,Ke,bt,rn,_r,qn))}(De,Ke,bt,rn,wn,_r))}function T2(De,Ke,bt,rn,_r,qn){var hi=bt&$,Jr=De.length,co=Ke.length;if(Jr!=co&&!(hi&&co>Jr))return!1;var ar=qn.get(De);if(ar&&qn.get(Ke))return ar==Ke;var Ir=-1,kr=!0,lo=bt&S?new ao:void 0;for(qn.set(De,Ke),qn.set(Ke,De);++Ir<Jr;){var dn=De[Ir],jn=Ke[Ir];if(rn)var Va=hi?rn(jn,dn,Ir,Ke,De,qn):rn(dn,jn,Ir,De,Ke,qn);if(void 0!==Va){if(Va)continue;kr=!1;break}if(lo){if(!pn(Ke,function(bs,Fc){if(!We(lo,Fc)&&(dn===bs||_r(dn,bs,bt,rn,qn)))return lo.push(Fc)})){kr=!1;break}}else if(dn!==jn&&!_r(dn,jn,bt,rn,qn)){kr=!1;break}}return qn.delete(De),qn.delete(Ke),kr}function E2(De){return function Ei(De,Ke,bt){var rn=Ke(De);return fc(De)?rn:function Qt(De,Ke){for(var bt=-1,rn=Ke.length,_r=De.length;++bt<rn;)De[_r+bt]=Ke[bt];return De}(rn,bt(De))}(De,D2,Ah)}function ko(De,Ke){var bt=De.__data__;return function hm(De){var Ke=typeof De;return"string"==Ke||"number"==Ke||"symbol"==Ke||"boolean"==Ke?"__proto__"!==De:null===De}(Ke)?bt["string"==typeof Ke?"string":"hash"]:bt.map}function xn(De,Ke){var bt=function it(De,Ke){return De?.[Ke]}(De,Ke);return function Th(De){return!(!at(De)||function tt(De){return!!Un&&Un in De}(De))&&(A2(De)?Rn:ge).test(ya(De))}(bt)?bt:void 0}_o.prototype.clear=function et(){this.__data__=xt?xt(null):{},this.size=0},_o.prototype.delete=function Xr(De){var Ke=this.has(De)&&delete this.__data__[De];return this.size-=Ke?1:0,Ke},_o.prototype.get=function bo(De){var Ke=this.__data__;if(xt){var bt=Ke[De];return bt===I?void 0:bt}return Nt.call(Ke,De)?Ke[De]:void 0},_o.prototype.has=function aa(De){var Ke=this.__data__;return xt?void 0!==Ke[De]:Nt.call(Ke,De)},_o.prototype.set=function ns(De,Ke){var bt=this.__data__;return this.size+=this.has(De)?0:1,bt[De]=xt&&void 0===Ke?I:Ke,this},Hr.prototype.clear=function ba(){this.__data__=[],this.size=0},Hr.prototype.delete=function yo(De){var Ke=this.__data__,bt=kn(Ke,De);return!(bt<0||(bt==Ke.length-1?Ke.pop():Fe.call(Ke,bt,1),--this.size,0))},Hr.prototype.get=function fr(De){var Ke=this.__data__,bt=kn(Ke,De);return bt<0?void 0:Ke[bt][1]},Hr.prototype.has=function gr(De){return kn(this.__data__,De)>-1},Hr.prototype.set=function hr(De,Ke){var bt=this.__data__,rn=kn(bt,De);return rn<0?(++this.size,bt.push([De,Ke])):bt[rn][1]=Ke,this},_t.prototype.clear=function Go(){this.size=0,this.__data__={hash:new _o,map:new(Ii||Hr),string:new _o}},_t.prototype.delete=function is(De){var Ke=ko(this,De).delete(De);return this.size-=Ke?1:0,Ke},_t.prototype.get=function a1(De){return ko(this,De).get(De)},_t.prototype.has=function jt(De){return ko(this,De).has(De)},_t.prototype.set=function Yt(De,Ke){var bt=ko(this,De),rn=bt.size;return bt.set(De,Ke),this.size+=bt.size==rn?0:1,this},ao.prototype.add=ao.prototype.push=function Jn(De){return this.__data__.set(De,I),this},ao.prototype.has=function Yo(De){return this.__data__.has(De)},ln.prototype.clear=function Io(){this.__data__=new Hr,this.size=0},ln.prototype.delete=function be(De){var Ke=this.__data__,bt=Ke.delete(De);return this.size=Ke.size,bt},ln.prototype.get=function Oe(De){return this.__data__.get(De)},ln.prototype.has=function Ie(De){return this.__data__.has(De)},ln.prototype.set=function je(De,Ke){var bt=this.__data__;if(bt instanceof Hr){var rn=bt.__data__;if(!Ii||rn.length<199)return rn.push([De,Ke]),this.size=++bt.size,this;bt=this.__data__=new _t(rn)}return bt.set(De,Ke),this.size=bt.size,this};var Ah=kt?function(De){return null==De?[]:(De=Object(De),function tn(De,Ke){for(var bt=-1,rn=null==De?0:De.length,_r=0,qn=[];++bt<rn;){var hi=De[bt];Ke(hi,bt,De)&&(qn[_r++]=hi)}return qn}(kt(De),function(Ke){return _e.call(De,Ke)}))}:function _l(){return[]},uc=vr;function Dh(De,Ke){return!!(Ke=Ke??x)&&("number"==typeof De||Ne.test(De))&&De>-1&&De%1==0&&De<Ke}function ya(De){if(null!=De){try{return un.call(De)}catch{}try{return De+""}catch{}}return""}function kh(De,Ke){return De===Ke||De!=De&&Ke!=Ke}(hn&&uc(new hn(new ArrayBuffer(1)))!=H||Ii&&uc(new Ii)!=_||mi&&uc(mi.resolve())!=P||Qr&&uc(new Qr)!=K||Is&&uc(new Is)!=W)&&(uc=function(De){var Ke=vr(De),bt=Ke==O?De.constructor:void 0,rn=bt?ya(bt):"";if(rn)switch(rn){case zi:return H;case ur:return _;case Ha:return P;case fi:return K;case gi:return W}return Ke});var l1=ks(function(){return arguments}())?ks:function(De){return Rc(De)&&Nt.call(De,"callee")&&!_e.call(De,"callee")},fc=Array.isArray,vl=Cn||function dd(){return!1};function A2(De){if(!at(De))return!1;var Ke=vr(De);return Ke==g||Ke==h||Ke==m||Ke==U}function ld(De){return"number"==typeof De&&De>-1&&De%1==0&&De<=x}function at(De){var Ke=typeof De;return null!=De&&("object"==Ke||"function"==Ke)}function Rc(De){return null!=De&&"object"==typeof De}var d1=wt?function Re(De){return function(Ke){return De(Ke)}}(wt):function S2(De){return Rc(De)&&ld(De.length)&&!!Ae[vr(De)]};function D2(De){return function cd(De){return null!=De&&ld(De.length)&&!A2(De)}(De)?function In(De,Ke){var bt=fc(De),rn=!bt&&l1(De),_r=!bt&&!rn&&vl(De),qn=!bt&&!rn&&!_r&&d1(De),hi=bt||rn||_r||qn,Jr=hi?function Ce(De,Ke){for(var bt=-1,rn=Array(De);++bt<De;)rn[bt]=Ke(bt);return rn}(De.length,String):[],co=Jr.length;for(var ar in De)(Ke||Nt.call(De,ar))&&(!hi||!("length"==ar||_r&&("offset"==ar||"parent"==ar)||qn&&("buffer"==ar||"byteLength"==ar||"byteOffset"==ar)||Dh(ar,co)))&&Jr.push(ar);return Jr}(De):function Ua(De){if(!function Ih(De){var Ke=De&&De.constructor;return De===("function"==typeof Ke&&Ke.prototype||Tt)}(De))return Dn(De);var Ke=[];for(var bt in Object(De))Nt.call(De,bt)&&"constructor"!=bt&&Ke.push(bt);return Ke}(De)}q.exports=function L2(De,Ke){return wn(De,Ke)}},9389:q=>{var z=1e3,T=60*z,L=60*T,I=24*L;function m(d,f,p,g){var h=f>=1.5*p;return Math.round(d/p)+" "+g+(h?"s":"")}q.exports=function(d,f){f=f||{};var p=typeof d;if("string"===p&&d.length>0)return function x(d){if(!((d=String(d)).length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]);switch((f[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*p;case"weeks":case"week":case"w":return 6048e5*p;case"days":case"day":case"d":return p*I;case"hours":case"hour":case"hrs":case"hr":case"h":return p*L;case"minutes":case"minute":case"mins":case"min":case"m":return p*T;case"seconds":case"second":case"secs":case"sec":case"s":return p*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}(d);if("number"===p&&isFinite(d))return f.long?function u(d){var f=Math.abs(d);return f>=I?m(d,f,I,"day"):f>=L?m(d,f,L,"hour"):f>=T?m(d,f,T,"minute"):f>=z?m(d,f,z,"second"):d+" ms"}(d):function M(d){var f=Math.abs(d);return f>=I?Math.round(d/I)+"d":f>=L?Math.round(d/L)+"h":f>=T?Math.round(d/T)+"m":f>=z?Math.round(d/z)+"s":d+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},9711:(q,z,T)=>{var L="function"==typeof Map&&Map.prototype,I=Object.getOwnPropertyDescriptor&&L?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,$=L&&I&&"function"==typeof I.get?I.get:null,S=L&&Map.prototype.forEach,x="function"==typeof Set&&Set.prototype,M=Object.getOwnPropertyDescriptor&&x?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=x&&M&&"function"==typeof M.get?M.get:null,m=x&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,g="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,_="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,w=Boolean.prototype.valueOf,D=Object.prototype.toString,O=Function.prototype.toString,P=String.prototype.match,U=String.prototype.slice,j=String.prototype.replace,K=String.prototype.toUpperCase,B=String.prototype.toLowerCase,Z=RegExp.prototype.test,Y=Array.prototype.concat,W=Array.prototype.join,re=Array.prototype.slice,H=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,F=Object.getOwnPropertySymbols,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ne="function"==typeof Symbol&&"object"==typeof Symbol.iterator,te="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ce=Object.prototype.propertyIsEnumerable,fe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(_e){return _e.__proto__}:null);function me(_e,Fe){if(_e===1/0||_e===-1/0||_e!=_e||_e&&_e>-1e3&&_e<1e3||Z.call(/e/,Fe))return Fe;var gt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof _e){var kt=_e<0?-H(-_e):H(_e);if(kt!==_e){var Cn=String(kt),Dn=U.call(Fe,Cn.length+1);return j.call(Cn,gt,"$&_")+"."+j.call(j.call(Dn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return j.call(Fe,gt,"$&_")}var ue=T(2634),xe=ue.custom,ge=tn(xe)?xe:null,Ne={__proto__:null,double:'"',single:"'"},Ae={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function He(_e,Fe,gt){var Cn=Ne[gt.quoteStyle||Fe];return Cn+_e+Cn}function qe(_e){return j.call(String(_e),/"/g,"&quot;")}function Qe(_e){return!("[object Array]"!==Re(_e)||te&&"object"==typeof _e&&te in _e)}function ht(_e){return!("[object RegExp]"!==Re(_e)||te&&"object"==typeof _e&&te in _e)}function tn(_e){if(ne)return _e&&"object"==typeof _e&&_e instanceof Symbol;if("symbol"==typeof _e)return!0;if(!_e||"object"!=typeof _e||!R)return!1;try{return R.call(_e),!0}catch{}return!1}q.exports=function _e(Fe,gt,kt,Cn){var Dn=gt||{};if(Ce(Dn,"quoteStyle")&&!Ce(Ne,Dn.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ce(Dn,"maxStringLength")&&("number"==typeof Dn.maxStringLength?Dn.maxStringLength<0&&Dn.maxStringLength!==1/0:null!==Dn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var hn=!Ce(Dn,"customInspect")||Dn.customInspect;if("boolean"!=typeof hn&&"symbol"!==hn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ce(Dn,"indent")&&null!==Dn.indent&&"\t"!==Dn.indent&&!(parseInt(Dn.indent,10)===Dn.indent&&Dn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ce(Dn,"numericSeparator")&&"boolean"!=typeof Dn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ii=Dn.numericSeparator;if(typeof Fe>"u")return"undefined";if(null===Fe)return"null";if("boolean"==typeof Fe)return Fe?"true":"false";if("string"==typeof Fe)return Zt(Fe,Dn);if("number"==typeof Fe){if(0===Fe)return 1/0/Fe>0?"0":"-0";var mi=String(Fe);return Ii?me(Fe,mi):mi}if("bigint"==typeof Fe){var Qr=String(Fe)+"n";return Ii?me(Fe,Qr):Qr}var Is=typeof Dn.depth>"u"?5:Dn.depth;if(typeof kt>"u"&&(kt=0),kt>=Is&&Is>0&&"object"==typeof Fe)return Qe(Fe)?"[Array]":"[Object]";var xt=function Yn(_e,Fe){var gt;if("\t"===_e.indent)gt="\t";else{if(!("number"==typeof _e.indent&&_e.indent>0))return null;gt=W.call(Array(_e.indent+1)," ")}return{base:gt,prev:W.call(Array(Fe+1),gt)}}(Dn,kt);if(typeof Cn>"u")Cn=[];else if(it(Cn,Fe)>=0)return"[Circular]";function zi(gr,hr,_t){if(hr&&(Cn=re.call(Cn)).push(hr),_t){var Go={depth:Dn.depth};return Ce(Dn,"quoteStyle")&&(Go.quoteStyle=Dn.quoteStyle),_e(gr,Go,kt+1,Cn)}return _e(gr,Dn,kt+1,Cn)}if("function"==typeof Fe&&!ht(Fe)){var ur=function We(_e){if(_e.name)return _e.name;var Fe=P.call(O.call(_e),/^function\s*([\w$]+)/);return Fe?Fe[1]:null}(Fe),Ha=Di(Fe,zi);return"[Function"+(ur?": "+ur:" (anonymous)")+"]"+(Ha.length>0?" { "+W.call(Ha,", ")+" }":"")}if(tn(Fe)){var fi=ne?j.call(String(Fe),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(Fe);return"object"!=typeof Fe||ne?fi:Nt(fi)}if(function Tt(_e){return!(!_e||"object"!=typeof _e)&&(typeof HTMLElement<"u"&&_e instanceof HTMLElement||"string"==typeof _e.nodeName&&"function"==typeof _e.getAttribute)}(Fe)){for(var gi="<"+B.call(String(Fe.nodeName)),Mn=Fe.attributes||[],Ws=0;Ws<Mn.length;Ws++)gi+=" "+Mn[Ws].name+"="+He(qe(Mn[Ws].value),"double",Dn);return gi+=">",Fe.childNodes&&Fe.childNodes.length&&(gi+="..."),gi+"</"+B.call(String(Fe.nodeName))+">"}if(Qe(Fe)){if(0===Fe.length)return"[]";var _o=Di(Fe,zi);return xt&&!function Rn(_e){for(var Fe=0;Fe<_e.length;Fe++)if(it(_e[Fe],"\n")>=0)return!1;return!0}(_o)?"["+_n(_o,xt)+"]":"[ "+W.call(_o,", ")+" ]"}if(function ft(_e){return!("[object Error]"!==Re(_e)||te&&"object"==typeof _e&&te in _e)}(Fe)){var et=Di(Fe,zi);return"cause"in Error.prototype||!("cause"in Fe)||ce.call(Fe,"cause")?0===et.length?"["+String(Fe)+"]":"{ ["+String(Fe)+"] "+W.call(et,", ")+" }":"{ ["+String(Fe)+"] "+W.call(Y.call("[cause]: "+zi(Fe.cause),et),", ")+" }"}if("object"==typeof Fe&&hn){if(ge&&"function"==typeof Fe[ge]&&ue)return ue(Fe,{depth:Is-kt});if("symbol"!==hn&&"function"==typeof Fe.inspect)return Fe.inspect()}if(function st(_e){if(!$||!_e||"object"!=typeof _e)return!1;try{$.call(_e);try{u.call(_e)}catch{return!0}return _e instanceof Map}catch{}return!1}(Fe)){var Xr=[];return S&&S.call(Fe,function(gr,hr){Xr.push(zi(hr,Fe,!0)+" => "+zi(gr,Fe))}),Gn("Map",$.call(Fe),Xr,xt)}if(function mn(_e){if(!u||!_e||"object"!=typeof _e)return!1;try{u.call(_e);try{$.call(_e)}catch{return!0}return _e instanceof Set}catch{}return!1}(Fe)){var bo=[];return m&&m.call(Fe,function(gr){bo.push(zi(gr,Fe))}),Gn("Set",u.call(Fe),bo,xt)}if(function yt(_e){if(!f||!_e||"object"!=typeof _e)return!1;try{f.call(_e,f);try{g.call(_e,g)}catch{return!0}return _e instanceof WeakMap}catch{}return!1}(Fe))return Un("WeakMap");if(function Ze(_e){if(!g||!_e||"object"!=typeof _e)return!1;try{g.call(_e,g);try{f.call(_e,f)}catch{return!0}return _e instanceof WeakSet}catch{}return!1}(Fe))return Un("WeakSet");if(function Xt(_e){if(!_||!_e||"object"!=typeof _e)return!1;try{return _.call(_e),!0}catch{}return!1}(Fe))return Un("WeakRef");if(function cn(_e){return!("[object Number]"!==Re(_e)||te&&"object"==typeof _e&&te in _e)}(Fe))return Nt(zi(Number(Fe)));if(function Qt(_e){if(!_e||"object"!=typeof _e||!k)return!1;try{return k.call(_e),!0}catch{}return!1}(Fe))return Nt(zi(k.call(Fe)));if(function wt(_e){return!("[object Boolean]"!==Re(_e)||te&&"object"==typeof _e&&te in _e)}(Fe))return Nt(w.call(Fe));if(function vt(_e){return!("[object String]"!==Re(_e)||te&&"object"==typeof _e&&te in _e)}(Fe))return Nt(zi(String(Fe)));if(typeof window<"u"&&Fe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Fe===globalThis||typeof global<"u"&&Fe===global)return"{ [object globalThis] }";if(!function ct(_e){return!("[object Date]"!==Re(_e)||te&&"object"==typeof _e&&te in _e)}(Fe)&&!ht(Fe)){var aa=Di(Fe,zi),ns=fe?fe(Fe)===Object.prototype:Fe instanceof Object||Fe.constructor===Object,Hr=Fe instanceof Object?"":"null prototype",ba=!ns&&te&&Object(Fe)===Fe&&te in Fe?U.call(Re(Fe),8,-1):Hr?"Object":"",fr=(ns||"function"!=typeof Fe.constructor?"":Fe.constructor.name?Fe.constructor.name+" ":"")+(ba||Hr?"["+W.call(Y.call([],ba||[],Hr||[]),": ")+"] ":"");return 0===aa.length?fr+"{}":xt?fr+"{"+_n(aa,xt)+"}":fr+"{ "+W.call(aa,", ")+" }"}return String(Fe)};var pn=Object.prototype.hasOwnProperty||function(_e){return _e in this};function Ce(_e,Fe){return pn.call(_e,Fe)}function Re(_e){return D.call(_e)}function it(_e,Fe){if(_e.indexOf)return _e.indexOf(Fe);for(var gt=0,kt=_e.length;gt<kt;gt++)if(_e[gt]===Fe)return gt;return-1}function Zt(_e,Fe){if(_e.length>Fe.maxStringLength){var gt=_e.length-Fe.maxStringLength,kt="... "+gt+" more character"+(gt>1?"s":"");return Zt(U.call(_e,0,Fe.maxStringLength),Fe)+kt}var Cn=Ae[Fe.quoteStyle||"single"];return Cn.lastIndex=0,He(j.call(j.call(_e,Cn,"\\$1"),/[\x00-\x1f]/g,un),"single",Fe)}function un(_e){var Fe=_e.charCodeAt(0),gt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Fe];return gt?"\\"+gt:"\\x"+(Fe<16?"0":"")+K.call(Fe.toString(16))}function Nt(_e){return"Object("+_e+")"}function Un(_e){return _e+" { ? }"}function Gn(_e,Fe,gt,kt){return _e+" ("+Fe+") {"+(kt?_n(gt,kt):W.call(gt,", "))+"}"}function _n(_e,Fe){if(0===_e.length)return"";var gt="\n"+Fe.prev+Fe.base;return gt+W.call(_e,","+gt)+"\n"+Fe.prev}function Di(_e,Fe){var gt=Qe(_e),kt=[];if(gt){kt.length=_e.length;for(var Cn=0;Cn<_e.length;Cn++)kt[Cn]=Ce(_e,Cn)?Fe(_e[Cn],_e):""}var hn,Dn="function"==typeof F?F(_e):[];if(ne){hn={};for(var Ii=0;Ii<Dn.length;Ii++)hn["$"+Dn[Ii]]=Dn[Ii]}for(var mi in _e)Ce(_e,mi)&&(gt&&String(Number(mi))===mi&&mi<_e.length||ne&&hn["$"+mi]instanceof Symbol||(Z.call(/[^\w$]/,mi)?kt.push(Fe(mi,_e)+": "+Fe(_e[mi],_e)):kt.push(mi+": "+Fe(_e[mi],_e))));if("function"==typeof F)for(var Qr=0;Qr<Dn.length;Qr++)ce.call(_e,Dn[Qr])&&kt.push("["+Fe(Dn[Qr])+"]: "+Fe(_e[Dn[Qr]],_e));return kt}},8791:(q,z,T)=>{"use strict";var L;if(!Object.keys){var I=Object.prototype.hasOwnProperty,$=Object.prototype.toString,S=T(585),x=Object.prototype.propertyIsEnumerable,M=!x.call({toString:null},"toString"),u=x.call(function(){},"prototype"),m=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(h){var _=h.constructor;return _&&_.prototype===h},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!f["$"+h]&&I.call(window,h)&&null!==window[h]&&"object"==typeof window[h])try{d(window[h])}catch{return!0}}catch{return!0}return!1}();L=function(_){var w=null!==_&&"object"==typeof _,D="[object Function]"===$.call(_),O=S(_),P=w&&"[object String]"===$.call(_),U=[];if(!w&&!D&&!O)throw new TypeError("Object.keys called on a non-object");var j=u&&D;if(P&&_.length>0&&!I.call(_,0))for(var K=0;K<_.length;++K)U.push(String(K));if(O&&_.length>0)for(var B=0;B<_.length;++B)U.push(String(B));else for(var Z in _)(!j||"prototype"!==Z)&&I.call(_,Z)&&U.push(String(Z));if(M)for(var Y=function(h){if(typeof window>"u"||!p)return d(h);try{return d(h)}catch{return!1}}(_),W=0;W<m.length;++W)(!Y||"constructor"!==m[W])&&I.call(_,m[W])&&U.push(m[W]);return U}}q.exports=L},241:(q,z,T)=>{"use strict";var L=Array.prototype.slice,I=T(585),$=Object.keys,S=$?function(u){return $(u)}:T(8791),x=Object.keys;S.shim=function(){if(Object.keys){var u=function(){var m=Object.keys(arguments);return m&&m.length===arguments.length}(1,2);u||(Object.keys=function(d){return I(d)?x(L.call(d)):x(d)})}else Object.keys=S;return Object.keys||S},q.exports=S},585:q=>{"use strict";var z=Object.prototype.toString;q.exports=function(L){var I=z.call(L),$="[object Arguments]"===I;return $||($="[object Array]"!==I&&null!==L&&"object"==typeof L&&"number"==typeof L.length&&L.length>=0&&"[object Function]"===z.call(L.callee)),$}},830:q=>{"use strict";q.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},859:(q,z,T)=>{"use strict";var I=T(9249)("%Array.prototype.concat%"),$=T(9475),x=T(4831)("Array.prototype.slice"),u=T(5401)()&&Symbol.isConcatSpreadable,m=[],d=u?$.apply(I,m):null,f=u?T(8606):null;q.exports=u?function(g){for(var h=0;h<arguments.length;h+=1){var _=arguments[h];if(_&&"object"==typeof _&&"boolean"==typeof _[u]){m[u]||(m[u]=!0);var w=f(_)?x(_):[_];w[u]=!0,arguments[h]=w}}return d(arguments)}:$(I,m)},6749:(q,z,T)=>{"use strict";var L=T(4831),I=T(7212),$=L("RegExp.prototype.exec"),S=T(9327);q.exports=function(M){if(!I(M))throw new S("`regex` must be a RegExp");return function(m){return null!==$(M,m)}}},6760:(q,z,T)=>{const L=T(8724),{MAX_LENGTH:I,MAX_SAFE_INTEGER:$}=T(286),{safeRe:S,t:x}=T(1666),M=T(9879),{compareIdentifiers:u}=T(8911);class m{constructor(f,p){if(p=M(p),f instanceof m){if(f.loose===!!p.loose&&f.includePrerelease===!!p.includePrerelease)return f;f=f.version}else if("string"!=typeof f)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>I)throw new TypeError(`version is longer than ${I} characters`);L("SemVer",f,p),this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease;const g=f.trim().match(p.loose?S[x.LOOSE]:S[x.FULL]);if(!g)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>$||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=g[4]?g[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const _=+h;if(_>=0&&_<$)return _}return h}):[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(L("SemVer.compare",this.version,this.options,f),!(f instanceof m)){if("string"==typeof f&&f===this.version)return 0;f=new m(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof m||(f=new m(f,this.options)),u(this.major,f.major)||u(this.minor,f.minor)||u(this.patch,f.patch)}comparePre(f){if(f instanceof m||(f=new m(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let p=0;do{const g=this.prerelease[p],h=f.prerelease[p];if(L("prerelease compare",p,g,h),void 0===g&&void 0===h)return 0;if(void 0===h)return 1;if(void 0===g)return-1;if(g!==h)return u(g,h)}while(++p)}compareBuild(f){f instanceof m||(f=new m(f,this.options));let p=0;do{const g=this.build[p],h=f.build[p];if(L("prerelease compare",p,g,h),void 0===g&&void 0===h)return 0;if(void 0===h)return 1;if(void 0===g)return-1;if(g!==h)return u(g,h)}while(++p)}inc(f,p,g){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",p,g);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",p,g);break;case"prepatch":this.prerelease.length=0,this.inc("patch",p,g),this.inc("pre",p,g);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",p,g),this.inc("pre",p,g);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(g)?1:0;if(!p&&!1===g)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[h];else{let _=this.prerelease.length;for(;--_>=0;)"number"==typeof this.prerelease[_]&&(this.prerelease[_]++,_=-2);if(-1===_){if(p===this.prerelease.join(".")&&!1===g)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(p){let _=[p,h];!1===g&&(_=[p]),0===u(this.prerelease[0],p)?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}q.exports=m},4897:(q,z,T)=>{const L=T(6760);q.exports=($,S,x)=>{const M=new L($,x),u=new L(S,x);return M.compare(u)||M.compareBuild(u)}},827:(q,z,T)=>{const L=T(4897);q.exports=($,S)=>$.sort((x,M)=>L(M,x,S))},286:q=>{q.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},8724:q=>{const z="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...T)=>console.error("SEMVER",...T):()=>{};q.exports=z},8911:q=>{const z=/^[0-9]+$/,T=(I,$)=>{const S=z.test(I),x=z.test($);return S&&x&&(I=+I,$=+$),I===$?0:S&&!x?-1:x&&!S?1:I<$?-1:1};q.exports={compareIdentifiers:T,rcompareIdentifiers:(I,$)=>T($,I)}},9879:q=>{const z=Object.freeze({loose:!0}),T=Object.freeze({});q.exports=I=>I?"object"!=typeof I?z:I:T},1666:(q,z,T)=>{const{MAX_SAFE_COMPONENT_LENGTH:L,MAX_SAFE_BUILD_LENGTH:I,MAX_LENGTH:$}=T(286),S=T(8724),x=(z=q.exports={}).re=[],M=z.safeRe=[],u=z.src=[],m=z.t={};let d=0;const f="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",$],[f,I]],h=(_,w,D)=>{const O=(_=>{for(const[w,D]of p)_=_.split(`${w}*`).join(`${w}{0,${D}}`).split(`${w}+`).join(`${w}{1,${D}}`);return _})(w),P=d++;S(_,P,w),m[_]=P,u[P]=w,x[P]=new RegExp(w,D?"g":void 0),M[P]=new RegExp(O,D?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),h("MAINVERSION",`(${u[m.NUMERICIDENTIFIER]})\\.(${u[m.NUMERICIDENTIFIER]})\\.(${u[m.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${u[m.NUMERICIDENTIFIERLOOSE]})\\.(${u[m.NUMERICIDENTIFIERLOOSE]})\\.(${u[m.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${u[m.NUMERICIDENTIFIER]}|${u[m.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${u[m.NUMERICIDENTIFIERLOOSE]}|${u[m.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${u[m.PRERELEASEIDENTIFIER]}(?:\\.${u[m.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${u[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[m.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${f}+`),h("BUILD",`(?:\\+(${u[m.BUILDIDENTIFIER]}(?:\\.${u[m.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${u[m.MAINVERSION]}${u[m.PRERELEASE]}?${u[m.BUILD]}?`),h("FULL",`^${u[m.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${u[m.MAINVERSIONLOOSE]}${u[m.PRERELEASELOOSE]}?${u[m.BUILD]}?`),h("LOOSE",`^${u[m.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${u[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${u[m.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${u[m.XRANGEIDENTIFIER]})(?:\\.(${u[m.XRANGEIDENTIFIER]})(?:\\.(${u[m.XRANGEIDENTIFIER]})(?:${u[m.PRERELEASE]})?${u[m.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${u[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[m.XRANGEIDENTIFIERLOOSE]})(?:${u[m.PRERELEASELOOSE]})?${u[m.BUILD]}?)?)?`),h("XRANGE",`^${u[m.GTLT]}\\s*${u[m.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${u[m.GTLT]}\\s*${u[m.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${L}})(?:\\.(\\d{1,${L}}))?(?:\\.(\\d{1,${L}}))?`),h("COERCE",`${u[m.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",u[m.COERCEPLAIN]+`(?:${u[m.PRERELEASE]})?(?:${u[m.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",u[m.COERCE],!0),h("COERCERTLFULL",u[m.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${u[m.LONETILDE]}\\s+`,!0),z.tildeTrimReplace="$1~",h("TILDE",`^${u[m.LONETILDE]}${u[m.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${u[m.LONETILDE]}${u[m.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${u[m.LONECARET]}\\s+`,!0),z.caretTrimReplace="$1^",h("CARET",`^${u[m.LONECARET]}${u[m.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${u[m.LONECARET]}${u[m.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${u[m.GTLT]}\\s*(${u[m.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${u[m.GTLT]}\\s*(${u[m.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${u[m.GTLT]}\\s*(${u[m.LOOSEPLAIN]}|${u[m.XRANGEPLAIN]})`,!0),z.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${u[m.XRANGEPLAIN]})\\s+-\\s+(${u[m.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${u[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[m.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},8797:(q,z,T)=>{"use strict";var L=T(9249),I=T(3333),$=T(4052)(),S=T(1031),x=T(9327),M=L("%Math.floor%");q.exports=function(m,d){if("function"!=typeof m)throw new x("`fn` is not a function");if("number"!=typeof d||d<0||d>4294967295||M(d)!==d)throw new x("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],p=!0,g=!0;if("length"in m&&S){var h=S(m,"length");h&&!h.configurable&&(p=!1),h&&!h.writable&&(g=!1)}return(p||g||!f)&&($?I(m,"length",d,!0,!0):I(m,"length",d)),m}},7682:(q,z,T)=>{"use strict";var L=T(1704),I=T(454),S=T(4831)("String.prototype.replace"),x=/^\s$/.test("\u180e"),M=x?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=x?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;q.exports=function(){var d=I(L(this));return S(S(d,M,""),u,"")}},6730:(q,z,T)=>{"use strict";var L=T(9475),I=T(4296),$=T(1704),S=T(7682),x=T(1435),M=T(3645),u=L(x()),m=function(f){return $(f),u(f)};I(m,{getPolyfill:x,implementation:S,shim:M}),q.exports=m},1435:(q,z,T)=>{"use strict";var L=T(7682);q.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:L}},3645:(q,z,T)=>{"use strict";var L=T(4296),I=T(1435);q.exports=function(){var S=I();return L(String.prototype,{trim:S},{trim:function(){return String.prototype.trim!==S}}),S}},8507:(q,z,T)=>{"use strict";var L=T(7323),I=T(7972),$=T(1031);function S(Y){return Object.prototype.toString.call(Y)}var p=Array.isArray||function(W){return"[object Array]"===Object.prototype.toString.call(W)};function g(Y,W){if(Y.forEach)return Y.forEach(W);for(var re=0;re<Y.length;re++)W(Y[re],re,Y)}var h=Object.keys||function(W){var re=[];for(var H in W)re[re.length]=H;return re},_=Object.prototype.propertyIsEnumerable,w=Object.getOwnPropertySymbols;function D(Y){var W=h(Y);if(w)for(var re=w(Y),H=0;H<re.length;H++)_.call(Y,re[H])&&(W[W.length]=re[H]);return W}var O=Object.prototype.hasOwnProperty||function(Y,W){return W in Y};function U(Y,W){if("object"==typeof Y&&null!==Y){var re;if(p(Y))re=[];else if(function x(Y){return"[object Date]"===S(Y)}(Y))re=new Date(Y.getTime?Y.getTime():Y);else if(function M(Y){return"[object RegExp]"===S(Y)}(Y))re=new RegExp(Y);else if(function u(Y){return"[object Error]"===S(Y)}(Y))re={message:Y.message};else if(function m(Y){return"[object Boolean]"===S(Y)}(Y)||function d(Y){return"[object Number]"===S(Y)}(Y)||function f(Y){return"[object String]"===S(Y)}(Y))re=Object(Y);else{if(L(Y))return I(Y);if(Object.create&&Object.getPrototypeOf)re=Object.create(Object.getPrototypeOf(Y));else if(Y.constructor===Object)re={};else{var F=function(){};F.prototype=Y.constructor&&Y.constructor.prototype||Y.__proto__||{},re=new F}}return g((W.includeSymbols?D:h)(Y),function(ne){re[ne]=Y[ne]}),re}return Y}var j={__proto__:null};function K(Y,W){var re=[],H=[],k=!0,F=arguments.length>2?arguments[2]:j,R=F.includeSymbols?D:h,ne=!!F.immutable;return function te(ce){var fe=ne?U(ce,F):ce,me={__proto__:null},ue=!0,xe={node:fe,node_:ce,path:[].concat(re),parent:H[H.length-1],parents:H,key:re[re.length-1],removedKeys:{__proto__:null},isRoot:0===re.length,level:re.length,circular:null,update:function(Ae,He){xe.isRoot||(xe.parent.node[xe.key]=Ae),xe.node=Ae,He&&(ue=!1)},delete:function(Ae){delete xe.parent.node[xe.key],xe.parent.removedKeys[xe.key]=!0,Ae&&(ue=!1)},remove:function(Ae){p(xe.parent.node)?(xe.parent.node.splice(xe.key,1),xe.parent.removedKeys[xe.key]=!0,Ae&&(ue=!1)):xe.delete(Ae)},keys:null,before:function(Ae){me.before=Ae},after:function(Ae){me.after=Ae},pre:function(Ae){me.pre=Ae},post:function(Ae){me.post=Ae},stop:function(){k=!1},block:function(){ue=!1}};if(!k)return xe;function ge(){if("object"==typeof xe.node&&null!==xe.node){(!xe.keys||xe.node_!==xe.node)&&(xe.keys=R(xe.node)),xe.isLeaf=0===xe.keys.length;for(var Ae=0;Ae<H.length;Ae++)if(H[Ae].node_===ce){xe.circular=H[Ae];break}}else xe.isLeaf=!0,xe.keys=null;xe.notLeaf=!xe.isLeaf,xe.notRoot=!xe.isRoot}ge();var Ne=W.call(xe,xe.node);return void 0!==Ne&&xe.update&&xe.update(Ne),me.before&&me.before.call(xe,xe.node),ue&&("object"==typeof xe.node&&null!==xe.node&&!xe.circular&&(H[H.length]=xe,ge(),g(xe.keys,function(Ae,He){var qe=He-1 in xe.removedKeys;qe&&(Ae=xe.keys[He-1]),re[re.length]=Ae,me.pre&&me.pre.call(xe,xe.node[Ae],Ae);var Qe=te(xe.node[Ae]);ne&&O.call(xe.node,Ae)&&!function P(Y,W){if("function"!=typeof $)return!0;var re=$(Y,W);return!re||!re.writable}(xe.node,Ae)&&!qe&&(xe.node[Ae]=Qe.node),Qe.isLast=He===xe.keys.length-1,Qe.isFirst=0===He,me.post&&me.post.call(xe,Qe),re.pop()}),H.pop()),me.after&&me.after.call(xe,xe.node)),xe}(Y).node}function B(Y){this.options=arguments.length>1?arguments[1]:j,this.value=Y}function Z(Y){return new B(Y,arguments.length>1?arguments[1]:j)}B.prototype.get=function(Y){for(var W=this.value,re=0;W&&re<Y.length;re++){var H=Y[re];if(!O.call(W,H)||!this.options.includeSymbols&&"symbol"==typeof H)return;W=W[H]}return W},B.prototype.has=function(Y){for(var W=this.value,re=0;W&&re<Y.length;re++){var H=Y[re];if(!O.call(W,H)||!this.options.includeSymbols&&"symbol"==typeof H)return!1;W=W[H]}return!0},B.prototype.set=function(Y,W){for(var re=this.value,H=0;H<Y.length-1;H++){var k=Y[H];O.call(re,k)||(re[k]={}),re=re[k]}return re[Y[H]]=W,W},B.prototype.map=function(Y){return K(this.value,Y,{__proto__:null,immutable:!0,includeSymbols:!!this.options.includeSymbols})},B.prototype.forEach=function(Y){return this.value=K(this.value,Y,this.options),this.value},B.prototype.reduce=function(Y,W){var re=1===arguments.length,H=re?this.value:W;return this.forEach(function(k){(!this.isRoot||!re)&&(H=Y.call(this,H,k))}),H},B.prototype.paths=function(){var Y=[];return this.forEach(function(){Y[Y.length]=this.path}),Y},B.prototype.nodes=function(){var Y=[];return this.forEach(function(){Y[Y.length]=this.node}),Y},B.prototype.clone=function(){var Y=[],W=[],re=this.options;return L(this.value)?I(this.value):function H(k){for(var F=0;F<Y.length;F++)if(Y[F]===k)return W[F];if("object"==typeof k&&null!==k){var R=U(k,re);return Y[Y.length]=k,W[W.length]=R,g((re.includeSymbols?D:h)(k),function(te){R[te]=H(k[te])}),Y.pop(),W.pop(),R}return k}(this.value)},g(D(B.prototype),function(Y){Z[Y]=function(W){var re=[].slice.call(arguments,1),H=new B(W);return H[Y].apply(H,re)}}),q.exports=Z},280:(q,z,T)=>{"use strict";var L=T(9327),$=T(4831)("TypedArray.prototype.buffer",!0),S=T(6468);q.exports=$||function(M){if(!S(M))throw new L("Not a Typed Array");return M.buffer}},2912:(q,z,T)=>{"use strict";var L=T(7990),I=T(9475),$=T(1733)(),S=T(4149)(),x={},M=T(1031),u=Object.defineProperty;if(M){var m=function(p){return p.byteOffset};L(S,function(p){if("function"==typeof global[p]||"object"==typeof global[p]){var g=global[p].prototype,h=M(g,"byteOffset");if(!h){var _=$(g);h=M(_,"byteOffset")}if(h&&h.get)x[p]=I(h.get);else if(u){var w=new global[p](2);(h=M(w,"byteOffset"))&&h.configurable&&u(w,"length",{value:3}),2===w.length&&(x[p]=m)}}})}var f=T(6468);q.exports=function(g){return!!f(g)&&function(g){var h;return L(x,function(_){if("number"!=typeof h)try{var w=_(g);"number"==typeof w&&(h=w)}catch{}}),h}(g)}},9318:(q,z,T)=>{"use strict";var L=T(9475),I=T(7990),$=T(1031),S=T(6468),x=T(830),M=T(1733)(),u={__proto__:null},m=Object.defineProperty;if($){var d=function(p){return p.length};I(x,function(p){var g=global[p];if("function"==typeof g||"object"==typeof g){var h=g.prototype,_=$(h,"length");if(!_){var w=M(h);_=$(w,"length")}if(_&&_.get)u["$"+p]=L(_.get);else if(m){var D=new global[p](2);(_=$(D,"length"))&&_.configurable&&m(D,"length",{value:3}),2===D.length&&(u["$"+p]=d)}}})}q.exports=function(g){return!!S(g)&&function(g){var h;return I(u,function(_){if("number"!=typeof h)try{var w=_(g);"number"==typeof w&&(h=w)}catch{}}),h}(g)}},2760:(q,z,T)=>{"use strict";var L=T(9327),I=T(4492),$=T(9665),S=T(2290),x=T(8442),M=T(5620),u=T(8152),m=T(1654),d=T(2888),f=T(454),p=T(8762),g=T(5135),h=T(4621),_=T(1929),w=T(280),D=T(2912);q.exports=function(P,U){var j=this;_(j,"SEQ-CST");var Z,K=j.length,B=d(P);Z=B===-1/0?0:B<0?x(K+B,0):M(B,K);var W,Y=typeof U>"u"?K:d(U);W=Y===-1/0?0:Y<0?x(K+Y,0):M(Y,K);var re=x(W-Z,0),H=h(j,[re]);if(re>0){if(S(w(j)))throw new L("Cannot use a Typed Array with an underlying ArrayBuffer that is detached");if(g(j)===g(H))for(var R=w(j),ne=w(H),te=p(j),fe=Z*te+D(j),me=D(H),ue=me+re*te;me<ue;){var xe=$(R,fe,"UINT8",!0,"UNORDERED");m(ne,me,"UINT8",xe,!0,"UNORDERED"),fe+=1,me+=1}else for(var ge=0;Z<W;){var Ne=f(Z),Ae=I(j,Ne);u(H,f(ge),Ae,!0),Z+=1,ge+=1}}return H}},7972:(q,z,T)=>{"use strict";var L=T(4296),I=T(9475),$=T(2760),S=T(5165),x=T(1643),M=I(S());L(M,{getPolyfill:S,implementation:$,shim:x}),q.exports=M},5165:(q,z,T)=>{"use strict";var L=T(2760);q.exports=function(){return"function"==typeof Uint8Array&&Uint8Array.prototype.slice||L}},1643:(q,z,T)=>{"use strict";var L=T(4296),I=T(39),$=T(5165);q.exports=function(){if("function"==typeof Uint8Array){var x=$(),M=I(Uint8Array.prototype);L(M,{slice:x},{slice:function(){return M.slice!==x}})}return x}},9821:(q,z,T)=>{"use strict";function L(jt){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Yt){return typeof Yt}:function(Yt){return Yt&&"function"==typeof Symbol&&Yt.constructor===Symbol&&Yt!==Symbol.prototype?"symbol":typeof Yt})(jt)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var I=_t(T(3004)),$=_t(T(556)),S=_t(T(7611)),x=_t(T(9290)),M=_t(T(2016)),u=_t(T(5984)),m=_t(T(7340)),d=_t(T(2377)),f=_t(T(6552)),p=_t(T(8392)),g=_t(T(4360)),h=_t(T(6855)),_=_t(T(6734)),w=_t(T(1753)),D=_t(T(9328)),O=_t(T(4477)),P=_t(T(8347)),U=_t(T(6809)),j=hr(T(8125)),K=hr(T(1038)),B=_t(T(1382)),Z=_t(T(5550)),Y=_t(T(5406)),W=_t(T(568)),re=_t(T(8821)),H=_t(T(6409)),k=_t(T(1018)),F=_t(T(9374)),R=_t(T(5962)),ne=_t(T(2589)),te=_t(T(754)),ce=_t(T(5309)),fe=_t(T(5215)),me=_t(T(7448)),ue=hr(T(5735)),xe=_t(T(7866)),ge=_t(T(2990)),Ne=_t(T(9414)),Ae=_t(T(891)),He=_t(T(3533)),qe=_t(T(9159)),Qe=_t(T(6154)),ct=_t(T(7230)),ht=hr(T(8029)),ft=_t(T(1615)),vt=_t(T(6269)),cn=_t(T(4401)),wt=_t(T(2632)),tn=_t(T(1779)),Qt=_t(T(5268)),pn=_t(T(3593)),Ce=_t(T(1811)),Re=_t(T(566)),We=_t(T(6920)),it=_t(T(5159)),st=_t(T(5582)),yt=_t(T(966)),Xt=_t(T(301)),mn=_t(T(2226)),Ze=_t(T(6001)),Tt=_t(T(2137)),Zt=_t(T(1834)),un=_t(T(7497)),Nt=_t(T(2448)),Un=_t(T(6065)),Gn=hr(T(3996)),Rn=_t(T(8190)),Yn=_t(T(3842)),_n=_t(T(48)),Di=T(5381),_e=_t(T(4277)),Fe=_t(T(2573)),gt=_t(T(3910)),kt=_t(T(6843)),Cn=_t(T(8900)),Dn=_t(T(1506)),hn=_t(T(8221)),Ii=_t(T(4165)),mi=_t(T(7222)),Qr=_t(T(5291)),Is=_t(T(4649)),xt=_t(T(8813)),zi=_t(T(4157)),ur=_t(T(602)),Ha=hr(T(8927)),fi=_t(T(4001)),gi=_t(T(3927)),Mn=_t(T(3481)),Ws=_t(T(8138)),_o=_t(T(2425)),et=_t(T(6333)),Xr=_t(T(4104)),bo=_t(T(1782)),aa=_t(T(961)),ns=_t(T(2308)),Hr=_t(T(1862)),ba=_t(T(4264)),yo=_t(T(5359)),fr=_t(T(5818));function gr(jt){if("function"!=typeof WeakMap)return null;var Yt=new WeakMap,ao=new WeakMap;return(gr=function(Yo){return Yo?ao:Yt})(jt)}function hr(jt,Yt){if(!Yt&&jt&&jt.__esModule)return jt;if(null===jt||"object"!=L(jt)&&"function"!=typeof jt)return{default:jt};var ao=gr(Yt);if(ao&&ao.has(jt))return ao.get(jt);var Jn={__proto__:null},Yo=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ln in jt)if("default"!==ln&&{}.hasOwnProperty.call(jt,ln)){var Io=Yo?Object.getOwnPropertyDescriptor(jt,ln):null;Io&&(Io.get||Io.set)?Object.defineProperty(Jn,ln,Io):Jn[ln]=jt[ln]}return Jn.default=jt,ao&&ao.set(jt,Jn),Jn}function _t(jt){return jt&&jt.__esModule?jt:{default:jt}}var is={version:"13.12.0",toDate:I.default,toFloat:$.default,toInt:S.default,toBoolean:x.default,equals:M.default,contains:u.default,matches:m.default,isEmail:d.default,isURL:f.default,isMACAddress:p.default,isIP:g.default,isIPRange:h.default,isFQDN:_.default,isBoolean:O.default,isIBAN:ht.default,isBIC:ft.default,isAbaRouting:U.default,isAlpha:j.default,isAlphaLocales:j.locales,isAlphanumeric:K.default,isAlphanumericLocales:K.locales,isNumeric:B.default,isPassportNumber:Z.default,isPort:Y.default,isLowercase:W.default,isUppercase:re.default,isAscii:k.default,isFullWidth:F.default,isHalfWidth:R.default,isVariableWidth:ne.default,isMultibyte:te.default,isSemVer:ce.default,isSurrogatePair:fe.default,isInt:me.default,isIMEI:H.default,isFloat:ue.default,isFloatLocales:ue.locales,isDecimal:xe.default,isHexadecimal:ge.default,isOctal:Ne.default,isDivisibleBy:Ae.default,isHexColor:He.default,isRgbColor:qe.default,isHSL:Qe.default,isISRC:ct.default,isMD5:vt.default,isHash:cn.default,isJWT:wt.default,isJSON:tn.default,isEmpty:Qt.default,isLength:pn.default,isLocale:P.default,isByteLength:Ce.default,isUUID:Re.default,isMongoId:We.default,isAfter:it.default,isBefore:st.default,isIn:yt.default,isLuhnNumber:Xt.default,isCreditCard:mn.default,isIdentityCard:Ze.default,isEAN:Tt.default,isISIN:Zt.default,isISBN:un.default,isISSN:Nt.default,isMobilePhone:Gn.default,isMobilePhoneLocales:Gn.locales,isPostalCode:Ha.default,isPostalCodeLocales:Ha.locales,isEthereumAddress:Rn.default,isCurrency:Yn.default,isBtcAddress:_n.default,isISO6346:Di.isISO6346,isFreightContainerID:Di.isFreightContainerID,isISO6391:_e.default,isISO8601:Fe.default,isRFC3339:gt.default,isISO31661Alpha2:kt.default,isISO31661Alpha3:Cn.default,isISO4217:Dn.default,isBase32:hn.default,isBase58:Ii.default,isBase64:mi.default,isDataURI:Qr.default,isMagnetURI:Is.default,isMailtoURI:xt.default,isMimeType:zi.default,isLatLong:ur.default,ltrim:fi.default,rtrim:gi.default,trim:Mn.default,escape:Ws.default,unescape:_o.default,stripLow:et.default,whitelist:Xr.default,blacklist:bo.default,isWhitelisted:aa.default,normalizeEmail:ns.default,toString,isSlug:Hr.default,isStrongPassword:yo.default,isTaxID:Un.default,isDate:w.default,isTime:D.default,isLicensePlate:ba.default,isVAT:fr.default,ibanLocales:ht.locales};z.default=is,q.exports=z.default,q.exports.default=z.default},7393:(q,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.farsiLocales=z.englishLocales=z.dotDecimal=z.decimal=z.commaDecimal=z.bengaliLocales=z.arabicLocales=z.alphanumeric=z.alpha=void 0;for(var S,T=z.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[\u0410-\u042f]+$/i,"cs-CZ":/^[A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[\u0391-\u03ce]+$/i,"es-ES":/^[A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fa-IR":/^[\u0627\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u06cc]+$/i,"fi-FI":/^[A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"ja-JP":/^[\u3041-\u3093\u30a1-\u30f6\uff66-\uff9f\u4e00-\u9fa0\u30fc\u30fb\u3002\u3001]+$/i,"nb-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"hu-HU":/^[A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"pl-PL":/^[A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[\u0410-\u042f\u0401]+$/i,"kk-KZ":/^[\u0410-\u042f\u0401\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e50\s]+$/i,"tr-TR":/^[A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"vi-VN":/^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,"ko-KR":/^[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]*$/,"ku-IQ":/^[\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[\u05d0-\u05ea]+$/,fa:/^['\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc']+$/i,bn:/^['\u0980\u0981\u0982\u0983\u0985\u0986\u0987\u0988\u0989\u098a\u098b\u098c\u098f\u0990\u0993\u0994\u0995\u0996\u0997\u0998\u0999\u099a\u099b\u099c\u099d\u099e\u099f\u09a0\u09a1\u09a2\u09a3\u09a4\u09a5\u09a6\u09a7\u09a8\u09aa\u09ab\u09ac\u09ad\u09ae\u09af\u09b0\u09b2\u09b6\u09b7\u09b8\u09b9\u09bc\u09bd\u09be\u09bf\u09c0\u09c1\u09c2\u09c3\u09c4\u09c7\u09c8\u09cb\u09cc\u09cd\u09ce\u09d7\u09dc\u09dd\u09df\u09e0\u09e1\u09e2\u09e3\u09f0\u09f1\u09f2\u09f3\u09f4\u09f5\u09f6\u09f7\u09f8\u09f9\u09fa\u09fb']+$/,eo:/^[ABC\u0108D-G\u011cH\u0124IJ\u0134K-PRS\u015cTU\u016cVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},L=z.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[0-9\u0410-\u042f]+$/i,"cs-CZ":/^[0-9A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[0-9A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[0-9\u0391-\u03c9]+$/i,"es-ES":/^[0-9A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fi-FI":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[0-9A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[0-9A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"ja-JP":/^[0-9\uff10-\uff19\u3041-\u3093\u30a1-\u30f6\uff66-\uff9f\u4e00-\u9fa0\u30fc\u30fb\u3002\u3001]+$/i,"hu-HU":/^[0-9A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"nb-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[0-9A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"pl-PL":/^[0-9A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[0-9A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[0-9\u0410-\u042f\u0401]+$/i,"kk-KZ":/^[0-9\u0410-\u042f\u0401\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[0-9A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[0-9A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[0-9\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e59\s]+$/i,"tr-TR":/^[0-9A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[0-9\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ko-KR":/^[0-9\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]*$/,"ku-IQ":/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,"vi-VN":/^[0-9A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,ar:/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[0-9\u05d0-\u05ea]+$/,fa:/^['0-9\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9\u06f0']+$/i,bn:/^['\u0980\u0981\u0982\u0983\u0985\u0986\u0987\u0988\u0989\u098a\u098b\u098c\u098f\u0990\u0993\u0994\u0995\u0996\u0997\u0998\u0999\u099a\u099b\u099c\u099d\u099e\u099f\u09a0\u09a1\u09a2\u09a3\u09a4\u09a5\u09a6\u09a7\u09a8\u09aa\u09ab\u09ac\u09ad\u09ae\u09af\u09b0\u09b2\u09b6\u09b7\u09b8\u09b9\u09bc\u09bd\u09be\u09bf\u09c0\u09c1\u09c2\u09c3\u09c4\u09c7\u09c8\u09cb\u09cc\u09cd\u09ce\u09d7\u09dc\u09dd\u09df\u09e0\u09e1\u09e2\u09e3\u09e6\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09f0\u09f1\u09f2\u09f3\u09f4\u09f5\u09f6\u09f7\u09f8\u09f9\u09fa\u09fb']+$/,eo:/^[0-9ABC\u0108D-G\u011cH\u0124IJ\u0134K-PRS\u015cTU\u016cVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},I=z.decimal={"en-US":".",ar:"\u066b"},$=z.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],x=0;x<$.length;x++)T[S="en-".concat($[x])]=T["en-US"],L[S]=L["en-US"],I[S]=I["en-US"];for(var u,M=z.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],m=0;m<M.length;m++)T[u="ar-".concat(M[m])]=T.ar,L[u]=L.ar,I[u]=I.ar;for(var f,d=z.farsiLocales=["IR","AF"],p=0;p<d.length;p++)L[f="fa-".concat(d[p])]=L.fa,I[f]=I.ar;for(var h,g=z.bengaliLocales=["BD","IN"],_=0;_<g.length;_++)T[h="bn-".concat(g[_])]=T.bn,L[h]=L.bn,I[h]=I["en-US"];for(var w=z.dotDecimal=["ar-EG","ar-LB","ar-LY"],D=z.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],O=0;O<w.length;O++)I[w[O]]=I["en-US"];for(var P=0;P<D.length;P++)I[D[P]]=",";T["fr-CA"]=T["fr-FR"],L["fr-CA"]=L["fr-FR"],T["pt-BR"]=T["pt-PT"],L["pt-BR"]=L["pt-PT"],I["pt-BR"]=I["pt-PT"],T["pl-Pl"]=T["pl-PL"],L["pl-Pl"]=L["pl-PL"],I["pl-Pl"]=I["pl-PL"],T["fa-AF"]=T.fa},1782:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){return(0,L.default)(S),S.replace(new RegExp("[".concat(x,"]+"),"g"),"")};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},5984:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u,m,d){return(0,L.default)(u),(d=(0,$.default)(d,x)).ignoreCase?u.toLowerCase().split((0,I.default)(m).toLowerCase()).length>d.minOccurrences:u.split((0,I.default)(m)).length>d.minOccurrences};var L=S(T(5219)),I=S(T(8824)),$=S(T(3638));function S(u){return u&&u.__esModule?u:{default:u}}var x={ignoreCase:!1,minOccurrences:1};q.exports=z.default,q.exports.default=z.default},2016:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){return(0,L.default)(S),S===x};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},8138:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){return(0,L.default)(S),S.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},6809:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){if((0,L.default)(x),!$.test(x))return!1;for(var M=0,u=0;u<x.length;u++)M+=u%3==0?3*x[u]:u%3==1?7*x[u]:1*x[u];return M%10==0};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;q.exports=z.default,q.exports.default=z.default},5159:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){var M=x?.comparisonDate||x||Date().toString(),u=(0,L.default)(M),m=(0,L.default)(S);return!!(m&&u&&m>u)};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(3004));q.exports=z.default,q.exports.default=z.default},8125:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(M){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,L.default)(M);var d=M,f=m.ignore;if(f)if(f instanceof RegExp)d=d.replace(f,"");else{if("string"!=typeof f)throw new Error("ignore should be instance of a String or RegExp");d=d.replace(new RegExp("[".concat(f.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(u in I.alpha)return I.alpha[u].test(d);throw new Error("Invalid locale '".concat(u,"'"))},z.locales=void 0;var L=function $(M){return M&&M.__esModule?M:{default:M}}(T(5219)),I=T(7393);z.locales=Object.keys(I.alpha)},1038:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(M){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,L.default)(M);var d=M,f=m.ignore;if(f)if(f instanceof RegExp)d=d.replace(f,"");else{if("string"!=typeof f)throw new Error("ignore should be instance of a String or RegExp");d=d.replace(new RegExp("[".concat(f.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(u in I.alphanumeric)return I.alphanumeric[u].test(d);throw new Error("Invalid locale '".concat(u,"'"))},z.locales=void 0;var L=function $(M){return M&&M.__esModule?M:{default:M}}(T(5219)),I=T(7393);z.locales=Object.keys(I.alphanumeric)},1018:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^[\x00-\x7F]+$/;q.exports=z.default,q.exports.default=z.default},1615:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M){(0,L.default)(M);var u=M.slice(4,6).toUpperCase();return!(!I.CountryCodes.has(u)&&"XK"!==u)&&S.test(M)};var L=function $(M){return M&&M.__esModule?M:{default:M}}(T(5219)),I=T(6843),S=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;q.exports=z.default,q.exports.default=z.default},8221:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function u(m,d){return(0,L.default)(m),(d=(0,I.default)(d,M)).crockford?x.test(m):!(m.length%8!=0||!S.test(m))};var L=$(T(5219)),I=$(T(3638));function $(m){return m&&m.__esModule?m:{default:m}}var S=/^[A-Z2-7]+=*$/,x=/^[A-HJKMNP-TV-Z0-9]+$/,M={crockford:!1};q.exports=z.default,q.exports.default=z.default},4165:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),!!$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^[A-HJ-NP-Za-km-z1-9]*$/;q.exports=z.default,q.exports.default=z.default},7222:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function u(m,d){(0,L.default)(m),d=(0,I.default)(d,M);var f=m.length;if(d.urlSafe)return x.test(m);if(f%4!=0||S.test(m))return!1;var p=m.indexOf("=");return-1===p||p===f-1||p===f-2&&"="===m[f-1]};var L=$(T(5219)),I=$(T(3638));function $(m){return m&&m.__esModule?m:{default:m}}var S=/[^A-Z0-9+\/=]/i,x=/^[A-Z0-9_\-]*$/i,M={urlSafe:!1};q.exports=z.default,q.exports.default=z.default},5582:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,L.default)(x);var u=(0,I.default)(M),m=(0,I.default)(x);return!!(m&&u&&m<u)};var L=$(T(5219)),I=$(T(3004));function $(x){return x&&x.__esModule?x:{default:x}}q.exports=z.default,q.exports.default=z.default},4477:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$;return(0,L.default)(u),m.loose?x.includes(u.toLowerCase()):S.includes(u)};var L=function I(u){return u&&u.__esModule?u:{default:u}}(T(5219)),$={loose:!1},S=["true","false","1","0"],x=[].concat(S,["yes","no"]);q.exports=z.default,q.exports.default=z.default},48:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M){return(0,L.default)(M),$.test(M)||S.test(M)};var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(5219)),$=/^(bc1)[a-z0-9]{25,39}$/,S=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;q.exports=z.default,q.exports.default=z.default},1811:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){var u,m;(0,L.default)(x),"object"===$(M)?(u=M.min||0,m=M.max):(u=arguments[1],m=arguments[2]);var d=encodeURI(x).split(/%..|./).length-1;return d>=u&&(typeof m>"u"||d<=m)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219));function $(x){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(x)}q.exports=z.default,q.exports.default=z.default},2226:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,L.default)(u);var d=m.provider,f=u.replace(/[- ]+/g,"");if(d&&d.toLowerCase()in S){if(!S[d.toLowerCase()].test(f))return!1}else{if(d&&!(d.toLowerCase()in S))throw new Error("".concat(d," is not a valid credit card provider."));if(!x.some(function(p){return p.test(f)}))return!1}return(0,I.default)(u)};var L=$(T(5219)),I=$(T(301));function $(u){return u&&u.__esModule?u:{default:u}}var S={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},x=function(){var u=[];for(var m in S)S.hasOwnProperty(m)&&u.push(S[m]);return u}();q.exports=z.default,q.exports.default=z.default},3842:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u,m){return(0,I.default)(u),function S(u){var m="\\d{".concat(u.digits_after_decimal[0],"}");u.digits_after_decimal.forEach(function(O,P){0!==P&&(m="".concat(m,"|\\d{").concat(O,"}"))});var d="(".concat(u.symbol.replace(/\W/,function(O){return"\\".concat(O)}),")").concat(u.require_symbol?"":"?"),f="-?",g="[1-9]\\d{0,2}(\\".concat(u.thousands_separator,"\\d{3})*"),_="(".concat(["0","[1-9]\\d*",g].join("|"),")?"),w="(\\".concat(u.decimal_separator,"(").concat(m,"))").concat(u.require_decimal?"":"?"),D=_+(u.allow_decimal||u.require_decimal?w:"");return u.allow_negatives&&!u.parens_for_negatives&&(u.negative_sign_after_digits?D+=f:u.negative_sign_before_digits&&(D=f+D)),u.allow_negative_sign_placeholder?D="( (?!\\-))?".concat(D):u.allow_space_after_symbol?D=" ?".concat(D):u.allow_space_after_digits&&(D+="( (?!$))?"),u.symbol_after_digits?D+=d:D=d+D,u.allow_negatives&&(u.parens_for_negatives?D="(\\(".concat(D,"\\)|").concat(D,")"):u.negative_sign_before_digits||u.negative_sign_after_digits||(D=f+D)),new RegExp("^(?!-? )(?=.*\\d)".concat(D,"$"))}(m=(0,L.default)(m,x)).test(u)};var L=$(T(3638)),I=$(T(5219));function $(u){return u&&u.__esModule?u:{default:u}}var x={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};q.exports=z.default,q.exports.default=z.default},5291:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u){(0,L.default)(u);var m=u.split(",");if(m.length<2)return!1;var d=m.shift().trim().split(";"),f=d.shift();if("data:"!==f.slice(0,5))return!1;var p=f.slice(5);if(""!==p&&!$.test(p))return!1;for(var g=0;g<d.length;g++)if((g!==d.length-1||"base64"!==d[g].toLowerCase())&&!S.test(d[g]))return!1;for(var h=0;h<m.length;h++)if(!x.test(m[h]))return!1;return!0};var L=function I(u){return u&&u.__esModule?u:{default:u}}(T(5219)),$=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,S=/^[a-z\-]+=[a-z0-9\-]+$/i,x=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;q.exports=z.default,q.exports.default=z.default},1753:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function h(_,w){if(w=(0,L.default)("string"==typeof w?{format:w}:w,f),"string"==typeof _&&function p(_){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(_)}(w.format)){var K,D=w.delimiters.find(function(R){return-1!==w.format.indexOf(R)}),O=w.strictMode?D:w.delimiters.find(function(R){return-1!==_.indexOf(R)}),P=function g(_,w){for(var D=[],O=Math.min(_.length,w.length),P=0;P<O;P++)D.push([_[P],w[P]]);return D}(_.split(O),w.format.toLowerCase().split(D)),U={},j=function u(_,w){var D=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!D){if(Array.isArray(_)||(D=m(_))||w&&_&&"number"==typeof _.length){D&&(_=D);var O=0,P=function(){};return{s:P,n:function(){return O>=_.length?{done:!0}:{done:!1,value:_[O++]}},e:function(Z){throw Z},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var K,U=!0,j=!1;return{s:function(){D=D.call(_)},n:function(){var Z=D.next();return U=Z.done,Z},e:function(Z){j=!0,K=Z},f:function(){try{!U&&null!=D.return&&D.return()}finally{if(j)throw K}}}}(P);try{for(j.s();!(K=j.n()).done;){var B=$(K.value,2),Z=B[0],Y=B[1];if(Z.length!==Y.length)return!1;U[Y.charAt(0)]=Z}}catch(R){j.e(R)}finally{j.f()}var W=U.y;if(W.startsWith("-"))return!1;if(2===U.y.length){var re=parseInt(U.y,10);if(isNaN(re))return!1;W=re<(new Date).getFullYear()%100?"20".concat(U.y):"19".concat(U.y)}var k=U.m;1===U.m.length&&(k="0".concat(U.m));var F=U.d;return 1===U.d.length&&(F="0".concat(U.d)),new Date("".concat(W,"-").concat(k,"-").concat(F,"T00:00:00.000Z")).getUTCDate()===+U.d}return!w.strictMode&&"[object Date]"===Object.prototype.toString.call(_)&&isFinite(_)};var L=function I(_){return _&&_.__esModule?_:{default:_}}(T(3638));function $(_,w){return function M(_){if(Array.isArray(_))return _}(_)||function x(_,w){var D=null==_?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(null!=D){var O,P,U,j,K=[],B=!0,Z=!1;try{if(U=(D=D.call(_)).next,0===w){if(Object(D)!==D)return;B=!1}else for(;!(B=(O=U.call(D)).done)&&(K.push(O.value),K.length!==w);B=!0);}catch(Y){Z=!0,P=Y}finally{try{if(!B&&null!=D.return&&(j=D.return(),Object(j)!==j))return}finally{if(Z)throw P}}return K}}(_,w)||m(_,w)||function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(_,w){if(_){if("string"==typeof _)return d(_,w);var D=Object.prototype.toString.call(_).slice(8,-1);if("Object"===D&&_.constructor&&(D=_.constructor.name),"Map"===D||"Set"===D)return Array.from(_);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return d(_,w)}}function d(_,w){(null==w||w>_.length)&&(w=_.length);for(var D=0,O=new Array(w);D<w;D++)O[D]=_[D];return O}var f={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};q.exports=z.default,q.exports.default=z.default},7866:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function d(f,p){if((0,I.default)(f),(p=(0,L.default)(p,u)).locale in S.decimal)return!(0,$.default)(m,f.replace(/ /g,""))&&function M(f){return new RegExp("^[-+]?([0-9]+)?(\\".concat(S.decimal[f.locale],"[0-9]{").concat(f.decimal_digits,"})").concat(f.force_decimal?"":"?","$"))}(p).test(f);throw new Error("Invalid locale '".concat(p.locale,"'"))};var L=x(T(3638)),I=x(T(5219)),$=x(T(7901)),S=T(7393);function x(f){return f&&f.__esModule?f:{default:f}}var u={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},m=["","-","+"];q.exports=z.default,q.exports.default=z.default},891:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){return(0,L.default)(x),(0,I.default)(x)%parseInt(M,10)==0};var L=$(T(5219)),I=$(T(556));function $(x){return x&&x.__esModule?x:{default:x}}q.exports=z.default,q.exports.default=z.default},2137:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function m(d){(0,L.default)(d);var f=Number(d.slice(-1));return x.test(d)&&f===function u(d){var p=10-d.slice(0,-1).split("").map(function(g,h){return Number(g)*function M(d,f){return d===$||d===S?f%2==0?3:1:f%2==0?1:3}(d.length,h)}).reduce(function(g,h){return g+h},0)%10;return p<10?p:0}(d)};var L=function I(d){return d&&d.__esModule?d:{default:d}}(T(5219)),$=8,S=14,x=/^(\d{8}|\d{13}|\d{14})$/;q.exports=z.default,q.exports.default=z.default},2377:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function D(O,P){if((0,L.default)(O),(P=(0,x.default)(P,u)).require_display_name||P.allow_display_name){var U=O.match(m);if(U){var j=U[1];if(O=O.replace(j,"").replace(/(^<|>$)/g,""),j.endsWith(" ")&&(j=j.slice(0,-1)),!function w(O){var P=O.replace(/^"(.+)"$/,"$1");if(!P.trim())return!1;if(/[\.";<>]/.test(P)){if(P===O)return!1;if(P.split('"').length!==P.split('\\"').length)return!1}return!0}(j))return!1}else if(P.require_display_name)return!1}if(!P.ignore_max_length&&O.length>_)return!1;var K=O.split("@"),B=K.pop(),Z=B.toLowerCase();if(P.host_blacklist.includes(Z)||P.host_whitelist.length>0&&!P.host_whitelist.includes(Z))return!1;var Y=K.join("@");if(P.domain_specific_validation&&("gmail.com"===Z||"googlemail.com"===Z)){var W=(Y=Y.toLowerCase()).split("+")[0];if(!(0,I.default)(W.replace(/\./g,""),{min:6,max:30}))return!1;for(var re=W.split("."),H=0;H<re.length;H++)if(!f.test(re[H]))return!1}if(!(!1!==P.ignore_max_length||(0,I.default)(Y,{max:64})&&(0,I.default)(B,{max:254})))return!1;if(!(0,$.default)(B,{require_tld:P.require_tld,ignore_max_length:P.ignore_max_length,allow_underscores:P.allow_underscores})){if(!P.allow_ip_domain)return!1;if(!(0,S.default)(B)){if(!B.startsWith("[")||!B.endsWith("]"))return!1;var k=B.slice(1,-1);if(0===k.length||!(0,S.default)(k))return!1}}if('"'===Y[0])return Y=Y.slice(1,Y.length-1),P.allow_utf8_local_part?h.test(Y):p.test(Y);for(var F=P.allow_utf8_local_part?g:d,R=Y.split("."),ne=0;ne<R.length;ne++)if(!F.test(R[ne]))return!1;return!(P.blacklisted_chars&&-1!==Y.search(new RegExp("[".concat(P.blacklisted_chars,"]+"),"g")))};var L=M(T(5219)),I=M(T(1811)),$=M(T(6734)),S=M(T(4360)),x=M(T(3638));function M(O){return O&&O.__esModule?O:{default:O}}var u={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},m=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,g=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,_=254;q.exports=z.default,q.exports.default=z.default},5268:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){return(0,L.default)(M),0===((u=(0,I.default)(u,S)).ignore_whitespace?M.trim().length:M.length)};var L=$(T(5219)),I=$(T(3638));function $(M){return M&&M.__esModule?M:{default:M}}var S={ignore_whitespace:!1};q.exports=z.default,q.exports.default=z.default},8190:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^(0x)[0-9a-f]{40}$/i;q.exports=z.default,q.exports.default=z.default},6734:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){(0,L.default)(M),(u=(0,I.default)(u,S)).allow_trailing_dot&&"."===M[M.length-1]&&(M=M.substring(0,M.length-1)),!0===u.allow_wildcard&&0===M.indexOf("*.")&&(M=M.substring(2));var m=M.split("."),d=m[m.length-1];return!(u.require_tld&&(m.length<2||!u.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(d)||/\s/.test(d))||!u.allow_numeric_tld&&/^\d+$/.test(d))&&m.every(function(f){return!(f.length>63&&!u.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(f)||/[\uff01-\uff5e]/.test(f)||/^-|-$/.test(f)||!u.allow_underscores&&/_/.test(f))})};var L=$(T(5219)),I=$(T(3638));function $(M){return M&&M.__esModule?M:{default:M}}var S={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};q.exports=z.default,q.exports.default=z.default},5735:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(M,u){(0,L.default)(M),u=u||{};var m=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(u.locale?I.decimal[u.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===M||"."===M||","===M||"-"===M||"+"===M)return!1;var d=parseFloat(M.replace(",","."));return m.test(M)&&(!u.hasOwnProperty("min")||d>=u.min)&&(!u.hasOwnProperty("max")||d<=u.max)&&(!u.hasOwnProperty("lt")||d<u.lt)&&(!u.hasOwnProperty("gt")||d>u.gt)},z.locales=void 0;var L=function $(M){return M&&M.__esModule?M:{default:M}}(T(5219)),I=T(7393);z.locales=Object.keys(I.decimal)},9374:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)},z.fullWidth=void 0;var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=z.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},6154:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M){(0,L.default)(M);var u=M.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/gi,"$1");return-1!==u.indexOf(",")?$.test(u):S.test(u)};var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(5219)),$=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,S=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;q.exports=z.default,q.exports.default=z.default},5962:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)},z.halfWidth=void 0;var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=z.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},4401:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){return(0,L.default)(x),new RegExp("^[a-fA-F0-9]{".concat($[M],"}$")).test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};q.exports=z.default,q.exports.default=z.default},3533:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;q.exports=z.default,q.exports.default=z.default},2990:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^(0x|0h)?[0-9A-F]+$/i;q.exports=z.default,q.exports.default=z.default},8029:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function u(d){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,L.default)(d),function x(d,f){var p=d.replace(/[\s\-]+/gi,"").toUpperCase(),g=p.slice(0,2).toUpperCase(),h=g in $;if(f.whitelist){if(!function S(d){var f=d.filter(function(p){return!(p in $)});return!(f.length>0)}(f.whitelist))return!1;if(!f.whitelist.includes(g))return!1}return(!f.blacklist||!f.blacklist.includes(g))&&(h&&$[g].test(p))}(d,f)&&function M(d){var f=d.replace(/[^A-Z0-9]+/gi,"").toUpperCase();return 1===(f.slice(4)+f.slice(0,4)).replace(/[A-Z]/g,function(_){return _.charCodeAt(0)-55}).match(/\d{1,7}/g).reduce(function(_,w){return Number(_+w)%97},"")}(d)},z.locales=void 0;var L=function I(d){return d&&d.__esModule?d:{default:d}}(T(5219)),$={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};z.locales=Object.keys($)},6409:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){(0,L.default)(M);var m=$;if((u=u||{}).allow_hyphens&&(m=S),!m.test(M))return!1;M=M.replace(/-/g,"");for(var d=0,f=2,g=0;g<14;g++){var h=M.substring(14-g-1,14-g),_=parseInt(h,10)*f;d+=_>=10?_%10+1:_,1===f?f+=1:f-=1}return(10-d%10)%10===parseInt(M.substring(14,15),10)};var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(5219)),$=/^[0-9]{15}$/,S=/^\d{2}-\d{6}-\d{6}-\d{1}$/;q.exports=z.default,q.exports.default=z.default},4360:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function m(d){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,L.default)(d),(f=String(f))?"4"===f?x.test(d):"6"===f&&u.test(d):m(d,4)||m(d,6)};var L=function I(d){return d&&d.__esModule?d:{default:d}}(T(5219)),$="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",S="(".concat($,"[.]){3}").concat($),x=new RegExp("^".concat(S,"$")),M="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(M,":){7}(?:").concat(M,"|:)|")+"(?:".concat(M,":){6}(?:").concat(S,"|:").concat(M,"|:)|")+"(?:".concat(M,":){5}(?::").concat(S,"|(:").concat(M,"){1,2}|:)|")+"(?:".concat(M,":){4}(?:(:").concat(M,"){0,1}:").concat(S,"|(:").concat(M,"){1,3}|:)|")+"(?:".concat(M,":){3}(?:(:").concat(M,"){0,2}:").concat(S,"|(:").concat(M,"){1,4}|:)|")+"(?:".concat(M,":){2}(?:(:").concat(M,"){0,3}:").concat(S,"|(:").concat(M,"){1,5}|:)|")+"(?:".concat(M,":){1}(?:(:").concat(M,"){0,4}:").concat(S,"|(:").concat(M,"){1,6}|:)|")+"(?::((?::".concat(M,"){0,5}:").concat(S,"|(?::").concat(M,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");q.exports=z.default,q.exports.default=z.default},6855:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function u(m){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,L.default)(m);var f=m.split("/");if(2!==f.length||!S.test(f[1])||f[1].length>1&&f[1].startsWith("0"))return!1;if(!(0,I.default)(f[0],d))return!1;var g=null;switch(String(d)){case"4":g=x;break;case"6":g=M;break;default:g=(0,I.default)(f[0],"6")?M:x}return f[1]<=g&&f[1]>=0};var L=$(T(5219)),I=$(T(4360));function $(m){return m&&m.__esModule?m:{default:m}}var S=/^\d{1,3}$/,x=32,M=128;q.exports=z.default,q.exports.default=z.default},7497:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u,m){(0,L.default)(u);var d=String(m?.version||m);if(!(null!=m&&m.version||m))return M(u,{version:10})||M(u,{version:13});var f=u.replace(/[\s-]+/g,""),p=0;if("10"===d){if(!$.test(f))return!1;for(var g=0;g<d-1;g++)p+=(g+1)*f.charAt(g);if("X"===f.charAt(9)?p+=100:p+=10*f.charAt(9),p%11==0)return!0}else if("13"===d){if(!S.test(f))return!1;for(var h=0;h<12;h++)p+=x[h%2]*f.charAt(h);if(f.charAt(12)-(10-p%10)%10==0)return!0}return!1};var L=function I(u){return u&&u.__esModule?u:{default:u}}(T(5219)),$=/^(?:[0-9]{9}X|[0-9]{10})$/,S=/^(?:[0-9]{13})$/,x=[1,3];q.exports=z.default,q.exports.default=z.default},1834:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){if((0,L.default)(x),!$.test(x))return!1;for(var M=!0,u=0,m=x.length-2;m>=0;m--)if(x[m]>="A"&&x[m]<="Z")for(var d=x[m].charCodeAt(0)-55,g=0,h=[d%10,Math.trunc(d/10)];g<h.length;g++){var _=h[g];u+=M?_>=5?1+2*(_-5):2*_:_,M=!M}else{var w=x[m].charCodeAt(0)-48;u+=M?w>=5?1+2*(w-5):2*w:w,M=!M}var D=10*Math.trunc((u+9)/10)-u;return+x[x.length-1]===D};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;q.exports=z.default,q.exports.default=z.default},6843:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.CountryCodes=void 0,z.default=function S(M){return(0,L.default)(M),$.has(M.toUpperCase())};var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(5219)),$=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);z.CountryCodes=$},8900:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.has(x.toUpperCase())};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);q.exports=z.default,q.exports.default=z.default},1506:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.CurrencyCodes=void 0,z.default=function S(M){return(0,L.default)(M),$.has(M.toUpperCase())};var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(5219)),$=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);z.CurrencyCodes=$},5381:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.isFreightContainerID=void 0,z.isISO6346=x;var L=function I(u){return u&&u.__esModule?u:{default:u}}(T(5219)),$=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,S=/^[0-9]$/;function x(u){if((0,L.default)(u),u=u.toUpperCase(),!$.test(u))return!1;if(11===u.length){for(var m=0,d=0;d<u.length-1;d++)if(S.test(u[d]))m+=u[d]*Math.pow(2,d);else{var p=u.charCodeAt(d)-55;m+=(p<11?p:p>=11&&p<=20?12+p%11:p>=21&&p<=30?23+p%21:34+p%31)*Math.pow(2,d)}var g=m%11;return Number(u[u.length-1])===g}return!0}z.isFreightContainerID=x},4277:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.has(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);q.exports=z.default,q.exports.default=z.default},2573:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,L.default)(u);var d=m.strictSeparator?S.test(u):$.test(u);return d&&m.strict?x(u):d};var L=function I(u){return u&&u.__esModule?u:{default:u}}(T(5219)),$=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,S=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,x=function(m){var d=m.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(d){var f=Number(d[1]),p=Number(d[2]);return f%4==0&&f%100!=0||f%400==0?p<=366:p<=365}var g=m.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),h=g[1],_=g[2],w=g[3],D=_&&"0".concat(_).slice(-2),O=w&&"0".concat(w).slice(-2),P=new Date("".concat(h,"-").concat(D||"01","-").concat(O||"01"));return!_||!w||P.getUTCFullYear()===h&&P.getUTCMonth()+1===_&&P.getUTCDate()===w};q.exports=z.default,q.exports.default=z.default},7230:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;q.exports=z.default,q.exports.default=z.default},2448:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,L.default)(x);var u=$;if(u=M.require_hyphen?u.replace("?",""):u,!(u=M.case_sensitive?new RegExp(u):new RegExp(u,"i")).test(x))return!1;for(var m=x.replace("-","").toUpperCase(),d=0,f=0;f<m.length;f++){var p=m[f];d+=("X"===p?10:+p)*(8-f)}return d%11==0};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$="^\\d{4}-?\\d{3}[\\dX]$";q.exports=z.default,q.exports.default=z.default},6001:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){if((0,L.default)(M),u in S)return S[u](M);if("any"===u){for(var m in S)if(S.hasOwnProperty(m)&&(0,S[m])(M))return!0;return!1}throw new Error("Invalid locale '".concat(u,"'"))};var L=$(T(5219)),I=$(T(7448));function $(M){return M&&M.__esModule?M:{default:M}}var S={PL:function(u){(0,L.default)(u);var m={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=u&&11===u.length&&(0,I.default)(u,{allow_leading_zeroes:!0})){var p=u.split("").slice(0,-1).reduce(function(h,_,w){return h+Number(_)*m[w+1]},0)%10,g=Number(u.charAt(u.length-1));if(0===p&&0===g||g===10-p)return!0}return!1},ES:function(u){(0,L.default)(u);var d={X:0,Y:1,Z:2},p=u.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(p))return!1;var g=p.slice(0,-1).replace(/[X,Y,Z]/g,function(h){return d[h]});return p.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][g%23])},FI:function(u){return(0,L.default)(u),!(11!==u.length||!u.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))&&"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(u.slice(0,6),10)+parseInt(u.slice(7,10),10))%31]===u.slice(10,11)},IN:function(u){var d=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],f=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],p=u.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(p))return!1;var g=0;return p.replace(/\s/g,"").split("").map(Number).reverse().forEach(function(_,w){g=d[g][f[w%8][_]]}),0===g},IR:function(u){if(!u.match(/^\d{10}$/)||(u="0000".concat(u).slice(u.length-6),0===parseInt(u.slice(3,9),10)))return!1;for(var m=parseInt(u.slice(9,10),10),d=0,f=0;f<9;f++)d+=parseInt(u.slice(f,f+1),10)*(10-f);return(d%=11)<2&&m===d||d>=2&&m===11-d},IT:function(u){return 9===u.length&&"CA00000AA"!==u&&u.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(u){var m=u.trim();if(isNaN(Number(m))||11!==m.length||"00000000000"===m)return!1;var d=m.split("").map(Number),f=(11-(3*d[0]+7*d[1]+6*d[2]+1*d[3]+8*d[4]+9*d[5]+4*d[6]+5*d[7]+2*d[8])%11)%11;return!(f!==d[9]||(11-(5*d[0]+4*d[1]+3*d[2]+2*d[3]+7*d[4]+6*d[5]+5*d[6]+4*d[7]+3*d[8]+2*f)%11)%11!==d[10])},TH:function(u){if(!u.match(/^[1-8]\d{12}$/))return!1;for(var m=0,d=0;d<12;d++)m+=parseInt(u[d],10)*(13-d);return u[12]===((11-m%11)%10).toString()},LK:function(u){return!(10!==u.length||!/^[1-9]\d{8}[vx]$/i.test(u))||!(12!==u.length||!/^[1-9]\d{11}$/i.test(u))},"he-IL":function(u){var d=u.trim();if(!/^\d{9}$/.test(d))return!1;for(var g,f=d,p=0,h=0;h<f.length;h++)p+=(g=Number(f[h])*(h%2+1))>9?g-9:g;return p%10==0},"ar-LY":function(u){var d=u.trim();return!!/^(1|2)\d{11}$/.test(d)},"ar-TN":function(u){var d=u.trim();return!!/^\d{8}$/.test(d)},"zh-CN":function(u){var U,m=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],d=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],f=["1","0","X","9","8","7","6","5","4","3","2"],p=function(U){return m.includes(U)},g=function(U){var j=parseInt(U.substring(0,4),10),K=parseInt(U.substring(4,6),10),B=parseInt(U.substring(6),10),Z=new Date(j,K-1,B);return!(Z>new Date)&&Z.getFullYear()===j&&Z.getMonth()===K-1&&Z.getDate()===B};return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(U=u)&&(15===U.length?function(U){var j=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(U);if(!j)return!1;var K=U.substring(0,2);if(!(j=p(K)))return!1;var B="19".concat(U.substring(6,12));return!!(j=g(B))}(U):function(U){var j=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(U);if(!j)return!1;var K=U.substring(0,2);if(!(j=p(K)))return!1;var B=U.substring(6,14);return!!(j=g(B))&&function(U){return function(U){for(var j=U.substring(0,17),K=0,B=0;B<17;B++)K+=parseInt(j.charAt(B),10)*parseInt(d[B],10);return f[K%11]}(U)===U.charAt(17).toUpperCase()}(U)}(U))},"zh-HK":function(u){var d=/^[0-9]$/;if(u=(u=u.trim()).toUpperCase(),!/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/.test(u))return!1;8===(u=u.replace(/\[|\]|\(|\)/g,"")).length&&(u="3".concat(u));for(var f=0,p=0;p<=7;p++)f+=(d.test(u[p])?u[p]:(u[p].charCodeAt(0)-55)%11)*(9-p);return(0==(f%=11)?"0":1===f?"A":String(11-f))===u[u.length-1]},"zh-TW":function(u){var m={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},d=u.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(d)&&Array.from(d).reduce(function(f,p,g){if(0===g){var h=m[p];return h%10*9+Math.floor(h/10)}return 9===g?(10-f%10-Number(p))%10==0:f+Number(p)*(9-g)},0)}};q.exports=z.default,q.exports.default=z.default},966:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){var m;if((0,L.default)(M),"[object Array]"===Object.prototype.toString.call(u)){var d=[];for(m in u)({}).hasOwnProperty.call(u,m)&&(d[m]=(0,I.default)(u[m]));return d.indexOf(M)>=0}return"object"===S(u)?u.hasOwnProperty(M):!(!u||"function"!=typeof u.indexOf)&&u.indexOf(M)>=0};var L=$(T(5219)),I=$(T(8824));function $(M){return M&&M.__esModule?M:{default:M}}function S(M){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(M)}q.exports=z.default,q.exports.default=z.default},7448:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){(0,L.default)(M);var m=!1===(u=u||{}).allow_leading_zeroes?$:S,d=!u.hasOwnProperty("min")||M>=u.min,f=!u.hasOwnProperty("max")||M<=u.max,p=!u.hasOwnProperty("lt")||M<u.lt,g=!u.hasOwnProperty("gt")||M>u.gt;return m.test(M)&&d&&f&&p&&g};var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(5219)),$=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,S=/^[-+]?[0-9]+$/;q.exports=z.default,q.exports.default=z.default},1779:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u,m){(0,L.default)(u);try{m=(0,I.default)(m,x);var d=[];m.allow_primitives&&(d=[null,!1,!0]);var f=JSON.parse(u);return d.includes(f)||!!f&&"object"===S(f)}catch{}return!1};var L=$(T(5219)),I=$(T(3638));function $(u){return u&&u.__esModule?u:{default:u}}function S(u){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(u)}var x={allow_primitives:!1};q.exports=z.default,q.exports.default=z.default},2632:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){(0,L.default)(x);var M=x.split(".");return 3===M.length&&M.reduce(function(m,d){return m&&(0,I.default)(d,{urlSafe:!0})},!0)};var L=$(T(5219)),I=$(T(7222));function $(x){return x&&x.__esModule?x:{default:x}}q.exports=z.default,q.exports.default=z.default},602:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function d(f,p){if((0,L.default)(f),p=(0,I.default)(p,m),!f.includes(","))return!1;var g=f.split(",");return!(g[0].startsWith("(")&&!g[1].endsWith(")")||g[1].endsWith(")")&&!g[0].startsWith("("))&&(p.checkDMS?M.test(g[0])&&u.test(g[1]):S.test(g[0])&&x.test(g[1]))};var L=$(T(5219)),I=$(T(3638));function $(f){return f&&f.__esModule?f:{default:f}}var S=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,x=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,M=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,u=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,m={checkDMS:!1};q.exports=z.default,q.exports.default=z.default},3593:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){var u,m;(0,L.default)(x),"object"===$(M)?(u=M.min||0,m=M.max):(u=arguments[1]||0,m=arguments[2]);var d=x.match(/(\uFE0F|\uFE0E)/g)||[],f=x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],p=x.length-d.length-f.length;return p>=u&&(typeof m>"u"||p<=m)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219));function $(x){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(x)}q.exports=z.default,q.exports.default=z.default},4264:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){if((0,L.default)(x),M in $)return $[M](x);if("any"===M){for(var u in $)if((0,$[u])(x))return!0;return!1}throw new Error("Invalid locale '".concat(M,"'"))};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$={"cs-CZ":function(M){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(M)},"de-DE":function(M){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A\xd6|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B\xd6|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F\xdc|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G\xd6|GP|GR|GS|GT|G\xdc|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L\xd6|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M\xdc|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N\xd6|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T\xdc|\xdcB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W\xdc|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|B\xdcD|BUL|B\xdcR|B\xdcS|B\xdcZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|D\xdcW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL\xd6|FOR|FRG|FRI|FRW|FTL|F\xdcS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM\xdc|HOG|HOH|HOL|HOM|HOR|H\xd6S|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|J\xdcL|KEH|KEL|KEM|KIB|KLE|KLZ|K\xd6N|K\xd6T|K\xd6Z|KRU|K\xdcN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|L\xd6B|LOS|LRO|LSZ|L\xdcN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|M\xdcB|M\xdcR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|\xd6HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL\xd6|PR\xdc|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|R\xdcD|R\xdcG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL\xdc|SLZ|SM\xdc|SOB|SOG|SOK|S\xd6M|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|S\xdcW|SWA|SZB|TBB|TDO|TET|TIR|T\xd6L|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|W\xdcM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(M)},"de-LI":function(M){return/^FL[- ]?\d{1,5}[UZ]?$/.test(M)},"en-IN":function(M){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(M)},"es-AR":function(M){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(M)},"fi-FI":function(M){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(M)},"hu-HU":function(M){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(M)},"pt-BR":function(M){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(M)},"pt-PT":function(M){return/^([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})$/.test(M)},"sq-AL":function(M){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(M)},"sv-SE":function(M){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z\xc5\xc4\xd6 ]{2,7}$)/.test(M.trim())},"en-PK":function(M){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(M.trim())}};q.exports=z.default,q.exports.default=z.default},8347:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function O(P){return(0,L.default)(P),D.test(P)};var L=function I(P){return P&&P.__esModule?P:{default:P}}(T(5219)),S="(([a-zA-Z]{2,3}(-".concat("([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",")?)|([a-zA-Z]{5,8}))"),d="(".concat("(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])","(-[A-Za-z0-9]{2,8})+)"),f="(x(-[A-Za-z0-9]{1,8})+)",h="(".concat("((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))","|").concat("((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",")"),_="(-|_)",w="".concat(S,"(").concat(_).concat("([A-Za-z]{4})",")?(").concat(_).concat("([A-Za-z]{2}|\\d{3})",")?(").concat(_).concat("([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",")*(").concat(_).concat(d,")*(").concat(_).concat(f,")?"),D=new RegExp("(^".concat(f,"$)|(^").concat(h,"$)|(^").concat(w,"$)"));q.exports=z.default,q.exports.default=z.default},568:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){return(0,L.default)(S),S===S.toLowerCase()};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},301:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){(0,L.default)(S);for(var u,m,d,x=S.replace(/[- ]+/g,""),M=0,f=x.length-1;f>=0;f--)u=x.substring(f,f+1),m=parseInt(u,10),d&&(m*=2)>=10?M+=m%10+1:M+=m,d=!d;return!(M%10!=0||!x)};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},8392:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function d(f,p){return(0,L.default)(f),null!=p&&p.eui&&(p.eui=String(p.eui)),null!=p&&p.no_colons||null!=p&&p.no_separators?"48"===p.eui?S.test(f):"64"===p.eui?u.test(f):S.test(f)||u.test(f):"48"===p?.eui?$.test(f)||x.test(f):"64"===p?.eui?M.test(f)||m.test(f):d(f,{eui:"48"})||d(f,{eui:"64"})};var L=function I(f){return f&&f.__esModule?f:{default:f}}(T(5219)),$=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,S=/^([0-9a-fA-F]){12}$/,x=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,M=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,u=/^([0-9a-fA-F]){16}$/,m=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;q.exports=z.default,q.exports.default=z.default},6269:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^[a-f0-9]{32}$/;q.exports=z.default,q.exports.default=z.default},4649:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),0===x.indexOf("magnet:?")&&$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;q.exports=z.default,q.exports.default=z.default},8813:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function h(_,w){if((0,$.default)(_),0!==_.indexOf("mailto:"))return!1;var O=x(_.replace("mailto:","").split("?"),2),P=O[0],U=O[1],j=void 0===U?"":U;if(!P&&!j)return!0;var K=function g(_){var w=new Set(["subject","body","cc","bcc"]),D={cc:"",bcc:""},O=!1,P=_.split("&");if(P.length>4)return!1;var j,U=function d(_,w){var D=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!D){if(Array.isArray(_)||(D=f(_))||w&&_&&"number"==typeof _.length){D&&(_=D);var O=0,P=function(){};return{s:P,n:function(){return O>=_.length?{done:!0}:{done:!1,value:_[O++]}},e:function(Z){throw Z},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var K,U=!0,j=!1;return{s:function(){D=D.call(_)},n:function(){var Z=D.next();return U=Z.done,Z},e:function(Z){j=!0,K=Z},f:function(){try{!U&&null!=D.return&&D.return()}finally{if(j)throw K}}}}(P);try{for(U.s();!(j=U.n()).done;){var Z=x(j.value.split("="),2),Y=Z[0],W=Z[1];if(Y&&!w.has(Y)){O=!0;break}W&&("cc"===Y||"bcc"===Y)&&(D[Y]=W),Y&&w.delete(Y)}}catch(re){U.e(re)}finally{U.f()}return!O&&D}(j);return!!K&&"".concat(P,",").concat(K.cc,",").concat(K.bcc).split(",").every(function(B){return!(B=(0,L.default)(B," "))||(0,I.default)(B,w)})};var L=S(T(3481)),I=S(T(2377)),$=S(T(5219));function S(_){return _&&_.__esModule?_:{default:_}}function x(_,w){return function m(_){if(Array.isArray(_))return _}(_)||function u(_,w){var D=null==_?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(null!=D){var O,P,U,j,K=[],B=!0,Z=!1;try{if(U=(D=D.call(_)).next,0===w){if(Object(D)!==D)return;B=!1}else for(;!(B=(O=U.call(D)).done)&&(K.push(O.value),K.length!==w);B=!0);}catch(Y){Z=!0,P=Y}finally{try{if(!B&&null!=D.return&&(j=D.return(),Object(j)!==j))return}finally{if(Z)throw P}}return K}}(_,w)||f(_,w)||function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(_,w){if(_){if("string"==typeof _)return p(_,w);var D=Object.prototype.toString.call(_).slice(8,-1);if("Object"===D&&_.constructor&&(D=_.constructor.name),"Map"===D||"Set"===D)return Array.from(_);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return p(_,w)}}function p(_,w){(null==w||w>_.length)&&(w=_.length);for(var D=0,O=new Array(w);D<w;D++)O[D]=_[D];return O}q.exports=z.default,q.exports.default=z.default},4157:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function M(u){return(0,L.default)(u),$.test(u)||S.test(u)||x.test(u)};var L=function I(u){return u&&u.__esModule?u:{default:u}}(T(5219)),$=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,S=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,x=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;q.exports=z.default,q.exports.default=z.default},3996:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(M,u,m){if((0,L.default)(M),m&&m.strictMode&&!M.startsWith("+"))return!1;if(Array.isArray(u))return u.some(function(p){return!(!$.hasOwnProperty(p)||!$[p].test(M))});if(u in $)return $[u].test(M);if(!u||"any"===u){for(var d in $)if($.hasOwnProperty(d)&&$[d].test(M))return!0;return!1}throw new Error("Invalid locale '".concat(u,"'"))},z.locales=void 0;var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(5219)),$={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};$["en-CA"]=$["en-US"],$["fr-CA"]=$["en-CA"],$["fr-BE"]=$["nl-BE"],$["zh-HK"]=$["en-HK"],$["zh-MO"]=$["en-MO"],$["ga-IE"]=$["en-IE"],$["fr-CH"]=$["de-CH"],$["it-CH"]=$["fr-CH"],z.locales=Object.keys($)},6920:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),(0,I.default)(x)&&24===x.length};var L=$(T(5219)),I=$(T(2990));function $(x){return x&&x.__esModule?x:{default:x}}q.exports=z.default,q.exports.default=z.default},754:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/[^\x00-\x7F]/;q.exports=z.default,q.exports.default=z.default},1382:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){return(0,L.default)(M),u&&u.no_symbols?S.test(M):new RegExp("^[+-]?([0-9]*[".concat((u||{}).locale?I.decimal[u.locale]:".","])?[0-9]+$")).test(M)};var L=function $(M){return M&&M.__esModule?M:{default:M}}(T(5219)),I=T(7393),S=/^[0-9]+$/;q.exports=z.default,q.exports.default=z.default},9414:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^(0o)?[0-7]+$/i;q.exports=z.default,q.exports.default=z.default},5550:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){(0,L.default)(x);var u=x.replace(/\s/g,"").toUpperCase();return M.toUpperCase()in $&&$[M].test(u)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};q.exports=z.default,q.exports.default=z.default},5406:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){return(0,L.default)(S,{allow_leading_zeroes:!1,min:0,max:65535})};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(7448));q.exports=z.default,q.exports.default=z.default},8927:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function d(f,p){if((0,L.default)(f),p in u)return u[p].test(f);if("any"===p){for(var g in u)if(u.hasOwnProperty(g)&&u[g].test(f))return!0;return!1}throw new Error("Invalid locale '".concat(p,"'"))},z.locales=void 0;var L=function I(f){return f&&f.__esModule?f:{default:f}}(T(5219)),$=/^\d{3}$/,S=/^\d{4}$/,x=/^\d{5}$/,M=/^\d{6}$/,u={AD:/^AD\d{3}$/,AT:S,AU:S,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:S,BG:S,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:S,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:x,DK:S,DO:x,DZ:x,EE:x,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:x,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:S,ID:x,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:$,IT:x,JP:/^\d{3}\-\d{4}$/,KE:x,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:S,LV:/^LV\-\d{4}$/,LK:x,MG:$,MX:x,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:x,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:S,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:S,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:M,RU:M,SA:x,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:M,SI:S,SK:/^\d{3}\s?\d{2}$/,TH:x,TN:S,TW:/^\d{3}(\d{2})?$/,UA:x,US:/^\d{5}(-\d{4})?$/,ZA:S,ZM:x};z.locales=Object.keys(u)},3910:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function D(O){return(0,L.default)(O),w.test(O)};var L=function I(O){return O&&O.__esModule?O:{default:O}}(T(5219)),M=/([01][0-9]|2[0-3])/,u=/[0-5][0-9]/,f=new RegExp("[-+]".concat(M.source,":").concat(u.source)),p=new RegExp("([zZ]|".concat(f.source,")")),g=new RegExp("".concat(M.source,":").concat(u.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),h=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),_=new RegExp("".concat(g.source).concat(p.source)),w=new RegExp("^".concat(h.source,"[ tT]").concat(_.source,"$"));q.exports=z.default,q.exports.default=z.default},9159:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function u(m){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,L.default)(m),d?$.test(m)||S.test(m)||x.test(m)||M.test(m):$.test(m)||S.test(m)};var L=function I(m){return m&&m.__esModule?m:{default:m}}(T(5219)),$=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,S=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,x=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,M=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;q.exports=z.default,q.exports.default=z.default},5309:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M){return(0,L.default)(M),S.test(M)};var L=$(T(5219));function $(M){return M&&M.__esModule?M:{default:M}}var S=(0,$(T(4166)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");q.exports=z.default,q.exports.default=z.default},1862:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;q.exports=z.default,q.exports.default=z.default},5359:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function g(h){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,I.default)(h);var w=function f(h){var _=function d(h){var _={};return Array.from(h).forEach(function(w){_[w]?_[w]+=1:_[w]=1}),_}(h),w={length:h.length,uniqueChars:Object.keys(_).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(_).forEach(function(D){S.test(D)?w.uppercaseCount+=_[D]:x.test(D)?w.lowercaseCount+=_[D]:M.test(D)?w.numberCount+=_[D]:u.test(D)&&(w.symbolCount+=_[D])}),w}(h);return(_=(0,L.default)(_||{},m)).returnScore?function p(h,_){var w=0;return w+=h.uniqueChars*_.pointsPerUnique,w+=(h.length-h.uniqueChars)*_.pointsPerRepeat,h.lowercaseCount>0&&(w+=_.pointsForContainingLower),h.uppercaseCount>0&&(w+=_.pointsForContainingUpper),h.numberCount>0&&(w+=_.pointsForContainingNumber),h.symbolCount>0&&(w+=_.pointsForContainingSymbol),w}(w,_):w.length>=_.minLength&&w.lowercaseCount>=_.minLowercase&&w.uppercaseCount>=_.minUppercase&&w.numberCount>=_.minNumbers&&w.symbolCount>=_.minSymbols};var L=$(T(3638)),I=$(T(5219));function $(h){return h&&h.__esModule?h:{default:h}}var S=/^[A-Z]$/,x=/^[a-z]$/,M=/^[0-9]$/,u=/^[-#!$@\xa3%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,m={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};q.exports=z.default,q.exports.default=z.default},5215:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x){return(0,L.default)(x),$.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;q.exports=z.default,q.exports.default=z.default},6065:(q,z,T)=>{"use strict";function L(Ce){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Re){return typeof Re}:function(Re){return Re&&"function"==typeof Symbol&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re})(Ce)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=function pn(Ce){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";(0,I.default)(Ce);var We=Ce.slice(0);if(Re in cn)return Re in Qt&&(We=We.replace(Qt[Re],"")),!!cn[Re].test(We)&&(!(Re in wt)||wt[Re](We));throw new Error("Invalid locale '".concat(Re,"'"))};var I=u(T(5219)),$=function M(Ce,Re){if(!Re&&Ce&&Ce.__esModule)return Ce;if(null===Ce||"object"!=L(Ce)&&"function"!=typeof Ce)return{default:Ce};var We=x(Re);if(We&&We.has(Ce))return We.get(Ce);var it={__proto__:null},st=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var yt in Ce)if("default"!==yt&&{}.hasOwnProperty.call(Ce,yt)){var Xt=st?Object.getOwnPropertyDescriptor(Ce,yt):null;Xt&&(Xt.get||Xt.set)?Object.defineProperty(it,yt,Xt):it[yt]=Ce[yt]}return it.default=Ce,We&&We.set(Ce,it),it}(T(7038)),S=u(T(1753));function x(Ce){if("function"!=typeof WeakMap)return null;var Re=new WeakMap,We=new WeakMap;return(x=function(st){return st?We:Re})(Ce)}function u(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function m(Ce){return function g(Ce){if(Array.isArray(Ce))return h(Ce)}(Ce)||function p(Ce){if(typeof Symbol<"u"&&null!=Ce[Symbol.iterator]||null!=Ce["@@iterator"])return Array.from(Ce)}(Ce)||function f(Ce,Re){if(Ce){if("string"==typeof Ce)return h(Ce,Re);var We=Object.prototype.toString.call(Ce).slice(8,-1);if("Object"===We&&Ce.constructor&&(We=Ce.constructor.name),"Map"===We||"Set"===We)return Array.from(Ce);if("Arguments"===We||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(We))return h(Ce,Re)}}(Ce)||function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(Ce,Re){(null==Re||Re>Ce.length)&&(Re=Ce.length);for(var We=0,it=new Array(Re);We<Re;We++)it[We]=Ce[We];return it}var Z={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function me(Ce){for(var Re=!1,We=!1,it=0;it<3;it++)if(!Re&&/[AEIOU]/.test(Ce[it]))Re=!0;else if(!We&&Re&&"X"===Ce[it])We=!0;else if(it>0&&(Re&&!We&&!/[AEIOU]/.test(Ce[it])||We&&!/X/.test(Ce[it])))return!1;return!0}var cn={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};cn["lb-LU"]=cn["fr-LU"],cn["lt-LT"]=cn["et-EE"],cn["nl-BE"]=cn["fr-BE"],cn["fr-CA"]=cn["en-CA"];var wt={"bg-BG":function _(Ce){var Re=Ce.slice(0,2),We=parseInt(Ce.slice(2,4),10);We>40?(We-=40,Re="20".concat(Re)):We>20?(We-=20,Re="18".concat(Re)):Re="19".concat(Re),We<10&&(We="0".concat(We));var it="".concat(Re,"/").concat(We,"/").concat(Ce.slice(4,6));if(!(0,S.default)(it,"YYYY/MM/DD"))return!1;for(var st=Ce.split("").map(function(Ze){return parseInt(Ze,10)}),yt=[2,4,8,5,10,9,7,3,6],Xt=0,mn=0;mn<yt.length;mn++)Xt+=st[mn]*yt[mn];return(Xt=Xt%11==10?0:Xt%11)===st[9]},"cs-CZ":function D(Ce){Ce=Ce.replace(/\W/,"");var Re=parseInt(Ce.slice(0,2),10);if(10===Ce.length)Re=Re<54?"20".concat(Re):"19".concat(Re);else{if("000"===Ce.slice(6))return!1;if(!(Re<54))return!1;Re="19".concat(Re)}3===Re.length&&(Re=[Re.slice(0,2),"0",Re.slice(2)].join(""));var We=parseInt(Ce.slice(2,4),10);if(We>50&&(We-=50),We>20){if(parseInt(Re,10)<2004)return!1;We-=20}We<10&&(We="0".concat(We));var it="".concat(Re,"/").concat(We,"/").concat(Ce.slice(4,6));if(!(0,S.default)(it,"YYYY/MM/DD"))return!1;if(10===Ce.length&&parseInt(Ce,10)%11!=0){var st=parseInt(Ce.slice(0,9),10)%11;if(!(parseInt(Re,10)<1986&&10===st))return!1;if(0!==parseInt(Ce.slice(9),10))return!1}return!0},"de-AT":function O(Ce){return $.luhnCheck(Ce)},"de-DE":function P(Ce){for(var Re=Ce.split("").map(function(Ze){return parseInt(Ze,10)}),We=[],it=0;it<Re.length-1;it++){We.push("");for(var st=0;st<Re.length-1;st++)Re[it]===Re[st]&&(We[it]+=st)}if(2!==(We=We.filter(function(Ze){return Ze.length>1})).length&&3!==We.length)return!1;if(3===We[0].length){for(var yt=We[0].split("").map(function(Ze){return parseInt(Ze,10)}),Xt=0,mn=0;mn<yt.length-1;mn++)yt[mn]+1===yt[mn+1]&&(Xt+=1);if(2===Xt)return!1}return $.iso7064Check(Ce)},"dk-DK":function U(Ce){Ce=Ce.replace(/\W/,"");var Re=parseInt(Ce.slice(4,6),10);switch(Ce.slice(6,7)){case"0":case"1":case"2":case"3":Re="19".concat(Re);break;case"4":case"9":Re=Re<37?"20".concat(Re):"19".concat(Re);break;default:if(Re<37)Re="20".concat(Re);else{if(!(Re>58))return!1;Re="18".concat(Re)}}3===Re.length&&(Re=[Re.slice(0,2),"0",Re.slice(2)].join(""));var it="".concat(Re,"/").concat(Ce.slice(2,4),"/").concat(Ce.slice(0,2));if(!(0,S.default)(it,"YYYY/MM/DD"))return!1;for(var st=Ce.split("").map(function(Ze){return parseInt(Ze,10)}),yt=0,Xt=4,mn=0;mn<9;mn++)yt+=st[mn]*Xt,1==(Xt-=1)&&(Xt=7);return 1!=(yt%=11)&&(0===yt?0===st[9]:st[9]===11-yt)},"el-CY":function j(Ce){for(var Re=Ce.slice(0,8).split("").map(function(yt){return parseInt(yt,10)}),We=0,it=1;it<Re.length;it+=2)We+=Re[it];for(var st=0;st<Re.length;st+=2)Re[st]<2?We+=1-Re[st]:(We+=2*(Re[st]-2)+5,Re[st]>4&&(We+=2));return String.fromCharCode(We%26+65)===Ce.charAt(8)},"el-GR":function K(Ce){for(var Re=Ce.split("").map(function(st){return parseInt(st,10)}),We=0,it=0;it<8;it++)We+=Re[it]*Math.pow(2,8-it);return We%11%10===Re[8]},"en-CA":function w(Ce){var Re=Ce.split(""),We=Re.filter(function(st,yt){return yt%2}).map(function(st){return 2*Number(st)}).join("").split("");return Re.filter(function(st,yt){return!(yt%2)}).concat(We).map(function(st){return Number(st)}).reduce(function(st,yt){return st+yt})%10==0},"en-IE":function B(Ce){var Re=$.reverseMultiplyAndSum(Ce.split("").slice(0,7).map(function(We){return parseInt(We,10)}),8);return 9===Ce.length&&"W"!==Ce[8]&&(Re+=9*(Ce[8].charCodeAt(0)-64)),0==(Re%=23)?"W"===Ce[7].toUpperCase():Ce[7].toUpperCase()===String.fromCharCode(64+Re)},"en-US":function W(Ce){return-1!==function Y(){var Ce=[];for(var Re in Z)Z.hasOwnProperty(Re)&&Ce.push.apply(Ce,m(Z[Re]));return Ce}().indexOf(Ce.slice(0,2))},"es-AR":function re(Ce){for(var Re=0,We=Ce.split(""),it=parseInt(We.pop(),10),st=0;st<We.length;st++)Re+=We[9-st]*(2+st%6);var yt=11-Re%11;return 11===yt?yt=0:10===yt&&(yt=9),it===yt},"es-ES":function H(Ce){var Re=Ce.toUpperCase().split("");if(isNaN(parseInt(Re[0],10))&&Re.length>1){var We=0;switch(Re[0]){case"Y":We=1;break;case"Z":We=2}Re.splice(0,1,We)}else for(;Re.length<9;)Re.unshift(0);Re=Re.join("");var st=parseInt(Re.slice(0,8),10)%23;return Re[8]===["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][st]},"et-EE":function k(Ce){var Re=Ce.slice(1,3);switch(Ce.slice(0,1)){case"1":case"2":Re="18".concat(Re);break;case"3":case"4":Re="19".concat(Re);break;default:Re="20".concat(Re)}var it="".concat(Re,"/").concat(Ce.slice(3,5),"/").concat(Ce.slice(5,7));if(!(0,S.default)(it,"YYYY/MM/DD"))return!1;for(var st=Ce.split("").map(function(Tt){return parseInt(Tt,10)}),yt=0,Xt=1,mn=0;mn<10;mn++)yt+=st[mn]*Xt,10===(Xt+=1)&&(Xt=1);if(yt%11==10){yt=0,Xt=3;for(var Ze=0;Ze<10;Ze++)yt+=st[Ze]*Xt,10===(Xt+=1)&&(Xt=1);if(yt%11==10)return 0===st[10]}return yt%11===st[10]},"fi-FI":function F(Ce){var Re=Ce.slice(4,6);switch(Ce.slice(6,7)){case"+":Re="18".concat(Re);break;case"-":Re="19".concat(Re);break;default:Re="20".concat(Re)}var it="".concat(Re,"/").concat(Ce.slice(2,4),"/").concat(Ce.slice(0,2));if(!(0,S.default)(it,"YYYY/MM/DD"))return!1;var st=parseInt(Ce.slice(0,6)+Ce.slice(7,10),10)%31;return st<10?st===parseInt(Ce.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][st-=10]===Ce.slice(10)},"fr-BE":function R(Ce){if("00"!==Ce.slice(2,4)||"00"!==Ce.slice(4,6)){var Re="".concat(Ce.slice(0,2),"/").concat(Ce.slice(2,4),"/").concat(Ce.slice(4,6));if(!(0,S.default)(Re,"YY/MM/DD"))return!1}var We=97-parseInt(Ce.slice(0,9),10)%97,it=parseInt(Ce.slice(9,11),10);return!(We!==it&&(We=97-parseInt("2".concat(Ce.slice(0,9)),10)%97,We!==it))},"fr-FR":function ne(Ce){return Ce=Ce.replace(/\s/g,""),parseInt(Ce.slice(0,10),10)%511===parseInt(Ce.slice(10,13),10)},"fr-LU":function te(Ce){var Re="".concat(Ce.slice(0,4),"/").concat(Ce.slice(4,6),"/").concat(Ce.slice(6,8));return!(!(0,S.default)(Re,"YYYY/MM/DD")||!$.luhnCheck(Ce.slice(0,12)))&&$.verhoeffCheck("".concat(Ce.slice(0,11)).concat(Ce[12]))},"hr-HR":function ce(Ce){return $.iso7064Check(Ce)},"hu-HU":function fe(Ce){for(var Re=Ce.split("").map(function(st){return parseInt(st,10)}),We=8,it=1;it<9;it++)We+=Re[it]*(it+1);return We%11===Re[9]},"it-IT":function ue(Ce){var Re=Ce.toUpperCase().split("");if(!me(Re.slice(0,3))||!me(Re.slice(3,6)))return!1;for(var it={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},st=0,yt=[6,7,9,10,12,13,14];st<yt.length;st++){var Xt=yt[st];Re[Xt]in it&&Re.splice(Xt,1,it[Re[Xt]])}var Ze={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[Re[8]],Tt=parseInt(Re[9]+Re[10],10);Tt>40&&(Tt-=40),Tt<10&&(Tt="0".concat(Tt));var Zt="".concat(Re[6]).concat(Re[7],"/").concat(Ze,"/").concat(Tt);if(!(0,S.default)(Zt,"YY/MM/DD"))return!1;for(var un=0,Nt=1;Nt<Re.length-1;Nt+=2){var Un=parseInt(Re[Nt],10);isNaN(Un)&&(Un=Re[Nt].charCodeAt(0)-65),un+=Un}for(var Gn={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},Rn=0;Rn<Re.length-1;Rn+=2){var Yn=0;if(Re[Rn]in Gn)Yn=Gn[Re[Rn]];else{var _n=parseInt(Re[Rn],10);Yn=2*_n+1,_n>4&&(Yn+=2)}un+=Yn}return String.fromCharCode(65+un%26)===Re[15]},"lv-LV":function xe(Ce){var Re=(Ce=Ce.replace(/\W/,"")).slice(0,2);if("32"!==Re){if("00"!==Ce.slice(2,4)){var it=Ce.slice(4,6);switch(Ce[6]){case"0":it="18".concat(it);break;case"1":it="19".concat(it);break;default:it="20".concat(it)}var st="".concat(it,"/").concat(Ce.slice(2,4),"/").concat(Re);if(!(0,S.default)(st,"YYYY/MM/DD"))return!1}for(var yt=1101,Xt=[1,6,3,7,9,10,5,8,4,2],mn=0;mn<Ce.length-1;mn++)yt-=parseInt(Ce[mn],10)*Xt[mn];return parseInt(Ce[10],10)===yt%11}return!0},"mt-MT":function ge(Ce){if(9!==Ce.length){for(var Re=Ce.toUpperCase().split("");Re.length<8;)Re.unshift(0);switch(Ce[7]){case"A":case"P":if(0===parseInt(Re[6],10))return!1;break;default:var We=parseInt(Re.join("").slice(0,5),10);if(We>32e3)return!1;if(We===parseInt(Re.join("").slice(5,7),10))return!1}}return!0},"nl-NL":function Ne(Ce){return $.reverseMultiplyAndSum(Ce.split("").slice(0,8).map(function(Re){return parseInt(Re,10)}),9)%11===parseInt(Ce[8],10)},"pl-PL":function Ae(Ce){if(10===Ce.length){for(var Re=[6,5,7,2,3,4,5,6,7],We=0,it=0;it<Re.length;it++)We+=parseInt(Ce[it],10)*Re[it];return 10!=(We%=11)&&We===parseInt(Ce[9],10)}var st=Ce.slice(0,2),yt=parseInt(Ce.slice(2,4),10);yt>80?(st="18".concat(st),yt-=80):yt>60?(st="22".concat(st),yt-=60):yt>40?(st="21".concat(st),yt-=40):yt>20?(st="20".concat(st),yt-=20):st="19".concat(st),yt<10&&(yt="0".concat(yt));var Xt="".concat(st,"/").concat(yt,"/").concat(Ce.slice(4,6));if(!(0,S.default)(Xt,"YYYY/MM/DD"))return!1;for(var mn=0,Ze=1,Tt=0;Tt<Ce.length-1;Tt++)mn+=parseInt(Ce[Tt],10)*Ze%10,(Ze+=2)>10?Ze=1:5===Ze&&(Ze+=2);return(mn=10-mn%10)===parseInt(Ce[10],10)},"pt-BR":function He(Ce){if(11===Ce.length){var Re,We;if(Re=0,"11111111111"===Ce||"22222222222"===Ce||"33333333333"===Ce||"44444444444"===Ce||"55555555555"===Ce||"66666666666"===Ce||"77777777777"===Ce||"88888888888"===Ce||"99999999999"===Ce||"00000000000"===Ce)return!1;for(var it=1;it<=9;it++)Re+=parseInt(Ce.substring(it-1,it),10)*(11-it);if(10==(We=10*Re%11)&&(We=0),We!==parseInt(Ce.substring(9,10),10))return!1;Re=0;for(var st=1;st<=10;st++)Re+=parseInt(Ce.substring(st-1,st),10)*(12-st);return 10==(We=10*Re%11)&&(We=0),We===parseInt(Ce.substring(10,11),10)}if("00000000000000"===Ce||"11111111111111"===Ce||"22222222222222"===Ce||"33333333333333"===Ce||"44444444444444"===Ce||"55555555555555"===Ce||"66666666666666"===Ce||"77777777777777"===Ce||"88888888888888"===Ce||"99999999999999"===Ce)return!1;for(var yt=Ce.length-2,Xt=Ce.substring(0,yt),mn=Ce.substring(yt),Ze=0,Tt=yt-7,Zt=yt;Zt>=1;Zt--)Ze+=Xt.charAt(yt-Zt)*Tt,(Tt-=1)<2&&(Tt=9);var un=Ze%11<2?0:11-Ze%11;if(un!==parseInt(mn.charAt(0),10))return!1;Xt=Ce.substring(0,yt+=1),Ze=0,Tt=yt-7;for(var Nt=yt;Nt>=1;Nt--)Ze+=Xt.charAt(yt-Nt)*Tt,(Tt-=1)<2&&(Tt=9);return(un=Ze%11<2?0:11-Ze%11)===parseInt(mn.charAt(1),10)},"pt-PT":function qe(Ce){var Re=11-$.reverseMultiplyAndSum(Ce.split("").slice(0,8).map(function(We){return parseInt(We,10)}),9)%11;return Re>9?0===parseInt(Ce[8],10):Re===parseInt(Ce[8],10)},"ro-RO":function Qe(Ce){if("9000"!==Ce.slice(0,4)){var Re=Ce.slice(1,3);switch(Ce[0]){case"1":case"2":Re="19".concat(Re);break;case"3":case"4":Re="18".concat(Re);break;case"5":case"6":Re="20".concat(Re)}var We="".concat(Re,"/").concat(Ce.slice(3,5),"/").concat(Ce.slice(5,7));if(8===We.length){if(!(0,S.default)(We,"YY/MM/DD"))return!1}else if(!(0,S.default)(We,"YYYY/MM/DD"))return!1;for(var it=Ce.split("").map(function(mn){return parseInt(mn,10)}),st=[2,7,9,1,4,6,3,5,8,2,7,9],yt=0,Xt=0;Xt<st.length;Xt++)yt+=it[Xt]*st[Xt];return yt%11==10?1===it[12]:it[12]===yt%11}return!0},"sk-SK":function ct(Ce){if(9===Ce.length){if("000"===(Ce=Ce.replace(/\W/,"")).slice(6))return!1;var Re=parseInt(Ce.slice(0,2),10);if(Re>53)return!1;Re=Re<10?"190".concat(Re):"19".concat(Re);var We=parseInt(Ce.slice(2,4),10);We>50&&(We-=50),We<10&&(We="0".concat(We));var it="".concat(Re,"/").concat(We,"/").concat(Ce.slice(4,6));if(!(0,S.default)(it,"YYYY/MM/DD"))return!1}return!0},"sl-SI":function ht(Ce){var Re=11-$.reverseMultiplyAndSum(Ce.split("").slice(0,7).map(function(We){return parseInt(We,10)}),8)%11;return 10===Re?0===parseInt(Ce[7],10):Re===parseInt(Ce[7],10)},"sv-SE":function ft(Ce){var Re=Ce.slice(0);Ce.length>11&&(Re=Re.slice(2));var We="",it=Re.slice(2,4),st=parseInt(Re.slice(4,6),10);if(Ce.length>11)We=Ce.slice(0,4);else if(We=Ce.slice(0,2),11===Ce.length&&st<60){var yt=(new Date).getFullYear().toString(),Xt=parseInt(yt.slice(0,2),10);if(yt=parseInt(yt,10),"-"===Ce[6])We=parseInt("".concat(Xt).concat(We),10)>yt?"".concat(Xt-1).concat(We):"".concat(Xt).concat(We);else if(We="".concat(Xt-1).concat(We),yt-parseInt(We,10)<100)return!1}st>60&&(st-=60),st<10&&(st="0".concat(st));var mn="".concat(We,"/").concat(it,"/").concat(st);if(8===mn.length){if(!(0,S.default)(mn,"YY/MM/DD"))return!1}else if(!(0,S.default)(mn,"YYYY/MM/DD"))return!1;return $.luhnCheck(Ce.replace(/\W/,""))},"uk-UA":function vt(Ce){for(var Re=Ce.split("").map(function(yt){return parseInt(yt,10)}),We=[-1,5,7,9,4,6,10,5,7],it=0,st=0;st<We.length;st++)it+=Re[st]*We[st];return it%11==10?0===Re[9]:Re[9]===it%11}};wt["lb-LU"]=wt["fr-LU"],wt["lt-LT"]=wt["et-EE"],wt["nl-BE"]=wt["fr-BE"],wt["fr-CA"]=wt["en-CA"];var tn=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,Qt={"de-AT":tn,"de-DE":/[\/\\]/g,"fr-BE":tn};Qt["nl-BE"]=Qt["fr-BE"],q.exports=z.default,q.exports.default=z.default},9328:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M,u){return u=(0,L.default)(u,$),"string"==typeof M&&S[u.hourFormat][u.mode].test(M)};var L=function I(M){return M&&M.__esModule?M:{default:M}}(T(3638)),$={hourFormat:"hour24",mode:"default"},S={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};q.exports=z.default,q.exports.default=z.default},6552:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function D(O,P){if((0,L.default)(O),!O||/[\s<>]/.test(O)||0===O.indexOf("mailto:")||(P=(0,S.default)(P,g)).validate_length&&O.length>=2083||!P.allow_fragments&&O.includes("#")||!P.allow_query_components&&(O.includes("?")||O.includes("&")))return!1;var U,j,K,B,Z,Y,W,re;if(W=O.split("#"),O=W.shift(),W=O.split("?"),O=W.shift(),(W=O.split("://")).length>1){if(U=W.shift().toLowerCase(),P.require_valid_protocol&&-1===P.protocols.indexOf(U))return!1}else{if(P.require_protocol)return!1;if("//"===O.slice(0,2)){if(!P.allow_protocol_relative_urls)return!1;W[0]=O.slice(2)}}if(""===(O=W.join("://")))return!1;if(W=O.split("/"),""===(O=W.shift())&&!P.require_host)return!0;if((W=O.split("@")).length>1){if(P.disallow_auth||""===W[0]||(j=W.shift()).indexOf(":")>=0&&j.split(":").length>2)return!1;var k=function M(O,P){return function p(O){if(Array.isArray(O))return O}(O)||function f(O,P){var U=null==O?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(null!=U){var j,K,B,Z,Y=[],W=!0,re=!1;try{if(B=(U=U.call(O)).next,0===P){if(Object(U)!==U)return;W=!1}else for(;!(W=(j=B.call(U)).done)&&(Y.push(j.value),Y.length!==P);W=!0);}catch(H){re=!0,K=H}finally{try{if(!W&&null!=U.return&&(Z=U.return(),Object(Z)!==Z))return}finally{if(re)throw K}}return Y}}(O,P)||function m(O,P){if(O){if("string"==typeof O)return d(O,P);var U=Object.prototype.toString.call(O).slice(8,-1);if("Object"===U&&O.constructor&&(U=O.constructor.name),"Map"===U||"Set"===U)return Array.from(O);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return d(O,P)}}(O,P)||function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(j.split(":"),2);if(""===k[0]&&""===k[1])return!1}Y=null,re=null;var ne=(B=W.join("@")).match(h);if(ne?(K="",re=ne[1],Y=ne[2]||null):(K=(W=B.split(":")).shift(),W.length&&(Y=W.join(":"))),null!==Y&&Y.length>0){if(Z=parseInt(Y,10),!/^[0-9]+$/.test(Y)||Z<=0||Z>65535)return!1}else if(P.require_port)return!1;return P.host_whitelist?w(K,P.host_whitelist):""===K&&!P.require_host||!(!(0,$.default)(K)&&!(0,I.default)(K,P)&&(!re||!(0,$.default)(re,6))||(K=K||re,P.host_blacklist&&w(K,P.host_blacklist)))};var L=x(T(5219)),I=x(T(6734)),$=x(T(4360)),S=x(T(3638));function x(O){return O&&O.__esModule?O:{default:O}}function d(O,P){(null==P||P>O.length)&&(P=O.length);for(var U=0,j=new Array(P);U<P;U++)j[U]=O[U];return j}var g={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},h=/^\[([^\]]+)\](?::([0-9]+))?$/;function _(O){return"[object RegExp]"===Object.prototype.toString.call(O)}function w(O,P){for(var U=0;U<P.length;U++){var j=P[U];if(O===j||_(j)&&j.test(O))return!0}return!1}q.exports=z.default,q.exports.default=z.default},566:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){(0,L.default)(x);var u=$[[void 0,null].includes(M)?"all":M];return!!u&&u.test(x)};var L=function I(x){return x&&x.__esModule?x:{default:x}}(T(5219)),$={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};q.exports=z.default,q.exports.default=z.default},8821:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){return(0,L.default)(S),S===S.toUpperCase()};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},5818:(q,z,T)=>{"use strict";function L(g){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=function p(g,h){if((0,I.default)(g),(0,I.default)(h),h in f)return f[h](g);throw new Error("Invalid country code: '".concat(h,"'"))},z.vatMatchers=void 0;var I=function M(g){return g&&g.__esModule?g:{default:g}}(T(5219)),$=function x(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!=L(g)&&"function"!=typeof g)return{default:g};var _=S(h);if(_&&_.has(g))return _.get(g);var w={__proto__:null},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in g)if("default"!==O&&{}.hasOwnProperty.call(g,O)){var P=D?Object.getOwnPropertyDescriptor(g,O):null;P&&(P.get||P.set)?Object.defineProperty(w,O,P):w[O]=g[O]}return w.default=g,_&&_.set(g,w),w}(T(7038));function S(g){if("function"!=typeof WeakMap)return null;var h=new WeakMap,_=new WeakMap;return(S=function(D){return D?_:h})(g)}var f=z.vatMatchers={AT:function(h){return/^(AT)?U\d{8}$/.test(h)},BE:function(h){return/^(BE)?\d{10}$/.test(h)},BG:function(h){return/^(BG)?\d{9,10}$/.test(h)},HR:function(h){return/^(HR)?\d{11}$/.test(h)},CY:function(h){return/^(CY)?\w{9}$/.test(h)},CZ:function(h){return/^(CZ)?\d{8,10}$/.test(h)},DK:function(h){return/^(DK)?\d{8}$/.test(h)},EE:function(h){return/^(EE)?\d{9}$/.test(h)},FI:function(h){return/^(FI)?\d{8}$/.test(h)},FR:function(h){return/^(FR)?\w{2}\d{9}$/.test(h)},DE:function(h){return/^(DE)?\d{9}$/.test(h)},EL:function(h){return/^(EL)?\d{9}$/.test(h)},HU:function(h){return/^(HU)?\d{8}$/.test(h)},IE:function(h){return/^(IE)?\d{7}\w{1}(W)?$/.test(h)},IT:function(h){return/^(IT)?\d{11}$/.test(h)},LV:function(h){return/^(LV)?\d{11}$/.test(h)},LT:function(h){return/^(LT)?\d{9,12}$/.test(h)},LU:function(h){return/^(LU)?\d{8}$/.test(h)},MT:function(h){return/^(MT)?\d{8}$/.test(h)},NL:function(h){return/^(NL)?\d{9}B\d{2}$/.test(h)},PL:function(h){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(h)},PT:function(h){var _=h.match(/^(PT)?(\d{9})$/);if(!_)return!1;var w=_[2],D=11-$.reverseMultiplyAndSum(w.split("").slice(0,8).map(function(O){return parseInt(O,10)}),9)%11;return D>9?0===parseInt(w[8],10):D===parseInt(w[8],10)},RO:function(h){return/^(RO)?\d{2,10}$/.test(h)},SK:function(h){return/^(SK)?\d{10}$/.test(h)},SI:function(h){return/^(SI)?\d{8}$/.test(h)},ES:function(h){return/^(ES)?\w\d{7}[A-Z]$/.test(h)},SE:function(h){return/^(SE)?\d{12}$/.test(h)},AL:function(h){return/^(AL)?\w{9}[A-Z]$/.test(h)},MK:function(h){return/^(MK)?\d{13}$/.test(h)},AU:function(h){if(!h.match(/^(AU)?(\d{11})$/))return!1;var w=[10,1,3,5,7,9,11,13,15,17,19];h=h.replace(/^AU/,"");for(var D=(parseInt(h.slice(0,1),10)-1).toString()+h.slice(1),O=0,P=0;P<11;P++)O+=w[P]*D.charAt(P);return 0!==O&&O%89==0},BY:function(h){return/^(\u0423\u041d\u041f )?\d{9}$/.test(h)},CA:function(h){return/^(CA)?\d{9}$/.test(h)},IS:function(h){return/^(IS)?\d{5,6}$/.test(h)},IN:function(h){return/^(IN)?\d{15}$/.test(h)},ID:function(h){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(h)},IL:function(h){return/^(IL)?\d{9}$/.test(h)},KZ:function(h){return/^(KZ)?\d{12}$/.test(h)},NZ:function(h){return/^(NZ)?\d{9}$/.test(h)},NG:function(h){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(h)},NO:function(h){return/^(NO)?\d{9}MVA$/.test(h)},PH:function(h){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(h)},RU:function(h){return/^(RU)?(\d{10}|\d{12})$/.test(h)},SM:function(h){return/^(SM)?\d{5}$/.test(h)},SA:function(h){return/^(SA)?\d{15}$/.test(h)},RS:function(h){return/^(RS)?\d{9}$/.test(h)},CH:function(h){var D,O,P;return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(h)&&(O=(D=h.match(/\d/g).map(function(w){return+w})).pop(),P=[5,4,3,2,7,6,5,4],O===(11-D.reduce(function(j,K,B){return j+K*P[B]},0)%11)%11)},TR:function(h){return/^(TR)?\d{10}$/.test(h)},UA:function(h){return/^(UA)?\d{12}$/.test(h)},GB:function(h){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(h)},UZ:function(h){return/^(UZ)?\d{9}$/.test(h)},AR:function(h){return/^(AR)?\d{11}$/.test(h)},BO:function(h){return/^(BO)?\d{7}$/.test(h)},BR:function(h){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(h)},CL:function(h){return/^(CL)?\d{8}-\d{1}$/.test(h)},CO:function(h){return/^(CO)?\d{10}$/.test(h)},CR:function(h){return/^(CR)?\d{9,12}$/.test(h)},EC:function(h){return/^(EC)?\d{13}$/.test(h)},SV:function(h){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(h)},GT:function(h){return/^(GT)?\d{7}-\d{1}$/.test(h)},HN:function(h){return/^(HN)?$/.test(h)},MX:function(h){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(h)},NI:function(h){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(h)},PA:function(h){return/^(PA)?$/.test(h)},PY:function(h){return/^(PY)?\d{6,8}-\d{1}$/.test(h)},PE:function(h){return/^(PE)?\d{11}$/.test(h)},DO:function(h){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(h)},UY:function(h){return/^(UY)?\d{12}$/.test(h)},VE:function(h){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(h)}}},2589:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function x(M){return(0,L.default)(M),I.fullWidth.test(M)&&$.halfWidth.test(M)};var L=function S(M){return M&&M.__esModule?M:{default:M}}(T(5219)),I=T(9374),$=T(5962);q.exports=z.default,q.exports.default=z.default},961:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){(0,L.default)(S);for(var M=S.length-1;M>=0;M--)if(-1===x.indexOf(S[M]))return!1;return!0};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},4001:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){(0,L.default)(S);var M=x?new RegExp("^[".concat(x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return S.replace(M,"")};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},7340:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x,M){return(0,L.default)(S),"[object RegExp]"!==Object.prototype.toString.call(x)&&(x=new RegExp(x,M)),!!S.match(x)};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},2308:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function d(f,p){p=(0,L.default)(p,$);var g=f.split("@"),h=g.pop(),w=[g.join("@"),h];if(w[1]=w[1].toLowerCase(),"gmail.com"===w[1]||"googlemail.com"===w[1]){if(p.gmail_remove_subaddress&&(w[0]=w[0].split("+")[0]),p.gmail_remove_dots&&(w[0]=w[0].replace(/\.+/g,m)),!w[0].length)return!1;(p.all_lowercase||p.gmail_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]=p.gmail_convert_googlemaildotcom?"gmail.com":w[1]}else if(S.indexOf(w[1])>=0){if(p.icloud_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(p.all_lowercase||p.icloud_lowercase)&&(w[0]=w[0].toLowerCase())}else if(x.indexOf(w[1])>=0){if(p.outlookdotcom_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(p.all_lowercase||p.outlookdotcom_lowercase)&&(w[0]=w[0].toLowerCase())}else if(M.indexOf(w[1])>=0){if(p.yahoo_remove_subaddress){var D=w[0].split("-");w[0]=D.length>1?D.slice(0,-1).join("-"):D[0]}if(!w[0].length)return!1;(p.all_lowercase||p.yahoo_lowercase)&&(w[0]=w[0].toLowerCase())}else u.indexOf(w[1])>=0?((p.all_lowercase||p.yandex_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]="yandex.ru"):p.all_lowercase&&(w[0]=w[0].toLowerCase());return w.join("@")};var L=function I(f){return f&&f.__esModule?f:{default:f}}(T(3638)),$={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},S=["icloud.com","me.com"],x=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],M=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],u=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function m(f){return f.length>1?f:""}q.exports=z.default,q.exports.default=z.default},3927:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){if((0,L.default)(S),x){var M=new RegExp("[".concat(x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return S.replace(M,"")}for(var u=S.length-1;/\s/.test(S.charAt(u));)u-=1;return S.slice(0,u+1)};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},6333:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){return(0,L.default)(x),(0,I.default)(x,M?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F")};var L=$(T(5219)),I=$(T(1782));function $(x){return x&&x.__esModule?x:{default:x}}q.exports=z.default,q.exports.default=z.default},9290:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){return(0,L.default)(S),x?"1"===S||/^true$/i.test(S):"0"!==S&&!/^false$/i.test(S)&&""!==S};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},3004:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){return(0,L.default)(S),S=Date.parse(S),isNaN(S)?null:new Date(S)};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},556:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){return(0,L.default)(S)?parseFloat(S):NaN};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5735));q.exports=z.default,q.exports.default=z.default},7611:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){return(0,L.default)(S),parseInt(S,x||10)};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},3481:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function S(x,M){return(0,L.default)((0,I.default)(x,M),M)};var L=$(T(3927)),I=$(T(4001));function $(x){return x&&x.__esModule?x:{default:x}}q.exports=z.default,q.exports.default=z.default},2425:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S){return(0,L.default)(S),S.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},7038:(q,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.iso7064Check=function T(S){for(var x=10,M=0;M<S.length-1;M++)x=(parseInt(S[M],10)+x)%10==0?9:(parseInt(S[M],10)+x)%10*2%11;return(x=1===x?0:11-x)===parseInt(S[10],10)},z.luhnCheck=function L(S){for(var x=0,M=!1,u=S.length-1;u>=0;u--){if(M){var m=2*parseInt(S[u],10);x+=m>9?m.toString().split("").map(function(d){return parseInt(d,10)}).reduce(function(d,f){return d+f},0):m}else x+=parseInt(S[u],10);M=!M}return x%10==0},z.reverseMultiplyAndSum=function I(S,x){for(var M=0,u=0;u<S.length;u++)M+=S[u]*(x-u);return M},z.verhoeffCheck=function $(S){for(var x=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],M=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],u=S.split("").reverse().join(""),m=0,d=0;d<u.length;d++)m=x[m][M[d%8][parseInt(u[d],10)]];return 0===m}},5219:(q,z)=>{"use strict";function T(I){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(I)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=function L(I){if(!("string"==typeof I||I instanceof String)){var S=T(I);throw null===I?S="null":"object"===S&&(S=I.constructor.name),new TypeError("Expected a string but received a ".concat(S))}},q.exports=z.default,q.exports.default=z.default},7901:(q,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0,z.default=function($,S){return $.some(function(x){return S===x})},q.exports=z.default,q.exports.default=z.default},3638:(q,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function T(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},I=arguments.length>1?arguments[1]:void 0;for(var $ in I)typeof L[$]>"u"&&(L[$]=I[$]);return L},q.exports=z.default,q.exports.default=z.default},4166:(q,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function T(L,I){var $=L.join("");return new RegExp($,I)},q.exports=z.default,q.exports.default=z.default},8824:(q,z)=>{"use strict";function T(I){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(I)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=function L(I){return"object"===T(I)&&null!==I?I="function"==typeof I.toString?I.toString():"[object Object]":(null===I||typeof I>"u"||isNaN(I)&&!I.length)&&(I=""),String(I)},q.exports=z.default,q.exports.default=z.default},4104:(q,z,T)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=function $(S,x){return(0,L.default)(S),S.replace(new RegExp("[^".concat(x,"]+"),"g"),"")};var L=function I(S){return S&&S.__esModule?S:{default:S}}(T(5219));q.exports=z.default,q.exports.default=z.default},1175:(q,z,T)=>{"use strict";var L=T(3389),I=T(8699),$=T(7116),S=T(6624),x=T(8719);q.exports=function(u){return null==u||"object"!=typeof u&&"function"!=typeof u?null:L(u)?"String":I(u)?"Number":$(u)?"Boolean":S(u)?"Symbol":x(u)?"BigInt":void 0}},2015:(q,z,T)=>{"use strict";var L=T(1175),I=T(1941),$=T(7323),S=T(8606),x=T(1540),M=T(7212),u=T(9185),m=T(8647),d=T(9310),f=T(7276),p=T(3219),g=T(4831),_=T(8984)()&&Symbol.toStringTag,w=Object,D=g("Promise.prototype.then",!0),P=function(j){return!!j&&"BigInt"!==j&&"Boolean"!==j&&"Null"!==j&&"Number"!==j&&"String"!==j&&"Symbol"!==j&&"Undefined"!==j&&"Math"!==j&&"JSON"!==j&&"Reflect"!==j&&"Atomics"!==j&&"Map"!==j&&"Set"!==j&&"WeakMap"!==j&&"WeakSet"!==j&&"BigInt64Array"!==j&&"BigUint64Array"!==j&&"Float32Array"!==j&&"Float64Array"!==j&&"Int16Array"!==j&&"Int32Array"!==j&&"Int8Array"!==j&&"Uint16Array"!==j&&"Uint32Array"!==j&&"Uint8Array"!==j&&"Uint8ClampedArray"!==j&&"Array"!==j&&"Date"!==j&&"FinalizationRegistry"!==j&&"Promise"!==j&&"RegExp"!==j&&"WeakRef"!==j&&"Function"!==j&&"GeneratorFunction"!==j&&"AsyncFunction"!==j};q.exports=function(j){if(null==j)return j;var K=L(w(j))||I(j)||$(j);if(K)return K;if(S(j))return"Array";if(x(j))return"Date";if(M(j))return"RegExp";if(u(j))return"WeakRef";if(m(j))return"FinalizationRegistry";if("function"==typeof j)return f(j)?"GeneratorFunction":p(j)?"AsyncFunction":"Function";if(function(j){if(!j||"object"!=typeof j||!D)return!1;try{return D(j,null,function(){}),!0}catch{}return!1}(j))return"Promise";if(_&&_ in j){var B=j[_];if(P(B))return B}if("function"==typeof j.constructor){var Z=d(j.constructor);if(P(Z))return Z}return"Object"}},1941:(q,z,T)=>{"use strict";var L=T(6790),I=T(6004),$=T(2878),S=T(7516);q.exports=function(M){if(M&&"object"==typeof M){if(L(M))return"Map";if(I(M))return"Set";if($(M))return"WeakMap";if(S(M))return"WeakSet"}return!1}},7323:(q,z,T)=>{"use strict";var L=T(7990),I=T(4149),$=T(9475),S=T(4831),x=T(1031),M=S("Object.prototype.toString"),u=T(8984)(),m=typeof globalThis>"u"?global:globalThis,d=I(),f=S("String.prototype.slice"),p=Object.getPrototypeOf,g=S("Array.prototype.indexOf",!0)||function(O,P){for(var U=0;U<O.length;U+=1)if(O[U]===P)return U;return-1},h={__proto__:null};L(d,u&&x&&p?function(D){var O=new m[D];if(Symbol.toStringTag in O){var P=p(O),U=x(P,Symbol.toStringTag);if(!U){var j=p(P);U=x(j,Symbol.toStringTag)}h["$"+D]=$(U.get)}}:function(D){var O=new m[D],P=O.slice||O.set;P&&(h["$"+D]=$(P))}),q.exports=function(O){if(!O||"object"!=typeof O)return!1;if(!u){var P=f(M(O),8,-1);return g(d,P)>-1?P:"Object"===P&&function(O){var P=!1;return L(h,function(U,j){if(!P)try{U(O),P=f(j,1)}catch{}}),P}(O)}return x?function(O){var P=!1;return L(h,function(U,j){if(!P)try{"$"+U(O)===j&&(P=f(j,1))}catch{}}),P}(O):null}},927:q=>{"use strict";q.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ENUM_CASE_MISMATCH:"Enum does not match case for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},8832:(q,z,T)=>{var L=T(9821),I={date:function($){if("string"!=typeof $)return!0;var S=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec($);return!(null===S||S[2]<"01"||S[2]>"12"||S[3]<"01"||S[3]>"31")},"date-time":function($){if("string"!=typeof $)return!0;var S=$.toLowerCase().split("t");if(!I.date(S[0]))return!1;var x=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(S[1]);return!(null===x||x[1]>"23"||x[2]>"59"||x[3]>"59")},email:function($){return"string"!=typeof $||L.isEmail($,{require_tld:!0})},hostname:function($){if("string"!=typeof $)return!0;var S=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test($);if(S){if($.length>255)return!1;for(var x=$.split("."),M=0;M<x.length;M++)if(x[M].length>63)return!1}return S},"host-name":function($){return I.hostname.call(this,$)},ipv4:function($){return"string"!=typeof $||L.isIP($,4)},ipv6:function($){return"string"!=typeof $||L.isIP($,6)},regex:function($){try{return RegExp($),!0}catch{return!1}},uri:function($){return this.options.strictUris?I["strict-uri"].apply(this,arguments):"string"!=typeof $||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test($)},"strict-uri":function($){return"string"!=typeof $||L.isURL($)}};q.exports=I},3417:(q,z,T)=>{"use strict";var L=T(8832),I=T(8814),$=T(4267),S=function(m,d){return m&&Array.isArray(m.includeErrors)&&m.includeErrors.length>0&&!d.some(function(f){return m.includeErrors.includes(f)})},x={multipleOf:function(m,d,f){if(!S(this.validateOptions,["MULTIPLE_OF"])&&"number"==typeof f){var p=String(d.multipleOf),g=Math.pow(10,p.length-p.indexOf(".")-1);"integer"!==$.whatIs(f*g/(d.multipleOf*g))&&m.addError("MULTIPLE_OF",[f,d.multipleOf],null,d)}},maximum:function(m,d,f){S(this.validateOptions,["MAXIMUM","MAXIMUM_EXCLUSIVE"])||"number"==typeof f&&(!0!==d.exclusiveMaximum?f>d.maximum&&m.addError("MAXIMUM",[f,d.maximum],null,d):f>=d.maximum&&m.addError("MAXIMUM_EXCLUSIVE",[f,d.maximum],null,d))},exclusiveMaximum:function(){},minimum:function(m,d,f){S(this.validateOptions,["MINIMUM","MINIMUM_EXCLUSIVE"])||"number"==typeof f&&(!0!==d.exclusiveMinimum?f<d.minimum&&m.addError("MINIMUM",[f,d.minimum],null,d):f<=d.minimum&&m.addError("MINIMUM_EXCLUSIVE",[f,d.minimum],null,d))},exclusiveMinimum:function(){},maxLength:function(m,d,f){S(this.validateOptions,["MAX_LENGTH"])||"string"==typeof f&&$.ucs2decode(f).length>d.maxLength&&m.addError("MAX_LENGTH",[f.length,d.maxLength],null,d)},minLength:function(m,d,f){S(this.validateOptions,["MIN_LENGTH"])||"string"==typeof f&&$.ucs2decode(f).length<d.minLength&&m.addError("MIN_LENGTH",[f.length,d.minLength],null,d)},pattern:function(m,d,f){S(this.validateOptions,["PATTERN"])||"string"==typeof f&&!1===RegExp(d.pattern).test(f)&&m.addError("PATTERN",[d.pattern,f],null,d)},additionalItems:function(m,d,f){S(this.validateOptions,["ARRAY_ADDITIONAL_ITEMS"])||Array.isArray(f)&&!1===d.additionalItems&&Array.isArray(d.items)&&f.length>d.items.length&&m.addError("ARRAY_ADDITIONAL_ITEMS",null,null,d)},items:function(){},maxItems:function(m,d,f){S(this.validateOptions,["ARRAY_LENGTH_LONG"])||Array.isArray(f)&&f.length>d.maxItems&&m.addError("ARRAY_LENGTH_LONG",[f.length,d.maxItems],null,d)},minItems:function(m,d,f){S(this.validateOptions,["ARRAY_LENGTH_SHORT"])||Array.isArray(f)&&f.length<d.minItems&&m.addError("ARRAY_LENGTH_SHORT",[f.length,d.minItems],null,d)},uniqueItems:function(m,d,f){if(!S(this.validateOptions,["ARRAY_UNIQUE"])&&Array.isArray(f)&&!0===d.uniqueItems){var p=[];!1===$.isUniqueArray(f,p)&&m.addError("ARRAY_UNIQUE",p,null,d)}},maxProperties:function(m,d,f){if(!S(this.validateOptions,["OBJECT_PROPERTIES_MAXIMUM"])&&"object"===$.whatIs(f)){var p=Object.keys(f).length;p>d.maxProperties&&m.addError("OBJECT_PROPERTIES_MAXIMUM",[p,d.maxProperties],null,d)}},minProperties:function(m,d,f){if(!S(this.validateOptions,["OBJECT_PROPERTIES_MINIMUM"])&&"object"===$.whatIs(f)){var p=Object.keys(f).length;p<d.minProperties&&m.addError("OBJECT_PROPERTIES_MINIMUM",[p,d.minProperties],null,d)}},required:function(m,d,f){if(!S(this.validateOptions,["OBJECT_MISSING_REQUIRED_PROPERTY"])&&"object"===$.whatIs(f))for(var p=d.required.length;p--;){var g=d.required[p];void 0===f[g]&&m.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[g],null,d)}},additionalProperties:function(m,d,f){if(void 0===d.properties&&void 0===d.patternProperties)return x.properties.call(this,m,d,f)},patternProperties:function(m,d,f){if(void 0===d.properties)return x.properties.call(this,m,d,f)},properties:function(m,d,f){if(!S(this.validateOptions,["OBJECT_ADDITIONAL_PROPERTIES"])&&"object"===$.whatIs(f)){var p=void 0!==d.properties?d.properties:{},g=void 0!==d.patternProperties?d.patternProperties:{};if(!1===d.additionalProperties){var h=Object.keys(f),_=Object.keys(p),w=Object.keys(g);h=$.difference(h,_);for(var D=w.length;D--;)for(var O=RegExp(w[D]),P=h.length;P--;)!0===O.test(h[P])&&h.splice(P,1);if(h.length>0){var U=this.options.assumeAdditional.length;if(U)for(;U--;){var j=h.indexOf(this.options.assumeAdditional[U]);-1!==j&&h.splice(j,1)}var K=h.length;if(K)for(;K--;)m.addError("OBJECT_ADDITIONAL_PROPERTIES",[h[K]],null,d)}}}},dependencies:function(m,d,f){if(!S(this.validateOptions,["OBJECT_DEPENDENCY_KEY"])&&"object"===$.whatIs(f))for(var p=Object.keys(d.dependencies),g=p.length;g--;){var h=p[g];if(f[h]){var _=d.dependencies[h];if("object"===$.whatIs(_))z.validate.call(this,m,_,f);else for(var w=_.length;w--;){var D=_[w];void 0===f[D]&&m.addError("OBJECT_DEPENDENCY_KEY",[D,h],null,d)}}}},enum:function(m,d,f){if(!S(this.validateOptions,["ENUM_CASE_MISMATCH","ENUM_MISMATCH"])){for(var p=!1,g=!1,h=d.enum.length;h--;){if($.areEqual(f,d.enum[h])){p=!0;break}$.areEqual(f,d.enum[h]),g=!0}!1===p&&m.addError(g&&this.options.enumCaseInsensitiveComparison?"ENUM_CASE_MISMATCH":"ENUM_MISMATCH",[f],null,d)}},type:function(m,d,f){if(!S(this.validateOptions,["INVALID_TYPE"])){var p=$.whatIs(f);"string"==typeof d.type?p!==d.type&&("integer"!==p||"number"!==d.type)&&m.addError("INVALID_TYPE",[d.type,p],null,d):-1===d.type.indexOf(p)&&("integer"!==p||-1===d.type.indexOf("number"))&&m.addError("INVALID_TYPE",[d.type,p],null,d)}},allOf:function(m,d,f){for(var p=d.allOf.length;p--;){var g=z.validate.call(this,m,d.allOf[p],f);if(this.options.breakOnFirstError&&!1===g)break}},anyOf:function(m,d,f){for(var p=[],g=!1,h=d.anyOf.length;h--&&!1===g;){var _=new I(m);p.push(_),g=z.validate.call(this,_,d.anyOf[h],f)}!1===g&&m.addError("ANY_OF_MISSING",void 0,p,d)},oneOf:function(m,d,f){for(var p=0,g=[],h=d.oneOf.length;h--;){var _=new I(m,{maxErrors:1});g.push(_),!0===z.validate.call(this,_,d.oneOf[h],f)&&p++}0===p?m.addError("ONE_OF_MISSING",void 0,g,d):p>1&&m.addError("ONE_OF_MULTIPLE",null,null,d)},not:function(m,d,f){var p=new I(m);!0===z.validate.call(this,p,d.not,f)&&m.addError("NOT_PASSED",null,null,d)},definitions:function(){},format:function(m,d,f){var p=L[d.format];if("function"==typeof p){if(S(this.validateOptions,["INVALID_FORMAT"]))return;if(2===p.length){var g=$.clone(m.path);m.addAsyncTask(p,[f],function(h){if(!0!==h){var _=m.path;m.path=g,m.addError("INVALID_FORMAT",[d.format,f],null,d),m.path=_}})}else!0!==p.call(this,f)&&m.addError("INVALID_FORMAT",[d.format,f],null,d)}else!0!==this.options.ignoreUnknownFormats&&m.addError("UNKNOWN_FORMAT",[d.format],null,d)}},M=function(m,d,f){var p=f.length;if(Array.isArray(d.items))for(;p--;)p<d.items.length?(m.path.push(p),z.validate.call(this,m,d.items[p],f[p]),m.path.pop()):"object"==typeof d.additionalItems&&(m.path.push(p),z.validate.call(this,m,d.additionalItems,f[p]),m.path.pop());else if("object"==typeof d.items)for(;p--;)m.path.push(p),z.validate.call(this,m,d.items,f[p]),m.path.pop()},u=function(m,d,f){var p=d.additionalProperties;(!0===p||void 0===p)&&(p={});for(var g=d.properties?Object.keys(d.properties):[],h=d.patternProperties?Object.keys(d.patternProperties):[],_=Object.keys(f),w=_.length;w--;){var D=_[w],O=f[D],P=[];-1!==g.indexOf(D)&&P.push(d.properties[D]);for(var U=h.length;U--;){var j=h[U];!0===RegExp(j).test(D)&&P.push(d.patternProperties[j])}for(0===P.length&&!1!==p&&P.push(p),U=P.length;U--;)m.path.push(D),z.validate.call(this,m,P[U],O),m.path.pop()}};z.JsonValidators=x,z.validate=function(m,d,f){m.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var p=$.whatIs(d);if("object"!==p)return m.addError("SCHEMA_NOT_AN_OBJECT",[p],null,d),!1;var g=Object.keys(d);if(0===g.length)return!0;var h=!1;if(m.rootSchema||(m.rootSchema=d,h=!0),void 0!==d.$ref){for(var _=99;d.$ref&&_>0;){if(!d.__$refResolved){m.addError("REF_UNRESOLVED",[d.$ref],null,d);break}if(d.__$refResolved===d)break;d=d.__$refResolved,g=Object.keys(d),_--}if(0===_)throw new Error("Circular dependency by $ref references!")}var w=$.whatIs(f);if(d.type&&(g.splice(g.indexOf("type"),1),x.type.call(this,m,d,f),m.errors.length&&this.options.breakOnFirstError))return!1;for(var D=g.length;D--&&!(x[g[D]]&&(x[g[D]].call(this,m,d,f),m.errors.length&&this.options.breakOnFirstError)););return(0===m.errors.length||!1===this.options.breakOnFirstError)&&("array"===w?M.call(this,m,d,f):"object"===w&&u.call(this,m,d,f)),"function"==typeof this.options.customValidator&&this.options.customValidator.call(this,m,d,f),h&&(m.rootSchema=void 0),0===m.errors.length}},8446:()=>{"function"!=typeof Number.isFinite&&(Number.isFinite=function(z){return!("number"!=typeof z||z!=z||z===1/0||z===-1/0)})},8814:(q,z,T)=>{"use strict";var L=T(8174),I=T(927),$=T(4267);function S(x,M){this.parentReport=x instanceof S?x:void 0,this.options=x instanceof S?x.options:x||{},this.reportOptions=M||{},this.errors=[],this.path=[],this.asyncTasks=[],this.rootSchema=void 0,this.commonErrorMessage=void 0,this.json=void 0}S.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},S.prototype.addAsyncTask=function(x,M,u){this.asyncTasks.push([x,M,u])},S.prototype.getAncestor=function(x){if(this.parentReport)return this.parentReport.getSchemaId()===x?this.parentReport:this.parentReport.getAncestor(x)},S.prototype.processAsyncTasks=function(x,M){var u=x||2e3,m=this.asyncTasks.length,d=m,f=!1,p=this;function g(){process.nextTick(function(){var w=0===p.errors.length;M(w?null:p.errors,w)})}function h(w){return function(D){f||(w(D),0==--m&&g())}}if(0===m||this.errors.length>0&&this.options.breakOnFirstError)g();else{for(;d--;){var _=this.asyncTasks[d];_[0].apply(null,_[1].concat(h(_[2])))}setTimeout(function(){m>0&&(f=!0,p.addError("ASYNC_TIMEOUT",[m,u]),M(p.errors,!1))},u)}},S.prototype.getPath=function(x){var M=[];return this.parentReport&&(M=M.concat(this.parentReport.path)),M=M.concat(this.path),!0!==x&&(M="#/"+M.map(function(u){return u=u.toString(),$.isAbsoluteUri(u)?"uri("+u+")":u.replace(/\~/g,"~0").replace(/\//g,"~1")}).join("/")),M},S.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var x=[];for(this.parentReport&&(x=x.concat(this.parentReport.path)),x=x.concat(this.path);x.length>0;){var M=L(this.rootSchema,x);if(M&&M.id)return M.id;x.pop()}return this.rootSchema.id},S.prototype.hasError=function(x,M){for(var u=this.errors.length;u--;)if(this.errors[u].code===x){for(var m=!0,d=this.errors[u].params.length;d--;)this.errors[u].params[d]!==M[d]&&(m=!1);if(m)return m}return!1},S.prototype.addError=function(x,M,u,m){if(!x)throw new Error("No errorCode passed into addError()");this.addCustomError(x,I[x],M,u,m)},S.prototype.getJson=function(){for(var x=this;void 0===x.json;)if(void 0===(x=x.parentReport))return;return x.json},S.prototype.addCustomError=function(x,M,u,m,d){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!M)throw new Error("No errorMessage known for code "+x);for(var f=(u=u||[]).length;f--;){var p=$.whatIs(u[f]),g="object"===p||"null"===p?JSON.stringify(u[f]):u[f];M=M.replace("{"+f+"}",g)}var h={code:x,params:u,message:M,path:this.getPath(this.options.reportPathAsArray),schemaId:this.getSchemaId()};if(h[$.schemaSymbol]=d,h[$.jsonSymbol]=this.getJson(),d&&"string"==typeof d?h.description=d:d&&"object"==typeof d&&(d.title&&(h.title=d.title),d.description&&(h.description=d.description)),null!=m){for(Array.isArray(m)||(m=[m]),h.inner=[],f=m.length;f--;)for(var _=m[f],w=_.errors.length;w--;)h.inner.push(_.errors[w]);0===h.inner.length&&(h.inner=void 0)}this.errors.push(h)}},q.exports=S},3361:(q,z,T)=>{"use strict";var L=T(8546),I=T(8814),$=T(8428),S=T(2172),x=T(4267);function M(f){return decodeURIComponent(f).replace(/~[0-1]/g,function(p){return"~1"===p?"/":"~"})}function u(f){var p=f.indexOf("#");return-1===p?f:f.slice(0,p)}function d(f,p){if("object"==typeof f&&null!==f){if(!p||f.id&&(f.id===p||"#"===f.id[0]&&f.id.substring(1)===p))return f;var g,h;if(Array.isArray(f)){for(g=f.length;g--;)if(h=d(f[g],p))return h}else{var _=Object.keys(f);for(g=_.length;g--;){var w=_[g];if(0!==w.indexOf("__$")&&(h=d(f[w],p)))return h}}}}z.cacheSchemaByUri=function(f,p){var g=u(f);g&&(this.cache[g]=p)},z.removeFromCacheByUri=function(f){var p=u(f);p&&delete this.cache[p]},z.checkCacheForUri=function(f){var p=u(f);return!!p&&null!=this.cache[p]},z.getSchema=function(f,p){return"object"==typeof p&&(p=z.getSchemaByReference.call(this,f,p)),"string"==typeof p&&(p=z.getSchemaByUri.call(this,f,p)),p},z.getSchemaByReference=function(f,p){for(var g=this.referenceCache.length;g--;)if(L(this.referenceCache[g][0],p))return this.referenceCache[g][1];var h=x.cloneDeep(p);return this.referenceCache.push([p,h]),h},z.getSchemaByUri=function(f,p,g){var h=u(p),_=function m(f){var p=f.indexOf("#");return-1===p?void 0:f.slice(p+1)}(p),w=h?this.cache[h]:g;if(w&&h&&w!==g){f.path.push(h);var O,P=f.getAncestor(w.id);if(P)O=P;else if(O=new I(f),$.compileSchema.call(this,O,w)){var U=this.options;try{this.options=w.__$validationOptions||this.options,S.validateSchema.call(this,O,w)}finally{this.options=U}}var j=O.isValid();if(j||f.addError("REMOTE_NOT_VALID",[p],O),f.path.pop(),!j)return}if(w&&_)for(var K=_.split("/"),B=0,Z=K.length;w&&B<Z;B++){var Y=M(K[B]);w=0===B?d(w,Y):w[Y]}return w},z.getRemotePath=u},8428:(q,z,T)=>{"use strict";var L=T(8814),I=T(3361),$=T(4267);function S(d,f){if($.isAbsoluteUri(f))return f;var w,p=d.join(""),g=$.isAbsoluteUri(p),h=$.isRelativeUri(p),_=$.isRelativeUri(f);g&&_?(w=p.match(/\/[^\/]*$/))&&(p=p.slice(0,w.index+1)):h&&_?p="":(w=p.match(/[^#/]+$/))&&(p=p.slice(0,w.index));var D=p+f;return D.replace(/##/,"#")}function x(d,f,p,g){if(f=f||[],p=p||[],g=g||[],"object"!=typeof d||null===d)return f;var h;if("string"==typeof d.id&&p.push(d.id),"string"==typeof d.$ref&&typeof d.__$refResolved>"u"&&f.push({ref:S(p,d.$ref),key:"$ref",obj:d,path:g.slice(0)}),"string"==typeof d.$schema&&typeof d.__$schemaResolved>"u"&&f.push({ref:S(p,d.$schema),key:"$schema",obj:d,path:g.slice(0)}),Array.isArray(d))for(h=d.length;h--;)g.push(h.toString()),x(d[h],f,p,g),g.pop();else{var _=Object.keys(d);for(h=_.length;h--;)0!==_[h].indexOf("__$")&&(g.push(_[h]),x(d[_[h]],f,p,g),g.pop())}return"string"==typeof d.id&&p.pop(),f}var M=function(d,f){for(var p=f.length,g=0;p--;){var h=new L(d);z.compileSchema.call(this,h,f[p])&&g++,d.errors=d.errors.concat(h.errors)}return g};function u(d,f){for(var p=d.length;p--;)if(d[p].id===f)return d[p];return null}var m=function(d,f){var g,p=0;do{for(var h=d.errors.length;h--;)"UNRESOLVABLE_REFERENCE"===d.errors[h].code&&d.errors.splice(h,1);for(g=p,p=M.call(this,d,f),h=f.length;h--;){var _=f[h];if(_.__$missingReferences){for(var w=_.__$missingReferences.length;w--;){var D=_.__$missingReferences[w],O=u(f,D.ref);O&&(D.obj["__"+D.key+"Resolved"]=O,_.__$missingReferences.splice(w,1))}0===_.__$missingReferences.length&&delete _.__$missingReferences}}}while(p!==f.length&&p!==g);return d.isValid()};z.compileSchema=function(d,f){if(d.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof f){var p=I.getSchemaByUri.call(this,d,f);if(!p)return d.addError("SCHEMA_NOT_REACHABLE",[f]),!1;f=p}if(Array.isArray(f))return m.call(this,d,f);if(f.__$compiled&&f.id&&!1===I.checkCacheForUri.call(this,f.id)&&(f.__$compiled=void 0),f.__$compiled)return!0;f.id&&"string"==typeof f.id&&I.cacheSchemaByUri.call(this,f.id,f);var g=!1;d.rootSchema||(d.rootSchema=f,g=!0);var h=d.isValid();delete f.__$missingReferences;for(var _=x.call(this,f),w=_.length;w--;){var D=_[w],O=I.getSchemaByUri.call(this,d,D.ref,f);if(!O){var P=this.getSchemaReader();if(P){var U=P(D.ref);if(U){U.id=D.ref;var j=new L(d);z.compileSchema.call(this,j,U)?O=I.getSchemaByUri.call(this,d,D.ref,f):d.errors=d.errors.concat(j.errors)}}}if(!O){var K=d.hasError("REMOTE_NOT_VALID",[D.ref]),B=$.isAbsoluteUri(D.ref),Z=!1,Y=!0===this.options.ignoreUnresolvableReferences;B&&(Z=I.checkCacheForUri.call(this,D.ref)),K||Y&&B||Z||(Array.prototype.push.apply(d.path,D.path),d.addError("UNRESOLVABLE_REFERENCE",[D.ref]),d.path=d.path.slice(0,-D.path.length),h&&(f.__$missingReferences=f.__$missingReferences||[],f.__$missingReferences.push(D)))}D.obj["__"+D.key+"Resolved"]=O}var W=d.isValid();return W?f.__$compiled=!0:f.id&&"string"==typeof f.id&&I.removeFromCacheByUri.call(this,f.id),g&&(d.rootSchema=void 0),W}},2172:(q,z,T)=>{"use strict";var L=T(8832),I=T(3417),$=T(8814),S=T(4267),x={$ref:function(u,m){"string"!=typeof m.$ref&&u.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(u,m){"string"!=typeof m.$schema&&u.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(u,m){"number"!=typeof m.multipleOf?u.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):m.multipleOf<=0&&u.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(u,m){"number"!=typeof m.maximum&&u.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(u,m){"boolean"!=typeof m.exclusiveMaximum?u.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===m.maximum&&u.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(u,m){"number"!=typeof m.minimum&&u.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(u,m){"boolean"!=typeof m.exclusiveMinimum?u.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===m.minimum&&u.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(u,m){"integer"!==S.whatIs(m.maxLength)?u.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):m.maxLength<0&&u.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(u,m){"integer"!==S.whatIs(m.minLength)?u.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):m.minLength<0&&u.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(u,m){if("string"!=typeof m.pattern)u.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(m.pattern)}catch{u.addError("KEYWORD_PATTERN",["pattern",m.pattern])}},additionalItems:function(u,m){var d=S.whatIs(m.additionalItems);"boolean"!==d&&"object"!==d?u.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===d&&(u.path.push("additionalItems"),z.validateSchema.call(this,u,m.additionalItems),u.path.pop())},items:function(u,m){var d=S.whatIs(m.items);if("object"===d)u.path.push("items"),z.validateSchema.call(this,u,m.items),u.path.pop();else if("array"===d)for(var f=m.items.length;f--;)u.path.push("items"),u.path.push(f.toString()),z.validateSchema.call(this,u,m.items[f]),u.path.pop(),u.path.pop();else u.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);!0===this.options.forceAdditional&&void 0===m.additionalItems&&Array.isArray(m.items)&&u.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&void 0===m.additionalItems&&Array.isArray(m.items)&&(m.additionalItems=!1)},maxItems:function(u,m){"number"!=typeof m.maxItems?u.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):m.maxItems<0&&u.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(u,m){"integer"!==S.whatIs(m.minItems)?u.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):m.minItems<0&&u.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(u,m){"boolean"!=typeof m.uniqueItems&&u.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(u,m){"integer"!==S.whatIs(m.maxProperties)?u.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):m.maxProperties<0&&u.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(u,m){"integer"!==S.whatIs(m.minProperties)?u.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):m.minProperties<0&&u.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(u,m){if("array"!==S.whatIs(m.required))u.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===m.required.length)u.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var d=m.required.length;d--;)"string"!=typeof m.required[d]&&u.addError("KEYWORD_VALUE_TYPE",["required","string"]);!1===S.isUniqueArray(m.required)&&u.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(u,m){var d=S.whatIs(m.additionalProperties);"boolean"!==d&&"object"!==d?u.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===d&&(u.path.push("additionalProperties"),z.validateSchema.call(this,u,m.additionalProperties),u.path.pop())},properties:function(u,m){if("object"===S.whatIs(m.properties)){for(var d=Object.keys(m.properties),f=d.length;f--;){var p=d[f],g=m.properties[p];u.path.push("properties"),u.path.push(p),z.validateSchema.call(this,u,g),u.path.pop(),u.path.pop()}!0===this.options.forceAdditional&&void 0===m.additionalProperties&&u.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&void 0===m.additionalProperties&&(m.additionalProperties=!1),!0===this.options.forceProperties&&0===d.length&&u.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])}else u.addError("KEYWORD_TYPE_EXPECTED",["properties","object"])},patternProperties:function(u,m){if("object"===S.whatIs(m.patternProperties)){for(var d=Object.keys(m.patternProperties),f=d.length;f--;){var p=d[f],g=m.patternProperties[p];try{RegExp(p)}catch{u.addError("KEYWORD_PATTERN",["patternProperties",p])}u.path.push("patternProperties"),u.path.push(p.toString()),z.validateSchema.call(this,u,g),u.path.pop(),u.path.pop()}!0===this.options.forceProperties&&0===d.length&&u.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])}else u.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"])},dependencies:function(u,m){if("object"!==S.whatIs(m.dependencies))u.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var d=Object.keys(m.dependencies),f=d.length;f--;){var p=d[f],g=m.dependencies[p],h=S.whatIs(g);if("object"===h)u.path.push("dependencies"),u.path.push(p),z.validateSchema.call(this,u,g),u.path.pop(),u.path.pop();else if("array"===h){var _=g.length;for(0===_&&u.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);_--;)"string"!=typeof g[_]&&u.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);!1===S.isUniqueArray(g)&&u.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else u.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},enum:function(u,m){!1===Array.isArray(m.enum)?u.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===m.enum.length?u.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):!1===S.isUniqueArray(m.enum)&&u.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(u,m){var d=["array","boolean","integer","number","null","object","string"],f=d.join(","),p=Array.isArray(m.type);if(p){for(var g=m.type.length;g--;)-1===d.indexOf(m.type[g])&&u.addError("KEYWORD_TYPE_EXPECTED",["type",f]);!1===S.isUniqueArray(m.type)&&u.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof m.type?-1===d.indexOf(m.type)&&u.addError("KEYWORD_TYPE_EXPECTED",["type",f]):u.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);!0===this.options.noEmptyStrings&&("string"===m.type||p&&-1!==m.type.indexOf("string"))&&void 0===m.minLength&&void 0===m.enum&&void 0===m.format&&(m.minLength=1),!0===this.options.noEmptyArrays&&("array"===m.type||p&&-1!==m.type.indexOf("array"))&&void 0===m.minItems&&(m.minItems=1),!0===this.options.forceProperties&&("object"===m.type||p&&-1!==m.type.indexOf("object"))&&void 0===m.properties&&void 0===m.patternProperties&&u.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),!0===this.options.forceItems&&("array"===m.type||p&&-1!==m.type.indexOf("array"))&&void 0===m.items&&u.addError("KEYWORD_UNDEFINED_STRICT",["items"]),!0===this.options.forceMinItems&&("array"===m.type||p&&-1!==m.type.indexOf("array"))&&void 0===m.minItems&&u.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),!0===this.options.forceMaxItems&&("array"===m.type||p&&-1!==m.type.indexOf("array"))&&void 0===m.maxItems&&u.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),!0===this.options.forceMinLength&&("string"===m.type||p&&-1!==m.type.indexOf("string"))&&void 0===m.minLength&&void 0===m.format&&void 0===m.enum&&void 0===m.pattern&&u.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),!0===this.options.forceMaxLength&&("string"===m.type||p&&-1!==m.type.indexOf("string"))&&void 0===m.maxLength&&void 0===m.format&&void 0===m.enum&&void 0===m.pattern&&u.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(u,m){if(!1===Array.isArray(m.allOf))u.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===m.allOf.length)u.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var d=m.allOf.length;d--;)u.path.push("allOf"),u.path.push(d.toString()),z.validateSchema.call(this,u,m.allOf[d]),u.path.pop(),u.path.pop()},anyOf:function(u,m){if(!1===Array.isArray(m.anyOf))u.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===m.anyOf.length)u.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var d=m.anyOf.length;d--;)u.path.push("anyOf"),u.path.push(d.toString()),z.validateSchema.call(this,u,m.anyOf[d]),u.path.pop(),u.path.pop()},oneOf:function(u,m){if(!1===Array.isArray(m.oneOf))u.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===m.oneOf.length)u.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var d=m.oneOf.length;d--;)u.path.push("oneOf"),u.path.push(d.toString()),z.validateSchema.call(this,u,m.oneOf[d]),u.path.pop(),u.path.pop()},not:function(u,m){"object"!==S.whatIs(m.not)?u.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(u.path.push("not"),z.validateSchema.call(this,u,m.not),u.path.pop())},definitions:function(u,m){if("object"!==S.whatIs(m.definitions))u.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var d=Object.keys(m.definitions),f=d.length;f--;){var p=d[f],g=m.definitions[p];u.path.push("definitions"),u.path.push(p),z.validateSchema.call(this,u,g),u.path.pop(),u.path.pop()}},format:function(u,m){"string"!=typeof m.format?u.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===L[m.format]&&!0!==this.options.ignoreUnknownFormats&&u.addError("UNKNOWN_FORMAT",[m.format])},id:function(u,m){"string"!=typeof m.id&&u.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(u,m){"string"!=typeof m.title&&u.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(u,m){"string"!=typeof m.description&&u.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},default:function(){}},M=function(u,m){for(var d=m.length;d--;)z.validateSchema.call(this,u,m[d]);return u.isValid()};z.validateSchema=function(u,m){if(u.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(m))return M.call(this,u,m);if(m.__$validated)return!0;var d=m.$schema&&m.id!==m.$schema;if(d)if(m.__$schemaResolved&&m.__$schemaResolved!==m){var f=new $(u);!1===I.validate.call(this,f,m.__$schemaResolved,m)&&u.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,f)}else!0!==this.options.ignoreUnresolvableReferences&&u.addError("REF_UNRESOLVED",[m.$schema]);if(!0===this.options.noTypeless){if(void 0!==m.type){var g=[];Array.isArray(m.anyOf)&&(g=g.concat(m.anyOf)),Array.isArray(m.oneOf)&&(g=g.concat(m.oneOf)),Array.isArray(m.allOf)&&(g=g.concat(m.allOf)),g.forEach(function(P){P.type||(P.type=m.type)})}void 0===m.enum&&void 0===m.type&&void 0===m.anyOf&&void 0===m.oneOf&&void 0===m.not&&void 0===m.$ref&&u.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var h=Object.keys(m),_=h.length;_--;){var w=h[_];0!==w.indexOf("__")&&(void 0!==x[w]?x[w].call(this,u,m):d||!0===this.options.noExtraKeywords&&u.addError("KEYWORD_UNEXPECTED",[w]))}if(!0===this.options.pedanticCheck){if(m.enum){var D=S.clone(m);for(delete D.enum,delete D.default,u.path.push("enum"),_=m.enum.length;_--;)u.path.push(_.toString()),I.validate.call(this,u,D,m.enum[_]),u.path.pop();u.path.pop()}m.default&&(u.path.push("default"),I.validate.call(this,u,m,m.default),u.path.pop())}var O=u.isValid();return O&&(m.__$validated=!0),O}},4267:(q,z)=>{"use strict";z.jsonSymbol=Symbol.for("z-schema/json"),z.schemaSymbol=Symbol.for("z-schema/schema");var T=z.sortedKeys=function(L){return Object.keys(L).sort()};z.isAbsoluteUri=function(L){return/^https?:\/\//.test(L)},z.isRelativeUri=function(L){return/.+#/.test(L)},z.whatIs=function(L){var I=typeof L;return"object"===I?null===L?"null":Array.isArray(L)?"array":"object":"number"===I?Number.isFinite(L)?L%1==0?"integer":"number":Number.isNaN(L)?"not-a-number":"unknown-number":I},z.areEqual=function L(I,$,S){var M,u,x=(S=S||{}).caseInsensitiveComparison||!1;if(I===$||!0===x&&"string"==typeof I&&"string"==typeof $&&I.toUpperCase()===$.toUpperCase())return!0;if(Array.isArray(I)&&Array.isArray($)){if(I.length!==$.length)return!1;for(u=I.length,M=0;M<u;M++)if(!L(I[M],$[M],{caseInsensitiveComparison:x}))return!1;return!0}if("object"===z.whatIs(I)&&"object"===z.whatIs($)){var m=T(I);if(!L(m,T($),{caseInsensitiveComparison:x}))return!1;for(u=m.length,M=0;M<u;M++)if(!L(I[m[M]],$[m[M]],{caseInsensitiveComparison:x}))return!1;return!0}return!1},z.isUniqueArray=function(L,I){var $,S,x=L.length;for($=0;$<x;$++)for(S=$+1;S<x;S++)if(z.areEqual(L[$],L[S]))return I&&I.push($,S),!1;return!0},z.difference=function(L,I){for(var $=[],S=L.length;S--;)-1===I.indexOf(L[S])&&$.push(L[S]);return $},z.clone=function(L){if(!(typeof L>"u")){if("object"!=typeof L||null===L)return L;var I,$;if(Array.isArray(L))for(I=[],$=L.length;$--;)I[$]=L[$];else{I={};var S=Object.keys(L);for($=S.length;$--;){var x=S[$];I[x]=L[x]}}return I}},z.cloneDeep=function(L){var I=0,$=new Map,S=[];return function x(M){if("object"!=typeof M||null===M)return M;var u,m,d;if(void 0!==(d=$.get(M)))return S[d];if($.set(M,I++),Array.isArray(M))for(S.push(u=[]),m=M.length;m--;)u[m]=x(M[m]);else{S.push(u={});var f=Object.keys(M);for(m=f.length;m--;){var p=f[m];u[p]=x(M[p])}}return u}(L)},z.ucs2decode=function(L){for(var x,M,I=[],$=0,S=L.length;$<S;)(x=L.charCodeAt($++))>=55296&&x<=56319&&$<S?56320==(64512&(M=L.charCodeAt($++)))?I.push(((1023&x)<<10)+(1023&M)+65536):(I.push(x),$--):I.push(x);return I}},9363:(q,z,T)=>{"use strict";T(8446);var L=T(8174),I=T(8814),$=T(8832),S=T(3417),x=T(3361),M=T(8428),u=T(2172),m=T(4267),d=T(3953),f=T(8140),p={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,enumCaseInsensitiveComparison:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0,pedanticCheck:!1,ignoreUnknownFormats:!1,customValidator:null};function g(_){var w;if("object"==typeof _){for(var P,D=Object.keys(_),O=D.length;O--;)if(void 0===p[P=D[O]])throw new Error("Unexpected option passed to constructor: "+P);for(O=(D=Object.keys(p)).length;O--;)void 0===_[P=D[O]]&&(_[P]=m.clone(p[P]));w=_}else w=m.clone(p);return!0===w.strictMode&&(w.forceAdditional=!0,w.forceItems=!0,w.forceMaxLength=!0,w.forceProperties=!0,w.noExtraKeywords=!0,w.noTypeless=!0,w.noEmptyStrings=!0,w.noEmptyArrays=!0),w}function h(_){this.cache={},this.referenceCache=[],this.validateOptions={},this.options=g(_);var w=g({});this.setRemoteReference("http://json-schema.org/draft-04/schema",d,w),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",f,w)}h.prototype.compileSchema=function(_){var w=new I(this.options);return _=x.getSchema.call(this,w,_),M.compileSchema.call(this,w,_),this.lastReport=w,w.isValid()},h.prototype.validateSchema=function(_){if(Array.isArray(_)&&0===_.length)throw new Error(".validateSchema was called with an empty array");var w=new I(this.options);return _=x.getSchema.call(this,w,_),M.compileSchema.call(this,w,_)&&u.validateSchema.call(this,w,_),this.lastReport=w,w.isValid()},h.prototype.validate=function(_,w,D,O){"function"===m.whatIs(D)&&(O=D,D={}),D||(D={}),this.validateOptions=D;var P=m.whatIs(w);if("string"!==P&&"object"!==P){var U=new Error("Invalid .validate call - schema must be an string or object but "+P+" was passed!");if(O)return void process.nextTick(function(){O(U,!1)});throw U}var j=!1,K=new I(this.options);if(K.json=_,"string"==typeof w){var B=w;if(!(w=x.getSchema.call(this,K,B)))throw new Error("Schema with id '"+B+"' wasn't found in the validator cache!")}else w=x.getSchema.call(this,K,w);var Z=!1;j||(Z=M.compileSchema.call(this,K,w)),Z||(this.lastReport=K,j=!0);var Y=!1;if(j||(Y=u.validateSchema.call(this,K,w)),Y||(this.lastReport=K,j=!0),D.schemaPath&&(K.rootSchema=w,!(w=L(w,D.schemaPath))))throw new Error("Schema path '"+D.schemaPath+"' wasn't found in the schema!");if(j||S.validate.call(this,K,w,_),!O){if(K.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=K,K.isValid()}K.processAsyncTasks(this.options.asyncTimeout,O)},h.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var _=new Error;return _.name="z-schema validation error",_.message=this.lastReport.commonErrorMessage,_.details=this.lastReport.errors,_},h.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:null},h.prototype.getMissingReferences=function(_){for(var w=[],D=(_=_||this.lastReport.errors).length;D--;){var O=_[D];if("UNRESOLVABLE_REFERENCE"===O.code){var P=O.params[0];-1===w.indexOf(P)&&w.push(P)}O.inner&&(w=w.concat(this.getMissingReferences(O.inner)))}return w},h.prototype.getMissingRemoteReferences=function(){for(var _=this.getMissingReferences(),w=[],D=_.length;D--;){var O=x.getRemotePath(_[D]);O&&-1===w.indexOf(O)&&w.push(O)}return w},h.prototype.setRemoteReference=function(_,w,D){w="string"==typeof w?JSON.parse(w):m.cloneDeep(w),D&&(w.__$validationOptions=g(D)),x.cacheSchemaByUri.call(this,_,w)},h.prototype.getResolvedSchema=function(_){var w=new I(this.options);_=x.getSchema.call(this,w,_),_=m.cloneDeep(_);var D=[],O=function(P){var U,j=m.whatIs(P);if(("object"===j||"array"===j)&&!P.___$visited){if(P.___$visited=!0,D.push(P),P.$ref&&P.__$refResolved){var K=P.__$refResolved,B=P;for(U in delete P.$ref,delete P.__$refResolved,K)K.hasOwnProperty(U)&&(B[U]=K[U])}for(U in P)P.hasOwnProperty(U)&&(0===U.indexOf("__$")?delete P[U]:O(P[U]))}};if(O(_),D.forEach(function(P){delete P.___$visited}),this.lastReport=w,w.isValid())return _;throw this.getLastError()},h.prototype.setSchemaReader=function(_){return h.setSchemaReader(_)},h.prototype.getSchemaReader=function(){return h.schemaReader},h.schemaReader=void 0,h.setSchemaReader=function(_){h.schemaReader=_},h.registerFormat=function(_,w){$[_]=w},h.unregisterFormat=function(_){delete $[_]},h.getRegisteredFormats=function(){return Object.keys($)},h.getDefaultOptions=function(){return m.cloneDeep(p)},h.schemaSymbol=m.schemaSymbol,h.jsonSymbol=m.jsonSymbol,q.exports=h},3643:(q,z,T)=>{"use strict";function L(t,n,e,i,r,o,s){try{var c=t[o](s),v=c.value}catch(C){return void e(C)}c.done?n(v):Promise.resolve(v).then(i,r)}function I(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var o=t.apply(n,e);function s(v){L(o,i,r,s,c,"next",v)}function c(v){L(o,i,r,s,c,"throw",v)}s(void 0)})}}let S=null,x=!1,M=1;const u=Symbol("SIGNAL");function m(t){const n=S;return S=t,n}const g={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function w(t){if((!W(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==M)){if(!t.producerMustRecompute(t)&&!K(t))return t.dirty=!1,void(t.lastCleanEpoch=M);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=M}}function P(t){t.dirty=!0,function D(t){if(void 0===t.liveConsumerNode)return;const n=x;x=!0;try{for(const e of t.liveConsumerNode)e.dirty||P(e)}finally{x=n}}(t),t.consumerMarkedDirty?.(t)}function U(t){return t&&(t.nextProducerIndex=0),m(t)}function j(t,n){if(m(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(W(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Y(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function K(t){re(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(w(e),i!==e.version))return!0}return!1}function B(t){if(re(t),W(t))for(let n=0;n<t.producerNode.length;n++)Y(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Y(t,n){if(function H(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),re(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)Y(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];re(r),r.producerIndexOfThis[i]=n}}function W(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function re(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let fe=null;const ft=()=>{},vt={...g,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ft};function wt(t){return"function"==typeof t}function tn(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Qt=tn(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function pn(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class Ce{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(wt(i))try{i()}catch(o){n=o instanceof Qt?o.errors:[o]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const o of r)try{it(o)}catch(s){n=n??[],s instanceof Qt?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Qt(n)}}add(n){var e;if(n&&n!==this)if(this.closed)it(n);else{if(n instanceof Ce){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&pn(e,n)}remove(n){const{_teardowns:e}=this;e&&pn(e,n),n instanceof Ce&&n._removeParent(this)}}Ce.EMPTY=(()=>{const t=new Ce;return t.closed=!0,t})();const Re=Ce.EMPTY;function We(t){return t instanceof Ce||t&&"closed"in t&&wt(t.remove)&&wt(t.add)&&wt(t.unsubscribe)}function it(t){wt(t)?t():t.unsubscribe()}const st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yt={setTimeout(...t){const{delegate:n}=yt;return(n?.setTimeout||setTimeout)(...t)},clearTimeout(t){const{delegate:n}=yt;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xt(t){yt.setTimeout(()=>{const{onUnhandledError:n}=st;if(!n)throw t;n(t)})}function mn(){}const Ze=un("C",void 0,void 0);function un(t,n,e){return{kind:t,value:n,error:e}}let Nt=null;function Un(t){if(st.useDeprecatedSynchronousErrorHandling){const n=!Nt;if(n&&(Nt={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=Nt;if(Nt=null,e)throw i}}else t()}class Rn extends Ce{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,We(n)&&n.add(this)):this.destination=Fe}static create(n,e,i){return new Yn(n,e,i)}next(n){this.isStopped?_e(function Zt(t){return un("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?_e(function Tt(t){return un("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?_e(Ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Yn extends Rn{constructor(n,e,i){let r;if(super(),wt(n))r=n;else if(n){let o;({next:r,error:e,complete:i}=n),this&&st.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe()):o=n,r=r?.bind(o),e=e?.bind(o),i=i?.bind(o)}this.destination={next:r?_n(r):mn,error:_n(e??Di),complete:i?_n(i):mn}}}function _n(t,n){return(...e)=>{try{t(...e)}catch(i){st.useDeprecatedSynchronousErrorHandling?function Gn(t){st.useDeprecatedSynchronousErrorHandling&&Nt&&(Nt.errorThrown=!0,Nt.error=t)}(i):Xt(i)}}}function Di(t){throw t}function _e(t,n){const{onStoppedNotification:e}=st;e&&yt.setTimeout(()=>e(t,n))}const Fe={closed:!0,next:mn,error:Di,complete:mn},gt="function"==typeof Symbol&&Symbol.observable||"@@observable";function kt(t){return t}let hn=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Qr(t){return t&&t instanceof Rn||function mi(t){return t&&wt(t.next)&&wt(t.error)&&wt(t.complete)}(t)&&We(t)}(e)?e:new Yn(e,i,r);return Un(()=>{const{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ii(i))((r,o)=>{let s;s=this.subscribe(c=>{try{e(c)}catch(v){o(v),s?.unsubscribe()}},o,r)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[gt](){return this}pipe(...e){return function Dn(t){return 0===t.length?kt:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=Ii(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function Ii(t){var n;return null!==(n=t??st.Promise)&&void 0!==n?n:Promise}const Is=tn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xt=(()=>{class t extends hn{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new zi(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Is}next(e){Un(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(e)}})}error(e){Un(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Un(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Re:(o.push(e),new Ce(()=>pn(o,e)))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new hn;return e.source=this,e}}return t.create=(n,e)=>new zi(n,e),t})();class zi extends xt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:Re}}class ur extends xt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function fi(t){return n=>{if(function Ha(t){return wt(t?.lift)}(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class gi extends Rn{constructor(n,e,i,r,o){super(n),this.onFinalize=o,this._next=e?function(s){try{e(s)}catch(c){n.error(c)}}:super._next,this._error=r?function(s){try{r(s)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function Mn(t,n){return fi((e,i)=>{let r=0;e.subscribe(new gi(i,o=>{i.next(t.call(n,o,r++))}))})}const _o="https://g.co/ng/security#xss";class et extends Error{constructor(n,e){super(function Xr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function yo(t){return{toString:t}.toString()}const gr="__parameters__";function is(t,n,e){return yo(()=>{const i=function Go(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return c.annotation=s,c;function c(v,C,N){const G=v.hasOwnProperty(gr)?v[gr]:Object.defineProperty(v,gr,{value:[]})[gr];for(;G.length<=N;)G.push(null);return(G[N]=G[N]||[]).push(s),v}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const jt=globalThis;function Jn(t){for(let n in t)if(t[n]===Jn)return n;throw Error("Could not find renamed property on target object.")}function Yo(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ln(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ln).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Io(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Oe=Jn({__forward_ref__:Jn});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return ln(this())},t}function je(t){return In(t)?t():t}function In(t){return"function"==typeof t&&t.hasOwnProperty(Oe)&&t.__forward_ref__===Ie}function wn(t,n,e){t!=n&&function xn(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(e,t,n,"==")}function tt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ya(t){return l1(t,vl)||l1(t,A2)}function l1(t,n){return t.hasOwnProperty(n)?t[n]:null}function cd(t){return t&&(t.hasOwnProperty(L2)||t.hasOwnProperty(ld))?t[L2]:null}const vl=Jn({\u0275prov:Jn}),L2=Jn({\u0275inj:Jn}),A2=Jn({ngInjectableDef:Jn}),ld=Jn({ngInjectorDef:Jn});class at{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=tt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qn(t){return t&&!!t.\u0275providers}const hi=Jn({\u0275cmp:Jn}),Jr=Jn({\u0275dir:Jn}),co=Jn({\u0275pipe:Jn}),ar=Jn({\u0275mod:Jn}),Ir=Jn({\u0275fac:Jn}),kr=Jn({__NG_ELEMENT_ID__:Jn}),lo=Jn({__NG_ENV_ID__:Jn});function dn(t){return"string"==typeof t?t:null==t?"":String(t)}function bl(t,n){throw new et(-201,!1)}var wi=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wi||{});let lu;function pm(){return lu}function Gs(t){const n=lu;return lu=t,n}function mm(t,n,e){const i=ya(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&wi.Optional?null:void 0!==n?n:void bl()}const I2={},du="__NG_DI_FLAG__",u1="ngTempTokenPath",l7=/\n/gm,gm="__source";let hc;function yl(t){const n=hc;return hc=t,n}function vm(t,n=wi.Default){if(void 0===hc)throw new et(-203,!1);return null===hc?mm(t,void 0,n):hc.get(t,n&wi.Optional?null:void 0,n)}function Xe(t,n=wi.Default){return(pm()||vm)(je(t),n)}function $e(t,n=wi.Default){return Xe(t,uu(n))}function uu(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function k2(t){const n=[];for(let e=0;e<t.length;e++){const i=je(t[e]);if(Array.isArray(i)){if(0===i.length)throw new et(900,!1);let r,o=wi.Default;for(let s=0;s<i.length;s++){const c=i[s],v=u7(c);"number"==typeof v?-1===v?r=c.token:o|=v:r=c}n.push(Xe(r,o))}else n.push(Xe(i))}return n}function hd(t,n){return t[du]=n,t.prototype[du]=n,t}function u7(t){return t[du]}const Nh=hd(is("Inject",t=>({token:t})),-1),wl=hd(is("Optional"),8),ca=hd(is("SkipSelf"),4);function Pc(t,n){return t.hasOwnProperty(Ir)?t[Ir]:null}function wa(t,n){t.forEach(e=>Array.isArray(e)?wa(e,n):n(e))}function hu(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function pu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function eo(t,n,e){let i=f1(t,n);return i>=0?t[1|i]=e:(i=~i,function mu(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function gu(t,n){const e=f1(t,n);if(e>=0)return t[1|e]}function f1(t,n){return function wm(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const pc={},Li=[],h1=new at(""),pd=new at("",-1),vu=new at("");class F2{get(n,e=I2){if(e===I2){const i=new Error(`NullInjectorError: No provider for ${ln(n)}!`);throw i.name="NullInjectorError",i}return e}}var md=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(md||{}),Ys=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ys||{}),Mt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Mt||{});function _u(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function la(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],c=e[i++];t.setAttribute(n,s,c,o)}else{const o=r,s=e[++i];bu(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function Fh(t){return 3===t||4===t||6===t}function bu(t){return 64===t.charCodeAt(0)}function p1(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||Ph(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function Ph(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const c=t[o++];if("number"==typeof c){if(c===n){s=-1;break}if(c>n){s=o-1;break}}}for(;o<t.length;){const c=t[o];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const zh="ng-template";function $h(t,n,e,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==_u(n[r+1].toLowerCase(),e,0))return!0}else if(Bh(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===e)return!0}return!1}function Bh(t){return 4===t.type&&t.value!==zh}function p7(t,n,e){return n===(4!==t.type||e?t.value:zh)}function m7(t,n,e){let i=4;const r=t.attrs,o=null!==r?function Uh(t){for(let n=0;n<t.length;n++)if(Fh(t[n]))return n;return t.length}(r):0;let s=!1;for(let c=0;c<n.length;c++){const v=n[c];if("number"!=typeof v){if(!s)if(4&i){if(i=2|1&i,""!==v&&!p7(t,v,e)||""===v&&1===n.length){if(rs(i))return!1;s=!0}}else if(8&i){if(null===r||!$h(t,r,v,e)){if(rs(i))return!1;s=!0}}else{const C=n[++c],N=gd(v,r,Bh(t),e);if(-1===N){if(rs(i))return!1;s=!0;continue}if(""!==C){let G;if(G=N>o?"":r[N+1].toLowerCase(),2&i&&C!==G){if(rs(i))return!1;s=!0}}}}else{if(!s&&!rs(i)&&!rs(v))return!1;if(s&&rs(v))continue;s=!1,i=v|1&i}}return rs(i)||s}function rs(t){return!(1&t)}function gd(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let c=n[++r];for(;"string"==typeof c;)c=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function xm(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function m1(t,n,e=!1){for(let i=0;i<n.length;i++)if(m7(t,n[i],e))return!0;return!1}function Vh(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function xl(t,n){return t?":not("+n.trim()+")":n}function g1(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const c=t[++e];r+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!rs(s)&&(n+=xl(o,r),r=""),i=s,o=o||!rs(i);e++}return""!==r&&(n+=xl(o,r)),n}function rt(t){return yo(()=>{const n=wu(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===md.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ys.Emulated,styles:t.styles||Li,_:null,schemas:t.schemas||null,tView:null,id:""};v1(e);const i=t.dependencies;return e.directiveDefs=_1(i,!1),e.pipeDefs=_1(i,!0),e.id=function xu(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function yu(t){return ti(t)||No(t)}function g7(t){return null!==t}function an(t){return yo(()=>({type:t.type,bootstrap:t.bootstrap||Li,declarations:t.declarations||Li,imports:t.imports||Li,exports:t.exports||Li,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vd(t,n){if(null==t)return pc;const e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];let o,s,c=Mt.None;Array.isArray(r)?(c=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=c!==Mt.None?[i,c]:i,n[o]=s):e[o]=i}return e}function ot(t){return yo(()=>{const n=wu(t);return v1(n),n})}function os(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ti(t){return t[hi]||null}function No(t){return t[Jr]||null}function Ro(t){return t[co]||null}function wu(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||pc,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Li,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vd(t.inputs,n),outputs:vd(t.outputs),debugInfo:null}}function v1(t){t.features?.forEach(n=>n(t))}function _1(t,n){if(!t)return null;const e=n?Ro:yu;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(g7)}function v7(...t){return{\u0275providers:jh(0,t),\u0275fromNgModule:!0}}function jh(t,...n){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return wa(n,s=>{const c=s;_d(c,o,[],i)&&(r||=[],r.push(c))}),void 0!==r&&Cu(r,o),e}function Cu(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:r}=t[e];b1(r,o=>{n(o,i)})}}function _d(t,n,e,i){if(!(t=je(t)))return!1;let r=null,o=cd(t);const s=!o&&ti(t);if(o||s){if(s&&!s.standalone)return!1;r=t}else{const v=t.ngModule;if(o=cd(v),!o)return!1;r=v}const c=i.has(r);if(s){if(c)return!1;if(i.add(r),s.dependencies){const v="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const C of v)_d(C,n,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let C;i.add(r);try{wa(o.imports,N=>{_d(N,n,e,i)&&(C||=[],C.push(N))})}finally{}void 0!==C&&Cu(C,n)}if(!c){const C=Pc(r)||(()=>new r);n({provide:r,useFactory:C,deps:Li},r),n({provide:vu,useValue:r,multi:!0},r),n({provide:h1,useValue:()=>Xe(r),multi:!0},r)}const v=o.providers;if(null!=v&&!c){const C=t;b1(v,N=>{n(N,C)})}}}return r!==t&&void 0!==t.providers}function b1(t,n){for(let e of t)qn(e)&&(e=e.\u0275providers),Array.isArray(e)?b1(e,n):n(e)}const _7=Jn({provide:String,useValue:Jn});function bd(t){return null!==t&&"object"==typeof t&&_7 in t}function Sl(t){return"function"==typeof t}const w1=new at(""),mc={},$2={};let Tl;function B2(){return void 0===Tl&&(Tl=new F2),Tl}class qs{}class x1 extends qs{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yh(n,s=>this.processProvider(s)),this.records.set(pd,wd(void 0,this)),r.has("environment")&&this.records.set(qs,wd(void 0,this));const o=this.records.get(w1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vu,Li,wi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=m(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=yl(this),i=Gs(void 0);try{return n()}finally{yl(e),Gs(i)}}get(n,e=I2,i=wi.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(lo))return n[lo](this);i=uu(i);const o=yl(this),s=Gs(void 0);try{if(!(i&wi.SkipSelf)){let v=this.records.get(n);if(void 0===v){const C=function w7(t){return"function"==typeof t||"object"==typeof t&&t instanceof at}(n)&&ya(n);v=C&&this.injectableDefInScope(C)?wd(Gh(n),mc):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(i&wi.Self?B2():this.parent).get(n,e=i&wi.Optional&&e===I2?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[u1]=c[u1]||[]).unshift(ln(n)),o)throw c;return function f7(t,n,e,i){const r=t[u1];throw n[gm]&&r.unshift(n[gm]),t.message=function bm(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=ln(n);if(Array.isArray(n))r=n.map(ln).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let c=n[s];o.push(s+":"+("string"==typeof c?JSON.stringify(c):ln(c)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(l7,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[u1]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{Gs(s),yl(o)}}resolveInjectorInitializers(){const n=m(null),e=yl(this),i=Gs(void 0);try{const o=this.get(h1,Li,wi.Self);for(const s of o)s()}finally{yl(e),Gs(i),m(n)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(ln(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(n){let e=Sl(n=je(n))?n:je(n&&n.provide);const i=function M1(t){return bd(t)?wd(void 0,t.useValue):wd(Mm(t),mc)}(n);if(!Sl(n)&&!0===n.multi){let r=this.records.get(e);r||(r=wd(void 0,mc,!0),r.factory=()=>k2(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){const i=m(null);try{return e.value===mc&&(e.value=$2,e.value=e.factory()),"object"==typeof e.value&&e.value&&function y7(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{m(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=je(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Gh(t){const n=ya(t),e=null!==n?n.factory:Pc(t);if(null!==e)return e;if(t instanceof at)throw new et(204,!1);if(t instanceof Function)return function C1(t){if(t.length>0)throw new et(204,!1);const e=function fc(t){return t&&(t[vl]||t[A2])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new et(204,!1)}function Mm(t,n,e){let i;if(Sl(t)){const r=je(t);return Pc(r)||Gh(r)}if(bd(t))i=()=>je(t.useValue);else if(function yd(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...k2(t.deps||[]));else if(function Wh(t){return!(!t||!t.useExisting)}(t))i=()=>Xe(je(t.useExisting));else{const r=je(t&&(t.useClass||t.provide));if(!function b7(t){return!!t.deps}(t))return Pc(r)||Gh(r);i=()=>new r(...k2(t.deps))}return i}function wd(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Yh(t,n){for(const e of t)Array.isArray(e)?Yh(e,n):e&&qn(e)?Yh(e.\u0275providers,n):n(e)}function wo(){return void 0!==pm()||null!=function Oo(){return hc}()}function xo(t){if(!wo())throw new et(-203,!1)}const br=0,Rt=1,bn=2,uo=3,Ks=4,Nr=5,Zs=6,xd=7,pr=8,$i=9,ni=10,Sn=11,xa=12,zc=13,S1=14,Mr=15,Cd=16,Md=17,ja=18,$c=19,Xh=20,gc=21,Wa=22,El=23,Kn=25,Jh=1,Ca=7,Sd=9,no=10;var e3=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(e3||{});function ws(t){return Array.isArray(t)&&"object"==typeof t[Jh]}function Fo(t){return Array.isArray(t)&&!0===t[Jh]}function Su(t){return!!(4&t.flags)}function T1(t){return t.componentOffset>-1}function Tu(t){return!(1&~t.flags)}function Ma(t){return!!t.template}function Al(t){return!!(512&t[bn])}class Lm{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function a3(t,n,e,i){null!==n?n.applyValueToInputSignal(n,i):t[e]=i}function si(){return Td}function Td(t){return t.type.prototype.ngOnChanges&&(t.setInput=Z2),K2}function K2(){const t=c3(this),n=t?.current;if(n){const e=t.previous;if(e===pc)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function Z2(t,n,e,i,r){const o=this.declaredInputs[i],s=c3(t)||function O7(t,n){return t[Ed]=n}(t,{previous:pc,current:null}),c=s.current||(s.current={}),v=s.previous,C=v[o];c[o]=new Lm(C&&C.currentValue,e,v===pc),a3(t,n,r,e)}si.ngInherit=!0;const Ed="__ngSimpleChanges__";function c3(t){return t[Ed]||null}const Ns=function(t,n,e){};let l3=!1;function cr(t){for(;Array.isArray(t);)t=t[br];return t}function Ad(t,n){return cr(n[t])}function Rs(t,n){return cr(n[t.index])}function Q2(t,n){return t.data[n]}function E1(t,n){return t[n]}function Qs(t,n){const e=n[t];return ws(e)?e:e[br]}function d3(t){return!(128&~t[bn])}function vc(t,n){return null==n?null:t[n]}function Bc(t){t[Md]=0}function X2(t){1024&t[bn]||(t[bn]|=1024,d3(t)&&e0(t))}function L1(t){return!!(9216&t[bn]||t[El]?.dirty)}function Ga(t){t[ni].changeDetectionScheduler?.notify(1),L1(t)?e0(t):64&t[bn]&&(function N7(){return l3}()?(t[bn]|=1024,e0(t)):t[ni].changeDetectionScheduler?.notify())}function e0(t){t[ni].changeDetectionScheduler?.notify();let n=kl(t);for(;null!==n&&!(8192&n[bn])&&(n[bn]|=8192,d3(n));)n=kl(n)}function ku(t,n){if(!(256&~t[bn]))throw new et(911,!1);null===t[gc]&&(t[gc]=[]),t[gc].push(n)}function kl(t){const n=t[uo];return Fo(n)?n[uo]:n}const Bn={lFrame:_3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ou(){return Bn.bindingsEnabled}function Id(){return null!==Bn.skipHydrationRootTNode}function dt(){return Bn.lFrame.lView}function vi(){return Bn.lFrame.tView}function Se(t){return Bn.lFrame.contextLView=t,t[pr]}function Ee(t){return Bn.lFrame.contextLView=null,t}function Xi(){let t=Om();for(;null!==t&&64===t.type;)t=t.parent;return t}function Om(){return Bn.lFrame.currentTNode}function A1(){const t=Bn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ya(t,n){const e=Bn.lFrame;e.currentTNode=t,e.isParent=n}function m3(){return Bn.lFrame.isParent}function Ru(){Bn.lFrame.isParent=!1}function Po(){const t=Bn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function da(){return Bn.lFrame.bindingIndex}function Sa(){return Bn.lFrame.bindingIndex++}function Hc(t){const n=Bn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Fm(t){Bn.lFrame.inI18n=t}function $7(t,n){const e=Bn.lFrame;e.bindingIndex=e.bindingRootIndex=t,g3(n)}function g3(t){Bn.lFrame.currentDirectiveIndex=t}function v3(t){const n=Bn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Pu(){return Bn.lFrame.currentQueryIndex}function kd(t){Bn.lFrame.currentQueryIndex=t}function zm(t){const n=t[Rt];return 2===n.type?n.declTNode:1===n.type?t[Nr]:null}function $m(t,n,e){if(e&wi.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&wi.Host||(r=zm(o),null===r||(o=o[S1],10&r.type))););if(null===r)return!1;n=r,t=o}const i=Bn.lFrame=D1();return i.currentTNode=n,i.lView=t,!0}function zu(t){const n=D1(),e=t[Rt];Bn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function D1(){const t=Bn.lFrame,n=null===t?null:t.child;return null===n?_3(t):n}function _3(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function n0(){const t=Bn.lFrame;return Bn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bm=n0;function b3(){const t=n0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function li(){return Bn.lFrame.selectedIndex}function I1(t){Bn.lFrame.selectedIndex=t}function lr(){const t=Bn.lFrame;return Q2(t.tView,t.selectedIndex)}let x3=!0;function Nd(){return x3}function Ta(t){x3=t}function $u(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:v,ngAfterViewChecked:C,ngOnDestroy:N}=o;s&&(t.contentHooks??=[]).push(-e,s),c&&((t.contentHooks??=[]).push(e,c),(t.contentCheckHooks??=[]).push(e,c)),v&&(t.viewHooks??=[]).push(-e,v),C&&((t.viewHooks??=[]).push(e,C),(t.viewCheckHooks??=[]).push(e,C)),null!=N&&(t.destroyHooks??=[]).push(e,N)}}function Rd(t,n,e){C3(t,n,3,e)}function o0(t,n,e,i){(3&t[bn])===e&&C3(t,n,e,i)}function Bi(t,n){let e=t[bn];(3&e)===n&&(e&=16383,e+=1,t[bn]=e)}function C3(t,n,e,i){const o=i??-1,s=n.length-1;let c=0;for(let v=void 0!==i?65535&t[Md]:0;v<s;v++)if("number"==typeof n[v+1]){if(c=n[v],null!=i&&c>=i)break}else n[v]<0&&(t[Md]+=65536),(c<o||-1==o)&&(Fd(t,e,n,v),t[Md]=(4294901760&t[Md])+v+2),v++}function Um(t,n){Ns(4,t,n);const e=m(null);try{n.call(t)}finally{m(e),Ns(5,t,n)}}function Fd(t,n,e,i){const r=e[i]<0,o=e[i+1],c=t[r?-e[i]:e[i]];r?t[bn]>>14<t[Md]>>16&&(3&t[bn])===n&&(t[bn]+=16384,Um(c,o)):Um(c,o)}const Pd=-1;class Ol{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function l(t){return t!==Pd}function y(t){return 32767&t}function E(t,n){let e=function b(t){return t>>16}(t),i=n;for(;e>0;)i=i[S1],e--;return i}let V=!0;function J(t){const n=V;return V=t,n}const de=255,he=5;let Te=0;const ke={};function Ue(t,n){const e=pt(t,n);if(-1!==e)return e;const i=n[Rt];i.firstCreatePass&&(t.injectorIndex=n.length,nt(i.data,t),nt(n,null),nt(i.blueprint,null));const r=St(t,n),o=t.injectorIndex;if(l(r)){const s=y(r),c=E(r,n),v=c[Rt].data;for(let C=0;C<8;C++)n[o+C]=c[s+C]|v[s+C]}return n[o+8]=r,o}function nt(t,n){t.push(0,0,0,0,0,0,0,0,n)}function pt(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function St(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=k1(r),null===i)return Pd;if(e++,r=r[S1],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Pd}function Pt(t,n,e){!function Ge(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(kr)&&(i=e[kr]),null==i&&(i=e[kr]=Te++);const r=i&de;n.data[t+(r>>he)]|=1<<r}(t,n,e)}function $t(t,n,e){if(e&wi.Optional||void 0!==t)return t;bl()}function Jt(t,n,e,i){if(e&wi.Optional&&void 0===i&&(i=null),!(e&(wi.Self|wi.Host))){const r=t[$i],o=Gs(void 0);try{return r?r.get(n,i,e&wi.Optional):mm(n,i,e&wi.Optional)}finally{Gs(o)}}return $t(i,0,e)}function Tn(t,n,e,i=wi.Default,r){if(null!==t){if(2048&n[bn]&&!(i&wi.Self)){const s=function Ps(t,n,e,i,r){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[bn]&&!(512&s[bn]);){const c=gn(o,s,e,i|wi.Self,ke);if(c!==ke)return c;let v=o.parent;if(!v){const C=s[Xh];if(C){const N=C.get(e,ke,i);if(N!==ke)return N}v=k1(s),s=s[S1]}o=v}return r}(t,n,e,i,ke);if(s!==ke)return s}const o=gn(t,n,e,i,ke);if(o!==ke)return o}return Jt(n,e,i,r)}function gn(t,n,e,i,r){const o=function Fr(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(kr)?t[kr]:void 0;return"number"==typeof n?n>=0?n&de:Mo:n}(e);if("function"==typeof o){if(!$m(n,t,i))return i&wi.Host?$t(r,0,i):Jt(n,e,i,r);try{let s;if(s=o(i),null!=s||i&wi.Optional)return s;bl()}finally{Bm()}}else if("number"==typeof o){let s=null,c=pt(t,n),v=Pd,C=i&wi.Host?n[Mr][Nr]:null;for((-1===c||i&wi.SkipSelf)&&(v=-1===c?St(t,n):n[c+8],v!==Pd&&Cs(i,!1)?(s=n[Rt],c=y(v),n=E(v,n)):c=-1);-1!==c;){const N=n[Rt];if(Fs(o,c,N.data)){const G=ii(c,n,e,s,i,C);if(G!==ke)return G}v=n[c+8],v!==Pd&&Cs(i,n[Rt].data[c+8]===C)&&Fs(o,c,n)?(s=N,c=y(v),n=E(v,n)):c=-1}}return r}function ii(t,n,e,i,r,o){const s=n[Rt],c=s.data[t+8],N=Yi(c,s,e,null==i?T1(c)&&V:i!=s&&!!(3&c.type),r&wi.Host&&o===c);return null!==N?Sr(n,s,N,c):ke}function Yi(t,n,e,i,r){const o=t.providerIndexes,s=n.data,c=1048575&o,v=t.directiveStart,N=o>>20,se=r?c+N:t.directiveEnd;for(let le=i?c:c+N;le<se;le++){const pe=s[le];if(le<v&&e===pe||le>=v&&pe.type===e)return le}if(r){const le=s[v];if(le&&Ma(le)&&le.type===e)return v}return null}function Sr(t,n,e,i){let r=t[e];const o=n.data;if(function H7(t){return t instanceof Ol}(r)){const s=r;s.resolving&&function Fc(t,n){throw n&&n.join(" > "),new et(-200,t)}(function jn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():dn(t)}(o[e]));const c=J(s.canSeeViewProviders);s.resolving=!0;const C=s.injectImpl?Gs(s.injectImpl):null;$m(t,i,wi.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function Hm(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=Td(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==C&&Gs(C),J(c),s.resolving=!1,Bm()}}return r}function Fs(t,n,e){return!!(e[n+(t>>he)]&1<<t)}function Cs(t,n){return!(t&wi.Self||t&wi.Host&&n)}class xi{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Tn(this._tNode,this._lView,n,uu(i),e)}}function Mo(){return new xi(Xi(),dt())}function Vt(t){return yo(()=>{const n=t.prototype.constructor,e=n[Ir]||Tr(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[Ir]||Tr(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Tr(t){return In(t)?()=>{const n=Tr(je(t));return n&&n()}:Pc(t)}function k1(t){const n=t[Rt],e=n.type;return 2===e?n.declTNode:1===e?t[Nr]:null}function Ms(t){return function Wt(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Fh(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===n)return e[r+1];r+=2}}}return null}(Xi(),t)}function oM(t,n=null,e=null,i){const r=sM(t,n,e,i);return r.resolveInjectorInitializers(),r}function sM(t,n=null,e=null,i,r=new Set){const o=[e||Li,v7(t)];return i=i||("object"==typeof t?void 0:ln(t)),new x1(o,n||B2(),i||null,r)}let io=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=I2;static#t=this.NULL=new F2;static create(e,i){if(Array.isArray(e))return oM({name:""},i,e,"");{const r=e.name??"";return oM({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=tt({token:t,providedIn:"any",factory:()=>Xe(pd)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function W7(t){return t.ngOriginalError}class Za{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&W7(n);for(;e&&W7(e);)e=W7(e);return e||null}}const cM=new at("",{providedIn:"root",factory:()=>$e(Za).handleError.bind(void 0)});let Nl=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yZ;static#t=this.__NG_ENV_ID__=e=>e}return t})();class bZ extends Nl{constructor(n){super(),this._lView=n}onDestroy(n){return ku(this._lView,n),()=>function Il(t,n){if(null===t[gc])return;const e=t[gc].indexOf(n);-1!==e&&t[gc].splice(e,1)}(this._lView,n)}}function yZ(){return new bZ(dt())}function wZ(){return Bu(Xi(),dt())}function Bu(t,n){return new Ht(Rs(t,n))}let Ht=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=wZ}return t})();function dM(t){return t instanceof Ht?t.nativeElement:t}function G7(t){return n=>{setTimeout(t,void 0,n)}}const mt=class xZ extends xt{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,wo()&&(this.destroyRef=$e(Nl,{optional:!0})??void 0)}emit(n){const e=m(null);try{super.next(n)}finally{m(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&"object"==typeof n){const v=n;r=v.next?.bind(v),o=v.error?.bind(v),s=v.complete?.bind(v)}this.__isAsync&&(o=G7(o),r&&(r=G7(r)),s&&(s=G7(s)));const c=super.subscribe({next:r,error:o,complete:s});return n instanceof Ce&&n.add(c),c}};function CZ(){return this._results[Symbol.iterator]()}class Rl{static#e=Symbol.iterator;get changes(){return this._changes??=new mt}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Rl.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=CZ)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const i=function Ur(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function ym(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Vm(t){return!(128&~t.flags)}const Y7=new Map;let SZ=0;const K7="__ngContext__";function Xs(t,n){ws(n)?(t[K7]=n[$c],function EZ(t){Y7.set(t[$c],t)}(n)):t[K7]=n}function yM(t){return xM(t[xa])}function wM(t){return xM(t[Ks])}function xM(t){for(;null!==t&&!Fo(t);)t=t[Ks];return t}let Z7;function $d(){if(void 0!==Z7)return Z7;if(typeof document<"u")return document;throw new et(210,!1)}const L3=new at("",{providedIn:"root",factory:()=>WZ}),WZ="ng",DM=new at(""),Bd=new at("",{providedIn:"platform",factory:()=>"unknown"}),Js=new at(""),Q7=new at("",{providedIn:"root",factory:()=>$d().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IM=()=>null;function ov(t,n,e=!1){return IM(t,n,e)}const FM=new at("",{providedIn:"root",factory:()=>!1});let Xm,Jm;function Vu(t){return function lv(){if(void 0===Xm&&(Xm=null,jt.trustedTypes))try{Xm=jt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xm}()?.createHTML(t)||t}function zM(t){return function dv(){if(void 0===Jm&&(Jm=null,jt.trustedTypes))try{Jm=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jm}()?.createHTML(t)||t}class s0{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_o})`}}class oQ extends s0{getTypeName(){return"HTML"}}class sQ extends s0{getTypeName(){return"Style"}}class aQ extends s0{getTypeName(){return"Script"}}class cQ extends s0{getTypeName(){return"URL"}}class lQ extends s0{getTypeName(){return"ResourceURL"}}function Qa(t){return t instanceof s0?t.changingThisBreaksApplicationSecurity:t}function Fl(t,n){const e=function dQ(t){return t instanceof s0&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${_o})`)}return e===n}function HM(t){const n=new vQ(t);return function _Q(){try{return!!(new window.DOMParser).parseFromString(Vu(""),"text/html")}catch{return!1}}()?new gQ(n):n}class gQ{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Vu(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class vQ{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Vu(n),e}}const bQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function e6(t){return(t=String(t)).match(bQ)?t:"unsafe:"+t}function F1(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function O3(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const UM=F1("area,br,col,hr,img,wbr"),VM=F1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jM=F1("rp,rt"),uv=O3(UM,O3(VM,F1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O3(jM,F1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O3(jM,VM)),fv=F1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WM=O3(fv,F1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),F1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yQ=F1("script,style,template");class wQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=MQ(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=CQ(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(n){const e=GM(n).toLowerCase();if(!uv.hasOwnProperty(e))return this.sanitizedSomething=!0,!yQ.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,c=s.toLowerCase();if(!WM.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let v=o.value;fv[c]&&(v=e6(v)),this.buf.push(" ",s,'="',qM(v),'"')}return this.buf.push(">"),!0}endElement(n){const e=GM(n).toLowerCase();uv.hasOwnProperty(e)&&!UM.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(qM(n))}}function CQ(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw YM(n);return n}function MQ(t){const n=t.firstChild;if(n&&function xQ(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw YM(n);return n}function GM(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function YM(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const SQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TQ=/([^\#-~ |!])/g;function qM(t){return t.replace(/&/g,"&amp;").replace(SQ,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(TQ,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let t6;function KM(t,n){let e=null;try{t6=t6||HM(t);let i=n?String(n):"";e=t6.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=t6.getInertBodyElement(i)}while(i!==o);return Vu((new wQ).sanitizeChildren(hv(e)||e))}finally{if(e){const i=hv(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function hv(t){return"content"in t&&function EQ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var zs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zs||{});function pv(t){const n=function N3(){const t=dt();return t&&t[ni].sanitizer}();return n?zM(n.sanitize(zs.HTML,t)||""):Fl(t,"HTML")?zM(Qa(t)):KM($d(),dn(t))}const NQ=/^>|^->|<!--|-->|--!>|<!-$/g,RQ=/(<|>)/g,FQ="\u200b$1\u200b";function r6(t){return t.ownerDocument.body}var Hd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hd||{});let _v;function bv(t,n){return _v(t,n)}function Wu(t,n,e,i,r){if(null!=i){let o,s=!1;Fo(i)?o=i:ws(i)&&(s=!0,i=i[br]);const c=cr(i);0===t&&null!==e?null==r?cS(n,e,c):a0(n,e,c,r||null,!0):1===t&&null!==e?a0(n,e,c,r||null,!0):2===t?P3(n,c,s):3===t&&n.destroyNode(c),null!=o&&function rX(t,n,e,i,r){const o=e[Ca];o!==cr(e)&&Wu(n,t,i,o,r);for(let c=no;c<e.length;c++){const v=e[c];l6(v[Rt],v,t,n,i,o)}}(n,t,o,e,r)}}function yv(t,n){return t.createText(n)}function rS(t,n,e){t.setValue(n,e)}function wv(t,n){return t.createComment(function XM(t){return t.replace(NQ,n=>n.replace(RQ,FQ))}(n))}function o6(t,n,e){return t.createElement(n,e)}function oS(t,n){n[ni].changeDetectionScheduler?.notify(1),l6(t,n,n[Sn],2,null,null)}function sS(t,n){const e=t[Sd],i=e.indexOf(n);e.splice(i,1)}function R3(t,n){if(t.length<=no)return;const e=no+n,i=t[e];if(i){const r=i[Cd];null!==r&&r!==t&&sS(r,i),n>0&&(t[e-1][Ks]=i[Ks]);const o=pu(t,no+n);!function qQ(t,n){oS(t,n),n[br]=null,n[Nr]=null}(i[Rt],i);const s=o[ja];null!==s&&s.detachView(o[Rt]),i[uo]=null,i[Ks]=null,i[bn]&=-129}return i}function s6(t,n){if(!(256&n[bn])){const e=n[Sn];e.destroyNode&&l6(t,n,e,3,null,null),function ZQ(t){let n=t[xa];if(!n)return xv(t[Rt],t);for(;n;){let e=null;if(ws(n))e=n[xa];else{const i=n[no];i&&(e=i)}if(!e){for(;n&&!n[Ks]&&n!==t;)ws(n)&&xv(n[Rt],n),n=n[uo];null===n&&(n=t),ws(n)&&xv(n[Rt],n),e=n&&n[Ks]}n=e}}(n)}}function xv(t,n){if(256&n[bn])return;const e=m(null);try{n[bn]&=-129,n[bn]|=256,n[El]&&B(n[El]),function eX(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof Ol)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const c=r[o[s]],v=o[s+1];Ns(4,c,v);try{v.call(c)}finally{Ns(5,c,v)}}else{Ns(4,r,o);try{o.call(r)}finally{Ns(5,r,o)}}}}}(t,n),function JQ(t,n){const e=t.cleanup,i=n[xd];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(n[xd]=null);const r=n[gc];if(null!==r){n[gc]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,n),1===n[Rt].type&&n[Sn].destroy();const i=n[Cd];if(null!==i&&Fo(n[uo])){i!==n[uo]&&sS(i,n);const r=n[ja];null!==r&&r.detachView(t)}!function LZ(t){Y7.delete(t[$c])}(n)}finally{m(e)}}function Cv(t,n,e){return aS(t,n.parent,e)}function aS(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[br];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===Ys.None||o===Ys.Emulated)return null}return Rs(i,e)}}function a0(t,n,e,i,r){t.insertBefore(n,e,i,r)}function cS(t,n,e){t.appendChild(n,e)}function lS(t,n,e,i,r){null!==i?a0(t,n,e,i,r):cS(t,n,e)}function a6(t,n){return t.parentNode(n)}function dS(t,n,e){return fS(t,n,e)}function uS(t,n,e){return 40&t.type?Rs(t,e):null}let Mv,fS=uS;function hS(t,n){fS=t,Mv=n}function c6(t,n,e,i){const r=Cv(t,i,n),o=n[Sn],c=dS(i.parent||n[Nr],i,n);if(null!=r)if(Array.isArray(e))for(let v=0;v<e.length;v++)lS(o,r,e[v],c,!1);else lS(o,r,e,c,!1);void 0!==Mv&&Mv(o,i,n,e,r)}function F3(t,n){if(null!==n){const e=n.type;if(3&e)return Rs(n,t);if(4&e)return Sv(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return F3(t,i);{const r=t[n.index];return Fo(r)?Sv(-1,r):cr(r)}}if(32&e)return bv(n,t)()||cr(t[n.index]);{const i=pS(t,n);return null!==i?Array.isArray(i)?i[0]:F3(kl(t[Mr]),i):F3(t,n.next)}}return null}function pS(t,n){return null!==n?t[Mr][Nr].projection[n.projection]:null}function Sv(t,n){const e=no+t+1;if(e<n.length){const i=n[e],r=i[Rt].firstChild;if(null!==r)return F3(i,r)}return n[Ca]}function P3(t,n,e){const i=a6(t,n);i&&function tX(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}function Tv(t,n,e,i,r,o,s){for(;null!=e;){const c=i[e.index],v=e.type;if(s&&0===n&&(c&&Xs(cr(c),i),e.flags|=2),32&~e.flags)if(8&v)Tv(t,n,e.child,i,r,o,!1),Wu(n,t,r,c,o);else if(32&v){const C=bv(e,i);let N;for(;N=C();)Wu(n,t,r,N,o);Wu(n,t,r,c,o)}else 16&v?gS(t,n,i,e,r,o):Wu(n,t,r,c,o);e=s?e.projectionNext:e.next}}function l6(t,n,e,i,r,o){Tv(e,i,t.firstChild,n,r,o,!1)}function gS(t,n,e,i,r,o){const s=e[Mr],v=s[Nr].projection[i.projection];if(Array.isArray(v))for(let C=0;C<v.length;C++)Wu(n,t,r,v[C],o);else{let C=v;const N=s[uo];Vm(i)&&(C.flags|=128),Tv(t,n,C,N,r,o,!0)}}function vS(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function _S(t,n,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&la(t,n,i),null!==r&&vS(t,n,r),null!==o&&function sX(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}const ri={};function Q(t=1){bS(vi(),dt(),li()+t,!1)}function bS(t,n,e,i){if(!i)if(3&~n[bn]){const o=t.preOrderHooks;null!==o&&o0(n,o,0,e)}else{const o=t.preOrderCheckHooks;null!==o&&Rd(n,o,e)}I1(e)}function ve(t,n=wi.Default){const e=dt();return null===e?Xe(t,n):Tn(Xi(),e,je(t),n)}function wS(t,n,e,i,r,o){const s=m(null);try{let c=null;r&Mt.SignalBased&&(c=n[i][u]),null!==c&&void 0!==c.transformFn&&(o=c.transformFn(o)),r&Mt.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),null!==t.setInput?t.setInput(n,c,o,e,i):a3(n,c,i,o)}finally{m(s)}}function d6(t,n,e,i,r,o,s,c,v,C,N){const G=n.blueprint.slice();return G[br]=r,G[bn]=204|i,(null!==C||t&&2048&t[bn])&&(G[bn]|=2048),Bc(G),G[uo]=G[S1]=t,G[pr]=e,G[ni]=s||t&&t[ni],G[Sn]=c||t&&t[Sn],G[$i]=v||t&&t[$i]||null,G[Nr]=o,G[$c]=function TZ(){return SZ++}(),G[Zs]=N,G[Xh]=C,G[Mr]=2==n.type?t[Mr]:G,G}function Gu(t,n,e,i,r){let o=t.data[n];if(null===o)o=Ev(t,n,e,i,r),function z7(){return Bn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=A1();o.injectorIndex=null===s?-1:s.injectorIndex}return Ya(o,!0),o}function Ev(t,n,e,i,r){const o=Om(),s=m3(),v=t.data[n]=function pX(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,c=0;return Id()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=v),null!==o&&(s?null==o.child&&null!==v.parent&&(o.child=v):null===o.next&&(o.next=v,v.prev=o)),v}function z3(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function xS(t,n,e,i,r){const o=li(),s=2&i;try{I1(-1),s&&n.length>Kn&&bS(t,n,Kn,!1),Ns(s?2:0,r),e(i,r)}finally{I1(o),Ns(s?3:1,r)}}function Lv(t,n,e){if(Su(n)){const i=m(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const c=t.data[s];c.contentQueries&&c.contentQueries(1,e[s],s)}}finally{m(i)}}}function Av(t,n,e){Ou()&&(function wX(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;T1(e)&&function LX(t,n,e){const i=Rs(n,t),r=CS(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const c=u6(t,d6(t,r,null,s,i,n,null,t[ni].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=c}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Ue(e,n),Xs(i,n);const s=e.initialInputs;for(let c=r;c<o;c++){const v=t.data[c],C=Sr(n,t,c,e);Xs(C,n),null!==s&&AX(0,c-r,C,v,0,s),Ma(v)&&(Qs(e.index,n)[pr]=Sr(n,t,c,e))}}(t,n,e,Rs(e,n)),!(64&~e.flags)&&LS(t,n,e))}function Dv(t,n,e=Rs){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],c=-1===s?e(n,t):t[s];t[r++]=c}}}function CS(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Iv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Iv(t,n,e,i,r,o,s,c,v,C,N){const G=Kn+i,se=G+r,le=function cX(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:ri);return e}(G,se),pe="function"==typeof C?C():C;return le[Rt]={type:t,blueprint:le,template:e,queries:null,viewQuery:c,declTNode:n,data:le.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:v,consts:pe,incompleteFirstPass:!1,ssrId:N}}let MS=()=>null;function SS(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;i??={};let c,v=Mt.None;Array.isArray(s)?(c=s[0],v=s[1]):c=s;let C=o;if(null!==r){if(!r.hasOwnProperty(o))continue;C=r[o]}0===t?TS(i,e,C,c,v):TS(i,e,C,c)}return i}function TS(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],void 0!==r&&o.push(r)}function La(t,n,e,i,r,o,s,c){const v=Rs(n,e);let N,C=n.inputs;!c&&null!=C&&(N=C[i])?(Fv(t,e,N,i,r),T1(n)&&function vX(t,n){const e=Qs(n,t);16&e[bn]||(e[bn]|=64)}(e,n.index)):3&n.type&&(i=function gX(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(v,i,r))}function kv(t,n,e,i){if(Ou()){const r=null===i?null:{"":-1},o=function CX(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(m1(n,s.selectors,!1))if(i||(i=[]),Ma(s))if(null!==s.findHostDirectiveDefs){const c=[];r=r||new Map,s.findHostDirectiveDefs(s,c,r),i.unshift(...c,s),Ov(t,n,c.length)}else i.unshift(s),Ov(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(t,e);let s,c;null===o?s=c=null:[s,c]=o,null!==s&&ES(t,n,e,s,r,c),r&&function MX(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new et(-301,!1);i.push(n[r],o)}}}(e,i,r)}e.mergedAttrs=p1(e.mergedAttrs,e.attrs)}function ES(t,n,e,i,r,o){for(let C=0;C<i.length;C++)Pt(Ue(e,n),t,i[C].type);!function TX(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let C=0;C<i.length;C++){const N=i[C];N.providersResolver&&N.providersResolver(N)}let s=!1,c=!1,v=z3(t,n,i.length,null);for(let C=0;C<i.length;C++){const N=i[C];e.mergedAttrs=p1(e.mergedAttrs,N.hostAttrs),EX(t,e,n,v,N),SX(v,N,r),null!==N.contentQueries&&(e.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(e.flags|=64);const G=N.type.prototype;!s&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!c&&(G.ngOnChanges||G.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),c=!0),v++}!function mX(t,n,e){const r=n.directiveEnd,o=t.data,s=n.attrs,c=[];let v=null,C=null;for(let N=n.directiveStart;N<r;N++){const G=o[N],se=e?e.get(G):null,pe=se?se.outputs:null;v=SS(0,G.inputs,N,v,se?se.inputs:null),C=SS(1,G.outputs,N,C,pe);const we=null===v||null===s||Bh(n)?null:DX(v,N,s);c.push(we)}null!==v&&(v.hasOwnProperty("class")&&(n.flags|=8),v.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=c,n.inputs=v,n.outputs=C}(t,e,o)}function LS(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function Pm(){return Bn.lFrame.currentDirectiveIndex}();try{I1(o);for(let c=i;c<r;c++){const v=t.data[c],C=n[c];g3(c),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&xX(v,C)}}finally{I1(-1),g3(s)}}function xX(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ov(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function SX(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Ma(n)&&(e[""]=t)}}function EX(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=Pc(r.type)),s=new Ol(o,Ma(r),ve);t.blueprint[i]=s,e[i]=s,function bX(t,n,e,i,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const c=~n.index;(function yX(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=c&&s.push(c),s.push(e,i,o)}}(t,n,i,z3(t,e,r.hostVars,ri),r)}function Nv(t,n,e,i,r,o,s){if(null==o)t.removeAttribute(n,r,e);else{const c=null==s?dn(o):s(o,i||"",r);t.setAttribute(n,r,c,e)}}function AX(t,n,e,i,r,o){const s=o[n];if(null!==s)for(let c=0;c<s.length;)wS(i,e,s[c++],s[c++],s[c++],s[c++])}function DX(t,n,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===n){i.push(o,s[c+1],s[c+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function AS(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function DS(t,n){const e=t.contentQueries;if(null!==e){const i=m(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const c=t.data[s];kd(e[r]),c.contentQueries(2,n[s],s)}}}finally{m(i)}}}function u6(t,n){return t[xa]?t[zc][Ks]=n:t[xa]=n,t[zc]=n,n}function Rv(t,n,e){kd(0);const i=m(null);try{n(t,e)}finally{m(i)}}function IS(t){return t[xd]||(t[xd]=[])}function kS(t){return t.cleanup||(t.cleanup=[])}function OS(t,n,e){return(null===t||Ma(t))&&(e=function ss(t){for(;Array.isArray(t);){if("object"==typeof t[Jh])return t;t=t[br]}return null}(e[n.index])),e[Sn]}function f6(t,n){const e=t[$i],i=e?e.get(Za,null):null;i&&i.handleError(n)}function Fv(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],c=e[o++],v=e[o++];wS(t.data[s],n[s],i,c,v,r)}}function P1(t,n,e){const i=Ad(n,t);rS(t[Sn],i,e)}function IX(t,n){const e=Qs(n,t),i=e[Rt];!function kX(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const r=e[br];null!==r&&null===e[Zs]&&(e[Zs]=ov(r,e[$i])),Pv(i,e,e[pr])}function Pv(t,n,e){zu(n);try{const i=t.viewQuery;null!==i&&Rv(1,i,e);const r=t.template;null!==r&&xS(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[ja]?.finishViewCreation(t),t.staticContentQueries&&DS(t,n),t.staticViewQueries&&Rv(2,t.viewQuery,e);const o=t.components;null!==o&&function OX(t,n){for(let e=0;e<n.length;e++)IX(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[bn]&=-5,b3()}}function $3(t,n,e,i){const r=m(null);try{const o=n.tView,v=d6(t,o,e,4096&t[bn]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);v[Cd]=t[n.index];const N=t[ja];return null!==N&&(v[ja]=N.createEmbeddedView(o)),Pv(o,v,e),v}finally{m(r)}}function NS(t,n){const e=no+n;if(e<t.length)return t[e]}function Yu(t,n){return!n||null===n.firstChild||Vm(t)}function B3(t,n,e,i=!0){const r=n[Rt];if(function QQ(t,n,e,i){const r=no+i,o=e.length;i>0&&(e[r-1][Ks]=n),i<o-no?(n[Ks]=e[r],hu(e,no+i,n)):(e.push(n),n[Ks]=null),n[uo]=e;const s=n[Cd];null!==s&&e!==s&&function XQ(t,n){const e=t[Sd];n[Mr]!==n[uo][uo][Mr]&&(t[bn]|=e3.HasTransplantedViews),null===e?t[Sd]=[n]:e.push(n)}(s,n);const c=n[ja];null!==c&&c.insertView(t),Ga(n),n[bn]|=128}(r,n,t,e),i){const s=Sv(e,t),c=n[Sn],v=a6(c,t[Ca]);null!==v&&function KQ(t,n,e,i,r,o){i[br]=r,i[Nr]=n,l6(t,i,e,1,r,o)}(r,t[Nr],c,n,v,s)}const o=n[Zs];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function zv(t,n){const e=R3(t,n);return void 0!==e&&s6(e[Rt],e),e}function H3(t,n,e,i,r=!1){for(;null!==e;){const o=n[e.index];null!==o&&i.push(cr(o)),Fo(o)&&RS(o,i);const s=e.type;if(8&s)H3(t,n,e.child,i);else if(32&s){const c=bv(e,n);let v;for(;v=c();)i.push(v)}else if(16&s){const c=pS(n,e);if(Array.isArray(c))i.push(...c);else{const v=kl(n[Mr]);H3(v[Rt],v,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function RS(t,n){for(let e=no;e<t.length;e++){const i=t[e],r=i[Rt].firstChild;null!==r&&H3(i[Rt],i,r,n)}t[Ca]!==t[br]&&n.push(t[Ca])}let FS=[];const PX={...g,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{e0(t.lView)},consumerOnSignalRead(){this.lView[El]=this}},PS=100;function h6(t,n=!0,e=0){const i=t[ni],r=i.rendererFactory;r.begin?.();try{!function zX(t,n){$v(t,n);let e=0;for(;L1(t);){if(e===PS)throw new et(103,!1);e++,$v(t,1)}}(t,e)}catch(s){throw n&&f6(t,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function $X(t,n,e,i){const r=n[bn];if(!(256&~r))return;n[ni].inlineEffectRunner?.flush(),zu(n);let s=null,c=null;(function BX(t){return 2!==t.type})(t)&&(c=function NX(t){return t[El]??function RX(t){const n=FS.pop()??Object.create(PX);return n.lView=t,n}(t)}(n),s=U(c));try{Bc(n),function Rm(t){return Bn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&xS(t,n,e,2,i);const v=!(3&~r);if(v){const G=t.preOrderCheckHooks;null!==G&&Rd(n,G,null)}else{const G=t.preOrderHooks;null!==G&&o0(n,G,0,null),Bi(n,0)}if(function HX(t){for(let n=yM(t);null!==n;n=wM(n)){if(!(n[bn]&e3.HasTransplantedViews))continue;const e=n[Sd];for(let i=0;i<e.length;i++){X2(e[i])}}}(n),zS(n,0),null!==t.contentQueries&&DS(t,n),v){const G=t.contentCheckHooks;null!==G&&Rd(n,G)}else{const G=t.contentHooks;null!==G&&o0(n,G,1),Bi(n,1)}!function aX(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)I1(~r);else{const o=r,s=e[++i],c=e[++i];$7(s,o),c(2,n[o])}}}finally{I1(-1)}}(t,n);const C=t.components;null!==C&&BS(n,C,0);const N=t.viewQuery;if(null!==N&&Rv(2,N,i),v){const G=t.viewCheckHooks;null!==G&&Rd(n,G)}else{const G=t.viewHooks;null!==G&&o0(n,G,2),Bi(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Wa]){for(const G of n[Wa])G();n[Wa]=null}n[bn]&=-73}catch(v){throw e0(n),v}finally{null!==c&&(j(c,s),function FX(t){t.lView[El]!==t&&(t.lView=null,FS.push(t))}(c)),b3()}}function zS(t,n){for(let e=yM(t);null!==e;e=wM(e))for(let i=no;i<e.length;i++)$S(e[i],n)}function UX(t,n,e){$S(Qs(n,t),e)}function $S(t,n){d3(t)&&$v(t,n)}function $v(t,n){const i=t[Rt],r=t[bn],o=t[El];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!o?.dirty||!K(o)),o&&(o.dirty=!1),t[bn]&=-9217,s)$X(i,t,i.template,t[pr]);else if(8192&r){zS(t,1);const c=i.components;null!==c&&BS(t,c,1)}}function BS(t,n,e){for(let i=0;i<n.length;i++)UX(t,n[i],e)}function U3(t){for(t[ni].changeDetectionScheduler?.notify();t;){t[bn]|=64;const n=kl(t);if(Al(t)&&!n)return t;t=n}return null}class V3{get rootNodes(){const n=this._lView,e=n[Rt];return H3(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pr]}set context(n){this._lView[pr]=n}get destroyed(){return!(256&~this._lView[bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[uo];if(Fo(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(R3(n,i),pu(e,i))}this._attachedToViewContainer=!1}s6(this._lView[Rt],this._lView)}onDestroy(n){ku(this._lView,n)}markForCheck(){U3(this._cdRefInjectingView||this._lView)}detach(){this._lView[bn]&=-129}reattach(){Ga(this._lView),this._lView[bn]|=128}detectChanges(){this._lView[bn]|=1024,h6(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,oS(this._lView[Rt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=n,Ga(this._lView)}}let Hi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=WX}return t})();const VX=Hi,jX=class extends VX{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const r=$3(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new V3(r)}};function WX(){return p6(Xi(),dt())}function p6(t,n){return 4&t.type?new jX(n,t,Bu(t,n)):null}let GS=()=>null;function qu(t,n){return GS(t,n)}class b6{}class mJ{}class YS{}class vJ{resolveComponentFactory(n){throw function gJ(t){const n=Error(`No component factory found for ${ln(t)}.`);return n.ngComponent=t,n}(n)}}let Ud=(()=>{class t{static#e=this.NULL=new vJ}return t})();class Wv{}let Ja=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _J(){const t=dt(),e=Qs(Xi().index,t);return(ws(e)?e:t)[Sn]}()}return t})(),bJ=(()=>{class t{static#e=this.\u0275prov=tt({token:t,providedIn:"root",factory:()=>null})}return t})();const Gv={},KS=new Set;function zl(t){KS.has(t)||(KS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ZS(...t){}class on{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mt(!1),this.onMicrotaskEmpty=new mt(!1),this.onStable=new mt(!1),this.onError=new mt(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function yJ(){const t="function"==typeof jt.requestAnimationFrame;let n=jt[t?"requestAnimationFrame":"setTimeout"],e=jt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function CJ(t){const n=()=>{!function xJ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qv(t),t.isCheckStableRunning=!0,Yv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,c)=>{if(function MJ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(r,o,s,c);try{return QS(t),e.invokeTask(r,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),XS(t)}},onInvoke:(e,i,r,o,s,c,v)=>{try{return QS(t),e.invoke(r,o,s,c,v)}finally{t.shouldCoalesceRunChangeDetection&&n(),XS(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,qv(t),Yv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!on.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(on.isInAngularZone())throw new et(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,wJ,ZS,ZS);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const wJ={};function Yv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function QS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XS(t){t._nesting--,Yv(t)}class JS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mt,this.onMicrotaskEmpty=new mt,this.onStable=new mt,this.onError=new mt}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}let q3=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=tt({token:t,providedIn:"root",factory:()=>new t})}return t})();function w6(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?o=c:1==o?r=Io(r,c):2==o&&(i=Io(i,c+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}class oT extends Ud{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=ti(n);return new Q3(e,this.ngModule)}}function sT(t){const n=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const i=t[e];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return n}class x6{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=uu(i);const r=this.injector.get(n,Gv,i);return r!==Gv||e===Gv?r:this.parentInjector.get(n,e,i)}}class Q3 extends YS{get inputs(){const n=this.componentDef,e=n.inputTransforms,i=sT(n.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return sT(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Os(t){return t.map(g1).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){const o=m(null);try{let s=(r=r||this.ngModule)instanceof qs?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new x6(n,s):n,v=c.get(Wv,null);if(null===v)throw new et(407,!1);const C=c.get(bJ,null),se={rendererFactory:v,sanitizer:C,inlineEffectRunner:null,afterRenderEventManager:c.get(q3,null),changeDetectionScheduler:c.get(b6,null)},le=v.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",we=i?function lX(t,n,e,i){const o=i.get(FM,!1)||e===Ys.ShadowDom,s=t.selectRootElement(n,o);return function dX(t){MS(t)}(s),s}(le,i,this.componentDef.encapsulation,c):o6(le,pe,function DJ(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(pe));let Le=512;this.componentDef.signals?Le|=4096:this.componentDef.onPush||(Le|=16);let Be=null;null!==we&&(Be=ov(we,c,!0));const Pe=Iv(0,null,null,1,0,null,null,null,null,null,null),Je=d6(null,Pe,null,Le,null,null,se,le,c,null,Be);let ut,Dt;zu(Je);try{const Ft=this.componentDef;let en,vn=null;Ft.findHostDirectiveDefs?(en=[],vn=new Map,Ft.findHostDirectiveDefs(Ft,en,vn),en.push(Ft)):en=[Ft];const Mi=function kJ(t,n){const e=t[Rt],i=Kn;return t[i]=n,Gu(e,i,2,"#host",null)}(Je,we),Ti=function OJ(t,n,e,i,r,o,s){const c=r[Rt];!function NJ(t,n,e,i){for(const r of t)n.mergedAttrs=p1(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(w6(n,n.mergedAttrs,!0),null!==e&&_S(i,e,n))}(i,t,n,s);let v=null;null!==n&&(v=ov(n,r[$i]));const C=o.rendererFactory.createRenderer(n,e);let N=16;e.signals?N=4096:e.onPush&&(N=64);const G=d6(r,CS(e),null,N,r[t.index],t,o,C,null,null,v);return c.firstCreatePass&&Ov(c,t,i.length-1),u6(r,G),r[t.index]=G}(Mi,we,Ft,en,Je,se,le);Dt=Q2(Pe,Kn),we&&function FJ(t,n,e,i){if(i)la(t,e,["ng-version","17.3.12"]);else{const{attrs:r,classes:o}=function Cl(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!rs(r))break;r=o}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&la(t,e,r),o&&o.length>0&&vS(t,e,o.join(" "))}}(le,Ft,we,i),void 0!==e&&function PJ(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(Dt,this.ngContentSelectors,e),ut=function RJ(t,n,e,i,r,o){const s=Xi(),c=r[Rt],v=Rs(s,r);ES(c,r,s,e,null,i);for(let N=0;N<e.length;N++)Xs(Sr(r,c,s.directiveStart+N,s),r);LS(c,r,s),v&&Xs(v,r);const C=Sr(r,c,s.directiveStart+s.componentOffset,s);if(t[pr]=r[pr]=C,null!==o)for(const N of o)N(C,n);return Lv(c,s,r),C}(Ti,Ft,en,vn,Je,[zJ]),Pv(Pe,Je,null)}finally{b3()}return new IJ(this.componentType,ut,Bu(Dt,Je),Je,Dt)}finally{m(o)}}}class IJ extends mJ{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new V3(r,void 0,!1),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;Fv(o[Rt],o,r,n,e),this.previousInputValues.set(n,e),U3(Qs(this._tNode.index,o))}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function zJ(){const t=Xi();$u(dt()[Rt],t)}let Vr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=$J}return t})();function $J(){return lT(Xi(),dt())}const BJ=Vr,aT=class extends BJ{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const n=St(this._hostTNode,this._hostLView);if(l(n)){const e=E(n,this._hostLView),i=y(n);return new xi(e[Rt].data[i+8],e)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=cT(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-no}createEmbeddedView(n,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=qu(this._lContainer,n.ssrId),c=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(c,r,Yu(this._hostTNode,s)),c}createComponent(n,e,i,r,o){const s=n&&!function U2(t){return"function"==typeof t}(n);let c;if(s)c=e;else{const pe=e||{};c=pe.index,i=pe.injector,r=pe.projectableNodes,o=pe.environmentInjector||pe.ngModuleRef}const v=s?n:new Q3(ti(n)),C=i||this.parentInjector;if(!o&&null==v.ngModule){const we=(s?C:this.parentInjector).get(qs,null);we&&(o=we)}const N=ti(v.componentType??{}),G=qu(this._lContainer,N?.id??null),le=v.create(C,r,G?.firstChild??null,o);return this.insertImpl(le.hostView,c,Yu(this._hostTNode,G)),le}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){const r=n._lView;if(function F7(t){return Fo(t[uo])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const v=r[uo],C=new aT(v,v[Nr],v[uo]);C.detach(C.indexOf(n))}}const o=this._adjustIndex(e),s=this._lContainer;return B3(s,r,o,i),n.attachToViewContainerRef(),hu(Xv(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=cT(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=R3(this._lContainer,e);i&&(pu(Xv(this._lContainer),e),s6(i[Rt],i))}detach(n){const e=this._adjustIndex(n,-1),i=R3(this._lContainer,e);return i&&null!=pu(Xv(this._lContainer),e)?new V3(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function cT(t){return t[8]}function Xv(t){return t[8]||(t[8]=[])}function lT(t,n){let e;const i=n[t.index];return Fo(i)?e=i:(e=AS(i,n,null,t),n[t.index]=e,u6(n,e)),dT(e,n,t,i),new aT(e,t,n)}let dT=function fT(t,n,e,i){if(t[Ca])return;let r;r=8&e.type?cr(i):function HJ(t,n){const e=t[Sn],i=e.createComment(""),r=Rs(n,t);return a0(e,a6(e,r),i,function nX(t,n){return t.nextSibling(n)}(e,r),!1),i}(n,e),t[Ca]=r},Jv=()=>!1;class e9{constructor(n){this.queryList=n,this.matches=null}clone(){return new e9(this.queryList)}setDirty(){this.queryList.setDirty()}}class t9{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new t9(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==s9(n,e).matches&&this.queries[e].setDirty()}}class hT{constructor(n,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof n?function KJ(t){return t.split(",").map(n=>n.trim())}(n):n}}class n9{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new n9(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class i9{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new i9(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,WJ(e,o)),this.matchTNodeWithReadOption(n,e,Yi(e,n,o,!1,!1))}else i===Hi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Yi(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ht||r===Vr||r===Hi&&4&e.type)this.addMatch(e.index,-2);else{const o=Yi(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function WJ(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function YJ(t,n,e,i){return-1===e?function GJ(t,n){return 11&t.type?Bu(t,n):4&t.type?p6(t,n):null}(n,t):-2===e?function qJ(t,n,e){return e===Ht?Bu(n,t):e===Hi?p6(n,t):e===Vr?lT(n,t):void 0}(t,n,i):Sr(t,t[Rt],e,n)}function pT(t,n,e,i){const r=n[ja].queries[i];if(null===r.matches){const o=t.data,s=e.matches,c=[];for(let v=0;null!==s&&v<s.length;v+=2){const C=s[v];c.push(C<0?null:YJ(n,o[C],s[v+1],e.metadata.read))}r.matches=c}return r.matches}function r9(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=pT(t,n,r,e);for(let c=0;c<o.length;c+=2){const v=o[c];if(v>0)i.push(s[c/2]);else{const C=o[c+1],N=n[-v];for(let G=no;G<N.length;G++){const se=N[G];se[Cd]===se[uo]&&r9(se[Rt],se,C,i)}if(null!==N[Sd]){const G=N[Sd];for(let se=0;se<G.length;se++){const le=G[se];r9(le[Rt],le,C,i)}}}}}return i}function mT(t,n,e){const i=new Rl(!(4&~e));return function hX(t,n,e,i){const r=IS(n);r.push(e),t.firstCreatePass&&kS(t).push(i,r.length-1)}(t,n,i,i.destroy),(n[ja]??=new t9).queries.push(new e9(i))-1}function _T(t,n,e){null===t.queries&&(t.queries=new n9),t.queries.track(new i9(n,e))}function s9(t,n){return t.queries.getByIndex(n)}function bT(t,n){const e=t[Rt],i=s9(e,n);return i.crossesNgTemplate?r9(e,t,n,[]):pT(e,t,i,n)}function C6(t){return"function"==typeof t&&void 0!==t[u]}function wT(t){return C6(t)&&"function"==typeof t.set}function Ct(t){let n=function kT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(Ma(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new et(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=S6(t.inputs),s.inputTransforms=S6(t.inputTransforms),s.declaredInputs=S6(t.declaredInputs),s.outputs=S6(t.outputs);const c=r.hostBindings;c&&uee(t,c);const v=r.viewQuery,C=r.contentQueries;if(v&&lee(t,v),C&&dee(t,C),aee(t,r),Yo(t.outputs,r.outputs),Ma(r)&&r.data.animation){const N=t.data;N.animation=(N.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const c=o[s];c&&c.ngInherit&&c(t),c===Ct&&(e=!1)}}n=Object.getPrototypeOf(n)}!function cee(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=p1(r.hostAttrs,e=p1(e,r.hostAttrs))}}(i)}function aee(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const i=n.inputs[e];if(void 0!==i&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function S6(t){return t===pc?{}:t===Li?[]:t}function lee(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function dee(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function uee(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}function c9(t){const n=e=>{const i=(Array.isArray(t)?t:t()).map(r=>"function"==typeof r?{directive:je(r),inputs:pc,outputs:pc}:{directive:je(r.directive),inputs:NT(r.inputs),outputs:NT(r.outputs)});null===e.hostDirectives?(e.findHostDirectiveDefs=OT,e.hostDirectives=i):e.hostDirectives.unshift(...i)};return n.ngInherit=!0,n}function OT(t,n,e){if(null!==t.hostDirectives)for(const i of t.hostDirectives){const r=No(i.directive);mee(r.declaredInputs,i.inputs),OT(r,n,e),e.set(r,i),n.push(r)}}function NT(t){if(void 0===t||0===t.length)return pc;const n={};for(let e=0;e<t.length;e+=2)n[t[e]]=t[e+1];return n}function mee(t,n){for(const e in n)n.hasOwnProperty(e)&&(t[n[e]]=t[e])}function ua(t){const n=t.inputConfig,e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}t.inputTransforms=e}class d0{}class gee{}class l9 extends d0{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oT(this);const r=function qo(t,n){const e=t[ar]||null;if(!e&&!0===n)throw new Error(`Type ${ln(t)} does not have '\u0275mod' property.`);return e}(n);this._bootstrapComponents=function Xa(t){return t instanceof Function?t():t}(r.bootstrap),this._r3Injector=sM(n,e,[{provide:d0,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver},...i],ln(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class d9 extends gee{constructor(n){super(),this.moduleType=n}create(n){return new l9(this.moduleType,n,[])}}class FT extends d0{constructor(n){super(),this.componentFactoryResolver=new oT(this),this.instance=null;const e=new x1([...n.providers,{provide:d0,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver}],n.parent||B2(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}let u0=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ur(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E6(t){return!!u9(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function u9(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $l(t,n,e){return t[n]=e}function zo(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function f0(t,n,e,i){const r=zo(t,n,e);return zo(t,n+1,i)||r}function Me(t,n,e,i,r,o,s,c){const v=dt(),C=vi(),N=t+Kn,G=C.firstCreatePass?function Mee(t,n,e,i,r,o,s,c,v){const C=n.consts,N=Gu(n,t,4,s||null,vc(C,c));kv(n,e,N,vc(C,v)),$u(n,N);const G=N.tView=Iv(2,N,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,C,null);return null!==n.queries&&(n.queries.template(n,N),G.queries=n.queries.embeddedTView(N)),N}(N,C,v,n,e,i,r,o,s):C.data[N];Ya(G,!1);const se=zT(C,v,G,t);Nd()&&c6(C,v,se,G),Xs(se,v);const le=AS(se,v,se,G);return v[N]=le,u6(v,le),function uT(t,n,e){return Jv(t,n,e)}(le,G,v),Tu(G)&&Av(C,v,G),null!=s&&Dv(v,G,c),Me}let zT=function $T(t,n,e,i){return Ta(!0),n[Sn].createComment("")};function Ye(t,n,e,i){const r=dt();return zo(r,Sa(),n)&&(vi(),function Pl(t,n,e,i,r,o){const s=Rs(t,n);Nv(n[Sn],s,o,t.value,e,i,r)}(lr(),r,t,n,e,i)),Ye}function rf(t,n,e,i){return zo(t,Sa(),e)?n+dn(e)+i:ri}function N6(t,n){return t<<17|n<<2}function Wd(t){return t>>17&32767}function w9(t){return 2|t}function p0(t){return(131068&t)>>2}function x9(t,n){return-131069&t|n<<2}function C9(t){return 1|t}function gE(t,n,e,i){const r=t[e+1],o=null===n;let s=i?Wd(r):p0(r),c=!1;for(;0!==s&&(!1===c||o);){const C=t[s+1];dte(t[s],n)&&(c=!0,t[s+1]=i?C9(C):w9(C)),s=i?Wd(C):p0(C)}c&&(t[e+1]=i?w9(r):C9(r))}function dte(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&f1(t,n)>=0}const cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vE(t){return t.substring(cs.key,cs.keyEnd)}function _E(t,n){const e=cs.textEnd;return e===n?-1:(n=cs.keyEnd=function pte(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,cs.key=n,e),hf(t,n,e))}function hf(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function X(t,n,e){const i=dt();return zo(i,Sa(),n)&&La(vi(),lr(),i,t,n,i[Sn],e,!1),X}function M9(t,n,e,i,r){const s=r?"class":"style";Fv(t,e,n.inputs[s],s,i)}function yc(t,n,e){return Vc(t,n,e,!1),yc}function At(t,n){return Vc(t,n,null,!0),At}function So(t){jc(Cte,Hl,t,!0)}function Hl(t,n){for(let e=function fte(t){return function yE(t){cs.key=0,cs.keyEnd=0,cs.value=0,cs.valueEnd=0,cs.textEnd=t.length}(t),_E(t,hf(t,0,cs.textEnd))}(n);e>=0;e=_E(n,e))eo(t,vE(n),!0)}function Vc(t,n,e,i){const r=dt(),o=vi(),s=Hc(2);o.firstUpdatePass&&ME(o,t,s,i),n!==ri&&zo(r,s,n)&&TE(o,o.data[li()],r,r[Sn],t,r[s+1]=function Ste(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ln(Qa(t)))),t}(n,e),i,s)}function jc(t,n,e,i){const r=vi(),o=Hc(2);r.firstUpdatePass&&ME(r,null,o,i);const s=dt();if(e!==ri&&zo(s,o,e)){const c=r.data[li()];if(LE(c,i)&&!CE(r,o)){let v=i?c.classesWithoutHost:c.stylesWithoutHost;null!==v&&(e=Io(v,e||"")),M9(r,c,s,e,i)}else!function Mte(t,n,e,i,r,o,s,c){r===ri&&(r=Li);let v=0,C=0,N=0<r.length?r[0]:null,G=0<o.length?o[0]:null;for(;null!==N||null!==G;){const se=v<r.length?r[v+1]:void 0,le=C<o.length?o[C+1]:void 0;let we,pe=null;N===G?(v+=2,C+=2,se!==le&&(pe=G,we=le)):null===G||null!==N&&N<G?(v+=2,pe=N):(C+=2,pe=G,we=le),null!==pe&&TE(t,n,e,i,pe,we,s,c),N=v<r.length?r[v]:null,G=C<o.length?o[C]:null}}(r,c,s,s[Sn],s[o+1],s[o+1]=function xte(t,n,e){if(null==e||""===e)return Li;const i=[],r=Qa(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}function CE(t,n){return n>=t.expandoStartIndex}function ME(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[li()],s=CE(t,e);LE(o,i)&&null===n&&!s&&(n=!1),n=function _te(t,n,e,i){const r=v3(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=o4(e=S9(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=S9(r,t,n,e,i),null===o){let v=function bte(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==p0(i))return t[Wd(i)]}(t,n,i);void 0!==v&&Array.isArray(v)&&(v=S9(null,t,n,v[1],i),v=o4(v,n.attrs,i),function yte(t,n,e,i){t[Wd(e?n.classBindings:n.styleBindings)]=i}(t,n,i,v))}else o=function wte(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=o4(i,t[o].hostAttrs,e);return o4(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function cte(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,c=Wd(s),v=p0(s);t[i]=e;let N,C=!1;if(Array.isArray(e)?(N=e[1],(null===N||f1(e,N)>0)&&(C=!0)):N=e,r)if(0!==v){const se=Wd(t[c+1]);t[i+1]=N6(se,c),0!==se&&(t[se+1]=x9(t[se+1],i)),t[c+1]=function ste(t,n){return 131071&t|n<<17}(t[c+1],i)}else t[i+1]=N6(c,0),0!==c&&(t[c+1]=x9(t[c+1],i)),c=i;else t[i+1]=N6(v,0),0===c?c=i:t[v+1]=x9(t[v+1],i),v=i;C&&(t[i+1]=w9(t[i+1])),gE(t,N,i,!0),gE(t,N,i,!1),function lte(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&f1(o,n)>=0&&(e[i+1]=C9(e[i+1]))}(n,N,t,i,o),s=N6(c,v),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function S9(t,n,e,i,r){let o=null;const s=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<s&&(o=n[c],i=o4(i,o.hostAttrs,r),o!==t);)c++;return null!==t&&(e.directiveStylingLast=c),i}function o4(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),eo(t,s,!!e||n[++o]))}return void 0===t?null:t}function Cte(t,n,e){const i=String(n);""!==i&&!i.includes(" ")&&eo(t,i,e)}function TE(t,n,e,i,r,o,s,c){if(!(3&n.type))return;const v=t.data,C=v[c+1],N=function ate(t){return!(1&~t)}(C)?EE(v,n,e,r,p0(C),s):void 0;R6(N)||(R6(o)||function ote(t){return!(2&~t)}(C)&&(o=EE(v,null,e,r,c,s)),function oX(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Hd.DashCase;null==r?t.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Hd.Important),t.setStyle(e,i,r,o))}}(i,s,Ad(li(),e),r,o))}function EE(t,n,e,i,r,o){const s=null===n;let c;for(;r>0;){const v=t[r],C=Array.isArray(v),N=C?v[1]:v,G=null===N;let se=e[r+1];se===ri&&(se=G?Li:void 0);let le=G?gu(se,i):N===i?se:void 0;if(C&&!R6(le)&&(le=gu(v,i)),R6(le)&&(c=le,s))return c;const pe=t[r+1];r=s?Wd(pe):p0(pe)}if(null!==n){let v=o?n.residualClasses:n.residualStyles;null!=v&&(c=gu(v,i))}return c}function R6(t){return void 0!==t}function LE(t,n){return!!(t.flags&(n?8:16))}function Ko(t,n,e){jc(eo,Hl,rf(dt(),t,n,e),!0)}class Rte{destroy(n){}updateValue(n,e){}swap(n,e){const i=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,e){this.attach(e,this.detach(n))}}function T9(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function E9(t,n,e,i){return!(void 0===n||!n.has(i)||(t.attach(e,n.get(i)),n.delete(i),0))}function AE(t,n,e,i,r){if(E9(t,n,i,e(i,r)))t.updateValue(i,r);else{const o=t.create(i,r);t.attach(i,o)}}function DE(t,n,e,i){const r=new Set;for(let o=n;o<=e;o++)r.add(i(o,t.at(o)));return r}class IE{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const e=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}}function $n(t,n,e){zl("NgControlFlow");const i=dt(),r=Sa(),o=L9(i,Kn+t);if(zo(i,r,n)){const c=m(null);try{if(zv(o,0),-1!==n){const v=A9(i[Rt],Kn+n),C=qu(o,v.tView.ssrId);B3(o,$3(i,v,e,{dehydratedView:C}),0,Yu(v,C))}}finally{m(c)}}else{const c=NS(o,0);void 0!==c&&(c[pr]=e)}}class Pte{constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-no}}function kE(t){return t}function $s(t,n){return n}class zte{constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}}function Ts(t,n,e,i,r,o,s,c,v,C,N,G,se){zl("NgControlFlow");const le=void 0!==v,pe=dt(),we=c?s.bind(pe[Mr][pr]):s,Le=new zte(le,we);pe[Kn+t]=Le,Me(t+1,n,e,i,r,o),le&&Me(t+2,v,C,N,G,se)}class $te extends Rte{constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-no}at(n){return this.getLView(n)[pr].$implicit}attach(n,e){const i=e[Zs];this.needsIndexUpdate||=n!==this.length,B3(this.lContainer,e,n,Yu(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function Bte(t,n){return R3(t,n)}(this.lContainer,n)}create(n,e){const i=qu(this.lContainer,this.templateTNode.tView.ssrId);return $3(this.hostLView,this.templateTNode,new Pte(this.lContainer,e,n),{dehydratedView:i})}destroy(n){s6(n[Rt],n)}updateValue(n,e){this.getLView(n)[pr].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[pr].$index=n}getLView(n){return function Hte(t,n){return NS(t,n)}(this.lContainer,n)}}function Es(t){const n=m(null),e=li();try{const i=dt(),r=i[Rt],o=i[e];if(void 0===o.liveCollection){const c=e+1,v=L9(i,c),C=A9(r,c);o.liveCollection=new $te(v,i,C)}else o.liveCollection.reset();const s=o.liveCollection;if(function Fte(t,n,e){let i,r,o=0,s=t.length-1;if(Array.isArray(n)){let c=n.length-1;for(;o<=s&&o<=c;){const v=t.at(o),C=n[o],N=T9(o,v,o,C,e);if(0!==N){N<0&&t.updateValue(o,C),o++;continue}const G=t.at(s),se=n[c],le=T9(s,G,c,se,e);if(0!==le){le<0&&t.updateValue(s,se),s--,c--;continue}const pe=e(o,v),we=e(s,G),Le=e(o,C);if(Object.is(Le,we)){const Be=e(c,se);Object.is(Be,pe)?(t.swap(o,s),t.updateValue(s,se),c--,s--):t.move(s,o),t.updateValue(o,C),o++}else if(i??=new IE,r??=DE(t,o,s,e),E9(t,i,o,Le))t.updateValue(o,C),o++,s++;else if(r.has(Le))i.set(pe,t.detach(o)),s--;else{const Be=t.create(o,n[o]);t.attach(o,Be),o++,s++}}for(;o<=c;)AE(t,i,e,o,n[o]),o++}else if(null!=n){const c=n[Symbol.iterator]();let v=c.next();for(;!v.done&&o<=s;){const C=t.at(o),N=v.value,G=T9(o,C,o,N,e);if(0!==G)G<0&&t.updateValue(o,N),o++,v=c.next();else{i??=new IE,r??=DE(t,o,s,e);const se=e(o,N);if(E9(t,i,o,se))t.updateValue(o,N),o++,s++,v=c.next();else if(r.has(se)){const le=e(o,C);i.set(le,t.detach(o)),s--}else t.attach(o,t.create(o,N)),o++,s++,v=c.next()}}for(;!v.done;)AE(t,i,e,t.length,v.value),v=c.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(c=>{t.destroy(c)})}(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const c=Sa(),v=0===s.length;if(zo(i,c,v)){const C=e+2,N=L9(i,C);if(v){const G=A9(r,C),se=qu(N,G.tView.ssrId);B3(N,$3(i,G,void 0,{dehydratedView:se}),0,Yu(G,se))}else zv(N,0)}}}finally{m(n)}}function L9(t,n){return t[n]}function A9(t,n){return Q2(t,n)}function ee(t,n,e,i){const r=dt(),o=vi(),s=Kn+t,c=r[Sn],v=o.firstCreatePass?function Ute(t,n,e,i,r,o){const s=n.consts,v=Gu(n,t,2,i,vc(s,r));return kv(n,e,v,vc(s,o)),null!==v.attrs&&w6(v,v.attrs,!1),null!==v.mergedAttrs&&w6(v,v.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,v),v}(s,o,r,n,e,i):o.data[s],C=OE(o,r,v,c,n,t);r[s]=C;const N=Tu(v);return Ya(v,!0),_S(c,C,v),!function e4(t){return!(32&~t.flags)}(v)&&Nd()&&c6(o,r,C,v),0===function Dd(){return Bn.lFrame.elementDepthCount}()&&Xs(C,r),function h3(){Bn.lFrame.elementDepthCount++}(),N&&(Av(o,r,v),Lv(o,v,r)),null!==i&&Dv(r,v),ee}function ie(){let t=Xi();m3()?Ru():(t=t.parent,Ya(t,!1));const n=t;(function t0(t){return Bn.skipHydrationRootTNode===t})(n)&&function Nu(){Bn.skipHydrationRootTNode=null}(),function p3(){Bn.lFrame.elementDepthCount--}();const e=vi();return e.firstCreatePass&&($u(e,t),Su(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function V7(t){return!!(8&t.flags)}(n)&&M9(e,n,dt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function j7(t){return!!(16&t.flags)}(n)&&M9(e,n,dt(),n.stylesWithoutHost,!1),ie}function Ve(t,n,e,i){return ee(t,n,e,i),ie(),Ve}let OE=(t,n,e,i,r,o)=>(Ta(!0),o6(i,r,function w3(){return Bn.lFrame.currentNamespace}()));function Fn(t,n,e){const i=dt(),r=vi(),o=t+Kn,s=r.firstCreatePass?function Wte(t,n,e,i,r){const o=n.consts,s=vc(o,i),c=Gu(n,t,8,"ng-container",s);return null!==s&&w6(c,s,!0),kv(n,e,c,vc(o,r)),null!==n.queries&&n.queries.elementStart(n,c),c}(o,r,i,n,e):r.data[o];Ya(s,!0);const c=NE(r,i,s,t);return i[o]=c,Nd()&&c6(r,i,c,s),Xs(c,i),Tu(s)&&(Av(r,i,s),Lv(r,s,i)),null!=e&&Dv(i,s),Fn}function Pn(){let t=Xi();const n=vi();return m3()?Ru():(t=t.parent,Ya(t,!1)),n.firstCreatePass&&($u(n,t),Su(t)&&n.queries.elementEnd(t)),Pn}function wr(t,n,e){return Fn(t,n,e),Pn(),wr}let NE=(t,n,e,i)=>(Ta(!0),wv(n[Sn],""));function lt(){return dt()}function ls(t,n,e){const i=dt();return zo(i,Sa(),n)&&La(vi(),lr(),i,t,n,i[Sn],e,!0),ls}function D9(t,n,e){const i=dt();if(zo(i,Sa(),n)){const o=vi(),s=lr();La(o,s,i,t,n,OS(v3(o.data),s,i),e,!0)}return D9}const m0=void 0;var Kte=["en",[["a","p"],["AM","PM"],m0],[["AM","PM"],m0,m0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],m0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],m0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",m0,"{1} 'at' {0}",m0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qte(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let pf={};function fa(t){const n=function Zte(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=FE(n);if(e)return e;const i=n.split("-")[0];if(e=FE(i),e)return e;if("en"===i)return Kte;throw new et(701,!1)}function FE(t){return t in pf||(pf[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),pf[t]}var Pr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pr||{});const Qte=["zero","one","two","few","many"],mf="en-US",F6={marker:"element"},P6={marker:"ICU"};var Aa=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Aa||{});let PE=mf;function $E(t,n,e){const i=n.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?uS(t,0,e):cr(e[r])}function BE(t,n,e,i,r){const o=n.insertBeforeIndex;if(Array.isArray(o)){let s=i,c=null;if(3&n.type||(c=s,s=r),null!==s&&-1===n.componentOffset)for(let v=1;v<o.length;v++)a0(t,s,e[o[v]],c,!1)}}function HE(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){const i=t[e];UE(i)||tne(i,n)&&null===nne(i)&&ine(i,n.index)}}function UE(t){return!(64&t.type)}function tne(t,n){return UE(n)||t.index>n.index}function nne(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function ine(t,n){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(hS($E,BE),t.insertBeforeIndex=n)}function s4(t,n){const e=t.data[n];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function sne(t,n,e){const i=Ev(t,e,64,null,null);return HE(n,i),i}function z6(t,n){const e=n[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function VE(t){return t>>>17}function jE(t){return(131070&t)>>>1}let a4=0,c4=0;let l4=(t,n,e,i)=>(Ta(!0),function GE(t,n,e){const i=t[Sn];switch(e){case Node.COMMENT_NODE:return wv(i,n);case Node.TEXT_NODE:return yv(i,n);case Node.ELEMENT_NODE:return o6(i,n,null)}}(t,e,i));function YE(t,n,e,i){const r=e[Sn];let s,o=null;for(let c=0;c<n.length;c++){const v=n[c];if("string"==typeof v){const C=n[++c];null===e[C]&&(e[C]=l4(e,C,v,Node.TEXT_NODE))}else if("number"==typeof v)switch(1&v){case 0:const C=VE(v);let N,G;if(null===o&&(o=C,s=a6(r,i)),C===o?(N=i,G=s):(N=null,G=cr(e[C])),null!==G){const we=jE(v);a0(r,G,e[we],N,!1);const Be=s4(t,we);if(null!==Be&&"object"==typeof Be){const Pe=z6(Be,e);null!==Pe&&YE(t,Be.create[Pe],e,e[Be.anchorIdx])}}break;case 1:const le=n[++c],pe=n[++c];Nv(r,Ad(v>>>1,e),null,null,le,pe,null)}else switch(v){case P6:const C=n[++c],N=n[++c];null===e[N]&&Xs(e[N]=l4(e,N,C,Node.COMMENT_NODE),e);break;case F6:const G=n[++c],se=n[++c];null===e[se]&&Xs(e[se]=l4(e,se,G,Node.ELEMENT_NODE),e)}}}function qE(t,n,e,i,r){for(let o=0;o<e.length;o++){const s=e[o],c=e[++o];if(s&r){let v="";for(let C=o+1;C<=o+c;C++){const N=e[C];if("string"==typeof N)v+=N;else if("number"==typeof N)if(N<0)v+=dn(n[i-N]);else{const G=N>>>2;switch(3&N){case 1:const se=e[++C],le=e[++C],pe=t.data[G];"string"==typeof pe?Nv(n[Sn],n[G],null,pe,se,v,le):La(t,pe,n,se,v,n[Sn],le,!1);break;case 0:const we=n[G];null!==we&&rS(n[Sn],we,v);break;case 2:hne(t,s4(t,G),n,v);break;case 3:KE(t,s4(t,G),i,n)}}}}else{const v=e[o+1];if(v>0&&!(3&~v)){const N=s4(t,v>>>2);n[N.currentCaseLViewIndex]<0&&KE(t,N,i,n)}}o+=c}}function KE(t,n,e,i){let r=i[n.currentCaseLViewIndex];if(null!==r){let o=a4;r<0&&(r=i[n.currentCaseLViewIndex]=~r,o=-1),qE(t,i,n.update[r],e,o)}}function hne(t,n,e,i){const r=function pne(t,n){let e=t.cases.indexOf(n);if(-1===e)switch(t.type){case 1:{const i=function Xte(t,n){const e=function RE(t){return fa(t)[Pr.PluralCase]}(n)(parseInt(t,10)),i=Qte[e];return void 0!==i?i:"other"}(n,function ene(){return PE}());e=t.cases.indexOf(i),-1===e&&"other"!==i&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(n,i);if(z6(n,e)!==r&&(ZE(t,n,e),e[n.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const s=e[n.anchorIdx];s&&YE(t,n.create[r],e,s)}}function ZE(t,n,e){let i=z6(n,e);if(null!==i){const r=n.remove[i];for(let o=0;o<r.length;o++){const s=r[o];if(s>0){const c=Ad(s,e);null!==c&&P3(e[Sn],c)}else ZE(t,s4(t,~s),e)}}}function mne(){const t=[];let e,i,n=-1;function o(c,v){n=0;const C=z6(c,v);i=null!==C?c.remove[C]:Li}function s(){if(n<i.length){const c=i[n++];return c>0?e[c]:(t.push(n,i),o(e[Rt].data[~c],e),s())}return 0===t.length?null:(i=t.pop(),n=t.pop(),s())}return function r(c,v){for(e=v;t.length;)t.pop();return o(c.value,v),s}}const $6=/\ufffd(\d+):?\d*\ufffd/gi,vne=/\ufffd(\d+)\ufffd/,XE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,d4="\ufffd",_ne=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,bne=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,yne=/\uE500/g;function JE(t,n,e,i,r,o,s){const c=z3(t,i,1,null);let v=c<<Aa.SHIFT,C=A1();n===C&&(C=null),null===C&&(v|=Aa.APPEND_EAGERLY),s&&(v|=Aa.COMMENT,function YQ(t){void 0===_v&&(_v=t())}(mne)),r.push(v,null===o?"":o);const N=Ev(t,c,s?32:1,null===o?"":o,null);HE(e,N);const G=N.index;return Ya(N,!1),null!==C&&n!==C&&function one(t,n){let e=t.insertBeforeIndex;null===e?(hS($E,BE),e=t.insertBeforeIndex=[null,n]):(wn(Array.isArray(e),!0,"Expecting array here"),e.push(n))}(C,G),N}function Cne(t,n,e,i,r,o,s,c){const v=c.match($6),N=JE(n,e,i,s,r,v?null:c,!1).index;v&&u4(o,c,N,null,0,null),t.push({kind:0,index:N})}function u4(t,n,e,i,r,o){const s=t.length,c=s+1;t.push(null,null);const v=s+2,C=n.split($6);let N=0;for(let G=0;G<C.length;G++){const se=C[G];if(1&G){const le=r+parseInt(se,10);t.push(-1-le),N|=eL(le)}else""!==se&&t.push(se)}return t.push(e<<2|(i?1:0)),i&&t.push(i,o),t[s]=N,t[c]=t.length-v,N}function eL(t){return 1<<Math.min(t,31)}function tL(t){let n,o,e="",i=0,r=!1;for(;null!==(n=_ne.exec(t));)r?n[0]===`${d4}/*${o}${d4}`&&(i=n.index,r=!1):(e+=t.substring(i,n.index+n[0].length),o=n[1],r=!0);return e+=t.slice(i),e}function nL(t,n,e,i,r,o,s){let c=0;const v={type:o.type,currentCaseLViewIndex:z3(n,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function Ine(t,n,e){t.push(eL(n.mainBinding),2,-1-n.mainBinding,e<<2|2)})(i,o,s),function rne(t,n,e){const i=t.data[n];null===i?t.data[n]=e:i.value=e}(n,s,v);const C=o.values,N=[];for(let G=0;G<C.length;G++){const se=C[G],le=[];for(let we=0;we<se.length;we++){const Le=se[we];if("string"!=typeof Le){const Be=le.push(Le)-1;se[we]=`\x3c!--\ufffd${Be}\ufffd--\x3e`}}const pe=[];N.push(pe),c=Ane(pe,n,v,e,i,r,o.cases[G],se.join(""),le)|c}c&&function kne(t,n,e){t.push(n,1,e<<2|3)}(i,c,s),t.push({kind:3,index:s,cases:N,currentCaseLViewIndex:v.currentCaseLViewIndex})}function Lne(t){const n=[],e=[];let i=1,r=0;const o=I9(t=t.replace(XE,function(s,c,v){return i="select"===v?0:1,r=parseInt(c.slice(1),10),""}));for(let s=0;s<o.length;){let c=o[s++].trim();1===i&&(c=c.replace(/\s*(?:=)?(\w+)\s*/,"$1")),c.length&&n.push(c);const v=I9(o[s++]);n.length>e.length&&e.push(v)}return{type:i,mainBinding:r,cases:n,values:e}}function I9(t){if(!t)return[];let n=0;const e=[],i=[],r=/[{}]/g;let o;for(r.lastIndex=0;o=r.exec(t);){const c=o.index;if("}"==o[0]){if(e.pop(),0==e.length){const v=t.substring(n,c);XE.test(v)?i.push(Lne(v)):i.push(v),n=c+1}}else{if(0==e.length){const v=t.substring(n,c);i.push(v),n=c+1}e.push("{")}}const s=t.substring(n);return i.push(s),i}function Ane(t,n,e,i,r,o,s,c,v){const C=[],N=[],G=[];e.cases.push(s),e.create.push(C),e.remove.push(N),e.update.push(G);const le=HM($d()).getInertBodyElement(c),pe=hv(le)||le;return pe?iL(t,n,e,i,r,C,N,G,pe,o,v,0):0}function iL(t,n,e,i,r,o,s,c,v,C,N,G){let se=0,le=v.firstChild;for(;le;){const pe=z3(n,i,1,null);switch(le.nodeType){case Node.ELEMENT_NODE:const we=le,Le=we.tagName.toLowerCase();if(uv.hasOwnProperty(Le)){k9(o,F6,Le,C,pe),n.data[pe]=Le;const ut=we.attributes;for(let Ft=0;Ft<ut.length;Ft++){const en=ut.item(Ft),vn=en.name.toLowerCase();en.value.match($6)?WM.hasOwnProperty(vn)&&u4(c,en.value,pe,en.name,0,fv[vn]?e6:null):One(o,pe,en)}const Dt={kind:1,index:pe,children:[]};t.push(Dt),se=iL(Dt.children,n,e,i,r,o,s,c,le,pe,N,G+1)|se,rL(s,pe,G)}break;case Node.TEXT_NODE:const Be=le.textContent||"",Pe=Be.match($6);k9(o,null,Pe?"":Be,C,pe),rL(s,pe,G),Pe&&(se=u4(c,Be,pe,null,0,null)|se),t.push({kind:0,index:pe});break;case Node.COMMENT_NODE:const Je=vne.exec(le.textContent||"");if(Je){const Dt=N[parseInt(Je[1],10)];k9(o,P6,"",C,pe),nL(t,n,i,r,C,Dt,pe),Dne(s,pe,G)}}le=le.nextSibling}return se}function rL(t,n,e){0===e&&t.push(n)}function Dne(t,n,e){0===e&&(t.push(~n),t.push(n))}function k9(t,n,e,i,r){null!==n&&t.push(n),t.push(e,r,function ane(t,n,e){return t|n<<17|e<<1}(0,i,r))}function One(t,n,e){t.push(n<<1|1,e.name,e.value)}function sL(t,n,e=-1){const i=vi(),r=dt(),o=Kn+t,s=vc(i.consts,n),c=A1();i.firstCreatePass&&function xne(t,n,e,i,r,o){const s=A1(),c=[],v=[],C=[[]],N=[[]];r=function Ene(t,n){if(function Tne(t){return-1===t}(n))return tL(t);{const e=t.indexOf(`:${n}${d4}`)+2+n.toString().length,i=t.search(new RegExp(`${d4}\\/\\*\\d+:${n}${d4}`));return tL(t.substring(e,i))}}(r,o);const G=function wne(t){return t.replace(yne," ")}(r).split(bne);for(let se=0;se<G.length;se++){let le=G[se];if(1&se){const pe=47===le.charCodeAt(0),we=le.charCodeAt(pe?1:0),Le=Kn+Number.parseInt(le.substring(pe?2:1));if(pe)C.shift(),N.shift(),Ya(A1(),!1);else{const Be=sne(t,C[0],Le);C.unshift([]),Ya(Be,!0);const Pe={kind:2,index:Le,children:[],type:35===we?0:1};N[0].push(Pe),N.unshift(Pe.children)}}else{const pe=I9(le);for(let we=0;we<pe.length;we++){let Le=pe[we];if(1&we){const Be=Le;if("object"!=typeof Be)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const Je=JE(t,s,C[0],e,c,"",!0).index;nL(N[0],t,e,v,n,Be,Je)}else""!==Le&&Cne(N[0],t,s,C[0],c,v,e,Le)}}}t.data[i]={create:c,update:v,ast:N[0]}}(i,null===c?0:c.index,r,o,s,e),2===i.type?r[Mr][bn]|=32:r[bn]|=32;const v=i.data[o],N=aS(i,c===r[Nr]?null:c,r);(function fne(t,n,e,i){const r=t[Sn];for(let o=0;o<n.length;o++){const s=n[o++],C=(s&Aa.APPEND_EAGERLY)===Aa.APPEND_EAGERLY,N=s>>>Aa.SHIFT;let G=t[N],se=!1;null===G&&(G=t[N]=l4(t,N,n[o],(s&Aa.COMMENT)===Aa.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),se=Nd()),C&&null!==e&&se&&a0(r,e,G,i,!1)}})(r,v.create,N,c&&8&c.type?r[c.index]:null),Fm(!0)}function wc(t,n,e){sL(t,n,e),function aL(){Fm(!1)}()}function O9(t){return function cne(t){t&&(a4|=1<<Math.min(c4,31)),c4++}(zo(dt(),Sa(),t)),O9}function ze(t,n,e,i){const r=dt(),o=vi(),s=Xi();return R9(o,r,r[Sn],s,t,n,i),ze}function N9(t,n){const e=Xi(),i=dt(),r=vi();return R9(r,i,OS(v3(r.data),e,i),e,t,n),N9}function R9(t,n,e,i,r,o,s){const c=Tu(i),C=t.firstCreatePass&&kS(t),N=n[pr],G=IS(n);let se=!0;if(3&i.type||s){const we=Rs(i,n),Le=s?s(we):we,Be=G.length,Pe=s?ut=>s(cr(ut[i.index])):i.index;let Je=null;if(!s&&c&&(Je=function jne(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const c=n[xd],v=r[o+2];return c.length>v?c[v]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=o,Je.__ngLastListenerFn__=o,se=!1;else{o=dL(i,n,N,o,!1);const ut=e.listen(Le,r,o);G.push(o,ut),C&&C.push(r,Pe,Be,Be+1)}}else o=dL(i,n,N,o,!1);const le=i.outputs;let pe;if(se&&null!==le&&(pe=le[r])){const we=pe.length;if(we)for(let Le=0;Le<we;Le+=2){const Dt=n[pe[Le]][pe[Le+1]].subscribe(o),Ft=G.length;G.push(o,Dt),C&&C.push(r,i.index,Ft,-(Ft+1))}}}function lL(t,n,e,i){const r=m(null);try{return Ns(6,n,e),!1!==e(i)}catch(o){return f6(t,o),!1}finally{Ns(7,n,e),m(r)}}function dL(t,n,e,i,r){return function o(s){if(s===Function)return i;U3(t.componentOffset>-1?Qs(t.index,n):n);let v=lL(n,e,i,s),C=o.__ngNextListenerFn__;for(;C;)v=lL(n,e,C,s)&&v,C=C.__ngNextListenerFn__;return r&&!1===v&&s.preventDefault(),v}}function oe(t=1){return function B7(t){return(Bn.lFrame.contextLView=function J2(t,n){for(;t>0;)n=n[S1],t--;return n}(t,Bn.lFrame.contextLView))[pr]}(t)}function Wne(t,n){let e=null;const i=function Hh(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?m1(t,o,!0):Vh(i,o))return r}else e=r}return e}function xr(t){const n=dt()[Mr][Nr];if(!n.projection){const i=n.projection=function N2(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const s=t?Wne(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function pi(t,n=0,e){const i=dt(),r=vi(),o=Gu(r,Kn+t,16,null,e||null);null===o.projection&&(o.projection=n),Ru(),(!i[Zs]||Id())&&32&~o.flags&&function iX(t,n,e){gS(n[Sn],0,n,e,Cv(t,e,n),dS(e.parent||n[Nr],e,n))}(r,i,o)}function Ui(t,n,e){return B6(t,"",n,"",e),Ui}function B6(t,n,e,i,r){const o=dt(),s=rf(o,n,e,i);return s!==ri&&La(vi(),lr(),o,t,s,o[Sn],r,!1),B6}function ai(t,n,e,i){!function vT(t,n,e,i){const r=vi();if(r.firstCreatePass){const o=Xi();_T(r,new hT(n,e,i),o.index),function ZJ(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),!(2&~e)&&(r.staticContentQueries=!0)}return mT(r,dt(),e)}(t,n,e,i)}function Ln(t,n,e){!function gT(t,n,e){const i=vi();return i.firstCreatePass&&(_T(i,new hT(t,n,e),-1),!(2&~n)&&(i.staticViewQueries=!0)),mT(i,dt(),n)}(t,n,e)}function Et(t){const n=dt(),e=vi(),i=Pu();kd(i+1);const r=s9(e,i);if(t.dirty&&function Dm(t){return!(4&~t[bn])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)t.reset([]);else{const o=bT(n,i);t.reset(o,dM),t.notifyOnChanges()}return!0}return!1}function Lt(){return function o9(t,n){return t[ja].queries[n].queryList}(dt(),Pu())}function Ut(t){return E1(function Nm(){return Bn.lFrame.contextLView}(),Kn+t)}function ye(t,n=""){const e=dt(),i=vi(),r=t+Kn,o=i.firstCreatePass?Gu(i,r,1,n,null):i.data[r],s=LL(i,e,o,n,t);e[r]=s,Nd()&&c6(i,e,s,o),Ya(o,!1)}let LL=(t,n,e,i,r)=>(Ta(!0),yv(n[Sn],i));function It(t){return Qn("",t,""),It}function Qn(t,n,e){const i=dt(),r=rf(i,t,n,e);return r!==ri&&P1(i,li(),r),Qn}function F9(t,n,e,i,r){const o=dt(),s=function sf(t,n,e,i,r,o){const c=f0(t,da(),e,r);return Hc(2),c?n+dn(e)+i+dn(r)+o:ri}(o,t,n,e,i,r);return s!==ri&&P1(o,li(),s),F9}function ki(t,n,e){wT(n)&&(n=n());const i=dt();return zo(i,Sa(),n)&&La(vi(),lr(),i,t,n,i[Sn],e,!1),ki}function Vi(t,n){const e=wT(t);return e&&t.set(n),e}function Oi(t,n){const e=dt(),i=vi(),r=Xi();return R9(i,e,e[Sn],r,t,n),Oi}function P9(t,n,e,i,r){if(t=je(t),Array.isArray(t))for(let o=0;o<t.length;o++)P9(t[o],n,e,i,r);else{const o=vi(),s=dt(),c=Xi();let v=Sl(t)?t:je(t.provide);const C=Mm(t),N=1048575&c.providerIndexes,G=c.directiveStart,se=c.providerIndexes>>20;if(Sl(t)||!t.multi){const le=new Ol(C,r,ve),pe=$9(v,n,r?N:N+se,G);-1===pe?(Pt(Ue(c,s),o,v),z9(o,t,n.length),n.push(v),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(le),s.push(le)):(e[pe]=le,s[pe]=le)}else{const le=$9(v,n,N+se,G),pe=$9(v,n,N,N+se),Le=pe>=0&&e[pe];if(r&&!Le||!r&&!(le>=0&&e[le])){Pt(Ue(c,s),o,v);const Be=function die(t,n,e,i,r){const o=new Ol(t,e,ve);return o.multi=[],o.index=n,o.componentProviders=0,FL(o,r,i&&!e),o}(r?lie:cie,e.length,r,i,C);!r&&Le&&(e[pe].providerFactory=Be),z9(o,t,n.length,0),n.push(v),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(Be),s.push(Be)}else z9(o,t,le>-1?le:pe,FL(e[r?pe:le],C,!r&&i));!r&&i&&Le&&e[pe].componentProviders++}}}function z9(t,n,e,i){const r=Sl(n),o=function y1(t){return!!t.useClass}(n);if(r||o){const v=(o?je(n.useClass):n).prototype.ngOnDestroy;if(v){const C=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const N=C.indexOf(e);-1===N?C.push(e,[i,v]):C[N+1].push(i,v)}else C.push(e,v)}}}function FL(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function $9(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function cie(t,n,e,i){return B9(this.multi,[])}function lie(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,c=Sr(e,e[Rt],this.providerFactory.index,i);o=c.slice(0,s),B9(r,o);for(let v=s;v<c.length;v++)o.push(c[v])}else o=[],B9(r,o);return o}function B9(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Nn(t,n=[]){return e=>{e.providersResolver=(i,r)=>function aie(t,n,e){const i=vi();if(i.firstCreatePass){const r=Ma(t);P9(e,i.data,i.blueprint,r,!0),P9(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}let uie=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=jh(0,e.type),r=i.length>0?function PT(t,n,e=null){return new FT({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=tt({token:t,providedIn:"environment",factory:()=>new t(Xe(qs))})}return t})();function Xn(t){zl("NgStandalone"),t.getStandaloneInjector=n=>n.get(uie).getOrCreateStandaloneInjector(t)}function _i(t,n,e){const i=Po()+t,r=dt();return r[i]===ri?$l(r,i,e?n.call(e):n()):function J3(t,n){return t[n]}(r,i)}function Wn(t,n,e,i){return $L(dt(),Po(),t,n,e,i)}function xc(t,n,e,i,r){return function BL(t,n,e,i,r,o,s){const c=n+e;return f0(t,c,r,o)?$l(t,c+2,s?i.call(s,r,o):i(r,o)):f4(t,c+2)}(dt(),Po(),t,n,e,i,r)}function Wc(t,n,e,i,r,o){return function HL(t,n,e,i,r,o,s,c){const v=n+e;return function L6(t,n,e,i,r){const o=f0(t,n,e,i);return zo(t,n+2,r)||o}(t,v,r,o,s)?$l(t,v+3,c?i.call(c,r,o,s):i(r,o,s)):f4(t,v+3)}(dt(),Po(),t,n,e,i,r,o)}function U6(t,n,e,i,r,o,s){return function UL(t,n,e,i,r,o,s,c,v){const C=n+e;return function bc(t,n,e,i,r,o){const s=f0(t,n,e,i);return f0(t,n+2,r,o)||s}(t,C,r,o,s,c)?$l(t,C+4,v?i.call(v,r,o,s,c):i(r,o,s,c)):f4(t,C+4)}(dt(),Po(),t,n,e,i,r,o,s)}function f4(t,n){const e=t[n];return e===ri?void 0:e}function $L(t,n,e,i,r,o){const s=n+e;return zo(t,s,r)?$l(t,s+1,o?i.call(o,r):i(r)):f4(t,s+1)}function Da(t,n){const e=vi();let i;const r=t+Kn;e.firstCreatePass?(i=function _ie(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Pc(i.type)),c=Gs(ve);try{const v=J(!1),C=o();return J(v),function Kne(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,dt(),r,C),C}finally{Gs(c)}}function Ia(t,n,e){const i=t+Kn,r=dt(),o=E1(r,i);return function h4(t,n){return t[Rt].data[n].pure}(r,i)?$L(r,Po(),n,o.transform,e,o):o.transform(e)}function En(t,n){return p6(t,n)}const lA=new at(""),W6=new at("");let q9,G9=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,q9||(function gre(t){q9=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{on.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(on),Xe(Y9),Xe(W6))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Y9=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return q9?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function G6(t){return!!t&&"function"==typeof t.then}function dA(t){return!!t&&"function"==typeof t.subscribe}const vre=new at("");let K9=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=$e(vre,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(G6(o))e.push(o);else if(dA(o)){const s=new Promise((c,v)=>{o.subscribe({complete:c,error:v})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uA=new at("");function pA(t,n){return Array.isArray(n)?n.reduce(pA,t):{...t,...n}}let Ul=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e(cM),this.afterRenderEffectManager=$e(q3),this.externalTestViews=new Set,this.beforeRender=new xt,this.afterTick=new xt,this.componentTypes=[],this.components=[],this.isStable=$e(u0).hasPendingTasks.pipe(Mn(e=>!e)),this._injector=$e(qs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof YS;if(!this._injector.get(K9).done)throw!r&&function Ml(t){const n=ti(t)||No(t)||Ro(t);return null!==n&&n.standalone}(e),new et(405,!1);let s;s=r?e:this._injector.get(Ud).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const c=function _re(t){return t.isBoundToModule}(s)?void 0:this._injector.get(d0),C=s.create(io.NULL,[],i||s.selector,c),N=C.location.nativeElement,G=C.injector.get(lA,null);return G?.registerApplication(N),C.onDestroy(()=>{this.detachView(C.hostView),Y6(this.components,C),G?.unregisterApplication(N)}),this._loadComponent(C),C}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new et(101,!1);const i=m(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,m(i)}}detectChangesInAttachedViews(e){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===PS)throw new et(103,!1);if(e){const o=0===i;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:c}of this._views)yre(s,o,c)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Z9(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Z9(o))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Y6(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(uA,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Y6(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new et(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Y6(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function yre(t,n,e){!n&&!Z9(t)||function wre(t,n,e){let i;e?(i=0,t[bn]|=1024):i=64&t[bn]?0:1,h6(t,n,i)}(t,e,n)}function Z9(t){return L1(t)}let Sre=(()=>{class t{constructor(){this.zone=$e(on),this.applicationRef=$e(Ul)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tre(){const t=$e(on),n=$e(Za);return e=>t.runOutsideAngular(()=>n.handleError(e))}let Lre=(()=>{class t{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=$e(on),this.pendingTasks=$e(u0)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{on.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{on.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Cc=new at("",{providedIn:"root",factory:()=>$e(Cc,wi.Optional|wi.SkipSelf)||function Are(){return typeof $localize<"u"&&$localize.locale||mf}()}),Q9=new at("");let _A=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function SJ(t="zone.js",n){return"noop"===t?new JS:"zone.js"===t?new on(n):t}(i?.ngZone,function vA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function _ee(t,n,e){return new l9(t,n,e)}(e.moduleType,this.injector,function gA(t){return[{provide:on,useFactory:t},{provide:h1,multi:!0,useFactory:()=>{const n=$e(Sre,{optional:!0});return()=>n.initialize()}},{provide:h1,multi:!0,useFactory:()=>{const n=$e(Lre);return()=>{n.initialize()}}},{provide:cM,useFactory:Tre}]}(()=>r)),s=o.injector.get(Za,null);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:v=>{s.handleError(v)}});o.onDestroy(()=>{Y6(this._modules,o),c.unsubscribe()})}),function hA(t,n,e){try{const i=e();return G6(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(s,r,()=>{const c=o.injector.get(K9);return c.runInitializers(),c.donePromise.then(()=>(function zE(t){"string"==typeof t&&(PE=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Cc,mf)||mf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=pA({},i);return function Mre(t,n,e){const i=new d9(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ul);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new et(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Q9,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(io))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Gd=null;const bA=new at("");function yA(t,n,e=[]){const i=`Platform: ${n}`,r=new at(i);return(o=[])=>{let s=X9();if(!s||s.injector.get(bA,!1)){const c=[...e,...o,{provide:r,useValue:!0}];t?t(c):function kre(t){if(Gd&&!Gd.get(bA,!1))throw new et(400,!1);(function fA(){!function ue(t){fe=t}(()=>{throw new et(600,!1)})})(),Gd=t;const n=t.get(_A);(function xA(t){t.get(DM,null)?.forEach(e=>e())})(t)}(function wA(t=[],n){return io.create({name:n,providers:[{provide:w1,useValue:"platform"},{provide:Q9,useValue:new Set([()=>Gd=null])},...t]})}(c,i))}return function Ore(t){const n=X9();if(!n)throw new et(401,!1);return n}()}}function X9(){return Gd?.get(_A)??null}let Si=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Rre}return t})();function Rre(t){return function Fre(t,n,e){if(T1(t)&&!e){const i=Qs(t.index,n);return new V3(i,i)}return 47&t.type?new V3(n[Mr],n):null}(Xi(),dt(),!(16&~t))}class EA{constructor(){}supports(n){return E6(n)}create(n){return new Hre(n)}}const Bre=(t,n)=>n;class Hre{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Bre}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<AA(i,r,o)?e:i,c=AA(s,r,o),v=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const C=c-r,N=v-r;if(C!=N){for(let se=0;se<C;se++){const le=se<o.length?o[se]:o[se]=0,pe=le+se;N<=pe&&pe<C&&(o[se]=le+1)}o[s.previousIndex]=N-C}}c!==v&&n(s,c,v)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!E6(n))throw new et(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)o=n[c],s=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,c),i=!0),e=e._next}else r=0,function xee(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,c=>{s=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,c,s,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new Ure(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new LA),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LA),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Ure{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vre{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class LA{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new Vre,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AA(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class DA{constructor(){}supports(n){return n instanceof Map||u9(n)}create(){return new jre}}class jre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||u9(n)))throw new et(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Wre(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class Wre{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IA(){return new i_([new EA])}let i_=(()=>{class t{static#e=this.\u0275prov=tt({token:t,providedIn:"root",factory:IA});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||IA()),deps:[[t,new ca,new wl]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new et(901,!1)}}return t})();function kA(){return new g4([new DA])}let g4=(()=>{class t{static#e=this.\u0275prov=tt({token:t,providedIn:"root",factory:kA});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||kA()),deps:[[t,new ca,new wl]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new et(901,!1)}}return t})();const qre=yA(null,"core",[]);let Kre=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(Ul))};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();function Ji(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function yf(t,n=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?n:Number(t)}function eD(t){const n=m(null);try{return t()}finally{m(n)}}const Soe=new at("",{providedIn:"root",factory:()=>$e(Toe)});let Toe=(()=>{class t{static#e=this.\u0275prov=tt({token:t,providedIn:"root",factory:()=>new Eoe})}return t})();class Eoe{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=$e(u0),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){const e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,e]of this.queues)null===n?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(const e of n)n.delete(e),this.queuedEffectCount--,e.run()}}class Loe{constructor(n,e,i,r,o,s){this.scheduler=n,this.effectFn=e,this.creationZone=i,this.injector=o,this.watcher=function ht(t,n,e){const i=Object.create(vt);e&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=n;const r=v=>{i.cleanupFn=v};return i.ref={notify:()=>P(i),run:()=>{if(null===i.fn)return;if(function f(){return x}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!K(i))return;i.hasRun=!0;const v=U(i);try{i.cleanupFn(),i.cleanupFn=ft,i.fn(r)}finally{j(i,v)}},cleanup:()=>i.cleanupFn(),destroy:()=>function s(v){(function o(v){return null===v.fn&&null===v.schedule})(v)||(B(v),v.cleanupFn(),v.fn=null,v.schedule=null,v.cleanupFn=ft)}(i),[u]:i},i.ref}(c=>this.runEffect(c),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Za,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function s_(t,n){const e=ti(t),i=n.elementInjector||B2();return new Q3(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let nD=null;function Yd(){return nD}class Doe{}const zn=new at("");let iD=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>$e(Ioe),providedIn:"platform"})}return t})(),Ioe=(()=>{class t extends iD{constructor(){super(),this._doc=$e(zn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yd().getBaseHref(this._doc)}onPopState(e){const i=Yd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Yd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function rD(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function oD(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function v0(t){return t&&"?"!==t[0]?"?"+t:t}let a_=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>$e(Ooe),providedIn:"root"})}return t})();const koe=new at("");let Ooe=(()=>{class t extends a_{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??$e(zn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return rD(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+v0(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+v0(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+v0(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(iD),Xe(koe,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),c_=(()=>{class t{constructor(e){this._subject=new mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Foe(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(oD(sD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+v0(i))}normalize(e){return t.stripTrailingSlash(function Roe(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,sD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+v0(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+v0(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=v0;static#t=this.joinWithSlash=rD;static#n=this.stripTrailingSlash=oD;static#i=this.\u0275fac=function(i){return new(i||t)(Xe(a_))};static#r=this.\u0275prov=tt({token:t,factory:()=>function Noe(){return new c_(Xe(a_))}(),providedIn:"root"})}return t})();function sD(t){return t.replace(/\/index.html$/,"")}var us=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(us||{}),ji=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ji||{}),tc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(tc||{});const Zo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function cD(t,n,e){const i=fa(t),o=Sc([i[Pr.DayPeriodsFormat],i[Pr.DayPeriodsStandalone]],n);return Sc(o,e)}function lD(t,n,e){const i=fa(t),o=Sc([i[Pr.DaysFormat],i[Pr.DaysStandalone]],n);return Sc(o,e)}function l_(t,n,e){const i=fa(t),o=Sc([i[Pr.MonthsFormat],i[Pr.MonthsStandalone]],n);return Sc(o,e)}function ig(t,n){return Sc(fa(t)[Pr.DateFormat],n)}function rg(t,n){return Sc(fa(t)[Pr.TimeFormat],n)}function og(t,n){return Sc(fa(t)[Pr.DateTimeFormat],n)}function Mc(t,n){const e=fa(t),i=e[Pr.NumberSymbols][n];if(typeof i>"u"){if(n===Zo.CurrencyDecimal)return e[Pr.NumberSymbols][Zo.Decimal];if(n===Zo.CurrencyGroup)return e[Pr.NumberSymbols][Zo.Group]}return i}function dD(t){if(!t[Pr.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Pr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sc(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function u_(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const Yoe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sg={},qoe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var z1=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(z1||{}),tr=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(tr||{}),nr=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(nr||{});function uD(t,n,e,i){let r=function ise(t){if(pD(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,s=1]=t.split("-").map(c=>+c);return ag(r,o-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Yoe))return function rse(t){const n=new Date(0);let e=0,i=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,c=Number(t[5]||0)-i,v=Number(t[6]||0),C=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,s,c,v,C),n}(i)}const n=new Date(t);if(!pD(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=$1(e,n)||n;let c,s=[];for(;n;){if(c=qoe.exec(n),!c){s.push(n);break}{s=s.concat(c.slice(1));const N=s.pop();if(!N)break;n=N}}let v=r.getTimezoneOffset();i&&(v=hD(i,v),r=function nse(t,n,e){const i=e?-1:1,r=t.getTimezoneOffset();return function tse(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(hD(n,r)-r))}(r,i,!0));let C="";return s.forEach(N=>{const G=function ese(t){if(h_[t])return h_[t];let n;switch(t){case"G":case"GG":case"GGG":n=zr(nr.Eras,ji.Abbreviated);break;case"GGGG":n=zr(nr.Eras,ji.Wide);break;case"GGGGG":n=zr(nr.Eras,ji.Narrow);break;case"y":n=Qo(tr.FullYear,1,0,!1,!0);break;case"yy":n=Qo(tr.FullYear,2,0,!0,!0);break;case"yyy":n=Qo(tr.FullYear,3,0,!1,!0);break;case"yyyy":n=Qo(tr.FullYear,4,0,!1,!0);break;case"Y":n=ug(1);break;case"YY":n=ug(2,!0);break;case"YYY":n=ug(3);break;case"YYYY":n=ug(4);break;case"M":case"L":n=Qo(tr.Month,1,1);break;case"MM":case"LL":n=Qo(tr.Month,2,1);break;case"MMM":n=zr(nr.Months,ji.Abbreviated);break;case"MMMM":n=zr(nr.Months,ji.Wide);break;case"MMMMM":n=zr(nr.Months,ji.Narrow);break;case"LLL":n=zr(nr.Months,ji.Abbreviated,us.Standalone);break;case"LLLL":n=zr(nr.Months,ji.Wide,us.Standalone);break;case"LLLLL":n=zr(nr.Months,ji.Narrow,us.Standalone);break;case"w":n=f_(1);break;case"ww":n=f_(2);break;case"W":n=f_(1,!0);break;case"d":n=Qo(tr.Date,1);break;case"dd":n=Qo(tr.Date,2);break;case"c":case"cc":n=Qo(tr.Day,1);break;case"ccc":n=zr(nr.Days,ji.Abbreviated,us.Standalone);break;case"cccc":n=zr(nr.Days,ji.Wide,us.Standalone);break;case"ccccc":n=zr(nr.Days,ji.Narrow,us.Standalone);break;case"cccccc":n=zr(nr.Days,ji.Short,us.Standalone);break;case"E":case"EE":case"EEE":n=zr(nr.Days,ji.Abbreviated);break;case"EEEE":n=zr(nr.Days,ji.Wide);break;case"EEEEE":n=zr(nr.Days,ji.Narrow);break;case"EEEEEE":n=zr(nr.Days,ji.Short);break;case"a":case"aa":case"aaa":n=zr(nr.DayPeriods,ji.Abbreviated);break;case"aaaa":n=zr(nr.DayPeriods,ji.Wide);break;case"aaaaa":n=zr(nr.DayPeriods,ji.Narrow);break;case"b":case"bb":case"bbb":n=zr(nr.DayPeriods,ji.Abbreviated,us.Standalone,!0);break;case"bbbb":n=zr(nr.DayPeriods,ji.Wide,us.Standalone,!0);break;case"bbbbb":n=zr(nr.DayPeriods,ji.Narrow,us.Standalone,!0);break;case"B":case"BB":case"BBB":n=zr(nr.DayPeriods,ji.Abbreviated,us.Format,!0);break;case"BBBB":n=zr(nr.DayPeriods,ji.Wide,us.Format,!0);break;case"BBBBB":n=zr(nr.DayPeriods,ji.Narrow,us.Format,!0);break;case"h":n=Qo(tr.Hours,1,-12);break;case"hh":n=Qo(tr.Hours,2,-12);break;case"H":n=Qo(tr.Hours,1);break;case"HH":n=Qo(tr.Hours,2);break;case"m":n=Qo(tr.Minutes,1);break;case"mm":n=Qo(tr.Minutes,2);break;case"s":n=Qo(tr.Seconds,1);break;case"ss":n=Qo(tr.Seconds,2);break;case"S":n=Qo(tr.FractionalSeconds,1);break;case"SS":n=Qo(tr.FractionalSeconds,2);break;case"SSS":n=Qo(tr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=lg(z1.Short);break;case"ZZZZZ":n=lg(z1.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=lg(z1.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=lg(z1.Long);break;default:return null}return h_[t]=n,n}(N);C+=G?G(r,e,v):"''"===N?"'":N.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function ag(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function $1(t,n){const e=function zoe(t){return fa(t)[Pr.LocaleId]}(t);if(sg[e]??={},sg[e][n])return sg[e][n];let i="";switch(n){case"shortDate":i=ig(t,tc.Short);break;case"mediumDate":i=ig(t,tc.Medium);break;case"longDate":i=ig(t,tc.Long);break;case"fullDate":i=ig(t,tc.Full);break;case"shortTime":i=rg(t,tc.Short);break;case"mediumTime":i=rg(t,tc.Medium);break;case"longTime":i=rg(t,tc.Long);break;case"fullTime":i=rg(t,tc.Full);break;case"short":const r=$1(t,"shortTime"),o=$1(t,"shortDate");i=cg(og(t,tc.Short),[r,o]);break;case"medium":const s=$1(t,"mediumTime"),c=$1(t,"mediumDate");i=cg(og(t,tc.Medium),[s,c]);break;case"long":const v=$1(t,"longTime"),C=$1(t,"longDate");i=cg(og(t,tc.Long),[v,C]);break;case"full":const N=$1(t,"fullTime"),G=$1(t,"fullDate");i=cg(og(t,tc.Full),[N,G])}return i&&(sg[e][n]=i),i}function cg(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Gc(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function Qo(t,n,e=0,i=!1,r=!1){return function(o,s){let c=function Zoe(t,n){switch(t){case tr.FullYear:return n.getFullYear();case tr.Month:return n.getMonth();case tr.Date:return n.getDate();case tr.Hours:return n.getHours();case tr.Minutes:return n.getMinutes();case tr.Seconds:return n.getSeconds();case tr.FractionalSeconds:return n.getMilliseconds();case tr.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||c>-e)&&(c+=e),t===tr.Hours)0===c&&-12===e&&(c=12);else if(t===tr.FractionalSeconds)return function Koe(t,n){return Gc(t,3).substring(0,n)}(c,n);const v=Mc(s,Zo.MinusSign);return Gc(c,n,v,i,r)}}function zr(t,n,e=us.Format,i=!1){return function(r,o){return function Qoe(t,n,e,i,r,o){switch(e){case nr.Months:return l_(n,r,i)[t.getMonth()];case nr.Days:return lD(n,r,i)[t.getDay()];case nr.DayPeriods:const s=t.getHours(),c=t.getMinutes();if(o){const C=function Uoe(t){const n=fa(t);return dD(n),(n[Pr.ExtraData][2]||[]).map(i=>"string"==typeof i?u_(i):[u_(i[0]),u_(i[1])])}(n),N=function Voe(t,n,e){const i=fa(t);dD(i);const o=Sc([i[Pr.ExtraData][0],i[Pr.ExtraData][1]],n)||[];return Sc(o,e)||[]}(n,r,i),G=C.findIndex(se=>{if(Array.isArray(se)){const[le,pe]=se,we=s>=le.hours&&c>=le.minutes,Le=s<pe.hours||s===pe.hours&&c<pe.minutes;if(le.hours<pe.hours){if(we&&Le)return!0}else if(we||Le)return!0}else if(se.hours===s&&se.minutes===c)return!0;return!1});if(-1!==G)return N[G]}return cD(n,r,i)[s<12?0:1];case nr.Eras:return function $oe(t,n){return Sc(fa(t)[Pr.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,t,n,e,i)}}function lg(t){return function(n,e,i){const r=-1*i,o=Mc(e,Zo.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case z1.Short:return(r>=0?"+":"")+Gc(s,2,o)+Gc(Math.abs(r%60),2,o);case z1.ShortGMT:return"GMT"+(r>=0?"+":"")+Gc(s,1,o);case z1.Long:return"GMT"+(r>=0?"+":"")+Gc(s,2,o)+":"+Gc(Math.abs(r%60),2,o);case z1.Extended:return 0===i?"Z":(r>=0?"+":"")+Gc(s,2,o)+":"+Gc(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Xoe=0,dg=4;function fD(t){const n=t.getDay(),e=0===n?-3:dg-n;return ag(t.getFullYear(),t.getMonth(),t.getDate()+e)}function f_(t,n=!1){return function(e,i){let r;if(n){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=fD(e),s=function Joe(t){const n=ag(t,Xoe,1).getDay();return ag(t,0,1+(n<=dg?dg:dg+7)-n)}(o.getFullYear()),c=o.getTime()-s.getTime();r=1+Math.round(c/6048e5)}return Gc(r,t,Mc(i,Zo.MinusSign))}}function ug(t,n=!1){return function(e,i){return Gc(fD(e).getFullYear(),t,Mc(i,Zo.MinusSign),n)}}const h_={};function hD(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function pD(t){return t instanceof Date&&!isNaN(t.valueOf())}function _D(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}const b_=/\s+/,bD=[];let ir=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=bD,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(b_):bD}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(b_):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(b_).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Ja))};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Mt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class vse{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new vse(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,s),wD(c,r)}});for(let r=0,o=i.length;r<o;r++){const c=i.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{wD(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Vr),ve(Hi),ve(i_))};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function wD(t,n){t.context.$implicit=n.item}let yn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new _se,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Vr),ve(Hi))};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class _se{constructor(){this.$implicit=null,this.ngIf=null}}function xD(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ln(n)}'.`)}let x_=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:Hd.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(g4),ve(Ja))};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),ho=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Vr))};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[si]})}return t})();class Cse{createSubscription(n,e){return eD(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){eD(()=>n.unsubscribe())}}class Mse{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const Sse=new Mse,Tse=new Cse;let y4=(()=>{class t{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(G6(e))return Sse;if(dA(e))return Tse;throw function Yc(t,n){return new et(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Si,16))};static#t=this.\u0275pipe=os({name:"async",type:t,pure:!1,standalone:!0})}return t})(),C_=(()=>{class t{transform(e){return JSON.stringify(e,null,2)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=os({name:"json",type:t,pure:!1,standalone:!0})}return t})(),ka=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();const SD="browser";function TD(t){return"server"===t}class ED{}class wae extends Doe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E_ extends wae{static makeCurrent(){!function Aoe(t){nD??=t}(new E_)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function xae(){return C4=C4||document.querySelector("base"),C4?C4.getAttribute("href"):null}();return null==e?null:function Cae(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){C4=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return _D(document.cookie,n)}}let C4=null,Sae=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const L_=new at("");let FD=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new et(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(L_),Xe(on))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();class PD{constructor(n){this._doc=n}}const A_="ng-app-id";let zD=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=TD(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${A_}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(A_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(A_,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn),Xe(L3),Xe(Q7,8),Xe(Bd))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const D_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},I_=/%COMP%/g,Aae=new at("",{providedIn:"root",factory:()=>!0});function BD(t,n){return n.map(e=>e.replace(I_,t))}let k_=(()=>{class t{constructor(e,i,r,o,s,c,v,C=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=v,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=TD(c),this.defaultRenderer=new O_(e,s,v,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ys.ShadowDom&&(i={...i,encapsulation:Ys.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof UD?r.applyToHost(e):r instanceof N_&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,c=this.ngZone,v=this.eventManager,C=this.sharedStylesHost,N=this.removeStylesOnCompDestroy,G=this.platformIsServer;switch(i.encapsulation){case Ys.Emulated:o=new UD(v,C,i,this.appId,N,s,c,G);break;case Ys.ShadowDom:return new Oae(v,C,e,i,s,c,this.nonce,G);default:o=new N_(v,C,i,N,s,c,G)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(FD),Xe(zD),Xe(L3),Xe(Aae),Xe(zn),Xe(Bd),Xe(on),Xe(Q7))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();class O_{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(D_[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(HD(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(HD(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new et(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=D_[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=D_[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Hd.DashCase|Hd.Important)?n.style.setProperty(e,i,r&Hd.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Hd.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){null!=n&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=Yd().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function HD(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Oae extends O_{constructor(n,e,i,r,o,s,c,v){super(n,o,s,v),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=BD(r.id,r.styles);for(const N of C){const G=document.createElement("style");c&&G.setAttribute("nonce",c),G.textContent=N,this.shadowRoot.appendChild(G)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class N_ extends O_{constructor(n,e,i,r,o,s,c,v){super(n,o,s,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=v?BD(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class UD extends N_{constructor(n,e,i,r,o,s,c,v){const C=r+"-"+i.id;super(n,e,i,o,s,c,v,C),this.contentAttr=function Dae(t){return"_ngcontent-%COMP%".replace(I_,t)}(C),this.hostAttr=function Iae(t){return"_nghost-%COMP%".replace(I_,t)}(C)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Nae=(()=>{class t extends PD{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const VD=["alt","control","meta","shift"],Rae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fae={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Pae=(()=>{class t extends PD{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yd().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),VD.forEach(C=>{const N=i.indexOf(C);N>-1&&(i.splice(N,1),s+=C+".")}),s+=o,0!=i.length||0===o.length)return null;const v={};return v.domEventName=r,v.fullKey=s,v}static matchEventFullKeyCode(e,i){let r=Rae[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),VD.forEach(s=>{s!==r&&(0,Fae[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const WD=[{provide:Bd,useValue:SD},{provide:DM,useValue:function zae(){E_.makeCurrent()},multi:!0},{provide:zn,useFactory:function Bae(){return function jZ(t){Z7=t}(document),document},deps:[]}],Hae=yA(qre,"browser",WD),Uae=new at(""),GD=[{provide:W6,useClass:class Mae{addToWindow(n){jt.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new et(5103,!1);return o},jt.getAllAngularTestabilities=()=>n.getAllTestabilities(),jt.getAllAngularRootElements=()=>n.getAllRootElements(),jt.frameworkStabilizers||(jt.frameworkStabilizers=[]),jt.frameworkStabilizers.push(i=>{const r=jt.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(c=>{c.whenStable(s)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?Yd().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:lA,useClass:G9,deps:[on,Y9,W6]},{provide:G9,useClass:G9,deps:[on,Y9,W6]}],YD=[{provide:w1,useValue:"root"},{provide:Za,useFactory:function $ae(){return new Za},deps:[]},{provide:L_,useClass:Nae,multi:!0,deps:[zn,on,Bd]},{provide:L_,useClass:Pae,multi:!0,deps:[zn]},k_,zD,FD,{provide:Wv,useExisting:k_},{provide:ED,useClass:Sae,deps:[]},[]];let qD=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:L3,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(Uae,12))};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[...YD,...GD],imports:[ka,Kre]})}return t})(),xf=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:function(i){let r=null;return r=i?new(i||t):Xe(Gae),r},providedIn:"root"})}return t})(),Gae=(()=>{class t extends xf{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case zs.NONE:return i;case zs.HTML:return Fl(i,"HTML")?Qa(i):KM(this._doc,String(i)).toString();case zs.STYLE:return Fl(i,"Style")?Qa(i):i;case zs.SCRIPT:if(Fl(i,"Script"))return Qa(i);throw new et(5200,!1);case zs.URL:return Fl(i,"URL")?Qa(i):e6(String(i));case zs.RESOURCE_URL:if(Fl(i,"ResourceURL"))return Qa(i);throw new et(5201,!1);default:throw new et(5202,!1)}}bypassSecurityTrustHtml(e){return function uQ(t){return new oQ(t)}(e)}bypassSecurityTrustStyle(e){return function fQ(t){return new sQ(t)}(e)}bypassSecurityTrustScript(e){return function hQ(t){return new aQ(t)}(e)}bypassSecurityTrustUrl(e){return function pQ(t){return new cQ(t)}(e)}bypassSecurityTrustResourceUrl(e){return function mQ(t){return new lQ(t)}(e)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _0(t){return this instanceof _0?(this.v=t,this):new _0(t)}function Zae(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function eI(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(c,v){!function r(o,s,c,v){Promise.resolve(v).then(function(C){o({value:C,done:c})},s)}(c,v,(s=t[o](s)).done,s.value)})}}}const F_=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function tI(t){return wt(t?.then)}function nI(t){return wt(t[gt])}function iI(t){return Symbol.asyncIterator&&wt(t?.[Symbol.asyncIterator])}function rI(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oI=function Xae(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sI(t){return wt(t?.[oI])}function aI(t){return function Kae(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(se){i[se]&&(r[se]=function(le){return new Promise(function(pe,we){o.push([se,le,pe,we])>1||c(se,le)})})}function c(se,le){try{!function v(se){se.value instanceof _0?Promise.resolve(se.value.v).then(C,N):G(o[0][2],se)}(i[se](le))}catch(pe){G(o[0][3],pe)}}function C(se){c("next",se)}function N(se){c("throw",se)}function G(se,le){se(le),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield _0(e.read());if(r)return yield _0(void 0);yield yield _0(i)}}finally{e.releaseLock()}})}function cI(t){return wt(t?.getReader)}function fs(t){if(t instanceof hn)return t;if(null!=t){if(nI(t))return function Jae(t){return new hn(n=>{const e=t[gt]();if(wt(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(F_(t))return function ece(t){return new hn(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(tI(t))return function tce(t){return new hn(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Xt)})}(t);if(iI(t))return lI(t);if(sI(t))return function nce(t){return new hn(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(cI(t))return function ice(t){return lI(aI(t))}(t)}throw rI(t)}function lI(t){return new hn(n=>{(function rce(t,n){var e,i,r,o;return function Yae(t,n,e,i){return new(e||(e=Promise))(function(o,s){function c(N){try{C(i.next(N))}catch(G){s(G)}}function v(N){try{C(i.throw(N))}catch(G){s(G)}}function C(N){N.done?o(N.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(N.value).then(c,v)}C((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Zae(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Vl(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function dI(t,n=0){return fi((e,i)=>{e.subscribe(new gi(i,r=>Vl(i,t,()=>i.next(r),n),()=>Vl(i,t,()=>i.complete(),n),r=>Vl(i,t,()=>i.error(r),n)))})}function uI(t,n=0){return fi((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function fI(t,n){if(!t)throw new Error("Iterable cannot be null");return new hn(e=>{Vl(e,n,()=>{const i=t[Symbol.asyncIterator]();Vl(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function qc(t,n){return n?function uce(t,n){if(null!=t){if(nI(t))return function oce(t,n){return fs(t).pipe(uI(n),dI(n))}(t,n);if(F_(t))return function cce(t,n){return new hn(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(tI(t))return function sce(t,n){return fs(t).pipe(uI(n),dI(n))}(t,n);if(iI(t))return fI(t,n);if(sI(t))return function lce(t,n){return new hn(e=>{let i;return Vl(e,n,()=>{i=t[oI](),Vl(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>wt(i?.return)&&i.return()})}(t,n);if(cI(t))return function dce(t,n){return fI(aI(t),n)}(t,n)}throw rI(t)}(t,n):fs(t)}const{isArray:fce}=Array,{getPrototypeOf:hce,prototype:pce,keys:mce}=Object;function hI(t){if(1===t.length){const n=t[0];if(fce(n))return{args:n,keys:null};if(function gce(t){return t&&"object"==typeof t&&hce(t)===pce}(n)){const e=mce(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function pI(t){return t&&wt(t.schedule)}function P_(t){return t[t.length-1]}function gg(t){return wt(P_(t))?t.pop():void 0}function S4(t){return pI(P_(t))?t.pop():void 0}const{isArray:_ce}=Array;function z_(t){return Mn(n=>function bce(t,n){return _ce(n)?t(...n):t(n)}(t,n))}function mI(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function gI(...t){const n=gg(t),{args:e,keys:i}=hI(t),r=new hn(o=>{const{length:s}=e;if(!s)return void o.complete();const c=new Array(s);let v=s,C=s;for(let N=0;N<s;N++){let G=!1;fs(e[N]).subscribe(new gi(o,se=>{G||(G=!0,C--),c[N]=se},()=>v--,void 0,()=>{(!v||!G)&&(C||o.next(i?mI(i,c):c),o.complete())}))}});return n?r.pipe(z_(n)):r}let vI=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ja),ve(Ht))};static#t=this.\u0275dir=ot({type:t})}return t})(),b0=(()=>{class t extends vI{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,features:[Ct]})}return t})();const hs=new at(""),yce={provide:hs,useExisting:Ie(()=>jl),multi:!0};let jl=(()=>{class t extends b0{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&ze("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Nn([yce]),Ct]})}return t})();const wce={provide:hs,useExisting:Ie(()=>di),multi:!0},Cce=new at("");let di=(()=>{class t extends vI{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xce(){const t=Yd()?Yd().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ja),ve(Ht),ve(Cce,8))};static#t=this.\u0275dir=ot({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ze("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Nn([wce]),Ct]})}return t})();const Bs=new at(""),Kd=new at("");function wI(t){return function qd(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function xI(t){return!0===t.value?null:{required:!0}}function vg(t){return null}function EI(t){return null!=t}function LI(t){return G6(t)?qc(t):t}function AI(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function DI(t,n){return n.map(e=>e(t))}function II(t){return t.map(n=>function Sce(t){return!t.validate}(n)?n:e=>n.validate(e))}function $_(t){return null!=t?function kI(t){if(!t)return null;const n=t.filter(EI);return 0==n.length?null:function(e){return AI(DI(e,n))}}(II(t)):null}function B_(t){return null!=t?function OI(t){if(!t)return null;const n=t.filter(EI);return 0==n.length?null:function(e){return gI(DI(e,n).map(LI)).pipe(Mn(AI))}}(II(t)):null}function NI(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function RI(t){return t._rawValidators}function FI(t){return t._rawAsyncValidators}function H_(t){return t?Array.isArray(t)?t:[t]:[]}function _g(t,n){return Array.isArray(t)?t.includes(n):t===n}function PI(t,n){const e=H_(n);return H_(t).forEach(r=>{_g(e,r)||e.push(r)}),e}function zI(t,n){return H_(n).filter(e=>!_g(t,e))}class $I{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=$_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=B_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class pa extends $I{get formDirective(){return null}get path(){return null}}class Wl extends $I{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BI{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ei=(()=>{class t extends BI{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Wl,2))};static#t=this.\u0275dir=ot({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&At("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ct]})}return t})(),Cf=(()=>{class t extends BI{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(pa,10))};static#t=this.\u0275dir=ot({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&At("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ct]})}return t})();const T4="VALID",yg="INVALID",Mf="PENDING",E4="DISABLED";function j_(t){return(wg(t)?t.validators:t)||null}function W_(t,n){return(wg(n)?n.asyncValidators:t)||null}function wg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class G_{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===T4}get invalid(){return this.status===yg}get pending(){return this.status==Mf}get disabled(){return this.status===E4}get enabled(){return this.status!==E4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(PI(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(PI(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(zI(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(zI(n,this._rawAsyncValidators))}hasValidator(n){return _g(this._rawValidators,n)}hasAsyncValidator(n){return _g(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Mf,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=E4,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=T4,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===T4||this.status===Mf)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E4:T4}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Mf,this._hasOwnPendingAsyncValidator=!0;const e=LI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new mt,this.statusChanges=new mt}_calculateStatus(){return this._allControlsDisabled()?E4:this.errors?yg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mf)?Mf:this._anyControlsHaveStatus(yg)?yg:T4}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){wg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Ace(t){return Array.isArray(t)?$_(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Dce(t){return Array.isArray(t)?B_(t):t||null}(this._rawAsyncValidators)}}class Y_ extends G_{constructor(n,e,i){super(j_(e),W_(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function VI(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new et(1002,"")})})(this,0,n),Object.keys(n).forEach(i=>{(function UI(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new et(1e3,"");if(!i[e])throw new et(1001,"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const y0=new at("CallSetDisabledState",{providedIn:"root",factory:()=>L4}),L4="always";function A4(t,n,e=L4){q_(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function Oce(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&jI(t,n)})}(t,n),function Rce(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Nce(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&jI(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function kce(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Cg(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),function Sg(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=RI(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const r=FI(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}const i=()=>{};return Mg(n._rawValidators,i),Mg(n._rawAsyncValidators,i),e}(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Mg(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function q_(t,n){const e=RI(t);null!==n.validator?t.setValidators(NI(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=FI(t);null!==n.asyncValidator?t.setAsyncValidators(NI(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();Mg(n._rawValidators,r),Mg(n._rawAsyncValidators,r)}function jI(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Z_(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function Q_(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===di?e=o:function zce(t){return Object.getPrototypeOf(t.constructor)===b0}(o)?i=o:r=o}),r||i||e||null}const Bce={provide:pa,useExisting:Ie(()=>Zd)},D4=Promise.resolve();let Zd=(()=>{class t extends pa{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new mt,this.form=new Y_({},$_(e),B_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){D4.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),A4(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){D4.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){D4.then(()=>{const i=this._findContainer(e.path),r=new Y_({});(function WI(t,n){q_(t,n)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){D4.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){D4.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function GI(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Bs,10),ve(Kd,10),ve(y0,8))};static#t=this.\u0275dir=ot({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ze("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[Mt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nn([Bce]),Ct]})}return t})();function YI(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function qI(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const X_=class extends G_{constructor(n=null,e,i){super(j_(e),W_(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=qI(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){YI(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){YI(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){qI(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Hce=X_,jce={provide:Wl,useExisting:Ie(()=>ro)},QI=Promise.resolve();let ro=(()=>{class t extends Wl{constructor(e,i,r,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new X_,this._registered=!1,this.name="",this.update=new mt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Q_(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Z_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){A4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){QI.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Ji(i);QI.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function xg(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||t)(ve(pa,9),ve(Bs,10),ve(Kd,10),ve(hs,10),ve(Si,8),ve(y0,8))};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Mt.None,"disabled","isDisabled"],model:[Mt.None,"ngModel","model"],options:[Mt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nn([jce]),Ct,si]})}return t})(),Sf=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Wce={provide:hs,useExisting:Ie(()=>I4),multi:!0};let I4=(()=>{class t extends b0{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&ze("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Nn([Wce]),Ct]})}return t})();const Gce={provide:hs,useExisting:Ie(()=>Ls),multi:!0};let Yce=(()=>{class t{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ls=(()=>{class t extends b0{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=$e(y0,{optional:!0})??L4}ngOnInit(){this._control=this._injector.get(Wl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ja),ve(Ht),ve(Yce),ve(io))};static#t=this.\u0275dir=ot({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&ze("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Nn([Gce]),Ct]})}return t})();const J_=new at(""),Kce={provide:Wl,useExisting:Ie(()=>Er)};let Er=(()=>{class t extends Wl{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new mt,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Q_(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Cg(i,this,!1),A4(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Z_(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Cg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||t)(ve(Bs,10),ve(Kd,10),ve(hs,10),ve(J_,8),ve(y0,8))};static#n=this.\u0275dir=ot({type:t,selectors:[["","formControl",""]],inputs:{form:[Mt.None,"formControl","form"],isDisabled:[Mt.None,"disabled","isDisabled"],model:[Mt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Nn([Kce]),Ct,si]})}return t})();const ele={provide:hs,useExisting:Ie(()=>Kc),multi:!0};function tk(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Kc=(()=>{class t extends b0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=tk(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function tle(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&ze("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nn([ele]),Ct]})}return t})(),B1=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(tk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Ja),ve(Kc,9))};static#t=this.\u0275dir=ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const nle={provide:hs,useExisting:Ie(()=>k4),multi:!0};function nk(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let k4=(()=>{class t extends b0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let c=0;c<s.length;c++){const C=this._getOptionValue(s[c].value);r.push(C)}}else{const s=i.options;for(let c=0;c<s.length;c++){const v=s[c];if(v.selected){const C=this._getOptionValue(v.value);r.push(C)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function ile(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&ze("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nn([nle]),Ct]})}return t})(),H1=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(nk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(nk(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Ja),ve(k4,9))};static#t=this.\u0275dir=ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();let w0=(()=>{class t{constructor(){this._validator=vg}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):vg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,features:[si]})}return t})();const sle={provide:Bs,useExisting:Ie(()=>Qd),multi:!0},ale={provide:Bs,useExisting:Ie(()=>ib),multi:!0};let Qd=(()=>{class t extends w0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ji,this.createValidator=e=>wI}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Ye("required",r._enabled?"":null)},inputs:{required:"required"},features:[Nn([sle]),Ct]})}return t})(),ib=(()=>{class t extends Qd{constructor(){super(...arguments),this.createValidator=e=>xI}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ye("required",r._enabled?"":null)},features:[Nn([ale]),Ct]})}return t})();const dle={provide:Bs,useExisting:Ie(()=>rb),multi:!0};let rb=(()=>{class t extends w0{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function ik(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>function SI(t){return n=>function _I(t){return null!=t&&"number"==typeof t.length}(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ye("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Nn([dle]),Ct]})}return t})(),dk=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),ob=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:y0,useValue:e.callSetDisabledState??L4}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[dk]})}return t})(),uk=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:J_,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:y0,useValue:e.callSetDisabledState??L4}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[dk]})}return t})();function cb(t,n){return function(e,i){n(e,i,t)}}function Wi(...t){return qc(t,S4(t))}function x0(...t){const n=S4(t),e=gg(t),{args:i,keys:r}=hI(t);if(0===i.length)return qc([],n);const o=new hn(function Ble(t,n,e=kt){return i=>{pk(n,()=>{const{length:r}=t,o=new Array(r);let s=r,c=r;for(let v=0;v<r;v++)pk(n,()=>{const C=qc(t[v],n);let N=!1;C.subscribe(new gi(i,G=>{o[v]=G,N||(N=!0,c--),c||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>mI(r,s):kt));return e?o.pipe(z_(e)):o}function pk(t,n,e){t?Vl(e,t,n):n()}function Tc(t,n=kt){return t=t??Hle,fi((e,i)=>{let r,o=!0;e.subscribe(new gi(i,s=>{const c=n(s);(o||!t(r,c))&&(o=!1,r=c,i.next(s))}))})}function Hle(t,n){return t===n}"function"==typeof SuppressedError&&SuppressedError;var mk=T(9363),gk=T(4272);const vk=["target"];function Ule(t,n){}function Vle(t,n){if(1&t&&Ve(0,"sf-form-element-action",3),2&t){const e=n.$implicit,i=oe(2);X("button",e)("formProperty",i.formProperty)}}function jle(t,n){if(1&t){const e=lt();ee(0,"div")(1,"sf-widget-chooser",1),ze("widgetInstanciated",function(r){return Se(e),Ee(oe().onWidgetInstanciated(r))}),ie(),Me(2,Vle,1,2,"sf-form-element-action",2),ie()}if(2&t){const e=oe();At("has-error",!e.control.valid)("has-success",e.control.valid),Q(),X("widgetInfo",e.formProperty.schema.widget),Q(),X("ngForOf",e.buttons)}}function Wle(t,n){if(1&t&&(ee(0,"label",5),ye(1),ie()),2&t){const e=oe();Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function Gle(t,n){if(1&t&&(ee(0,"span",6),ye(1),ie()),2&t){const e=oe();Q(),It(e.schema.description)}}function Yle(t,n){if(1&t){const e=lt();ee(0,"button",9),ze("click",function(){Se(e);const r=oe().$implicit;return Ee(oe().removeItem(r))}),Ve(1,"span",10),ye(2," Remove "),ie()}2&t&&X("disabled",oe(2).isRemoveButtonDisabled())}function qle(t,n){if(1&t&&(ee(0,"div"),Ve(1,"sf-form-element",7),Me(2,Yle,3,1,"button",8),ie()),2&t){const e=n.$implicit,i=oe();Q(),X("formProperty",e),Q(),X("ngIf",!(i.schema.hasOwnProperty("minItems")&&i.schema.hasOwnProperty("maxItems")&&i.schema.minItems===i.schema.maxItems))}}function Kle(t,n){if(1&t){const e=lt();ee(0,"button",11),ze("click",function(){return Se(e),Ee(oe().addItem())}),Ve(1,"span",12),ye(2," Add "),ie()}2&t&&X("disabled",oe().isAddButtonDisabled())}function Zle(t,n){if(1&t&&(ee(0,"label",4),ye(1),ie()),2&t){const e=oe();Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function Qle(t,n){if(1&t&&Ve(0,"input",8),2&t){const e=oe(2);X("formControl",e.control),Ye("name",e.name)}}function Xle(t,n){if(1&t&&(ee(0,"div",5)(1,"label",4),Ve(2,"input",6),Me(3,Qle,1,2,"input",7),ye(4),ie()()),2&t){const e=oe();Q(2),X("formControl",e.control)("indeterminate",!1!==e.control.value&&!0!==e.control.value||null)("disableControl",e.schema.readOnly),Ye("name",e.name)("id",e.id),Q(),X("ngIf",e.schema.readOnly),Q(),Qn(" ",e.schema.description," ")}}function Jle(t,n){if(1&t){const e=lt();ee(0,"div",5)(1,"label",4)(2,"input",10),ze("change",function(r){return Se(e),Ee(oe(2).onCheck(r.target))}),ie(),ye(3),ie()()}if(2&t){const e=n.$implicit,i=oe(2);Q(2),Ui("value",e.enum[0]),Ye("name",i.name)("disabled",i.schema.readOnly)("checked",!!i.checked[e.enum[0]]||null)("id",i.id+"."+e.enum[0]),Q(),Qn(" ",e.description," ")}}function e1e(t,n){if(1&t&&(Fn(0),Me(1,Jle,4,6,"div",9),Pn()),2&t){const e=oe();Q(),X("ngForOf",e.schema.items.oneOf)}}function t1e(t,n){if(1&t&&(ee(0,"label",5),ye(1),ie()),2&t){const e=oe();Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function n1e(t,n){if(1&t&&(ee(0,"span",6),ye(1),ie()),2&t){const e=oe();Q(),It(e.schema.description)}}function i1e(t,n){if(1&t&&Ve(0,"input",7),2&t){const e=oe();X("formControl",e.control),Ye("name",e.name)}}function r1e(t,n){if(1&t&&(ee(0,"label",4),ye(1),ie()),2&t){const e=oe();Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function o1e(t,n){if(1&t&&(ee(0,"span",5),ye(1),ie()),2&t){const e=oe();Q(),It(e.schema.description)}}function s1e(t,n){if(1&t&&(ee(0,"legend"),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.title)}}function a1e(t,n){if(1&t&&(ee(0,"div"),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.description)}}function c1e(t,n){if(1&t&&(ee(0,"div"),Ve(1,"sf-form-element",2),ie()),2&t){const e=n.$implicit,i=oe(2);Q(),X("formProperty",i.formProperty.getProperty(e))}}function l1e(t,n){if(1&t&&(ee(0,"fieldset"),Me(1,s1e,2,1,"legend",1)(2,a1e,2,1,"div",1)(3,c1e,2,1,"div",0),ie()),2&t){const e=n.$implicit;Q(),X("ngIf",e.title),Q(),X("ngIf",e.description),Q(),X("ngForOf",e.fields)}}function d1e(t,n){if(1&t&&(ee(0,"label"),ye(1),ie()),2&t){const e=oe();Q(),It(e.schema.title)}}function u1e(t,n){if(1&t&&(ee(0,"span",5),ye(1),ie()),2&t){const e=oe();Q(),It(e.schema.description)}}function f1e(t,n){if(1&t&&(ee(0,"div",6)(1,"label",7),Ve(2,"input",8),ye(3),ie()()),2&t){const e=n.$implicit,i=oe();Q(2),Ui("value",e.enum[0]),X("formControl",i.control)("disableControl",i.schema.readOnly||e.readOnly),Ye("name",i.name)("id",i.id+"."+e.enum[0]),Q(),Qn(" ",e.description," ")}}function h1e(t,n){if(1&t&&Ve(0,"input",9),2&t){const e=oe();X("formControl",e.control),Ye("name",e.name)}}function p1e(t,n){if(1&t&&(ee(0,"label",5),ye(1),ie()),2&t){const e=oe();Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function m1e(t,n){if(1&t&&(ee(0,"span",6),ye(1),ie()),2&t){const e=oe();Q(),It(e.schema.description)}}function g1e(t,n){1&t&&Ve(0,"input",7),2&t&&Ye("name",oe().name)}function v1e(t,n){if(1&t&&(ee(0,"label",7),ye(1),ie()),2&t){const e=oe();Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function _1e(t,n){if(1&t&&(ee(0,"span",8),ye(1),ie()),2&t){const e=oe();Q(),Qn(" ",e.schema.description," ")}}function b1e(t,n){if(1&t&&(ee(0,"option",12),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e.enum[0]),Q(),It(e.description)}}function y1e(t,n){if(1&t&&(Fn(0),Me(1,b1e,2,2,"option",11),Pn()),2&t){const e=oe(2);Q(),X("ngForOf",e.schema.oneOf)}}function w1e(t,n){if(1&t&&(ee(0,"option",12),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e),Q(),It(e)}}function x1e(t,n){1&t&&Me(0,w1e,2,2,"option",11),2&t&&X("ngForOf",oe(2).schema.enum)}function C1e(t,n){if(1&t&&(ee(0,"select",9),Me(1,y1e,2,1,"ng-container",10)(2,x1e,1,1,"ng-template",null,0,En),ie()),2&t){const e=Ut(3),i=oe();X("formControl",i.control)("disableControl",i.schema.readOnly),Ye("name",i.name)("id",i.id),Q(),X("ngIf",i.schema.oneOf)("ngIfElse",e)}}function M1e(t,n){if(1&t&&(ee(0,"option",15),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e.enum[0])("disabled",e.readOnly),Q(),It(e.description)}}function S1e(t,n){if(1&t&&(ee(0,"select",13),Me(1,M1e,2,3,"option",14),ie()),2&t){const e=oe();X("formControl",e.control)("disableControl",e.schema.readOnly),Ye("name",e.name)("id",e.id),Q(),X("ngForOf",e.schema.items.oneOf)}}function T1e(t,n){if(1&t&&Ve(0,"input",16),2&t){const e=oe();X("formControl",e.control),Ye("name",e.name)}}function E1e(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe();X("formControl",e.control),Ye("name",e.name)}}function L1e(t,n){if(1&t&&(ee(0,"label",8),ye(1),ie()),2&t){const e=oe(2);Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function A1e(t,n){if(1&t&&(ee(0,"span",9),ye(1),ie()),2&t){const e=oe(2);Q(),It(e.schema.description)}}function D1e(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe(2);X("formControl",e.control),Ye("name",e.name)}}function I1e(t,n){if(1&t&&(ee(0,"div",3),Me(1,L1e,2,2,"label",4)(2,A1e,2,1,"span",5),Ve(3,"input",6),Me(4,D1e,1,2,"input",7),ie()),2&t){const e=oe();Q(),X("ngIf",e.schema.title),Q(),X("ngIf",e.schema.description),Q(),X("name",e.name)("formControl",e.control)("disableControl",!("color"!=e.schema.widget.id||!e.schema.readOnly)||null),Ye("readonly",!("color"===e.schema.widget.id||!e.schema.readOnly)||null)("type",e.schema.widget.id&&"string"!==e.schema.widget.id?e.schema.widget.id:"text")("id",e.id)("placeholder",e.schema.placeholder)("maxLength",e.schema.maxLength||null)("minLength",e.schema.minLength||null)("required",e.schema.isRequired||null),Q(),X("ngIf","color"===e.schema.widget.id&&e.schema.readOnly)}}function k1e(t,n){if(1&t&&(ee(0,"label",4),ye(1),ie()),2&t){const e=oe();Ye("for",e.id),Q(),Qn(" ",e.schema.title," ")}}function O1e(t,n){if(1&t&&(ee(0,"span",5),ye(1),ie()),2&t){const e=oe();Q(),It(e.schema.description)}}function N1e(t,n){if(1&t&&(ee(0,"form"),Ve(1,"sf-form-element",1),ie()),2&t){const e=oe();Ye("name",e.rootProperty.rootName)("id",e.rootProperty.rootName),Q(),X("formProperty",e.rootProperty)}}class fb{constructor(){this.id="",this.name="",this.schema={}}}let U1=(()=>{class t extends fb{ngAfterViewInit(){const e=this.control;this.formProperty.valueChanges.subscribe(i=>{e.value!==i&&e.setValue(i,{emitEvent:!1})}),this.formProperty.errorsChanges.subscribe(i=>{e.setErrors(i,{emitEvent:!0});const r=(i||[]).filter(o=>o.path&&o.path.slice(1)===this.formProperty.path).map(o=>o.message);this.errorMessages=r.filter((o,s)=>r.indexOf(o)===s)}),e.valueChanges.subscribe(i=>{this.formProperty.setValue(i,!1)})}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,features:[Ct]})}return t})(),R1e=(()=>{class t extends fb{ngAfterViewInit(){const e=this.control;this.formProperty.errorsChanges.subscribe(i=>{e.setErrors(i,{emitEvent:!0})})}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,features:[Ct]})}return t})(),F1e=(()=>{class t extends fb{ngAfterViewInit(){const e=this.control;this.formProperty.errorsChanges.subscribe(i=>{e.setErrors(i,{emitEvent:!0})})}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,features:[Ct]})}return t})(),hb=(()=>{class t{constructor(){this.actions={}}clear(){this.actions={}}register(e,i){this.actions[e]=i}get(e){return this.actions[e]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),pb=(()=>{class t{constructor(){this.bindings=[]}clear(){this.bindings=[]}register(e,i){this.bindings[e]=[].concat(i)}get(e){return this.bindings[e]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const mb=new at("Logging level");let Tg=(()=>{let t=class{constructor(e){this.level=e,this.logLevel=3,this.logLevel=e}isWarnEnabled(){return 4===this.logLevel||1===this.logLevel}isErrorEnabled(){return 4===this.logLevel||2===this.logLevel}isLogEnabled(){return 4===this.logLevel||0===this.logLevel}};return t=function fk(t,n,e,i){var s,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,i);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(n,e,o):s(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o}([cb(0,wl()),cb(0,Nh(mb))],t),t})(),P1e=(()=>{class t extends Tg{constructor(e){super(e),this.logLevel=e,this.warn=this.isWarnEnabled()?console.warn:()=>{},this.error=this.isErrorEnabled()?console.error:()=>{},this.log=this.isLogEnabled()?console.log:()=>{},this.logLevel=e}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(mb,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();class Eg{constructor(){this.widgets={}}setDefaultWidget(n){this.defaultWidget=n}getDefaultWidget(){return this.defaultWidget}hasWidget(n){return this.widgets.hasOwnProperty(n)}register(n,e){this.widgets[n]=e}getWidgetType(n){return this.hasWidget(n)?this.widgets[n]:this.defaultWidget}}let gb=(()=>{class t{constructor(e,i){this.registry=e,this.resolver=i}createWidget(e,i){let r=this.registry.getWidgetType(i),o=this.resolver.resolveComponentFactory(r);return e.createComponent(o)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(Eg),Xe(Ud))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Lg=(()=>{class t{constructor(){this.onDestroy=new xt}destroy(){this.onDestroy.next(!0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),_k=(()=>{class t{constructor(e=null,i){this.widgetFactory=e,this.terminator=i}ngOnInit(){this.subs=this.terminator.onDestroy.subscribe(e=>{e&&this.ref.destroy()})}ngOnChanges(){this.ref=this.widgetFactory.createWidget(this.container,this.button.widget||"button"),this.ref.instance.button=this.button,this.ref.instance.formProperty=this.formProperty}ngOnDestroy(){this.subs.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(gb),ve(Lg))};static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-form-element-action"]],viewQuery:function(i,r){if(1&i&&Ln(vk,7,Vr),2&i){let o;Et(o=Lt())&&(r.container=o.first)}},inputs:{button:"button",formProperty:"formProperty"},features:[si],decls:2,vars:0,consts:[["target",""]],template:function(i,r){1&i&&Me(0,Ule,0,0,"ng-template",null,0,En)},encapsulation:2})}return t})(),bk=(()=>{class t{constructor(e=null,i,r){this.widgetFactory=e,this.cdr=i,this.terminator=r,this.widgetInstanciated=new mt}ngOnInit(){this.subs=this.terminator.onDestroy.subscribe(e=>{e&&this.ref.destroy()})}ngOnChanges(){this.ref=this.widgetFactory.createWidget(this.container,this.widgetInfo.id),this.widgetInstanciated.emit(this.ref.instance),this.widgetInstance=this.ref.instance,this.cdr.detectChanges()}ngOnDestroy(){this.subs?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(gb),ve(Si),ve(Lg))};static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-widget-chooser"]],viewQuery:function(i,r){if(1&i&&Ln(vk,7,Vr),2&i){let o;Et(o=Lt())&&(r.container=o.first)}},inputs:{widgetInfo:"widgetInfo"},outputs:{widgetInstanciated:"widgetInstanciated"},features:[si],decls:2,vars:0,consts:[["target",""]],template:function(i,r){1&i&&Ve(0,"div",null,0)},encapsulation:2})}return t})(),N4=(()=>{class t{static#e=this.counter=0;constructor(e,i,r,o,s){this.actionRegistry=e,this.bindingRegistry=i,this.renderer=r,this.elementRef=o,this.logger=s,this.control=new Hce("",()=>null),this.widget=null,this.buttons=[],this.unlisten=[]}ngOnInit(){this.parseButtons(),this.setupBindings()}setupBindings(){const e=this.bindingRegistry.get(this.formProperty.path);(e||[]).length&&e.forEach(i=>{for(const r in i)this.createBinding(r,i[r])})}createBinding(e,i){this.unlisten.push(this.renderer.listen(this.elementRef.nativeElement,e,r=>{const o=Array.isArray(i)?i:[i];for(const s of o)if(s instanceof Function)try{s(r,this.formProperty)}catch(c){this.logger.error(`Error calling bindings event listener for '${e}'`,c)}else this.logger.warn("Calling non function handler for eventId "+e+" for path "+this.formProperty.path)}))}parseButtons(){if(void 0!==this.formProperty.schema.buttons){this.buttons=this.formProperty.schema.buttons;for(let e of this.buttons)this.createButtonCallback(e)}}createButtonCallback(e){e.action=i=>{let r;e.id&&(r=this.actionRegistry.get(e.id))&&r&&r(this.formProperty,e.parameters),i.preventDefault()}}onWidgetInstanciated(e){this.widget=e;let i=this.formProperty.canonicalPathNotation||"field"+t.counter++;this.formProperty.root.rootName&&(i=`${this.formProperty.root.rootName}:${i}`),this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.name=i,this.widget.id=i,this.widget.control=this.control}ngOnDestroy(){this.unlisten&&this.unlisten.forEach(e=>{e()})}static#t=this.\u0275fac=function(i){return new(i||t)(ve(hb),ve(pb),ve(Ja),ve(Ht),ve(Tg))};static#n=this.\u0275cmp=rt({type:t,selectors:[["sf-form-element"]],inputs:{formProperty:"formProperty"},decls:1,vars:1,consts:[[3,"has-error","has-success",4,"ngIf"],[3,"widgetInstanciated","widgetInfo"],[3,"button","formProperty",4,"ngFor","ngForOf"],[3,"button","formProperty"]],template:function(i,r){1&i&&Me(0,jle,3,6,"div",0),2&i&&X("ngIf",r.formProperty.visible)},dependencies:[bi,yn,_k,bk],encapsulation:2})}return t})(),yk=(()=>{class t extends R1e{addItem(){this.formProperty.addItem(),this.updateButtonDisabledState()}removeItem(e){this.formProperty.removeItem(e),this.updateButtonDisabledState()}trackByIndex(e,i){return e}updateButtonDisabledState(){this.buttonDisabledAdd=this.isAddButtonDisabled(),this.buttonDisabledRemove=this.isRemoveButtonDisabled()}isAddButtonDisabled(){return!!(this.schema.hasOwnProperty("maxItems")&&Array.isArray(this.formProperty.properties)&&this.formProperty.properties.length>=this.schema.maxItems)}isRemoveButtonDisabled(){return!!(this.schema.hasOwnProperty("minItems")&&Array.isArray(this.formProperty.properties)&&this.formProperty.properties.length<=this.schema.minItems)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-array-widget"]],features:[Ct],decls:5,vars:4,consts:[[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","formHelp",4,"ngIf"],[4,"ngFor","ngForOf"],["class","btn btn-default array-add-button",3,"disabled","click",4,"ngIf"],[1,"horizontal","control-label"],[1,"formHelp"],[3,"formProperty"],["class","btn btn-default array-remove-button",3,"disabled","click",4,"ngIf"],[1,"btn","btn-default","array-remove-button",3,"click","disabled"],["aria-hidden","true",1,"glyphicon","glyphicon-minus"],[1,"btn","btn-default","array-add-button",3,"click","disabled"],["aria-hidden","true",1,"glyphicon","glyphicon-plus"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,Wle,2,2,"label",1)(2,Gle,2,1,"span",2)(3,qle,3,2,"div",3)(4,Kle,3,1,"button",4),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf",r.schema.description),Q(),X("ngForOf",r.formProperty.properties),Q(),X("ngIf",!(r.schema.hasOwnProperty("minItems")&&r.schema.hasOwnProperty("maxItems")&&r.schema.minItems===r.schema.maxItems)))},dependencies:[bi,yn,N4],encapsulation:2})}return t})(),R4=(()=>{class t{set disableControl(e){this.ngControl.control[e?"disable":"enable"]()}constructor(e){this.ngControl=e}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Wl))};static#t=this.\u0275dir=ot({type:t,selectors:[["","disableControl",""]],inputs:{disableControl:"disableControl"}})}return t})(),Ag=(()=>{class t extends U1{constructor(){super(...arguments),this.checked={}}ngAfterViewInit(){const e=this.control;this.formProperty.valueChanges.subscribe(i=>{e.value!==i&&(e.setValue(i,{emitEvent:!1}),i&&Array.isArray(i)&&i.map(r=>this.checked[r]=!0))}),this.formProperty.errorsChanges.subscribe(i=>{e.setErrors(i,{emitEvent:!0})}),e.valueChanges.subscribe(i=>{this.formProperty.setValue(i,!1)})}onCheck(e){e.checked?this.checked[e.value]=!0:delete this.checked[e.value],this.formProperty.setValue(Object.keys(this.checked),!1)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-checkbox-widget"]],features:[Ct],decls:4,vars:3,consts:[[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","checkbox",4,"ngIf"],[4,"ngIf"],[1,"horizontal","control-label"],[1,"checkbox"],["type","checkbox",3,"formControl","indeterminate","disableControl"],["type","hidden",3,"formControl",4,"ngIf"],["type","hidden",3,"formControl"],["class","checkbox",4,"ngFor","ngForOf"],["type","checkbox",3,"change","value"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,Zle,2,2,"label",1)(2,Xle,5,7,"div",2)(3,e1e,2,1,"ng-container",3),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf","array"!=r.schema.type),Q(),X("ngIf","array"===r.schema.type))},dependencies:[bi,yn,di,jl,ei,Er,R4],encapsulation:2})}return t})(),z1e=(()=>{class t extends U1{constructor(){super(),this.reader=new FileReader,this.filedata={}}ngAfterViewInit(){const e=this.control;this.formProperty.errorsChanges.subscribe(i=>{e.setErrors(i,{emitEvent:!0})}),this.reader.onloadend=()=>{this.filedata.data=window.btoa(this.reader.result),this.formProperty.setValue(this.filedata,!1)}}onFileChange(e){const i=e.target.files[0];this.filedata.filename=i.name,this.filedata.size=i.size,this.filedata["content-type"]=i.type,this.filedata.encoding="base64",this.reader.readAsBinaryString(i)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-file-widget"]],features:[Ct],decls:5,vars:7,consts:[[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","formHelp",4,"ngIf"],["type","file",1,"text-widget","file-widget",3,"change","name","formControl"],["type","hidden",3,"formControl",4,"ngIf"],[1,"horizontal","control-label"],[1,"formHelp"],["type","hidden",3,"formControl"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,t1e,2,2,"label",1)(2,n1e,2,1,"span",2),ee(3,"input",3),ze("change",function(s){return r.onFileChange(s)}),ie(),Me(4,i1e,1,2,"input",4),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf",r.schema.description),Q(),X("name",r.name)("formControl",r.control),Ye("id",r.id)("disabled",!!r.schema.readOnly||null),Q(),X("ngIf",r.schema.readOnly))},dependencies:[yn,di,ei,Er],encapsulation:2})}return t})(),wk=(()=>{class t extends U1{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-integer-widget"]],features:[Ct],decls:4,vars:12,consts:[[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","formHelp",4,"ngIf"],[1,"text-widget","integer-widget","form-control",3,"formControl"],[1,"horizontal","control-label"],[1,"formHelp"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,r1e,2,2,"label",1)(2,o1e,2,1,"span",2),Ve(3,"input",3),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf",r.schema.description),Q(),X("formControl",r.control),Ye("readonly",!!r.schema.readOnly||null)("name",r.name)("id",r.id)("type","number")("min",r.schema.minimum)("max",r.schema.maximum)("placeholder",r.schema.placeholder)("maxLength",r.schema.maxLength||null)("minLength",r.schema.minLength||null))},dependencies:[yn,di,ei,Er],encapsulation:2})}return t})(),vb=(()=>{class t extends F1e{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-form-object"]],features:[Ct],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"formProperty"]],template:function(i,r){1&i&&Me(0,l1e,4,3,"fieldset",0),2&i&&X("ngForOf",r.formProperty.schema.fieldsets)},dependencies:[bi,yn,N4],encapsulation:2})}return t})(),$1e=(()=>{class t extends U1{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-radio-widget"]],features:[Ct],decls:5,vars:4,consts:[[1,"widget","form-group"],[4,"ngIf"],["class","formHelp",4,"ngIf"],["class","radio",4,"ngFor","ngForOf"],["type","hidden",3,"formControl",4,"ngIf"],[1,"formHelp"],[1,"radio"],[1,"horizontal","control-label"],["type","radio",3,"formControl","value","disableControl"],["type","hidden",3,"formControl"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,d1e,2,1,"label",1)(2,u1e,2,1,"span",2)(3,f1e,4,6,"div",3)(4,h1e,1,2,"input",4),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf",r.schema.description),Q(),X("ngForOf",r.schema.oneOf),Q(),X("ngIf",r.schema.readOnly))},dependencies:[bi,yn,di,Ls,ei,Er,R4],encapsulation:2})}return t})(),B1e=(()=>{class t extends U1{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-range-widget"]],features:[Ct],decls:5,vars:10,consts:[[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","formHelp",4,"ngIf"],[1,"text-widget","range-widget",3,"name","formControl","disableControl"],["type","hidden",4,"ngIf"],[1,"horizontal","control-label"],[1,"formHelp"],["type","hidden"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,p1e,2,2,"label",1)(2,m1e,2,1,"span",2),Ve(3,"input",3),Me(4,g1e,1,1,"input",4),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf",r.schema.description),Q(),X("name",r.name)("formControl",r.control)("disableControl",!!r.schema.readOnly||null),Ye("id",r.id)("type","range")("min",r.schema.minimum)("max",r.schema.maximum),Q(),X("ngIf",r.schema.readOnly))},dependencies:[yn,di,ei,Er,R4],encapsulation:2})}return t})(),H1e=(()=>{class t extends U1{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-select-widget"]],features:[Ct],decls:6,vars:5,consts:[["use_enum",""],[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","formHelp",4,"ngIf"],["class","form-control",3,"formControl","disableControl",4,"ngIf"],["multiple","","class","form-control",3,"formControl","disableControl",4,"ngIf"],["type","hidden",3,"formControl",4,"ngIf"],[1,"horizontal","control-label"],[1,"formHelp"],[1,"form-control",3,"formControl","disableControl"],[4,"ngIf","ngIfElse"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["multiple","",1,"form-control",3,"formControl","disableControl"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[3,"ngValue","disabled"],["type","hidden",3,"formControl"]],template:function(i,r){1&i&&(ee(0,"div",1),Me(1,v1e,2,2,"label",2)(2,_1e,2,1,"span",3)(3,C1e,4,6,"select",4)(4,S1e,2,5,"select",5)(5,T1e,1,2,"input",6),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf",r.schema.description),Q(),X("ngIf","array"!=r.schema.type),Q(),X("ngIf","array"===r.schema.type),Q(),X("ngIf",r.schema.readOnly))},dependencies:[bi,yn,B1,H1,di,Kc,k4,ei,Er,R4],encapsulation:2})}return t})(),Zc=(()=>{class t extends U1{getInputType(){return this.schema.widget.id&&"string"!==this.schema.widget.id?this.schema.widget.id:"text"}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-string-widget"]],features:[Ct],decls:3,vars:2,consts:[["notHiddenFieldBlock",""],["type","hidden",3,"formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"formControl"],[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","formHelp",4,"ngIf"],[1,"text-widget.id","textline-widget","form-control",3,"name","formControl","disableControl"],["type","hidden",3,"formControl",4,"ngIf"],[1,"horizontal","control-label"],[1,"formHelp"]],template:function(i,r){if(1&i&&Me(0,E1e,1,2,"input",1)(1,I1e,5,13,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[yn,di,ei,Er,R4],encapsulation:2})}return t})(),U1e=(()=>{class t extends U1{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-textarea-widget"]],features:[Ct],decls:4,vars:9,consts:[[1,"widget","form-group"],["class","horizontal control-label",4,"ngIf"],["class","formHelp",4,"ngIf"],[1,"text-widget","textarea-widget","form-control",3,"readonly","name","formControl"],[1,"horizontal","control-label"],[1,"formHelp"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,k1e,2,2,"label",1)(2,O1e,2,1,"span",2),Ve(3,"textarea",3),ie()),2&i&&(Q(),X("ngIf",r.schema.title),Q(),X("ngIf",r.schema.description),Q(),X("readonly",r.schema.readOnly)("name",r.name)("formControl",r.control),Ye("id",r.id)("placeholder",r.schema.placeholder)("maxLength",r.schema.maxLength||null)("minLength",r.schema.minLength||null))},dependencies:[yn,di,ei,Er],encapsulation:2})}return t})(),V1e=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-button-widget"]],decls:2,vars:1,consts:[[3,"click"]],template:function(i,r){1&i&&(ee(0,"button",0),ze("click",function(s){return r.button.action(s)}),ye(1),ie()),2&i&&(Q(),It(r.button.label))},encapsulation:2})}return t})(),xk=(()=>{class t extends Eg{constructor(){super(),this.register("array",yk),this.register("object",vb),this.register("string",Zc),this.register("search",Zc),this.register("tel",Zc),this.register("url",Zc),this.register("email",Zc),this.register("password",Zc),this.register("color",Zc),this.register("date",Zc),this.register("date-time",Zc),this.register("time",Zc),this.register("integer",wk),this.register("number",wk),this.register("range",B1e),this.register("textarea",U1e),this.register("file",z1e),this.register("select",H1e),this.register("radio",$1e),this.register("boolean",Ag),this.register("checkbox",Ag),this.register("button",V1e),this.setDefaultWidget(Zc)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();var Xo=function(t){return t.String="string",t.Object="object",t.Array="array",t.Boolean="boolean",t.Integer="integer",t.Number="number",t.Null="null",t}(Xo||{});function W1e(t){for(var n in t)return!0;return!1}class Dg{get _canonicalPath(){return this.__canonicalPath}set _canonicalPath(n){this.__canonicalPath=n,this.__canonicalPathNotation=(this.__canonicalPath||"").replace(new RegExp("^/","ig"),"").replace(new RegExp("/$","ig"),"").replace(new RegExp("/","ig"),".")}get canonicalPathNotation(){return this.__canonicalPathNotation}get rootName(){return this._rootName}constructor(n,e,i,r,o,s,c){this.validatorRegistry=e,this.schema=r,this.logger=c,this._value=null,this._errors=null,this._valueChanges=new ur(null),this._errorsChanges=new ur(null),this._visible=!0,this._visibilityChanges=new ur(!0),this.schemaValidator=n.createValidatorFn(this.schema),this.expressionCompilerVisibiltyIf=i.createExpressionCompilerVisibilityIf(),this._parent=o,o?this._root=o.root:this instanceof Xd&&(this._root=this,this._rootName=this.createRootName()),this._path=s}createRootName(){return this.schema&&this.schema.name?this._rootName=this.schema.name.replace(new RegExp("[\\s]+","ig"),"_"):""}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get isNullableType(){return Array.isArray(this.schema.type)&&this.schema.type.some(n=>n===Xo.Null)}get parent(){return this._parent}get root(){return this._root||this}get path(){return this._path}get value(){return this._value}get visible(){return this._visible}get valid(){return null===this._errors}updateValueAndValidity(n=!1,e=!0){this._updateValue(),e&&this.valueChanges.next(this.value),this._runValidation(),this.parent&&!n&&this.parent.updateValueAndValidity(n,e)}_runValidation(){let n=this.schemaValidator(this._value)||[],e=this.validatorRegistry.get(this.path);if(e){let i=e(this.value,this,this.findRoot());n=this.mergeErrors(n,i)}0===n.length&&(n=null),this._errors=n,this.setErrors(this._errors)}mergeErrors(n,e){return e&&(Array.isArray(e)?n=n.concat(...e):n.push(e)),n}setErrors(n){this._errors=n,this._errorsChanges.next(n)}extendErrors(n){n=this.mergeErrors(this._errors||[],n),this.setErrors(n)}searchProperty(n){let e=this,i=null,r=null;if("/"===n[0])i=this.findRoot(),r=i.getProperty(n.substr(1));else for(;null===r&&null!==e.parent;)e=i=e.parent,r=i.getProperty(n);return r}findRoot(){let n=this;for(;null!==n.parent;)n=n.parent;return n}setVisible(n){this._visible=n,this._visibilityChanges.next(n),this.updateValueAndValidity()}__evaluateVisibilityIf(n,e,i,r="",o){try{let s=!1;const c=Array.isArray(o)?o:[o];for(const v of c){if("boolean"==typeof v)s=v?r:!r;else if("number"==typeof v)s=!(!r&&0!=r)&&`${v}`==`${r}`;else if(-1!==`${v}`.indexOf("$ANY$"))Array.isArray(r)?s=r.length>0:"number"==typeof r||"boolean"==typeof r?s=!0:"string"==typeof r?s=""!==r:"object"==typeof r&&(s=!W1e(r));else if(0===`${v}`.indexOf("$EXP$")){const C=v.substring(5);s=!0===this.expressionCompilerVisibiltyIf.evaluate(C,{source:n,target:e})}else s=Array.isArray(r)?r.some(C=>`${C}`==`${v}`):!!r&&`${v}`==`${r}`;if(s)break}return s}catch(s){this.logger.error('Error processing "VisibileIf" expression for path: ',i,`source - ${n?n._canonicalPath:"<no-sourceProperty>"}: `,n,`target - ${e?e._canonicalPath:"<no-targetProperty>"}: `,e,"value:",r,"expression: ",o,"error: ",s)}}__bindVisibility_oneOf_or_allOf(){const n=this.schema.visibleIf;let e;return n&&(n.oneOf?e=n.oneOf:n.allOf&&(e=n.allOf)),!(!n||!e||(this.__bindConditionalVisiblityChain(e,!!n.oneOf,!!n.allOf).pipe(Tc()).subscribe(r=>{this.setVisible(r)}),0))}__bindConditionalVisiblityChain(n,e,i){const r=[];if(!e&&!i){const s=n.hasOwnProperty("oneOf"),c=n.hasOwnProperty("allOf");let v=null;return s?v=n.oneOf:c&&(v=n.allOf),v?0==v.length?Wi(!1):this.__bindConditionalVisiblityChain(v,s,c):x0(this.__handleDependencyPath(n),(...N)=>-1!==N.indexOf(!0))}for(const s of n)r.push(this.__bindConditionalVisiblityChain(s,!1,!1));let o;return i?o=x0(r,(...s)=>-1===s.indexOf(!1)):e&&(o=x0(r,(...s)=>-1!==s.indexOf(!0))),o}__handleDependencyPath(n){const e=Object.keys(n)[0],i=[],r=this.findProperties(this,e);if((r||[]).length){for(const o of r)if(o){let s;s=o.valueChanges.pipe(Mn(N=>!!this.__evaluateVisibilityIf(this,o,e,N,n[e])));const C=x0([s,o._visibilityChanges],(N,G)=>N&&G);i.push(C)}return i}return this.logger.warn("Can't find property "+e+" for visibility check of "+this.path),this.registerMissingVisibilityBinding(e,this),[Wi(!1)]}_bindVisibility(){if(this.__bindVisibility_oneOf_or_allOf())return;let n=this.schema.visibleIf;if("object"==typeof n&&0===Object.keys(n).length)this.setVisible(!1);else if(void 0!==n){let e=[];for(let i in n)if(n.hasOwnProperty(i)){const r=this.findProperties(this,i);if((r||[]).length){for(const o of r)if(o){const v=x0([o.valueChanges.pipe(Mn(C=>this.__evaluateVisibilityIf(this,o,i,C,n[i]))),o._visibilityChanges],(C,N)=>C&&N);e.push(v)}}else this.logger.warn("Can't find property "+i+" for visibility check of "+this.path),this.registerMissingVisibilityBinding(i,this),this.setVisible(!1)}x0(e,(...i)=>-1!==i.indexOf(!0)).pipe(Tc()).subscribe(i=>{this.setVisible(i)})}}registerMissingVisibilityBinding(n,e){e._propertyBindingRegistry.getPropertyBindingsVisibility().add(n,e.path)}findProperties(n,e){const i=[],r=this.findPropertyPaths(n,e);for(const o of r){const s=n.searchProperty(o);s&&i.push(s)}return i}findPropertyPaths(n,e,i){const r=e.indexOf("*");if(-1!==r){const o=r>-1?e.substring(0,r-1):e,s=r>-1?e.substring(r+1):e,c=n.searchProperty(o);let v=[];if(c instanceof Xd){const C=c.properties;for(let N=0;N<C.length;N++){const G=(i||"")+o+(o.endsWith("/")?"":"/")+N+s,se=(i||"")+o+N;-1===G.indexOf("*")&&v.push(G);const le=this.findPropertyPaths(C[N],s,se);v=v.concat(le)}}return v}return[e]}}class Xd extends Dg{constructor(){super(...arguments),this._properties=null,this._propertyProxyHandler=new G1e(this.logger)}get properties(){return this._properties}set properties(n){this._properties=new Proxy(n,this._propertyProxyHandler)}getProperty(n){let e=n.indexOf("/"),i=-1!==e?n.substr(0,e):n,r=this.properties[i];if(null!==r&&-1!==e&&r instanceof Xd){let o=n.substr(e+1);r=r.getProperty(o)}return r}forEachChild(n){for(let e in this.properties)this.properties.hasOwnProperty(e)&&n(this.properties[e],e)}forEachChildRecursive(n){this.forEachChild(e=>{n(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(n=>{n._bindVisibility()})}isRoot(){return this===this.root}}class G1e{constructor(n){this.logger=n}set(n,e,i,r){const{property:s,children:c}=(N=>{const G=N;Array.isArray(n)&&N instanceof Dg&&G&&(G._canonicalPath=((Le,Be)=>{let Pe;if(Le&&-1!==(Pe=Le.lastIndexOf("*")))return Le.substring(0,Pe)+Be.toString()+Le.substring(Pe+1)})(G._canonicalPath,e));const se=we=>{if(!(we instanceof Xd))return;const Le=we,Be=Array.isArray(Le.properties)?Le.properties:Object.values(Le.properties||{});if(Be.length||(we.path||"").endsWith("/*"))for(const Pe of Be){if(Pe.__canonicalPath.indexOf("*")){const Je=we._canonicalPath.split("/");Pe._canonicalPath=Je.concat(Pe._canonicalPath.split("/").splice(Je.length)).join("/")}se(Pe)}};se(G);const le=G;return{property:G,children:Array.isArray(le.properties)?le.properties:Object.values(le.properties||{})}})(i),v=n[e]=i;return(()=>{const N=[s].concat(c),G=se=>{const le=se._propertyBindingRegistry.getPropertyBindingsVisibility();let pe=[];se._canonicalPath&&(pe=pe.concat(pe.concat(le.findByDependencyPath(se._canonicalPath)||[])),se._canonicalPath.startsWith("/")&&(pe=pe.concat(pe.concat(le.findByDependencyPath(se._canonicalPath.substring(1))||[])))),pe=pe.concat(le.findByDependencyPath(se.path)||[]),se.path.startsWith("/")&&(pe=pe.concat(pe.concat(le.findByDependencyPath(se.path.substring(1))||[])));const we={};for(const Le of pe)we[Le]=Le;return Object.keys(we)};for(const se of N)if(se instanceof Dg)try{const le=G(se);for(const pe of le){const we=se.searchProperty(pe);we?we._bindVisibility():this.logger.warn("Can't find property to rebind visibility at path:",se.path,"property:",se)}}catch(le){this.logger.error("Rebinding visibility error at path:",se.path,"property:",se,le)}})(),v}get(n,e,i){return n[e]}deleteProperty(n,e){return delete n[e]}}const Qc={};class F4 extends Dg{setValue(n,e=!1){this._value=n,this.updateValueAndValidity(e,!0)}reset(n=null,e=!0){this.resetValue(n),this.updateValueAndValidity(e,!0)}resetValue(n){null===n&&(n=void 0!==this.schema.default?this.schema.default:this.fallbackValue()),this._value=n}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}}class _b extends F4{static getType(n){let e;return null===n?e=Xo.Null:Array.isArray(n)?e=Xo.Array:"object"==typeof n?e=Xo.Object:"string"==typeof n?e=Xo.String:"number"==typeof n?e=Xo.Number:"boolean"==typeof n&&(e=Xo.Boolean),e}constructor(n,e,i,r,o,s,c){super(n,e,i,{type:_b.getType(c)},r,o,s)}fallbackValue(){return null}}class bb{constructor(n,e,i,r,o){this.schemaValidatorFactory=n,this.validatorRegistry=e,this.propertyBindingRegistry=i,this.expressionCompilerFactory=r,this.logger=o}createProperty(n,e=null,i=null,r,o=!1){let s=null,c="",v="";if(e){if(c+=e.path,null!==e.parent&&(c+="/",v+="/"),"object"===e.type)c+=i,v+=i;else{if("array"!==e.type)throw new Error("Instanciation of a FormProperty with an unknown parent type: "+e.type);c+="*",v+="*"}v=(e._canonicalPath||e.path)+v}else c="/",v="/";if(o)s=new _b(this.schemaValidatorFactory,this.validatorRegistry,this.expressionCompilerFactory,e,c,this.logger,r);else if(n.$ref){const C=this.schemaValidatorFactory.getSchema(e.root.schema,n.$ref);s=this.createProperty(C,e,c,r)}else{const C=this.isUnionType(n.type)&&this.isValidNullableUnionType(n.type)?this.extractTypeFromNullableUnionType(n.type):n.type;if(!Qc[C])throw new TypeError(`Undefined type ${C} (existing: ${Object.keys(Qc)})`);s="object"===C||"array"===C?Qc[C](this.schemaValidatorFactory,this.validatorRegistry,this.expressionCompilerFactory,n,e,c,this,this.logger,r):Qc[C](this.schemaValidatorFactory,this.validatorRegistry,this.expressionCompilerFactory,n,e,c,this.logger)}return s._propertyBindingRegistry=this.propertyBindingRegistry,s._canonicalPath=v,s instanceof Xd&&(s.reset(null,!0),s._bindVisibility()),s}isUnionType(n){return Array.isArray(n)&&n.length>1}isValidNullableUnionType(n){if(!n.some(i=>i===Xo.Null))throw new TypeError(`Unsupported union type ${n}. Supports only nullable union types, for example ["string", "null"]`);if(2!==n.length)throw new TypeError(`Unsupported count of types in nullable union type ${n}. Supports only two types one of the which should be "null"`);const e=this.extractTypeFromNullableUnionType(n);if(!e||[Xo.Object,Xo.Array].includes(e))throw new TypeError(`Unsupported second type ${e} for nullable union. Allowed types are "${Xo.Number}", "${Xo.Integer}", "${Xo.Boolean}", "${Xo.String}"`);return!0}extractTypeFromNullableUnionType(n){return n.filter(e=>"null"!==e)?.[0]}}class Y1e extends Xd{constructor(n,e,i,r,o,s,c,v,C){super(e,i,r,o,s,c,v),this.formPropertyFactory=n,this.propertiesId=[],c.match(/\/(extension|modifierExtension)\/\*$/)?this.createPropertiesExtension(C):this.createProperties()}setValue(n,e){for(const i in n)if(n.hasOwnProperty(i)){if(!this.properties[i]){const r=this.schema.properties[i];r?this.properties[i]=this.formPropertyFactory.createProperty(r,this,i,n[i]):this.schema.additionalProperties&&(this.properties[i]=this.formPropertyFactory.createProperty(r,this,i,n[i],!0)),this.propertiesId.push(i)}this.properties[i].setValue(n[i],!0)}this.updateValueAndValidity(e,!0)}reset(n,e=!0){this.resetProperties(n=n||this.schema.default||{}),this.updateValueAndValidity(e,!0)}resetProperties(n){const e=this.schema?.properties?Object.keys(this.schema.properties):[];for(const i of e)this.properties[i]&&this.schema.properties.hasOwnProperty(i)&&this.properties[i].reset(n[i],!0);if(this.schema?.additionalProperties){const i=Object.keys(n).filter(r=>!e.includes(r));for(const r of i){let o=this.properties[r];o||(o=this.formPropertyFactory.createProperty({},this,r,n[r],!0),this.properties[r]=o),o.reset(n[r])}}}createProperties(){this.properties={},this.propertiesId=[];for(const n in this.schema.properties)this.schema.properties.hasOwnProperty(n)&&(this.properties[n]=this.formPropertyFactory.createProperty(this.schema.properties[n],this,n),this.propertiesId.push(n))}createPropertiesExtension(n){this.properties={},this.propertiesId=[];const e=n?Object.keys(n):this.schema.properties?Object.keys(this.schema.properties):[];for(const i of e)if(this.schema.properties.hasOwnProperty(i)||this.schema.additionalProperties){const r=this.schema.properties[i];this.properties[i]=r?this.formPropertyFactory.createProperty(r,this,i,n?n[i]:null):this.formPropertyFactory.createProperty(r,this,i,n?n[i]:null,!0),this.propertiesId.push(i)}}_hasValue(){return!!Object.keys(this.value).length}_updateValue(){this.reduceValue()}_runValidation(){super._runValidation(),this._errors&&this._errors.forEach(n=>{const e=this.searchProperty(n.path.slice(1));e&&e.extendErrors(n)})}reduceValue(){const n={};this.forEachChild((e,i)=>{e.visible&&e._hasValue()&&(n[i]=e.value)}),this._value=n}}Qc.object=(t,n,e,i,r,o,s,c,v)=>new Y1e(s,t,n,e,i,r,o,c,v);class q1e extends Xd{constructor(n,e,i,r,o,s,c,v){super(e,i,r,o,s,c,v),this.formPropertyFactory=n}addItem(n=null){return this.addProperty(n)}addProperty(n){let e=this.schema.items;if(Array.isArray(e))if(e.length>this.properties.length)e=e[this.properties.length];else{if(!this.schema.additionalItems)return null;e=this.schema.additionalItems}const i=this.formPropertyFactory.createProperty(e,this,null,n);return this.properties.push(i),i.reset(n,!1),i}removeItem(n){this.properties=this.properties.filter(e=>e!==n),this.updateValueAndValidity(!1,!0)}setValue(n,e){this.createProperties(),this.resetProperties(n),this.updateValueAndValidity(e,!0)}_hasValue(){return!0}_updateValue(){this.reduceValue()}reduceValue(){const n=[];this.forEachChild((e,i)=>{e.visible&&e._hasValue()&&n.push(e.value)}),this._value=n}reset(n,e=!0){n=n||this.schema.default||[],this.properties=[],this.resetProperties(n),this.updateValueAndValidity(e,!0)}createProperties(){this.properties=[]}resetProperties(n){for(const e in n)n.hasOwnProperty(e)&&this.addProperty(n[e]).reset(n[e],!0)}}Qc.array=(t,n,e,i,r,o,s,c)=>new q1e(s,t,n,e,i,r,o,c);class K1e extends F4{fallbackValue(){return this.isNullableType?null:""}}Qc.string=(t,n,e,i,r,o,s)=>new K1e(t,n,e,i,r,o,s);class Z1e extends F4{fallbackValue(){return null}}Qc.boolean=(t,n,e,i,r,o,s)=>new Z1e(t,n,e,i,r,o,s);class Ck extends F4{fallbackValue(){return null}setValue(n,e=!1){"string"==typeof n&&(n=n.length?n.indexOf(".")>-1?parseFloat(n):parseInt(n,10):null),this._value=n,this.updateValueAndValidity(e,!0)}}Qc.integer=(t,n,e,i,r,o,s)=>new Ck(t,n,e,i,r,o,s),Qc.number=(t,n,e,i,r,o,s)=>new Ck(t,n,e,i,r,o,s);class Q1e extends F4{fallbackValue(){return null}}Qc.null=(t,n,e,i,r,o,s)=>new Q1e(t,n,e,i,r,o,s);let yb=(()=>{class t{constructor(){this.validators=[]}register(e,i){this.validators[e]=i}get(e){return this.validators[e]}clear(){this.validators=[]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();function Mk(t,n){return`Parsing error on ${n}: ${t}`}function wb(t,n){let e=Mk(t,n);throw new Error(e)}function xb(t,n){let e=Mk(t,n);throw new Error(e)}let Sk=(()=>{class t{static preprocess(e,i="/"){t.normalizeExtensions(e=e||{}),"object"===e.type?(t.checkProperties(e,i),t.checkAndCreateFieldsets(e,i)):"array"===e.type&&t.checkItems(e,i),t.normalizeWidget(e),t.recursiveCheck(e,i)}static checkProperties(e,i){(function j1e(t){return null==t})(e.properties)&&(e.properties={},xb("Provided json schema does not contain a 'properties' entry. Output schema will be empty",i))}static checkAndCreateFieldsets(e,i){void 0===e.fieldsets&&(void 0!==e.order?t.replaceOrderByFieldsets(e):t.createFieldsets(e)),t.checkFieldsUsage(e,i)}static checkFieldsUsage(e,i){let r=Object.keys(e.properties),o={};for(let s of e.fieldsets)for(let c of s.fields)void 0===o[c]&&(o[c]=[]),o[c].push(s.id);for(const s of r){const c=e.required&&e.required.indexOf(s)>-1;c&&e.properties[s]&&(e.properties[s].isRequired=!0),o.hasOwnProperty(s)?(o[s].length>1&&wb(`${s} is referenced by more than one fieldset: ${o[s]}`,i),delete o[s]):c?wb(`${s} is a required field but it is not referenced as part of a 'order' or a 'fieldset' property`,i):(delete e[s],xb(`Removing unreferenced field ${s}`,i))}for(let s in o)o.hasOwnProperty(s)&&xb(`Referencing non-existent field ${s} in one or more fieldsets`,i)}static createFieldsets(e){e.order=Object.keys(e.properties),t.replaceOrderByFieldsets(e)}static replaceOrderByFieldsets(e){e.fieldsets=[{id:"fieldset-default",title:e.title||"",description:e.description||"",name:e.name||"",fields:e.order}],delete e.order}static normalizeWidget(e){let i=e.widget;void 0===i?i={id:e.type}:"string"==typeof i&&(i={id:i}),e.widget=i}static checkItems(e,i){void 0===e.items&&wb("No 'items' property in array",i)}static recursiveCheck(e,i){if(e.type===Xo.Object){for(let r in e.properties)e.properties.hasOwnProperty(r)&&t.preprocess(e.properties[r],i+r+"/");if(e.hasOwnProperty("definitions"))for(let r in e.definitions)if(e.definitions.hasOwnProperty(r)){let o=e.definitions[r];t.removeRecursiveRefProperties(o,`#/definitions/${r}`),t.preprocess(o,i+r+"/")}}else if("array"===e.type){if(Array.isArray(e.items||{}))for(let r=0;r<e.items.length;r++)t.preprocess(e.items[r],i+"*/");else t.preprocess(e.items,i+"*/");e.additionalItems&&t.preprocess(e.additionalItems,i+"*/")}}static removeRecursiveRefProperties(e,i){if(e.type===Xo.Object)for(let r in e.properties)e.properties.hasOwnProperty(r)&&(e.properties[r].$ref&&e.properties[r].$ref===i?delete e.properties[r]:"object"===e.properties[r].type&&t.removeRecursiveRefProperties(e.properties[r],i))}static normalizeExtensions(e){const i=[{name:"fieldsets",regex:/^x-?field-?sets$/i},{name:"widget",regex:/^x-?widget$/i},{name:"visibleIf",regex:/^x-?visible-?if$/i}],r=Object.keys(e);for(let o=0;o<r.length;++o){let s=r[o],c=i.find(v=>!!s.match(v.regex));if(c){let C=JSON.parse(JSON.stringify(e[s]));e[c.name]=C}}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();class Cb{reset(){}compile(n){return n}}let J1e=(()=>{class t extends Cb{constructor(){super(),this.createSchemaValidator()}createSchemaValidator(){this.zschema=new mk({breakOnFirstError:!1})}reset(){this.createSchemaValidator()}compile(e){const i=new mk({});return i.compileSchema(e),i.getResolvedSchema(e)}createValidatorFn(e){return i=>{(e.type===Xo.Number||e.type===Xo.Integer)&&(i=+i),this.zschema.validate(i,e);let r=this.zschema.getLastErrors();return this.denormalizeRequiredPropertyPaths(r),r||null}}getSchema(e,i){if(this.zschema.compileSchema(e))return this.getDefinition(e,i);throw this.zschema.getLastError()}denormalizeRequiredPropertyPaths(e){e&&e.length&&(e=e.map(i=>("#/"===i.path&&"OBJECT_MISSING_REQUIRED_PROPERTY"===i.code&&(i.path=`${i.path}${i.params[0]}`),i)))}getDefinition(e,i){let r=e;return i.split("/").slice(1).forEach(o=>{o&&(r=r[o])}),r}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Tk=(()=>{class t{constructor(){this.bindings={}}getPropertyBindings(e){return this.bindings[e]=this.bindings[e]||new ede,this.bindings[e]}getPropertyBindingsVisibility(){return this.getPropertyBindings(Ek.visibility)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();var Ek=function(t){return t[t.visibility=0]="visibility",t}(Ek||{});class ede{constructor(){this.sourcesIndex=new Lk,this.dependenciesIndex=new Lk}add(n,e){this.sourcesIndex.store(e,n),this.dependenciesIndex.store(n,e)}findByDependencyPath(n){const e=this.dependenciesIndex.find(n);e.results=e.results||[];let i=[];for(const r of e.results)i=i.concat(Object.keys(r.value));return e.found?i:[]}getBySourcePropertyPath(n){const e=this.sourcesIndex.find(n);e.results=e.results||[];let i=[];for(const r of e.results)i=i.concat(Object.keys(r.value));return e.found?i:[]}createPathIndex(n){return n.split("/")}}let Lk=(()=>{class t{constructor(){this.index={},this.findOnlyWithValue=!0}static#e=this.MARKER="$____value";_createPathIndex(e){return e.replace(new RegExp("//","g"),"/").replace(new RegExp("^/","g"),"").split("/").filter(i=>i)}store(e,i){this._storeIndex(this._createPathIndex(e),i)}_storeIndex(e,i){let r=this.index;for(const o of e)r[o]=r[o]||{},r=r[o];r&&i&&(r[t.MARKER]=r[t.MARKER]||{},r[t.MARKER][i]=i)}find(e){return this._findInIndex(this._createPathIndex(e))}_findInIndex(e){const i={target:e,found:!1,results:[]};return this.__findIndex(i,e,this.index,[]),i}__findIndex(e,i,r,o){const s=o||[],c=i[0],v="*"===c?Object.keys(r):[],C=(Array.isArray(c)?c:[c]).concat(v),N=C.filter((se,le)=>"*"!==se&&C.indexOf(se)===le);r["*"]&&N.push("*");let G=[];for(const se of N){const le=i.slice(1),pe=r[se],we=s.concat(se);if(1===i.length&&(!this.findOnlyWithValue||pe&&pe[t.MARKER])&&(e.results=e.results||[],e.results.push({path:we,value:pe[t.MARKER]}),G.push(we),e.found=e.results.length>0),!le||!le.length||!pe)break;const Le=this.__findIndex(e,le,pe,we);G=G.concat(Le)}return G}}return t})();class Mb{}class nde{evaluate(n,e={}){return(new gk.Jexl).evalSync(n,e)}}class ide{evaluate(n,e={source:{},target:{}}){return(new gk.Jexl).evalSync(n,e)}}function rde(t,n,e,i,r){return new bb(t,n,e,i,r)}let Sb=(()=>{class t{constructor(e,i,r,o,s,c){this.formPropertyFactory=e,this.actionRegistry=i,this.validatorRegistry=r,this.bindingRegistry=o,this.cdr=s,this.terminator=c,this.schema=null,this.actions={},this.validators={},this.bindings={},this.onChange=new mt,this.modelChange=new mt,this.isValid=new mt,this.onErrorChange=new mt,this.onErrorsChange=new mt,this.modelReset=new mt,this.rootProperty=null}writeValue(e){this.rootProperty&&this.rootProperty.reset(e,!1)}registerOnChange(e){this.onChangeCallback=e,this.rootProperty&&this.rootProperty.valueChanges.subscribe(this.onValueChanges.bind(this))}registerOnTouched(e){}ngOnChanges(e){e.validators&&this.setValidators(),e.actions&&this.setActions(),e.bindings&&this.setBindings(),this.schema&&!this.schema.type&&(this.schema.type="object");let i=!1;this.schema&&e.schema?(e.schema.firstChange||this.terminator.destroy(),Sk.preprocess(this.schema),this.rootProperty=this.formPropertyFactory.createProperty(this.schema),this.model&&this.rootProperty.reset(this.model,!1),this.rootProperty.valueChanges.subscribe(this.onValueChanges.bind(this)),this.rootProperty.errorsChanges.subscribe(r=>{this.onErrorChange.emit({value:r}),this.isValid.emit(!(r&&r.length))}),i=!0):this.schema&&e.model&&(this.rootProperty.reset(this.model,!1),i=!0),i&&(this.rootProperty._bindVisibility(),this.cdr.detectChanges(),this.modelReset.next({value:this.rootProperty.value}))}setValidators(){if(this.validatorRegistry.clear(),this.validators)for(const e in this.validators)this.validators.hasOwnProperty(e)&&this.validatorRegistry.register(e,this.validators[e])}setActions(){if(this.actionRegistry.clear(),this.actions)for(const e in this.actions)this.actions.hasOwnProperty(e)&&this.actionRegistry.register(e,this.actions[e])}setBindings(){if(this.bindingRegistry.clear(),this.bindings)for(const e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindingRegistry.register(e,this.bindings[e])}reset(){this.rootProperty.reset(null,!0)}setModel(e){if(this.model){for(const i of Object.keys(this.model))delete this.model[i];Object.assign(this.model,e)}else this.model=e}onValueChanges(e){this.onChangeCallback&&(this.setModel(e),this.onChangeCallback(e)),this.modelChange.observers.length>0&&(this.onChangeCallback||this.setModel(e)),this.onChange.emit({value:e})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(bb),ve(hb),ve(yb),ve(pb),ve(Si),ve(Lg))};static#t=this.\u0275cmp=rt({type:t,selectors:[["sf-form"]],inputs:{schema:"schema",model:"model",actions:"actions",validators:"validators",bindings:"bindings"},outputs:{onChange:"onChange",modelChange:"modelChange",isValid:"isValid",onErrorChange:"onErrorChange",onErrorsChange:"onErrorsChange",modelReset:"modelReset"},features:[Nn([hb,yb,Tk,pb,Sk,gb,{provide:bb,useFactory:rde,deps:[Cb,yb,Tk,Mb,Tg]},Lg,{provide:hs,useExisting:t,multi:!0}]),si],decls:1,vars:1,consts:[[4,"ngIf"],[3,"formProperty"]],template:function(i,r){1&i&&Me(0,N1e,2,3,"form",0),2&i&&X("ngIf",r.rootProperty)},dependencies:[yn,Sf,Cf,Zd,N4],encapsulation:2})}return t})();const ode=[{provide:Eg,useClass:xk},{provide:Cb,useClass:J1e},{provide:Mb,useClass:class tde extends Mb{createExpressionCompiler(){return new nde}createExpressionCompilerVisibilityIf(){return new ide}}},{provide:mb,useValue:3},{provide:Tg,useClass:P1e}];let sde=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...ode]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[ka,ob,uk]})}return t})();function Vn(t){return fi((n,e)=>{fs(t).subscribe(new gi(e,()=>e.complete(),mn)),!e.closed&&n.subscribe(e)})}function V1(t){t||(xo(),t=$e(Nl));const n=new hn(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(Vn(n))}const Tf=new hn(t=>t.complete());function Jd(t,n,e=1/0){return wt(n)?Jd((i,r)=>Mn((o,s)=>n(i,o,r,s))(fs(t(i,r))),e):("number"==typeof n&&(e=n),fi((i,r)=>function ude(t,n,e,i,r,o,s,c){const v=[];let C=0,N=0,G=!1;const se=()=>{G&&!v.length&&!C&&n.complete()},le=we=>C<i?pe(we):v.push(we),pe=we=>{o&&n.next(we),C++;let Le=!1;fs(e(we,N++)).subscribe(new gi(n,Be=>{r?.(Be),o?le(Be):n.next(Be)},()=>{Le=!0},void 0,()=>{if(Le)try{for(C--;v.length&&C<i;){const Be=v.shift();s?Vl(n,s,()=>pe(Be)):pe(Be)}se()}catch(Be){n.error(Be)}}))};return t.subscribe(new gi(n,le,()=>{G=!0,se()})),()=>{c?.()}}(i,r,t,e)))}const fde=["addListener","removeListener"],hde=["addEventListener","removeEventListener"],pde=["on","off"];function Lr(t,n,e,i){if(wt(e)&&(i=e,e=void 0),i)return Lr(t,n,e).pipe(z_(i));const[r,o]=function vde(t){return wt(t.addEventListener)&&wt(t.removeEventListener)}(t)?hde.map(s=>c=>t[s](n,c,e)):function mde(t){return wt(t.addListener)&&wt(t.removeListener)}(t)?fde.map(Ak(t,n)):function gde(t){return wt(t.on)&&wt(t.off)}(t)?pde.map(Ak(t,n)):[];if(!r&&F_(t))return Jd(s=>Lr(s,n,e))(fs(t));if(!r)throw new TypeError("Invalid event target");return new hn(s=>{const c=(...v)=>s.next(1<v.length?v:v[0]);return r(c),()=>o(c)})}function Ak(t,n){return e=>i=>t[e](n,i)}class _de extends Ce{constructor(n,e){super()}schedule(n,e=0){return this}}const Ig={setInterval(...t){const{delegate:n}=Ig;return(n?.setInterval||setInterval)(...t)},clearInterval(t){const{delegate:n}=Ig;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Tb extends _de{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(n,e,i=0){return Ig.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Ig.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,pn(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const Dk={now:()=>(Dk.delegate||Date).now(),delegate:void 0};class P4{constructor(n,e=P4.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}P4.now=Dk.now;class Eb extends P4{constructor(n,e=P4.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const kg=new Eb(Tb),Ik=kg;function kk(t){return t instanceof Date&&!isNaN(t)}function z4(t=0,n,e=Ik){let i=-1;return null!=n&&(pI(n)?e=n:i=n),new hn(r=>{let o=kk(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:bde}=Array;function Ok(t){return 1===t.length&&bde(t[0])?t[0]:t}function Nk(...t){return 1===(t=Ok(t)).length?fs(t[0]):new hn(function yde(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(fs(t[i]).subscribe(new gi(n,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}n.next(r)})))}}(t))}function Rk(t=1/0){return Jd(kt,t)}function ma(...t){const n=S4(t),e=function vce(t,n){return"number"==typeof P_(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?fs(i[0]):Rk(e)(qc(i,n)):Tf}function Lb(...t){const n=gg(t),e=Ok(t);return e.length?new hn(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)fs(e[s]).subscribe(new gi(i,c=>{if(r[s].push(c),r.every(v=>v.length)){const v=r.map(C=>C.shift());i.next(n?n(...v):v),r.some((C,N)=>!C.length&&o[N])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Tf}function $4(...t){return function wde(){return Rk(1)}()(qc(t,S4(t)))}function er(t,n){return fi((e,i)=>{let r=0;e.subscribe(new gi(i,o=>t.call(n,o,r++)&&i.next(o)))})}function Ar(t){return t<=0?()=>Tf:fi((n,e)=>{let i=0;n.subscribe(new gi(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Xc(t,n,e){const i=wt(t)||n||e?{next:t,error:n,complete:e}:t;return i?fi((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let c=!0;r.subscribe(new gi(o,v=>{var C;null===(C=i.next)||void 0===C||C.call(i,v),o.next(v)},()=>{var v;c=!1,null===(v=i.complete)||void 0===v||v.call(i),o.complete()},v=>{var C;c=!1,null===(C=i.error)||void 0===C||C.call(i,v),o.error(v)},()=>{var v,C;c&&(null===(v=i.unsubscribe)||void 0===v||v.call(i)),null===(C=i.finalize)||void 0===C||C.call(i)}))}):kt}function Ab(...t){const n=gg(t);return fi((e,i)=>{const r=t.length,o=new Array(r);let s=t.map(()=>!1),c=!1;for(let v=0;v<r;v++)fs(t[v]).subscribe(new gi(i,C=>{o[v]=C,!c&&!s[v]&&(s[v]=!0,(c=s.every(kt))&&(s=null))},mn));e.subscribe(new gi(i,v=>{if(c){const C=[v,...o];i.next(n?n(...C):C)}}))})}function Db(t){return Mn(()=>t)}function Fk(t,n){return n?e=>$4(n.pipe(Ar(1),function Cde(){return fi((t,n)=>{t.subscribe(new gi(n,mn))})}()),e.pipe(Fk(t))):Jd((e,i)=>t(e,i).pipe(Ar(1),Db(e)))}function Pk(t,n=kg){const e=z4(t,n);return Fk(()=>e)}function Oa(t,n){return fi((e,i)=>{let r=null,o=0,s=!1;const c=()=>s&&!r&&i.complete();e.subscribe(new gi(i,v=>{r?.unsubscribe();let C=0;const N=o++;fs(t(v,N)).subscribe(r=new gi(i,G=>i.next(n?n(v,G,N,C++):G),()=>{r=null,c()}))},()=>{s=!0,c()}))})}function Na(...t){const n=S4(t);return fi((e,i)=>{(n?$4(t,e,n):$4(t,e)).subscribe(i)})}function Og(t){return er((n,e)=>t<=e)}var Mde={left:"right",right:"left",bottom:"top",top:"bottom"};function Ng(t){return t.replace(/left|right|bottom|top/g,function(n){return Mde[n]})}function Gl(t){return t.split("-")[0]}var Sde={start:"end",end:"start"};function zk(t){return t.replace(/start|end/g,function(n){return Sde[n]})}var nc="top",Jc="bottom",el="right",ic="left",Ib="auto",B4=[nc,Jc,el,ic],Ef="start",H4="end",$k="viewport",U4="popper",Bk=B4.reduce(function(t,n){return t.concat([n+"-"+Ef,n+"-"+H4])},[]),Hk=[].concat(B4,[Ib]).reduce(function(t,n){return t.concat([n,n+"-"+Ef,n+"-"+H4])},[]),Pde=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function rc(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function C0(t){return t instanceof rc(t).Element||t instanceof Element}function Ec(t){return t instanceof rc(t).HTMLElement||t instanceof HTMLElement}function kb(t){return!(typeof ShadowRoot>"u")&&(t instanceof rc(t).ShadowRoot||t instanceof ShadowRoot)}function e2(t){return((C0(t)?t.ownerDocument:t.document)||window.document).documentElement}var M0=Math.max,Rg=Math.min,Lf=Math.round;function Ob(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function Uk(){return!/^((?!chrome|android).)*safari/i.test(Ob())}function Af(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var i=t.getBoundingClientRect(),r=1,o=1;n&&Ec(t)&&(r=t.offsetWidth>0&&Lf(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Lf(i.height)/t.offsetHeight||1);var c=(C0(t)?rc(t):window).visualViewport,v=!Uk()&&e,C=(i.left+(v&&c?c.offsetLeft:0))/r,N=(i.top+(v&&c?c.offsetTop:0))/o,G=i.width/r,se=i.height/o;return{width:G,height:se,top:N,right:C+G,bottom:N+se,left:C,x:C,y:N}}function Nb(t){var n=rc(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Rb(t){return Af(e2(t)).left+Nb(t).scrollLeft}function j1(t){return rc(t).getComputedStyle(t)}function Yl(t){return t?(t.nodeName||"").toLowerCase():null}function Fg(t){return"html"===Yl(t)?t:t.assignedSlot||t.parentNode||(kb(t)?t.host:null)||e2(t)}function Fb(t){var n=j1(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function Vk(t){return["html","body","#document"].indexOf(Yl(t))>=0?t.ownerDocument.body:Ec(t)&&Fb(t)?t:Vk(Fg(t))}function V4(t,n){var e;void 0===n&&(n=[]);var i=Vk(t),r=i===(null==(e=t.ownerDocument)?void 0:e.body),o=rc(i),s=r?[o].concat(o.visualViewport||[],Fb(i)?i:[]):i,c=n.concat(s);return r?c:c.concat(V4(Fg(s)))}function Bde(t){return["table","td","th"].indexOf(Yl(t))>=0}function jk(t){return Ec(t)&&"fixed"!==j1(t).position?t.offsetParent:null}function j4(t){for(var n=rc(t),e=jk(t);e&&Bde(e)&&"static"===j1(e).position;)e=jk(e);return e&&("html"===Yl(e)||"body"===Yl(e)&&"static"===j1(e).position)?n:e||function Hde(t){var n=/firefox/i.test(Ob());if(/Trident/i.test(Ob())&&Ec(t)&&"fixed"===j1(t).position)return null;var r=Fg(t);for(kb(r)&&(r=r.host);Ec(r)&&["html","body"].indexOf(Yl(r))<0;){var o=j1(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||n&&"filter"===o.willChange||n&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(t)||n}function Wk(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&kb(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Pb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Gk(t,n,e){return n===$k?Pb(function zde(t,n){var e=rc(t),i=e2(t),r=e.visualViewport,o=i.clientWidth,s=i.clientHeight,c=0,v=0;if(r){o=r.width,s=r.height;var C=Uk();(C||!C&&"fixed"===n)&&(c=r.offsetLeft,v=r.offsetTop)}return{width:o,height:s,x:c+Rb(t),y:v}}(t,e)):C0(n)?function Ude(t,n){var e=Af(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):Pb(function $de(t){var n,e=e2(t),i=Nb(t),r=null==(n=t.ownerDocument)?void 0:n.body,o=M0(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=M0(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+Rb(t),v=-i.scrollTop;return"rtl"===j1(r||e).direction&&(c+=M0(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:c,y:v}}(e2(t)))}function Df(t){return t.split("-")[1]}function zb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Yk(t){var v,n=t.reference,e=t.element,i=t.placement,r=i?Gl(i):null,o=i?Df(i):null,s=n.x+n.width/2-e.width/2,c=n.y+n.height/2-e.height/2;switch(r){case nc:v={x:s,y:n.y-e.height};break;case Jc:v={x:s,y:n.y+n.height};break;case el:v={x:n.x+n.width,y:c};break;case ic:v={x:n.x-e.width,y:c};break;default:v={x:n.x,y:n.y}}var C=r?zb(r):null;if(null!=C){var N="y"===C?"height":"width";switch(o){case Ef:v[C]=v[C]-(n[N]/2-e[N]/2);break;case H4:v[C]=v[C]+(n[N]/2-e[N]/2)}}return v}function Kk(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Zk(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function $b(t,n){void 0===n&&(n={});var i=n.placement,r=void 0===i?t.placement:i,o=n.strategy,s=void 0===o?t.strategy:o,c=n.boundary,v=void 0===c?"clippingParents":c,C=n.rootBoundary,N=void 0===C?$k:C,G=n.elementContext,se=void 0===G?U4:G,le=n.altBoundary,pe=void 0!==le&&le,we=n.padding,Le=void 0===we?0:we,Be=Kk("number"!=typeof Le?Le:Zk(Le,B4)),Je=t.rects.popper,ut=t.elements[pe?se===U4?"reference":U4:se],Dt=function jde(t,n,e,i){var r="clippingParents"===n?function Vde(t){var n=V4(Fg(t)),i=["absolute","fixed"].indexOf(j1(t).position)>=0&&Ec(t)?j4(t):t;return C0(i)?n.filter(function(r){return C0(r)&&Wk(r,i)&&"body"!==Yl(r)}):[]}(t):[].concat(n),o=[].concat(r,[e]),c=o.reduce(function(v,C){var N=Gk(t,C,i);return v.top=M0(N.top,v.top),v.right=Rg(N.right,v.right),v.bottom=Rg(N.bottom,v.bottom),v.left=M0(N.left,v.left),v},Gk(t,o[0],i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(C0(ut)?ut:ut.contextElement||e2(t.elements.popper),v,N,s),Ft=Af(t.elements.reference),en=Yk({reference:Ft,element:Je,strategy:"absolute",placement:r}),vn=Pb(Object.assign({},Je,en)),Mi=se===U4?vn:Ft,Ti={top:Dt.top-Mi.top+Be.top,bottom:Mi.bottom-Dt.bottom+Be.bottom,left:Dt.left-Mi.left+Be.left,right:Mi.right-Dt.right+Be.right},Gr=t.modifiersData.offset;if(se===U4&&Gr){var Yr=Gr[r];Object.keys(Ti).forEach(function(qr){var $a=[el,Jc].indexOf(qr)>=0?1:-1,Cr=[nc,Jc].indexOf(qr)>=0?"y":"x";Ti[qr]+=Yr[Cr]*$a})}return Ti}const qde={name:"flip",enabled:!0,phase:"main",fn:function Yde(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,s=e.altAxis,c=void 0===s||s,v=e.fallbackPlacements,C=e.padding,N=e.boundary,G=e.rootBoundary,se=e.altBoundary,le=e.flipVariations,pe=void 0===le||le,we=e.allowedAutoPlacements,Le=n.options.placement,Be=Gl(Le),Je=v||(Be!==Le&&pe?function Gde(t){if(Gl(t)===Ib)return[];var n=Ng(t);return[zk(t),n,zk(n)]}(Le):[Ng(Le)]),ut=[Le].concat(Je).reduce(function(Pi,Ba){return Pi.concat(Gl(Ba)===Ib?function Wde(t,n){void 0===n&&(n={});var r=n.boundary,o=n.rootBoundary,s=n.padding,c=n.flipVariations,v=n.allowedAutoPlacements,C=void 0===v?Hk:v,N=Df(n.placement),G=N?c?Bk:Bk.filter(function(pe){return Df(pe)===N}):B4,se=G.filter(function(pe){return C.indexOf(pe)>=0});0===se.length&&(se=G);var le=se.reduce(function(pe,we){return pe[we]=$b(t,{placement:we,boundary:r,rootBoundary:o,padding:s})[Gl(we)],pe},{});return Object.keys(le).sort(function(pe,we){return le[pe]-le[we]})}(n,{placement:Ba,boundary:N,rootBoundary:G,padding:C,flipVariations:pe,allowedAutoPlacements:we}):Ba)},[]),Dt=n.rects.reference,Ft=n.rects.popper,en=new Map,vn=!0,Mi=ut[0],Ti=0;Ti<ut.length;Ti++){var Gr=ut[Ti],Yr=Gl(Gr),qr=Df(Gr)===Ef,$a=[nc,Jc].indexOf(Yr)>=0,Cr=$a?"width":"height",zt=$b(n,{placement:Gr,boundary:N,rootBoundary:G,altBoundary:se,padding:C}),nn=$a?qr?el:ic:qr?Jc:nc;Dt[Cr]>Ft[Cr]&&(nn=Ng(nn));var On=Ng(nn),oi=[];if(o&&oi.push(zt[Yr]<=0),c&&oi.push(zt[nn]<=0,zt[On]<=0),oi.every(function(Pi){return Pi})){Mi=Gr,vn=!1;break}en.set(Gr,oi)}if(vn)for(var Ds=function(Ba){var s1=ut.find(function(Br){var Gi=en.get(Br);if(Gi)return Gi.slice(0,Ba).every(function(ci){return ci})});if(s1)return Mi=s1,"break"},Zr=pe?3:1;Zr>0&&"break"!==Ds(Zr);Zr--);n.placement!==Mi&&(n.modifiersData[i]._skip=!0,n.placement=Mi,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function W4(t,n,e){return M0(t,Rg(n,e))}function Bb(t){var n=Af(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const Xde={name:"preventOverflow",enabled:!0,phase:"main",fn:function Qde(t){var n=t.state,e=t.options,i=t.name,r=e.mainAxis,o=void 0===r||r,s=e.altAxis,c=void 0!==s&&s,se=e.tether,le=void 0===se||se,pe=e.tetherOffset,we=void 0===pe?0:pe,Le=$b(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Be=Gl(n.placement),Pe=Df(n.placement),Je=!Pe,ut=zb(Be),Dt=function Kde(t){return"x"===t?"y":"x"}(ut),Ft=n.modifiersData.popperOffsets,en=n.rects.reference,vn=n.rects.popper,Mi="function"==typeof we?we(Object.assign({},n.rects,{placement:n.placement})):we,Ti="number"==typeof Mi?{mainAxis:Mi,altAxis:Mi}:Object.assign({mainAxis:0,altAxis:0},Mi),Gr=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Yr={x:0,y:0};if(Ft){if(o){var qr,$a="y"===ut?nc:ic,Cr="y"===ut?Jc:el,zt="y"===ut?"height":"width",nn=Ft[ut],On=nn+Le[$a],oi=nn-Le[Cr],Kr=le?-vn[zt]/2:0,Ds=Pe===Ef?en[zt]:vn[zt],Zr=Pe===Ef?-vn[zt]:-en[zt],sa=n.elements.arrow,Pi=le&&sa?Bb(sa):{width:0,height:0},Ba=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},s1=Ba[$a],Br=Ba[Cr],Gi=W4(0,en[zt],Pi[zt]),ci=Je?en[zt]/2-Kr-Gi-s1-Ti.mainAxis:Ds-Gi-s1-Ti.mainAxis,_s=Je?-en[zt]/2+Kr+Gi+Br+Ti.mainAxis:Zr+Gi+Br+Ti.mainAxis,Nc=n.elements.arrow&&j4(n.elements.arrow),o7=Nc?"y"===ut?Nc.clientTop||0:Nc.clientLeft||0:0,dm=null!=(qr=Gr?.[ut])?qr:0,s7=nn+_s-dm,lZ=W4(le?Rg(On,nn+ci-dm-o7):On,nn,le?M0(oi,s7):oi);Ft[ut]=lZ,Yr[ut]=lZ-nn}if(c){var dZ,cu=Ft[Dt],a7="y"===Dt?"height":"width",uZ=cu+Le["x"===ut?nc:ic],fZ=cu-Le["x"===ut?Jc:el],XC=-1!==[nc,ic].indexOf(Be),hZ=null!=(dZ=Gr?.[Dt])?dZ:0,pZ=XC?uZ:cu-en[a7]-vn[a7]-hZ+Ti.altAxis,mZ=XC?cu+en[a7]+vn[a7]-hZ-Ti.altAxis:fZ,gZ=le&&XC?function Zde(t,n,e){var i=W4(t,n,e);return i>e?e:i}(pZ,cu,mZ):W4(le?pZ:uZ,cu,le?mZ:fZ);Ft[Dt]=gZ,Yr[Dt]=gZ-cu}n.modifiersData[i]=Yr}},requiresIfExists:["offset"]},n2e={name:"arrow",enabled:!0,phase:"main",fn:function e2e(t){var n,e=t.state,i=t.name,r=t.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,c=Gl(e.placement),v=zb(c),N=[ic,el].indexOf(c)>=0?"height":"width";if(o&&s){var G=function(n,e){return Kk("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:Zk(n,B4))}(r.padding,e),se=Bb(o),le="y"===v?nc:ic,pe="y"===v?Jc:el,we=e.rects.reference[N]+e.rects.reference[v]-s[v]-e.rects.popper[N],Le=s[v]-e.rects.reference[v],Be=j4(o),Pe=Be?"y"===v?Be.clientHeight||0:Be.clientWidth||0:0,Ft=Pe/2-se[N]/2+(we/2-Le/2),en=W4(G[le],Ft,Pe-se[N]-G[pe]);e.modifiersData[i]=((n={})[v]=en,n.centerOffset=en-Ft,n)}},effect:function t2e(t){var n=t.state,i=t.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=n.elements.popper.querySelector(r))||Wk(n.elements.popper,r)&&(n.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function s2e(t,n,e){void 0===e&&(e=!1);var i=Ec(n),r=Ec(n)&&function o2e(t){var n=t.getBoundingClientRect(),e=Lf(n.width)/t.offsetWidth||1,i=Lf(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),o=e2(n),s=Af(t,r,e),c={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(i||!i&&!e)&&(("body"!==Yl(n)||Fb(o))&&(c=function r2e(t){return t!==rc(t)&&Ec(t)?function i2e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):Nb(t)}(n)),Ec(n)?((v=Af(n,!0)).x+=n.clientLeft,v.y+=n.clientTop):o&&(v.x=Rb(o))),{x:s.left+c.scrollLeft-v.x,y:s.top+c.scrollTop-v.y,width:s.width,height:s.height}}function a2e(t){var n=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(c){if(!e.has(c)){var v=n.get(c);v&&r(v)}}),i.push(o)}return t.forEach(function(o){n.set(o.name,o)}),t.forEach(function(o){e.has(o.name)||r(o)}),i}function l2e(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var Qk={placement:"bottom",modifiers:[],strategy:"absolute"};function Xk(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function u2e(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,r=t.defaultOptions,o=void 0===r?Qk:r;return function(c,v,C){void 0===C&&(C=o);var N={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qk,o),modifiersData:{},elements:{reference:c,popper:v},attributes:{},styles:{}},G=[],se=!1,le={state:N,setOptions:function(Be){var Pe="function"==typeof Be?Be(N.options):Be;we(),N.options=Object.assign({},o,N.options,Pe),N.scrollParents={reference:C0(c)?V4(c):c.contextElement?V4(c.contextElement):[],popper:V4(v)};var Je=function c2e(t){var n=a2e(t);return Pde.reduce(function(e,i){return e.concat(n.filter(function(r){return r.phase===i}))},[])}(function d2e(t){var n=t.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,N.options.modifiers)));return N.orderedModifiers=Je.filter(function(ut){return ut.enabled}),function pe(){N.orderedModifiers.forEach(function(Le){var Pe=Le.options,ut=Le.effect;if("function"==typeof ut){var Dt=ut({state:N,name:Le.name,instance:le,options:void 0===Pe?{}:Pe});G.push(Dt||function(){})}})}(),le.update()},forceUpdate:function(){if(!se){var Be=N.elements,Pe=Be.reference,Je=Be.popper;if(Xk(Pe,Je)){N.rects={reference:s2e(Pe,j4(Je),"fixed"===N.options.strategy),popper:Bb(Je)},N.reset=!1,N.placement=N.options.placement,N.orderedModifiers.forEach(function(Ti){return N.modifiersData[Ti.name]=Object.assign({},Ti.data)});for(var ut=0;ut<N.orderedModifiers.length;ut++)if(!0!==N.reset){var Dt=N.orderedModifiers[ut],Ft=Dt.fn,en=Dt.options;"function"==typeof Ft&&(N=Ft({state:N,options:void 0===en?{}:en,name:Dt.name,instance:le})||N)}else N.reset=!1,ut=-1}}},update:l2e(function(){return new Promise(function(Le){le.forceUpdate(),Le(N)})}),destroy:function(){we(),se=!0}};if(!Xk(c,v))return le;function we(){G.forEach(function(Le){return Le()}),G=[]}return le.setOptions(C).then(function(Le){!se&&C.onFirstUpdate&&C.onFirstUpdate(Le)}),le}}var Pg={passive:!0};const h2e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function f2e(t){var n=t.state,e=t.instance,i=t.options,r=i.scroll,o=void 0===r||r,s=i.resize,c=void 0===s||s,v=rc(n.elements.popper),C=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&C.forEach(function(N){N.addEventListener("scroll",e.update,Pg)}),c&&v.addEventListener("resize",e.update,Pg),function(){o&&C.forEach(function(N){N.removeEventListener("scroll",e.update,Pg)}),c&&v.removeEventListener("resize",e.update,Pg)}},data:{}},m2e={name:"popperOffsets",enabled:!0,phase:"read",fn:function p2e(t){var n=t.state;n.modifiersData[t.name]=Yk({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}};var g2e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jk(t){var n,e=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,c=t.position,v=t.gpuAcceleration,C=t.adaptive,N=t.roundOffsets,G=t.isFixed,se=s.x,le=void 0===se?0:se,pe=s.y,we=void 0===pe?0:pe,Le="function"==typeof N?N({x:le,y:we}):{x:le,y:we};le=Le.x,we=Le.y;var Be=s.hasOwnProperty("x"),Pe=s.hasOwnProperty("y"),Je=ic,ut=nc,Dt=window;if(C){var Ft=j4(e),en="clientHeight",vn="clientWidth";Ft===rc(e)&&"static"!==j1(Ft=e2(e)).position&&"absolute"===c&&(en="scrollHeight",vn="scrollWidth"),(r===nc||(r===ic||r===el)&&o===H4)&&(ut=Jc,we-=(G&&Ft===Dt&&Dt.visualViewport?Dt.visualViewport.height:Ft[en])-i.height,we*=v?1:-1),r!==ic&&(r!==nc&&r!==Jc||o!==H4)||(Je=el,le-=(G&&Ft===Dt&&Dt.visualViewport?Dt.visualViewport.width:Ft[vn])-i.width,le*=v?1:-1)}var qr,Gr=Object.assign({position:c},C&&g2e),Yr=!0===N?function v2e(t,n){var i=t.y,r=n.devicePixelRatio||1;return{x:Lf(t.x*r)/r||0,y:Lf(i*r)/r||0}}({x:le,y:we},rc(e)):{x:le,y:we};return le=Yr.x,we=Yr.y,Object.assign({},Gr,v?((qr={})[ut]=Pe?"0":"",qr[Je]=Be?"0":"",qr.transform=(Dt.devicePixelRatio||1)<=1?"translate("+le+"px, "+we+"px)":"translate3d("+le+"px, "+we+"px, 0)",qr):((n={})[ut]=Pe?we+"px":"",n[Je]=Be?le+"px":"",n.transform="",n))}const b2e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function _2e(t){var n=t.state,e=t.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,s=void 0===o||o,c=e.roundOffsets,v=void 0===c||c,C={placement:Gl(n.placement),variation:Df(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:r,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,Jk(Object.assign({},C,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:s,roundOffsets:v})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,Jk(Object.assign({},C,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var x2e=[h2e,m2e,b2e,{name:"applyStyles",enabled:!0,phase:"write",fn:function y2e(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},r=n.attributes[e]||{},o=n.elements[e];!Ec(o)||!Yl(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var c=r[s];!1===c?o.removeAttribute(s):o.setAttribute(s,!0===c?"":c)}))})},effect:function w2e(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var r=n.elements[i],o=n.attributes[i]||{},c=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(v,C){return v[C]="",v},{});!Ec(r)||!Yl(r)||(Object.assign(r.style,c),Object.keys(o).forEach(function(v){r.removeAttribute(v)}))})}},requires:["computeStyles"]}],C2e=u2e({defaultModifiers:x2e});const T2e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function S2e(t){var n=t.state,i=t.name,r=t.options.offset,o=void 0===r?[0,0]:r,s=Hk.reduce(function(N,G){return N[G]=function M2e(t,n,e){var i=Gl(t),r=[ic,nc].indexOf(i)>=0?-1:1,o="function"==typeof e?e(Object.assign({},n,{placement:t})):e,s=o[0],c=o[1];return s=s||0,c=(c||0)*r,[ic,el].indexOf(i)>=0?{x:c,y:s}:{x:s,y:c}}(G,n.rects,o),N},{}),c=s[n.placement],C=c.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=c.x,n.modifiersData.popperOffsets.y+=C),n.modifiersData[i]=s}},zg=["*"];function E2e(t,n){if(1&t){const e=lt();ee(0,"button",1),ze("click",function(){return Se(e),Ee(oe().close())}),ie()}}const A2e=["ngbDatepickerDayView",""],D2e=["month"],I2e=["year"];function k2e(t,n){if(1&t&&(ee(0,"option",3),ye(1),ie()),2&t){const e=n.$implicit,i=oe();X("value",e),Ye("aria-label",i.i18n.getMonthFullName(e,i.date.year)),Q(),It(i.i18n.getMonthShortName(e,i.date.year))}}function O2e(t,n){if(1&t&&(ee(0,"option",3),ye(1),ie()),2&t){const e=n.$implicit,i=oe();X("value",e),Q(),It(i.i18n.getYearNumerals(e))}}function N2e(t,n){if(1&t){const e=lt();ee(0,"ngb-datepicker-navigation-select",6),ze("select",function(r){return Se(e),Ee(oe().select.emit(r))}),ie()}if(2&t){const e=oe();X("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function R2e(t,n){1&t&&Ve(0,"div",7)}function F2e(t,n){1&t&&Ve(0,"div",7)}function P2e(t,n){if(1&t&&(Me(0,R2e,1,0,"div",7),ee(1,"div",8),ye(2),ie(),Me(3,F2e,1,0,"div",7)),2&t){const e=n.$implicit,i=n.$index,r=oe(2);$n(0,i>0?0:-1),Q(2),Qn(" ",r.i18n.getMonthLabel(e.firstDate)," "),Q(),$n(3,i!==r.months.length-1?3:-1)}}function z2e(t,n){1&t&&Ts(0,P2e,4,3,null,null,$s),2&t&&Es(oe().months)}function $2e(t,n){if(1&t&&(ee(0,"div",1),ye(1),ie()),2&t){const e=oe(2);Q(),It(e.i18n.getWeekLabel())}}function B2e(t,n){if(1&t&&(ee(0,"div",2),ye(1),ie()),2&t){const e=n.$implicit;Q(),It(e)}}function H2e(t,n){if(1&t&&(ee(0,"div",0),Me(1,$2e,2,1,"div",1),Ts(2,B2e,2,1,"div",2,$s),ie()),2&t){const e=oe();Q(),$n(1,e.datepicker.showWeekNumbers?1:-1),Q(),Es(e.viewModel.weekdays)}}function U2e(t,n){if(1&t&&(ee(0,"div",4),ye(1),ie()),2&t){const e=oe(2).$implicit,i=oe();Q(),It(i.i18n.getWeekNumerals(e.number))}}function V2e(t,n){}function j2e(t,n){if(1&t&&Me(0,V2e,0,0,"ng-template",7),2&t){const e=oe().$implicit;X("ngTemplateOutlet",oe(3).datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function W2e(t,n){if(1&t){const e=lt();ee(0,"div",6),ze("click",function(r){const o=Se(e).$implicit;return oe(3).doSelect(o),Ee(r.preventDefault())}),Me(1,j2e,1,2,null,7),ie()}if(2&t){const e=n.$implicit;At("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),X("tabindex",e.tabindex),Ye("aria-label",e.ariaLabel),Q(),$n(1,e.hidden?-1:1)}}function G2e(t,n){if(1&t&&(ee(0,"div",3),Me(1,U2e,2,1,"div",4),Ts(2,W2e,2,9,"div",5,$s),ie()),2&t){const e=oe().$implicit,i=oe();Q(),$n(1,i.datepicker.showWeekNumbers?1:-1),Q(),Es(e.days)}}function Y2e(t,n){1&t&&Me(0,G2e,4,1,"div",3),2&t&&$n(0,n.$implicit.collapsed?-1:0)}const q2e=["defaultDayTemplate"],K2e=["content"],eO=t=>({$implicit:t});function Z2e(t,n){if(1&t&&Ve(0,"div",8),2&t){const i=n.currentMonth,r=n.selected,o=n.disabled,s=n.focused;X("date",n.date)("currentMonth",i)("selected",r)("disabled",o)("focused",s)}}function Q2e(t,n){if(1&t&&(ee(0,"div",10),ye(1),ie()),2&t){const e=oe().$implicit,i=oe(2);Q(),Qn(" ",i.i18n.getMonthLabel(e.firstDate)," ")}}function X2e(t,n){if(1&t&&(ee(0,"div",9),Me(1,Q2e,2,1,"div",10),Ve(2,"ngb-datepicker-month",11),ie()),2&t){const e=n.$implicit,i=oe(2);Q(),$n(1,"none"===i.navigation||i.displayMonths>1&&"select"===i.navigation?1:-1),Q(),X("month",e.firstDate)}}function J2e(t,n){1&t&&Ts(0,X2e,3,2,"div",9,$s),2&t&&Es(oe().model.months)}function e0e(t,n){if(1&t){const e=lt();ee(0,"ngb-datepicker-navigation",12),ze("navigate",function(r){return Se(e),Ee(oe().onNavigateEvent(r))})("select",function(r){return Se(e),Ee(oe().onNavigateDateSelect(r))}),ie()}if(2&t){const e=oe();X("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function t0e(t,n){}function n0e(t,n){}const i0e=["dialog"];function O0e(t,n){1&t&&ye(0),2&t&&It(oe(2).title)}function N0e(t,n){}function R0e(t,n){if(1&t&&(ee(0,"h3",2),Me(1,O0e,1,1,"ng-template",null,0,En)(3,N0e,0,0,"ng-template",4),ie()),2&t){const e=Ut(2),i=oe();Q(3),X("ngTemplateOutlet",i.isTitleTemplate()?i.title:e)("ngTemplateOutletContext",i.context)}}function P0e(t,n){if(1&t){const e=lt();ee(0,"button",15),ze("click",function(){Se(e);const r=oe();return Ee(r.changeHour(r.hourStep))}),Ve(1,"span",16),ee(2,"span",17),wc(3,0),ie()()}if(2&t){const e=oe();At("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),X("disabled",e.disabled)}}function z0e(t,n){if(1&t){const e=lt();ee(0,"button",15),ze("click",function(){Se(e);const r=oe();return Ee(r.changeHour(-r.hourStep))}),Ve(1,"span",18),ee(2,"span",17),wc(3,1),ie()()}if(2&t){const e=oe();At("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),X("disabled",e.disabled)}}function $0e(t,n){if(1&t){const e=lt();ee(0,"button",15),ze("click",function(){Se(e);const r=oe();return Ee(r.changeMinute(r.minuteStep))}),Ve(1,"span",16),ee(2,"span",17),wc(3,2),ie()()}if(2&t){const e=oe();At("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),X("disabled",e.disabled)}}function B0e(t,n){if(1&t){const e=lt();ee(0,"button",15),ze("click",function(){Se(e);const r=oe();return Ee(r.changeMinute(-r.minuteStep))}),Ve(1,"span",18),ee(2,"span",17),wc(3,3),ie()()}if(2&t){const e=oe();At("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),X("disabled",e.disabled)}}function H0e(t,n){if(1&t){const e=lt();ee(0,"button",15),ze("click",function(){Se(e);const r=oe(2);return Ee(r.changeSecond(r.secondStep))}),Ve(1,"span",16),ee(2,"span",17),wc(3,4),ie()()}if(2&t){const e=oe(2);At("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),X("disabled",e.disabled)}}function U0e(t,n){if(1&t){const e=lt();ee(0,"button",15),ze("click",function(){Se(e);const r=oe(2);return Ee(r.changeSecond(-r.secondStep))}),Ve(1,"span",18),ee(2,"span",17),wc(3,5),ie()()}if(2&t){const e=oe(2);At("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),X("disabled",e.disabled)}}function V0e(t,n){if(1&t){const e=lt();ee(0,"div",12),ye(1,":"),ie(),ee(2,"div",19),Me(3,H0e,4,7,"button",10),ee(4,"input",20),ze("change",function(r){return Se(e),Ee(oe().updateSecond(r.target.value))})("blur",function(){return Se(e),Ee(oe().handleBlur())})("input",function(r){return Se(e),Ee(oe().formatInput(r.target))})("keydown.ArrowUp",function(r){Se(e);const o=oe();return o.changeSecond(o.secondStep),Ee(r.preventDefault())})("keydown.ArrowDown",function(r){Se(e);const o=oe();return o.changeSecond(-o.secondStep),Ee(r.preventDefault())}),ie(),Me(5,U0e,4,7,"button",10),ie()}if(2&t){const e=oe();Q(3),$n(3,e.spinners?3:-1),Q(),At("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),X("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),Q(),$n(5,e.spinners?5:-1)}}function j0e(t,n){if(1&t&&(Fn(0),wc(1,6),Pn()),2&t){const e=oe(2);Q(),O9(e.i18n.getAfternoonPeriod()),function cL(t){!function lne(t,n,e){if(c4>0){const i=t.data[e];qE(t,n,Array.isArray(i)?i:i.update,da()-c4-1,a4)}a4=0,c4=0}(vi(),dt(),t+Kn)}(1)}}function W0e(t,n){if(1&t&&(Fn(0),ye(1),Pn()),2&t){const e=oe(2);Q(),It(e.i18n.getMorningPeriod())}}function G0e(t,n){if(1&t){const e=lt();Ve(0,"div",12),ee(1,"div",21)(2,"button",22),ze("click",function(){return Se(e),Ee(oe().toggleMeridian())}),Me(3,j0e,2,1,"ng-container")(4,W0e,2,1),ie()()}if(2&t){const e=oe();Q(2),At("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),X("disabled",e.disabled),Q(),$n(3,e.model&&e.model.hour>=12?3:4)}}function q0e(t,n){if(1&t&&(ee(0,"span"),ye(1),ie()),2&t){const e=oe().$implicit;So(oe().highlightClass),Q(),It(e)}}function K0e(t,n){if(1&t&&(Fn(0),ye(1),Pn()),2&t){const e=oe().$implicit;Q(),It(e)}}function Z0e(t,n){1&t&&Me(0,q0e,2,4,"span",0)(1,K0e,2,1),2&t&&$n(0,n.$index%2!=0?0:1)}const Q0e=(t,n,e)=>({result:t,term:n,formatter:e});function X0e(t,n){if(1&t&&Ve(0,"ngb-highlight",2),2&t){const i=n.term;X("result",(0,n.formatter)(n.result))("term",i)}}function J0e(t,n){}function eue(t,n){if(1&t){const e=lt();ee(0,"button",3),ze("mouseenter",function(){const r=Se(e).$index;return Ee(oe().markActive(r))})("click",function(){const r=Se(e).$implicit;return Ee(oe().select(r))}),Me(1,J0e,0,0,"ng-template",4),ie()}if(2&t){const e=n.$implicit,i=n.$index,r=oe(),o=Ut(1);At("active",i===r.activeIdx),X("id",r.id+"-"+i),Q(),X("ngTemplateOutlet",r.resultTemplate||o)("ngTemplateOutletContext",Wc(5,Q0e,e,r.term,r.formatter))}}const tO={animation:!0,transitionTimerDelayMs:5};let S0=(()=>{class t{constructor(){this.animation=tO.animation}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tue=(()=>{class t{constructor(){this._ngbConfig=$e(S0),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hs(t){return parseInt(`${t}`,10)}function G4(t){return null!=t?`${t}`:""}function t2(t){return"string"==typeof t}function Ho(t){return!isNaN(Hs(t))}function po(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function n2(t){return null!=t}function If(t){return Ho(t)?`0${t}`.slice(-2):""}function kf(t){return(t||document.body).getBoundingClientRect()}function iO(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function rO(t=document){const n=t?.activeElement;return n?n.shadowRoot?rO(n.shadowRoot):n:null}const aue=()=>{},{transitionTimerDelayMs:cue}=tO,Y4=new Map,oc=(t,n,e,i)=>{let r=i.context||{};const o=Y4.get(n);if(o)switch(i.runningTransition){case"continue":return Tf;case"stop":t.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Y4.delete(n)}const s=e(n,i.animation,r)||aue;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>s()),Wi(void 0).pipe(function sue(t){return n=>new hn(e=>n.subscribe({next:s=>t.run(()=>e.next(s)),error:s=>t.run(()=>e.error(s)),complete:()=>t.run(()=>e.complete())}))}(t));const c=new xt,v=new xt,C=c.pipe(function xde(...t){return n=>$4(n,Wi(...t))}(!0));Y4.set(n,{transition$:c,complete:()=>{v.next(),v.complete()},context:r});const N=function nue(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const G=Lr(n,"transitionend").pipe(Vn(C),er(({target:le})=>le===n));Nk(z4(N+cue).pipe(Vn(C)),G,v).pipe(Vn(C)).subscribe(()=>{Y4.delete(n),t.run(()=>{s(),c.next(),c.complete()})})}),c.asObservable()},due=(t,n,e)=>{let{direction:i,maxSize:r,dimension:o}=e;const{classList:s}=t;function c(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(n)return r||(r=function lue(t,n){if(typeof navigator>"u")return"0px";const{classList:e}=t,i=e.contains("show");i||e.add("show"),t.style[n]="";const r=t.getBoundingClientRect()[n]+"px";return i||e.remove("show"),r}(t,o),e.maxSize=r,t.style[o]="show"!==i?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),kf(t),s.add("collapsing")),t.style[o]="show"===i?r:"0px",()=>{c(),s.remove("collapsing"),t.style[o]=""};c()};let uue=(()=>{class t{constructor(){this._ngbConfig=$e(S0),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),T0=(()=>{class t{constructor(){this._config=$e(uue),this._element=$e(Ht),this._zone=$e(on),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new mt,this.horizontal=this._config.horizontal,this.shown=new mt,this.hidden=new mt}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return oc(this._zone,this._element.nativeElement,due,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&At("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[Mt.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return t})(),fue=0,oO=(()=>{class t{constructor(){this._vcr=$e(Vr),this._element=$e(Ht).nativeElement,this._item=$e(W1),this._viewRef=null}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef&&(this._viewRef.destroy(),this._viewRef=null)}_createViewIfNotExists(){if(!this._viewRef){this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges();for(const e of this._viewRef.rootNodes)this._element.appendChild(e)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbAccordionBody",""]],contentQueries:function(i,r,o){if(1&i&&ai(o,Hi,7),2&i){let s;Et(s=Lt())&&(r._bodyTpl=s.first)}},hostVars:2,hostBindings:function(i,r){2&i&&At("accordion-body",!0)},standalone:!0})}return t})(),Ub=(()=>{class t{constructor(){this.item=$e(W1),this.ngbCollapse=$e(T0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(i,r){2&i&&(ls("id",r.item.collapseId),Ye("aria-labelledby",r.item.toggleId),At("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[c9([T0])]})}return t})(),Vb=(()=>{class t{constructor(){this.item=$e(W1),this.accordion=$e($g)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(i,r){1&i&&ze("click",function(){return!r.item.disabled&&r.accordion.toggle(r.item.id)}),2&i&&(ls("id",r.item.toggleId),Ye("aria-controls",r.item.collapseId)("aria-expanded",!r.item.collapsed),At("collapsed",r.item.collapsed))},standalone:!0})}return t})(),sO=(()=>{class t{constructor(){this.item=$e(W1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading"],hostVars:4,hostBindings:function(i,r){2&i&&At("accordion-header",!0)("collapsed",r.item.collapsed)},standalone:!0})}return t})(),W1=(()=>{class t{constructor(){this._accordion=$e($g),this._cd=$e(Si),this._destroyRef=$e(Nl),this._collapsed=!0,this._id="ngb-accordion-item-"+fue++,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new mt,this.shown=new mt,this.hide=new mt,this.hidden=new mt}set id(e){t2(e)&&""!==e&&(this._id=e)}set destroyOnHide(e){this._destroyOnHide=e}get destroyOnHide(){return void 0===this._destroyOnHide?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(e){e?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){const{ngbCollapse:e}=this._collapse;e.animation=!1,e.collapsed=this.collapsed,e.animation=this._accordion.animation,e.hidden.pipe(V1(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),e.shown.pipe(V1(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbAccordionItem",""]],contentQueries:function(i,r,o){if(1&i&&ai(o,Ub,7),2&i){let s;Et(s=Lt())&&(r._collapse=s.first)}},hostVars:3,hostBindings:function(i,r){2&i&&(ls("id",r.id),At("accordion-item",!0))},inputs:{id:[Mt.None,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0})}return t})(),$g=(()=>{class t{constructor(){this._config=$e(tue),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new mt,this.shown=new mt,this.hide=new mt,this.hidden=new mt}toggle(e){this._getItem(e)?.toggle()}expand(e){this._getItem(e)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(e=>!e.collapsed)||this._items.first.expand():this._items.forEach(e=>e.expand()))}collapse(e){this._getItem(e)?.collapse()}collapseAll(){this._items?.forEach(e=>e.collapse())}isExpanded(e){const i=this._getItem(e);return!!i&&!i.collapsed}_ensureCanExpand(e){return!(this.closeOthers&&(this._items?(this._items.find(i=>!i.collapsed&&e!==i)?.collapse(),0):this._anItemWasAlreadyExpandedDuringInitialisation||(this._anItemWasAlreadyExpandedDuringInitialisation=!0,0)))}_getItem(e){return this._items?.find(i=>i.id===e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbAccordion",""]],contentQueries:function(i,r,o){if(1&i&&ai(o,W1,4),2&i){let s;Et(s=Lt())&&(r._items=s)}},hostVars:2,hostBindings:function(i,r){2&i&&At("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0})}return t})(),aO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),pue=(()=>{class t{constructor(){this._ngbConfig=$e(S0),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const mue=({classList:t})=>{t.remove("show")};let gue=(()=>{class t{constructor(){this._config=$e(pue),this._elementRef=$e(Ht),this._zone=$e(on),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new mt}close(){const e=oc(this._zone,this._elementRef.nativeElement,mue,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(i,r){2&i&&(So("alert show"+(r.type?" alert-"+r.type:"")),At("fade",r.animation)("alert-dismissible",r.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[Xn],ngContentSelectors:zg,decls:2,vars:1,consts:()=>{let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","aria-label",e,1,"btn-close"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(xr(),pi(0),Me(1,E2e,1,0,"button",0)),2&i&&(Q(),$n(1,r.dismissible?1:-1))},styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0})}return t})(),cO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),uO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),fO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();class Jo{static from(n){return n instanceof Jo?n:n?new Jo(n.year,n.month,n.day):null}constructor(n,e,i){this.year=po(n)?n:null,this.month=po(e)?e:null,this.day=po(i)?i:null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function hO(t){return new Jo(t.getFullYear(),t.getMonth()+1,t.getDate())}function Hg(t){const n=new Date(t.year,t.month-1,t.day,12);return isNaN(n.getTime())||n.setFullYear(t.year),n}let Of=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>function _ue(){return new bue}(),providedIn:"root"})}return t})(),bue=(()=>{class t extends Of{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,i="d",r=1){let o=Hg(e),s=!0,c=o.getMonth();switch(i){case"y":o.setFullYear(o.getFullYear()+r);break;case"m":c+=r,o.setMonth(c),c%=12,c<0&&(c+=12);break;case"d":o.setDate(o.getDate()+r),s=!1;break;default:return e}return s&&o.getMonth()!==c&&o.setDate(0),hO(o)}getPrev(e,i="d",r=1){return this.getNext(e,i,-r)}getWeekday(e){let r=Hg(e).getDay();return 0===r?7:r}getWeekNumber(e,i){7===i&&(i=0);const s=Hg(e[(11-i)%7]);s.setDate(s.getDate()+4-(s.getDay()||7));const c=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((c-s.getTime())/864e5)/7)+1}getToday(){return hO(new Date)}isValid(e){if(!(e&&po(e.year)&&po(e.month)&&po(e.day)&&0!==e.year))return!1;const i=Hg(e);return!isNaN(i.getTime())&&i.getFullYear()===e.year&&i.getMonth()+1===e.month&&i.getDate()===e.day}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();function Nf(t,n){return!function yue(t,n){return!t&&!n||!!t&&!!n&&t.equals(n)}(t,n)}function pO(t,n){return!(!t&&!n||t&&n&&t.year===n.year&&t.month===n.month)}function Ug(t,n,e){return t&&n&&t.before(n)?n:t&&e&&t.after(e)?e:t||null}function jb(t,n){const{minDate:e,maxDate:i,disabled:r,markDisabled:o}=n;return!(null==t||r||o&&o(t,{year:t.year,month:t.month})||e&&t.before(e)||i&&t.after(i))}let E0=(()=>{class t{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>new Aue,providedIn:"root"})}return t})(),Aue=(()=>{class t extends E0{constructor(){super(...arguments),this._locale=$e(Cc),this._monthsShort=l_(this._locale,us.Standalone,ji.Abbreviated),this._monthsFull=l_(this._locale,us.Standalone,ji.Wide)}getWeekdayLabel(e,i){const r=lD(this._locale,us.Standalone,void 0===i?ji.Short:i);return r.map((s,c)=>r[(c+1)%7])[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return uD(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Wb=(()=>{class t{constructor(){this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(po(e=Hs(e))&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(po(e=Hs(e))&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{const i=this.toValidDate(e,null);if(Nf(this._state.maxDate,i))return{maxDate:i}},minDate:e=>{const i=this.toValidDate(e,null);if(Nf(this._state.minDate,i))return{minDate:i}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}},weekdays:e=>{const i=!0===e||!1===e?ji.Short:e,r=!0!==e&&!1!==e||e;if(this._state.weekdayWidth!==i||this._state.weekdaysVisible!==r)return{weekdayWidth:i,weekdaysVisible:r}}},this._calendar=$e(Of),this._i18n=$e(E0),this._model$=new xt,this._dateSelect$=new xt,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:ji.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(er(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(er(e=>null!==e))}set(e){let i=Object.keys(e).map(r=>this._VALIDATORS[r](e[r])).reduce((r,o)=>({...r,...o}),{});Object.keys(i).length>0&&this._nextState(i)}focus(e){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&Nf(this._state.focusDate,i)&&this._nextState({focusDate:e})}focusSelect(){jb(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const i=this.toValidDate(e,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||pO(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(e,i={}){const r=this.toValidDate(e,null);null!=r&&!this._state.disabled&&(Nf(this._state.selectedDate,r)&&this._nextState({selectedDate:r}),i.emitEvent&&jb(r,this._state)&&this._dateSelect$.next(r))}toValidDate(e,i){const r=Jo.from(e);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(r)?r:i}getMonth(e){for(let i of this._state.months)if(e.month===i.number&&e.year===i.year)return i;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const i=this._updateState(e);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(e){const{months:i,displayMonths:r,selectedDate:o,focusDate:s,focusVisible:c,disabled:v,outsideDays:C}=e;e.months.forEach(N=>{N.weeks.forEach(G=>{G.days.forEach(se=>{s&&(se.context.focused=s.equals(se.date)&&c),se.tabindex=!v&&s&&se.date.equals(s)&&s.month===N.number?0:-1,!0===v&&(se.context.disabled=!0),void 0!==o&&(se.context.selected=null!==o&&o.equals(se.date)),N.number!==se.date.month&&(se.hidden="hidden"===C||"collapsed"===C||r>1&&se.date.after(i[0].firstDate)&&se.date.before(i[r-1].lastDate))})})})}_updateState(e){const i=Object.assign({},this._state,e);let r=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function wue(t,n){if(n&&t&&n.before(t))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${t}`)}(i.minDate,i.maxDate),i.focusDate=Ug(i.focusDate,i.minDate,i.maxDate),i.firstDate=Ug(i.firstDate,i.minDate,i.maxDate),r=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(r=i.selectedDate),"focusVisible"in e||"focusDate"in e&&(i.focusDate=Ug(i.focusDate,i.minDate,i.maxDate),r=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=Ug(i.firstDate,i.minDate,i.maxDate),r=i.firstDate),r){const s=function Tue(t,n,e,i,r){const{displayMonths:o,months:s}=e,c=s.splice(0,s.length);return Array.from({length:o},(C,N)=>{const G=Object.assign(t.getNext(n,"m",N),{day:1});if(s[N]=null,!r){const se=c.findIndex(le=>le.firstDate.equals(G));-1!==se&&(s[N]=c.splice(se,1)[0])}return G}).forEach((C,N)=>{null===s[N]&&(s[N]=function Eue(t,n,e,i,r={}){const{dayTemplateData:o,minDate:s,maxDate:c,firstDayOfWeek:v,markDisabled:C,outsideDays:N,weekdayWidth:G,weekdaysVisible:se}=e,le=t.getToday();r.firstDate=null,r.lastDate=null,r.number=n.month,r.year=n.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],n=function Lue(t,n,e){const i=t.getDaysPerWeek(),r=new Jo(n.year,n.month,1),o=t.getWeekday(r)%i;return t.getPrev(r,"d",(i+o-e)%i)}(t,n,v),se||(r.weekdays.length=0);for(let pe=0;pe<t.getWeeksPerMonth();pe++){let we=r.weeks[pe];we||(we=r.weeks[pe]={number:0,days:[],collapsed:!0});const Le=we.days;for(let Be=0;Be<t.getDaysPerWeek();Be++){0===pe&&se&&(r.weekdays[Be]=i.getWeekdayLabel(t.getWeekday(n),G));const Pe=new Jo(n.year,n.month,n.day),Je=t.getNext(Pe),ut=i.getDayAriaLabel(Pe);let Dt=!!(s&&Pe.before(s)||c&&Pe.after(c));!Dt&&C&&(Dt=C(Pe,{month:r.number,year:r.year}));let Ft=Pe.equals(le),en=o?o(Pe,{month:r.number,year:r.year}):void 0;null===r.firstDate&&Pe.month===r.number&&(r.firstDate=Pe),Pe.month===r.number&&Je.month!==r.number&&(r.lastDate=Pe);let vn=Le[Be];vn||(vn=Le[Be]={}),vn.date=Pe,vn.context=Object.assign(vn.context||{},{$implicit:Pe,date:Pe,data:en,currentMonth:r.number,currentYear:r.year,disabled:Dt,focused:!1,selected:!1,today:Ft}),vn.tabindex=-1,vn.ariaLabel=ut,vn.hidden=!1,n=Je}we.number=t.getWeekNumber(Le.map(Be=>Be.date),v),we.collapsed="collapsed"===N&&Le[0].date.month!==r.number&&Le[Le.length-1].date.month!==r.number}return r}(t,C,e,i,c.shift()||{}))}),s}(this._calendar,r,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);i.months=s,i.firstDate=s[0].firstDate,i.lastDate=s[s.length-1].lastDate,"selectedDate"in e&&!jb(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=r);const c=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,v=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||c)&&(i.selectBoxes.years=function Cue(t,n,e){if(!t)return[];const i=n?Math.max(n.year,t.year-500):t.year-10,o=(e?Math.min(e.year,t.year+500):t.year+10)-i+1,s=Array(o);for(let c=0;c<o;c++)s[c]=i+c;return s}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||c)&&(i.selectBoxes.months=function xue(t,n,e,i){if(!n)return[];let r=t.getMonths(n.year);if(e&&n.year===e.year){const o=r.findIndex(s=>s===e.month);r=r.slice(o)}if(i&&n.year===i.year){const o=r.findIndex(s=>s===i.month);r=r.slice(0,o+1)}return r}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(v||c||"minDate"in e||"maxDate"in e||"disabled"in e)&&(i.prevDisabled=i.disabled||function Sue(t,n,e){const i=Object.assign(t.getPrev(n,"m"),{day:1});return null!=e&&(i.year===e.year&&i.month<e.month||i.year<e.year&&1===e.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function Mue(t,n,e){const i=Object.assign(t.getNext(n,"m"),{day:1});return null!=e&&i.after(e)}(this._calendar,i.lastDate,i.maxDate))}return i}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();var Vg=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}(Vg||{});let jg=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=ji.Short}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),r2=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>function Due(){return new Iue}(),providedIn:"root"})}return t})(),Iue=(()=>{class t extends r2{fromModel(e){return e&&po(e.year)&&po(e.month)&&po(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&po(e.year)&&po(e.month)&&po(e.day)?{year:e.year,month:e.month,day:e.day}:null}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();var rr=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(rr||{});let kue=(()=>{class t{processKey(e,i){const{state:r,calendar:o}=i;switch(e.which){case rr.PageUp:i.focusDate(o.getPrev(r.focusedDate,e.shiftKey?"y":"m",1));break;case rr.PageDown:i.focusDate(o.getNext(r.focusedDate,e.shiftKey?"y":"m",1));break;case rr.End:i.focusDate(e.shiftKey?r.maxDate:r.lastDate);break;case rr.Home:i.focusDate(e.shiftKey?r.minDate:r.firstDate);break;case rr.ArrowLeft:i.focusDate(o.getPrev(r.focusedDate,"d",1));break;case rr.ArrowUp:i.focusDate(o.getPrev(r.focusedDate,"d",o.getDaysPerWeek()));break;case rr.ArrowRight:i.focusDate(o.getNext(r.focusedDate,"d",1));break;case rr.ArrowDown:i.focusDate(o.getNext(r.focusedDate,"d",o.getDaysPerWeek()));break;case rr.Enter:case rr.Space:i.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oue=(()=>{class t{constructor(){this.i18n=$e(E0)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(i,r){2&i&&At("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[Xn],attrs:A2e,decls:1,vars:1,template:function(i,r){1&i&&ye(0),2&i&&It(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0})}return t})(),Nue=(()=>{class t{constructor(){this._month=-1,this._year=-1,this.i18n=$e(E0),this.select=new mt}changeMonth(e){this.select.emit(new Jo(this.date.year,Hs(e),1))}changeYear(e){this.select.emit(new Jo(Hs(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(i,r){if(1&i&&(Ln(D2e,7,Ht),Ln(I2e,7,Ht)),2&i){let o;Et(o=Lt())&&(r.monthSelect=o.first),Et(o=Lt())&&(r.yearSelect=o.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[Xn],decls:8,vars:2,consts:()=>{let e,i,r,o;return e=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,o=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",e,"title",i,1,"form-select",3,"change","disabled"],[3,"value"],["aria-label",r,"title",o,1,"form-select",3,"change","disabled"]]},template:function(i,r){if(1&i){const o=lt();ee(0,"select",2,0),ze("change",function(c){return Se(o),Ee(r.changeMonth(c.target.value))}),Ts(2,k2e,2,3,"option",3,$s),ie(),ee(4,"select",4,1),ze("change",function(c){return Se(o),Ee(r.changeYear(c.target.value))}),Ts(6,O2e,2,2,"option",3,$s),ie()}2&i&&(X("disabled",r.disabled),Q(2),Es(r.months),Q(2),X("disabled",r.disabled),Q(2),Es(r.years))},styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0})}return t})(),Rue=(()=>{class t{constructor(){this.navigation=Vg,this.i18n=$e(E0),this.months=[],this.navigate=new mt,this.select=new mt}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[Xn],decls:8,vars:4,consts:()=>{let e,i,r,o;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,o=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",e,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",r,"title",o,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(i,r){1&i&&(ee(0,"div",0)(1,"button",1),ze("click",function(s){return r.onClickPrev(s)}),Ve(2,"span",2),ie()(),Me(3,N2e,1,4,"ngb-datepicker-navigation-select",3)(4,z2e,2,0),ee(5,"div",4)(6,"button",5),ze("click",function(s){return r.onClickNext(s)}),Ve(7,"span",2),ie()()),2&i&&(Q(),X("disabled",r.prevDisabled),Q(2),$n(3,r.showSelect?3:-1),Q(),$n(4,r.showSelect?-1:4),Q(2),X("disabled",r.nextDisabled))},dependencies:[Nue],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0})}return t})(),mO=(()=>{class t{constructor(){this.templateRef=$e(Hi)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0})}return t})(),gO=(()=>{class t{constructor(){this._keyboardService=$e(kue),this._service=$e(Wb),this.i18n=$e(E0),this.datepicker=$e(Gb)}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(i,r){1&i&&ze("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},standalone:!0,features:[Xn],decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"disabled","tabindex","hidden","ngb-dp-today"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(Me(0,H2e,4,1,"div",0),Ts(1,Y2e,1,1,null,null,$s)),2&i&&($n(0,r.viewModel.weekdays.length>0?0:-1),Q(),Es(r.viewModel.weeks))},dependencies:[ho],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2})}return t})(),Gb=(()=>{class t{constructor(){this.injector=$e(io),this._service=$e(Wb),this._calendar=$e(Of),this._i18n=$e(E0),this._config=$e(jg),this._nativeElement=$e(Ht).nativeElement,this._ngbDateAdapter=$e(r2),this._ngZone=$e(on),this._destroyRef=$e(Nl),this._controlValue=null,this._publicState={},this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new mt,this.dateSelect=new mt,this.onChange=i=>{},this.onTouched=()=>{};const e=$e(Si);this._service.dateSelect$.pipe(V1()).subscribe(i=>{this.dateSelect.emit(i)}),this._service.model$.pipe(V1()).subscribe(i=>{const r=i.firstDate,o=this.model?this.model.firstDate:null;this._publicState={maxDate:i.maxDate,minDate:i.minDate,firstDate:i.firstDate,lastDate:i.lastDate,focusedDate:i.focusDate,months:i.months.map(N=>N.firstDate)};let s=!1;if(!r.equals(o)&&(this.navigate.emit({current:o?{year:o.year,month:o.month}:null,next:{year:r.year,month:r.month},preventDefault:()=>s=!0}),s&&null!==o))return void this._service.open(o);const c=i.selectedDate,v=i.focusDate,C=this.model?this.model.focusDate:null;this.model=i,Nf(c,this._controlValue)&&(this._controlValue=c,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(c))),Nf(v,C)&&C&&i.focusVisible&&this.focus(),e.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(e){this._service.focus(Jo.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Ar(1)).subscribe(()=>this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus())}navigateTo(e){this._service.open(Jo.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{ma(Lr(this._contentEl.nativeElement,"focusin"),Lr(this._contentEl.nativeElement,"focusout")).pipe(er(r=>{const o=r.target,s=r.relatedTarget;return!(o?.classList.contains("ngb-dp-day")&&s?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(o)&&this._nativeElement.contains(s))}),V1(this._destroyRef)).subscribe(({type:r})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===r})))})}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>e[i]=this[i]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(r=>r in e).forEach(r=>i[r]=this[r]),this._service.set(i),"startDate"in e){const{currentValue:r,previousValue:o}=e.startDate;pO(o,r)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Vg.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Vg.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=Jo.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(i,r,o){if(1&i&&ai(o,mO,7),2&i){let s;Et(s=Lt())&&(r.contentTemplateFromContent=s.first)}},viewQuery:function(i,r){if(1&i&&(Ln(q2e,7),Ln(K2e,7)),2&i){let o;Et(o=Lt())&&(r._defaultDayTemplate=o.first),Et(o=Lt())&&(r._contentEl=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&At("disabled",r.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[Nn([{provide:hs,useExisting:Ie(()=>t),multi:!0},Wb]),si,Xn],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(i,r){if(1&i&&(Me(0,Z2e,1,5,"ng-template",null,0,En)(2,J2e,2,0,"ng-template",null,1,En),ee(4,"div",3),Me(5,e0e,1,7,"ngb-datepicker-navigation",4),ie(),ee(6,"div",5,2),Me(8,t0e,0,0,"ng-template",6),ie(),Me(9,n0e,0,0,"ng-template",7)),2&i){const o=Ut(3);Q(5),$n(5,"none"!==r.navigation?5:-1),Q(),At("ngb-dp-months",!r.contentTemplate),Q(2),X("ngTemplateOutlet",r.contentTemplate||(null==r.contentTemplateFromContent?null:r.contentTemplateFromContent.templateRef)||o)("ngTemplateOutletContext",Wn(7,eO,r))("ngTemplateOutletInjector",r.injector),Q(),X("ngTemplateOutlet",r.footerTemplate)}},dependencies:[ho,Oue,gO,Rue],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0})}return t})();const Wg=(t,n)=>!!n&&n.some(e=>e.contains(t)),vO=(t,n)=>!n||null!=function oue(t,n){return!n||typeof t.closest>"u"?null:t.closest(n)}(t,n),Fue=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function K4(t,n,e,i,r,o,s,c){e&&t.runOutsideAngular((t=>Fue?()=>setTimeout(()=>t(),100):t)(()=>{const C=Lr(n,"keydown").pipe(Vn(r),er(se=>se.which===rr.Escape),Xc(se=>se.preventDefault())),N=Lr(n,"mousedown").pipe(Mn(se=>{const le=se.target;return 2!==se.button&&!Wg(le,s)&&("inside"===e?Wg(le,o)&&vO(le,c):"outside"===e?!Wg(le,o):vO(le,c)||!Wg(le,o))}),Vn(r)),G=Lr(n,"mouseup").pipe(Ab(N),er(([se,le])=>le),Pk(0),Vn(r));Nk([C.pipe(Mn(se=>0)),G.pipe(Mn(se=>1))]).subscribe(se=>t.run(()=>i(se)))}))}const _O=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function bO(t){const n=Array.from(t.querySelectorAll(_O)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const yO=(t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const r=Lr(n,"focusin").pipe(Vn(e),Mn(o=>o.target));Lr(n,"keydown").pipe(Vn(e),er(o=>o.which===rr.Tab),Ab(r)).subscribe(([o,s])=>{const[c,v]=bO(n);(s===c||s===n)&&o.shiftKey&&(v.focus(),o.preventDefault()),s===v&&!o.shiftKey&&(c.focus(),o.preventDefault())}),i&&Lr(n,"click").pipe(Vn(e),Ab(r),Mn(o=>o[1])).subscribe(o=>o.focus())})};let zue=(()=>{class t{constructor(){this._element=$e(zn).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $ue=/\s+/,Bue=/  +/gi,Hue={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Vue=/^left/,jue=/^right/,Wue=/^start/,Gue=/^end/;function wO({placement:t,baseClass:n},e){let i=Array.isArray(t)?t:t.split($ue),o=i.findIndex(C=>"auto"===C);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(C){null==i.find(N=>-1!==N.search("^"+C))&&i.splice(o++,1,C)});const s=i.map(C=>function Uue(t,n){const[e,i]=Hue[t];return n&&i||e}(C,e.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:C}){const N=new RegExp(n+"(-[a-z]+)*","gi"),G=C.elements.popper,se=C.placement;let le=G.className;le=le.replace(N,""),le+=` ${function Yue(t,n){let[e,i]=n.split("-");const r=e.replace(Vue,"start").replace(jue,"end");let o=[r];if(i){let s=i;("left"===e||"right"===e)&&(s=s.replace(Wue,"top").replace(Gue,"bottom")),o.push(`${r}-${s}`)}return t&&(o=o.map(s=>`${t}-${s}`)),o.join(" ")}(n,se)}`,le=le.trim().replace(Bue," "),G.className=le}},qde,Xde,n2e,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function xO(t){return t}function Z4(){const t=$e(zue);let n=null;return{createPopper(e){if(!n){let r=(e.updatePopperOptions||xO)(wO(e,t));n=C2e(e.hostElement,e.targetElement,r)}},update(){n&&n.update()},setOptions(e){if(n){let r=(e.updatePopperOptions||xO)(wO(e,t));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}let L0=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>function que(){return new Kue}(),providedIn:"root"})}return t})(),Kue=(()=>{class t extends L0{parse(e){if(null!=e){const i=e.trim().split("-");if(1===i.length&&Ho(i[0]))return{year:Hs(i[0]),month:null,day:null};if(2===i.length&&Ho(i[0])&&Ho(i[1]))return{year:Hs(i[0]),month:Hs(i[1]),day:null};if(3===i.length&&Ho(i[0])&&Ho(i[1])&&Ho(i[2]))return{year:Hs(i[0]),month:Hs(i[1]),day:Hs(i[2])}}return null}format(e){return e?`${e.year}-${Ho(e.month)?If(e.month):""}-${Ho(e.day)?If(e.day):""}`:""}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),CO=(()=>{class t extends jg{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.restoreFocus=!0}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Q4(t){return n=>(n.modifiers.push(T2e,{name:"offset",options:{offset:()=>t}}),n)}let Gg=(()=>{class t{constructor(){this._parserFormatter=$e(L0),this._elRef=$e(Ht),this._vcRef=$e(Vr),this._ngZone=$e(on),this._calendar=$e(Of),this._dateAdapter=$e(r2),this._document=$e(zn),this._changeDetector=$e(Si),this._config=$e(CO),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=Z4(),this._destroyCloseHandlers$=new xt,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new mt,this.navigate=new mt,this.closed=new mt,this._onChange=e=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const{value:i}=e;if(null!=i){const r=this._fromDateStruct(this._dateAdapter.fromModel(i));if(!r)return{ngbDate:{invalid:i}};if(this.minDate&&r.before(Jo.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:i}}};if(this.maxDate&&r.after(Jo.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:i}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,i=!1){const r=e!==this._inputValue;r&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(r||!i)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),i&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let e;if(this._cRef=this._vcRef.createComponent(Gb),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(i=>{this.writeValue(i),this._onChange(i),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,yO(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),e=t2(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&e&&(this._positioning.createPopper({hostElement:e,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:i=>this.popperOptions(Q4([0,2])(i))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;t2(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){if((e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&this._cRef.setInput("minDate",this.minDate),e.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),e.datepickerClass){const{currentValue:i,previousValue:r}=e.datepickerClass;this._applyPopupClass(i,r)}e.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(e){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(i=>{void 0!==this[i]&&e.setInput(i,this[i])}),e.setInput("startDate",this.startDate||this._model)}_applyPopupClass(e,i){const r=this._cRef?.location.nativeElement;r&&(e&&r.classList.add(e),i&&r.classList.remove(i))}_applyPopupStyling(e){e.classList.add("dropdown-menu","show"),"body"===this.container&&e.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(i=>this.navigate.emit(i)),e.dateSelect.subscribe(i=>{this.dateSelect.emit(i),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(e){const i=this._parserFormatter.format(e);this._inputValue=i,this._elRef.nativeElement.value=i,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const i=e?new Jo(e.year,e.month,e.day):null;return this._calendar.isValid(i)?i:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),K4(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(i,r){1&i&&ze("input",function(s){return r.manualDateChange(s.target.value)})("change",function(s){return r.manualDateChange(s.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),2&i&&ls("disabled",r.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[Nn([{provide:hs,useExisting:Ie(()=>t),multi:!0},{provide:Bs,useExisting:Ie(()=>t),multi:!0},{provide:jg,useExisting:CO}]),si]})}return t})();new Date(1882,10,12),new Date(2174,10,25);let kO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),cfe=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.container=null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ep=(()=>{class t{constructor(){this._disabled=!1,this.nativeElement=$e(Ht).nativeElement,this.tabindex=0}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,r){2&i&&(ls("tabIndex",r.disabled?-1:r.tabindex),At("disabled",r.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}return t})(),Qb=(()=>{class t{constructor(){this.item=$e(ep)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(i,r){2&i&&ls("disabled",r.item.disabled)},standalone:!0})}return t})(),tp=(()=>{class t{constructor(){this.dropdown=$e(Ff),this.nativeElement=$e(Ht).nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,r,o){if(1&i&&ai(o,ep,4),2&i){let s;Et(s=Lt())&&(r.menuItems=s)}},hostVars:4,hostBindings:function(i,r){1&i&&ze("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return r.dropdown.onKeyDown(s)})("keydown.Space",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),2&i&&At("dropdown-menu",!0)("show",r.dropdown.isOpen())},standalone:!0})}return t})(),Zg=(()=>{class t{constructor(){this.dropdown=$e(Ff),this.nativeElement=$e(Ht).nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){2&i&&(Ye("aria-expanded",r.dropdown.isOpen()),At("show",r.dropdown.isOpen()))},standalone:!0})}return t})(),Qg=(()=>{class t extends Zg{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){1&i&&ze("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),2&i&&(Ye("aria-expanded",r.dropdown.isOpen()),At("show",r.dropdown.isOpen()))},standalone:!0,features:[Nn([{provide:Zg,useExisting:Ie(()=>t)}]),Ct]})}return t})(),Ff=(()=>{class t{constructor(){this._changeDetector=$e(Si),this._config=$e(cfe),this._document=$e(zn),this._ngZone=$e(on),this._nativeElement=$e(Ht).nativeElement,this._destroyCloseHandlers$=new xt,this._bodyContainer=null,this._positioning=Z4(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new mt}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(Ar(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:e=>this.popperOptions(Q4([0,2])(e))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),K4(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let o=-1,s=null;const c=this._isEventFromToggle(e);if(!c&&r.length&&r.forEach((v,C)=>{v.contains(e.target)&&(s=v),v===rO(this._document)&&(o=C)}),i!==rr.Space&&i!==rr.Enter){if(i!==rr.Tab){if(c||s){if(this.open(),r.length){switch(i){case rr.ArrowDown:o=Math.min(o+1,r.length-1);break;case rr.ArrowUp:if(this._isDropup()&&-1===o){o=r.length-1;break}o=Math.max(o-1,0);break;case rr.Home:o=0;break;case rr.End:o=r.length-1}r[o].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const v=this._menu.nativeElement.querySelectorAll(_O);e.shiftKey&&e.target===v[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===v[v.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Lr(e.target,"focusout").pipe(Ar(1)).subscribe(({relatedTarget:v})=>{this._nativeElement.contains(v)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Lr(s,"click").pipe(Ar(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:e})=>!e).map(({nativeElement:e})=>e):[]}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||this._document.createElement("div");r.style.position="absolute",i.style.position="static",r.style.zIndex="1055",r.appendChild(i),this._document.body.appendChild(r)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._nativeElement;r&&(i&&r.classList.remove(i),e&&r.classList.add(e))}_applyPlacementClasses(e){if(this._menu){e||(e=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const i=-1!==e.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(i),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(i))}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(i,r,o){if(1&i&&(ai(o,tp,5),ai(o,Zg,5)),2&i){let s;Et(s=Lt())&&(r._menu=s.first),Et(s=Lt())&&(r._anchor=s.first)}},hostVars:2,hostBindings:function(i,r){2&i&&At("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[Mt.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[si]})}return t})(),OO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),lfe=(()=>{class t{constructor(){this._ngbConfig=$e(S0),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class I0{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class Xb{constructor(n){this._componentType=n,this._windowRef=null,this._contentRef=null,this._document=$e(zn),this._applicationRef=$e(Ul),this._injector=$e(io),this._viewContainerRef=$e(Vr),this._ngZone=$e(on)}open(n,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(Ar(1),Jd(()=>oc(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(n=!1){return this._windowRef?oc(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(Xc(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Wi(void 0)}_getContentRef(n,e){if(n){if(n instanceof Hi){const i=n.createEmbeddedView(e);return this._applicationRef.attachView(i),new I0([i.rootNodes],i)}return new I0([[this._document.createTextNode(`${n}`)]])}return new I0([])}}let dfe=(()=>{class t{constructor(){this._document=$e(zn)}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const c=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${c+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ufe=(()=>{class t{constructor(){this._nativeElement=$e(Ht).nativeElement,this._zone=$e(on)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ar(1)).subscribe(()=>{oc(this._zone,this._nativeElement,(e,i)=>{i&&kf(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return oc(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(So("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),At("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Xn],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();class nl{update(n){}close(n){}dismiss(n){}}const ffe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],hfe=["animation","backdropClass"];class pfe{_applyWindowOptions(n,e){ffe.forEach(i=>{n2(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){hfe.forEach(i=>{n2(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Vn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Vn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,r){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new xt,this._dismissed=new xt,this._hidden=new xt,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function nO(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Wi(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Lb(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Jb=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Jb||{});let mfe=(()=>{class t{constructor(){this._document=$e(zn),this._elRef=$e(Ht),this._zone=$e(on),this._closed$=new xt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new mt,this.shown=new xt,this.hidden=new xt}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":t2(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ar(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=Lb(oc(this._zone,e,()=>e.classList.remove("show"),i),oc(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};Lb(oc(this._zone,this._elRef.nativeElement,(o,s)=>{s&&kf(o),o.classList.add("show")},e),oc(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Lr(e,"keydown").pipe(Vn(this._closed$),er(r=>r.which===rr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Jb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Lr(this._dialogEl.nativeElement,"mousedown").pipe(Vn(this._closed$),Xc(()=>i=!1),Oa(()=>Lr(e,"mouseup").pipe(Vn(this._closed$),Ar(1))),er(({target:r})=>e===r)).subscribe(()=>{i=!0}),Lr(e,"click").pipe(Vn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Jb.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=bO(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oc(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Ln(i0e,7),2&i){let o;Et(o=Lt())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Ye("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),So("modal d-block"+(r.windowClass?" "+r.windowClass:"")),At("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Xn],ngContentSelectors:zg,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){1&i&&(xr(),ee(0,"div",1,0)(2,"div",2),pi(3),ie()()),2&i&&So("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),gfe=(()=>{class t{constructor(){this._applicationRef=$e(Ul),this._injector=$e(io),this._environmentInjector=$e(qs),this._document=$e(zn),this._scrollBar=$e(dfe),this._activeWindowCmptHasChanged=new xt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new mt;const e=$e(on);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];yO(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:n2(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const s=new nl,c=(e=r.injector||e).get(qs,null)||this._environmentInjector,v=this._getContentRef(e,c,i,s,r);let C=!1!==r.backdrop?this._attachBackdrop(o):void 0,N=this._attachWindowComponent(o,v.nodes),G=new pfe(N,v,C,r.beforeDismiss);return this._registerModalRef(G),this._registerWindowCmpt(N),G.hidden.pipe(Ar(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=se=>{G.close(se)},s.dismiss=se=>{G.dismiss(se)},s.update=se=>{G.update(se)},G.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),C&&C.instance&&C.changeDetectorRef.detectChanges(),N.changeDetectorRef.detectChanges(),G}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=s_(ufe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=s_(mfe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof Hi?this._createFromTemplateRef(r,o):t2(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new I0([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new I0([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new I0([[i]])}_createFromComponent(e,i,r,o,s){const v=s_(r,{environmentInjector:i,elementInjector:io.create({providers:[{provide:nl,useValue:o}],parent:e})}),C=v.location.nativeElement;return s.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(v.hostView),new I0([[C]],v.hostView,v)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k0=(()=>{class t{constructor(){this._injector=$e(io),this._modalStack=$e(gfe),this._config=$e(lfe)}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[k0]})}return t})(),PO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),WO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();const Sfe={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function GO(t,n,e,i,r,o=0,s=0){const c=function Tfe(t){const n=(t||"").trim();if(0===n.length)return[];const e=n.split(/\s+/).map(r=>r.split(":")).map(r=>Sfe[r[0]]||r),i=e.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(n);if(0===c.length)return()=>{};const v=new Set,C=[];let N;function G(le,pe){t.addEventListener(le,pe),C.push(()=>t.removeEventListener(le,pe))}function se(le,pe){clearTimeout(N),pe>0?N=setTimeout(le,pe):le()}for(const[le,pe]of c)pe?(G(le,()=>{v.add(le),se(()=>v.size>0&&i(),o)}),G(pe,()=>{v.delete(le),se(()=>0===v.size&&r(),s)})):G(le,()=>e()?se(r,s):se(i,o));return()=>C.forEach(le=>le())}let Efe=(()=>{class t{constructor(){this._ngbConfig=$e(S0),this.autoClose=!0,this.placement="auto",this.popperOptions=e=>e,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lfe=0,Afe=(()=>{class t{isTitleTemplate(){return this.title instanceof Hi}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(i,r){2&i&&(ls("id",r.id),So("popover"+(r.popoverClass?" "+r.popoverClass:"")),At("fade",r.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},standalone:!0,features:[Xn],ngContentSelectors:zg,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(xr(),Ve(0,"div",1),Me(1,R0e,4,2,"h3",2),ee(2,"div",3),pi(3),ie()),2&i&&(Q(),$n(1,r.title?1:-1))},dependencies:[ho],encapsulation:2,changeDetection:0})}return t})(),np=(()=>{class t{constructor(){this._config=$e(Efe),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new mt,this.hidden=new mt,this._nativeElement=$e(Ht).nativeElement,this._ngZone=$e(on),this._document=$e(zn),this._changeDetector=$e(Si),this._ngbPopoverWindowId="ngb-popover-"+Lfe++,this._popupService=new Xb(Afe),this._windowRef=null,this._positioning=Z4()}open(e){if(!this._windowRef&&!this._isDisabled()){const{windowRef:i,transition$:r}=this._popupService.open(this.ngbPopover,e??this.popoverContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",e??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-popover",updatePopperOptions:o=>this.popperOptions(Q4([0,8])(o))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),K4(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=GO(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:e,popoverTitle:i,disablePopover:r,popoverClass:o}){o&&this.isOpen()&&this._windowRef.setInput("popoverClass",o.currentValue),(e||i||r)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(t2(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],standalone:!0,features:[si]})}return t})(),YO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),qO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),KO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),ZO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();class QO{constructor(n,e,i){this.hour=Hs(n),this.minute=Hs(e),this.second=Hs(i)}changeHour(n=1){this.updateHour((isNaN(this.hour)?0:this.hour)+n)}updateHour(n){this.hour=Ho(n)?(n<0?24+n:n)%24:NaN}changeMinute(n=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+n)}updateMinute(n){Ho(n)?(this.minute=n%60<0?60+n%60:n%60,this.changeHour(Math.floor(n/60))):this.minute=NaN}changeSecond(n=1){this.updateSecond((isNaN(this.second)?0:this.second)+n)}updateSecond(n){Ho(n)?(this.second=n<0?60+n%60:n%60,this.changeMinute(Math.floor(n/60))):this.second=NaN}isValid(n=!0){return Ho(this.hour)&&Ho(this.minute)&&(!n||Ho(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let kfe=(()=>{class t{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ip=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>function Ofe(){return new Nfe}(),providedIn:"root"})}return t})(),Nfe=(()=>{class t extends ip{fromModel(e){return e&&po(e.hour)&&po(e.minute)?{hour:e.hour,minute:e.minute,second:po(e.second)?e.second:null}:null}toModel(e){return e&&po(e.hour)&&po(e.minute)?{hour:e.hour,minute:e.minute,second:po(e.second)?e.second:null}:null}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),XO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:()=>new Rfe,providedIn:"root"})}return t})(),Rfe=(()=>{class t extends XO{constructor(){super(...arguments),this._periods=cD($e(Cc),us.Standalone,ji.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const Ffe=/[^0-9]/g;let Pfe=(()=>{class t{set hourStep(e){this._hourStep=po(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=po(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=po(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}constructor(e,i,r,o){this._config=e,this._ngbTimeAdapter=i,this._cd=r,this.i18n=o,this.onChange=s=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}writeValue(e){const i=this._ngbTimeAdapter.fromModel(e);this.model=i?new QO(i.hour,i.minute,i.second):new QO,!this.seconds&&(!i||!Ho(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model?.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model?.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model?.changeSecond(e),this.propagateModelChange()}updateHour(e){const i=!!this.model&&this.model.hour>=12,r=Hs(e);this.model?.updateHour(this.meridian&&(i&&r<12||!i&&12===r)?r+12:r),this.propagateModelChange()}updateMinute(e){this.model?.updateMinute(Hs(e)),this.propagateModelChange()}updateSecond(e){this.model?.updateSecond(Hs(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(Ffe,"")}formatHour(e){return Ho(e)?If(this.meridian?e%12==0?12:e%12:e%24):If(NaN)}formatMinSec(e){return If(Ho(e)?e:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!Ho(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(kfe),ve(ip),ve(Si),ve(XO))};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[Nn([{provide:hs,useExisting:Ie(()=>t),multi:!0}]),si,Xn],decls:14,vars:23,consts:()=>{let e,i,r,o,s,c,v,C,N,G,se,le,pe;return e=$localize`:@@ngb.timepicker.HH:HH`,i=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,o=$localize`:@@ngb.timepicker.minutes:Minutes`,s=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,v=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,C=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,N=$localize`:@@ngb.timepicker.SS:SS`,G=$localize`:@@ngb.timepicker.seconds:Seconds`,se=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,le=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,pe=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[s,c,v,C,se,le,pe,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button",1,"btn","btn-link",3,"btn-sm","btn-lg","disabled"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",i,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",o,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",N,"aria-label",G,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"]]},template:function(i,r){1&i&&(ee(0,"fieldset",7)(1,"div",8)(2,"div",9),Me(3,P0e,4,7,"button",10),ee(4,"input",11),ze("change",function(s){return r.updateHour(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeHour(r.hourStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeHour(-r.hourStep),s.preventDefault()}),ie(),Me(5,z0e,4,7,"button",10),ie(),ee(6,"div",12),ye(7,":"),ie(),ee(8,"div",13),Me(9,$0e,4,7,"button",10),ee(10,"input",14),ze("change",function(s){return r.updateMinute(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeMinute(r.minuteStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeMinute(-r.minuteStep),s.preventDefault()}),ie(),Me(11,B0e,4,7,"button",10),ie(),Me(12,V0e,6,9)(13,G0e,5,8),ie()()),2&i&&(At("disabled",r.disabled),X("disabled",r.disabled),Q(3),$n(3,r.spinners?3:-1),Q(),At("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),X("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),Q(),$n(5,r.spinners?5:-1),Q(4),$n(9,r.spinners?9:-1),Q(),At("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),X("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),Q(),$n(11,r.spinners?11:-1),Q(),$n(12,r.seconds?12:-1),Q(),$n(13,r.meridian?13:-1))},styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2})}return t})(),JO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),eN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),zfe=(()=>{class t{constructor(){this._ngbConfig=$e(S0),this.autoClose=!0,this.placement="auto",this.popperOptions=e=>e,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$fe=0,Bfe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){2&i&&(ls("id",r.id),So("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),At("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[Xn],ngContentSelectors:zg,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(xr(),Ve(0,"div",0),ee(1,"div",1),pi(2),ie())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return t})(),e8=(()=>{class t{constructor(){this._config=$e(zfe),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new mt,this.hidden=new mt,this._nativeElement=$e(Ht).nativeElement,this._ngZone=$e(on),this._document=$e(zn),this._changeDetector=$e(Si),this._ngbTooltipWindowId="ngb-tooltip-"+$fe++,this._popupService=new Xb(Bfe),this._windowRef=null,this._positioning=Z4()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(Q4([0,6])(o))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),K4(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=GO(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&this._windowRef.setInput("tooltipClass",e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(t2(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[si]})}return t})(),tN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),nN=(()=>{class t{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=G4(this.result),r=Array.isArray(this.term)?this.term:[this.term],o=C=>this.accentSensitive?C:iO(C),s=r.map(C=>function rue(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(G4(C)))).filter(C=>C),c=this.accentSensitive?i:iO(i),v=s.length?c.split(new RegExp(`(${s.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=v;else{let C=0;this.parts=v.map(N=>i.substring(C,C+=N.length))}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[si,Xn],decls:2,vars:0,consts:[[3,"class"]],template:function(i,r){1&i&&Ts(0,Z0e,2,1,null,null,$s),2&i&&Es(r.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}return t})();const Hfe=new at("live announcer delay",{providedIn:"root",factory:()=>100});function iN(t,n=!1){let e=t.body.querySelector("#ngb-live");return null==e&&n&&(e=t.createElement("div"),e.setAttribute("id","ngb-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("visually-hidden"),t.body.appendChild(e)),e}let Ufe=(()=>{class t{constructor(){this._document=$e(zn),this._delay=$e(Hfe)}ngOnDestroy(){const e=iN(this._document);e&&e.parentElement.removeChild(e)}say(e){const i=iN(this._document,!0),r=this._delay;if(null!=i){i.textContent="";const o=()=>i.textContent=e;null===r?o():setTimeout(o,r)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vfe=(()=>{class t{constructor(){this.editable=!0,this.focusFirst=!0,this.selectOnExact=!1,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jfe=(()=>{class t{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=G4,this.selectEvent=new mt,this.activeChangeEvent=new mt}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(i,r){1&i&&ze("mousedown",function(s){return s.preventDefault()}),2&i&&(ls("id",r.id),So("dropdown-menu show"+(r.popupClass?" "+r.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],standalone:!0,features:[Xn],decls:4,vars:0,consts:[["rt",""],["type","button","role","option",1,"dropdown-item",3,"id","active"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(Me(0,X0e,1,2,"ng-template",null,0,En),Ts(2,eue,2,9,"button",1,$s)),2&i&&(Q(2),Es(r.results))},dependencies:[nN,ho],encapsulation:2})}return t})(),Wfe=0,Pf=(()=>{class t{constructor(){this._nativeElement=$e(Ht).nativeElement,this._config=$e(Vfe),this._live=$e(Ufe),this._document=$e(zn),this._ngZone=$e(on),this._changeDetector=$e(Si),this._popupService=new Xb(jfe),this._positioning=Z4(),this._subscription=null,this._closed$=new xt,this._inputValueBackup=null,this._inputValueForSelectOnExact=null,this._valueChanges$=Lr(this._nativeElement,"input").pipe(Mn(e=>e.target.value)),this._resubscribeTypeahead$=new ur(null),this._windowRef=null,this.autocomplete="off",this.container=this._config.container,this.editable=this._config.editable,this.focusFirst=this._config.focusFirst,this.selectOnExact=this._config.selectOnExact,this.showHint=this._config.showHint,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.selectItem=new mt,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Wfe++,this._onTouched=()=>{},this._onChange=e=>{}}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:e}){e&&!e.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}setDisabledState(e){this._nativeElement.disabled=e}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead$.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead$.next(null),this._onTouched()}handleKeyDown(e){if(this.isPopupOpen())switch(e.which){case rr.ArrowDown:e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case rr.ArrowUp:e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case rr.Enter:case rr.Tab:{const i=this._windowRef.instance.getActive();n2(i)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(i)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._nativeElement.value;const{windowRef:e}=this._popupService.open();this._windowRef=e,this._windowRef.setInput("id",this.popupId),this._windowRef.setInput("popupClass",this.popupClass),this._windowRef.instance.selectEvent.subscribe(i=>this._selectResultClosePopup(i)),this._windowRef.instance.activeChangeEvent.subscribe(i=>this.activeDescendant=i),"body"===this.container&&(this._windowRef.location.nativeElement.style.zIndex="1055",this._document.body.appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:i=>this.popperOptions(Q4([0,2])(i))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),K4(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(e){let i=!1;this.selectItem.emit({item:e,preventDefault:()=>{i=!0}}),this._resubscribeTypeahead$.next(null),i||(this.writeValue(e),this._onChange(e))}_selectResultClosePopup(e){this._selectResult(e),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const e=this._inputValueBackup.toLowerCase(),i=this._formatItemForInput(this._windowRef.instance.getActive());e===i.substring(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+i.substring(this._inputValueBackup.length)),this._nativeElement.setSelectionRange.apply(this._nativeElement,[this._inputValueBackup.length,i.length])):this._writeInputValue(i)}}_formatItemForInput(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):G4(e)}_writeInputValue(e){this._nativeElement.value=G4(e)}_subscribeToUserInput(){const e=this._valueChanges$.pipe(Xc(i=>{this._inputValueBackup=this.showHint?i:null,this._inputValueForSelectOnExact=this.selectOnExact?i:null,this._onChange(this.editable?i:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>Wi([]));this._subscription=this._resubscribeTypeahead$.pipe(Oa(()=>e)).subscribe(i=>{i&&0!==i.length?this.selectOnExact&&1===i.length&&this._formatItemForInput(i[0])===this._inputValueForSelectOnExact?(this._selectResult(i[0]),this._closePopup()):(this._openPopup(),this._windowRef.setInput("focusFirst",this.focusFirst),this._windowRef.setInput("results",i),this._windowRef.setInput("term",this._nativeElement.value),this.resultFormatter&&this._windowRef.setInput("formatter",this.resultFormatter),this.resultTemplate&&this._windowRef.setInput("resultTemplate",this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const r=i?i.length:0;this._live.say(0===r?"No results available":`${r} result${1===r?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox"],hostVars:7,hostBindings:function(i,r){1&i&&ze("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)}),2&i&&(ls("autocomplete",r.autocomplete),Ye("aria-autocomplete",r.showHint?"both":"list")("aria-activedescendant",r.activeDescendant)("aria-owns",r.isPopupOpen()?r.popupId:null)("aria-expanded",r.isPopupOpen()),At("open",r.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",selectOnExact:"selectOnExact",showHint:"showHint",placement:"placement",popperOptions:"popperOptions",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],standalone:!0,features:[Nn([{provide:hs,useExisting:Ie(()=>t),multi:!0}]),si]})}return t})(),rN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),oN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();const Yfe=[aO,cO,uO,fO,kO,OO,NO,PO,oN,WO,YO,qO,KO,ZO,JO,eN,tN,rN];let qfe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Yfe,aO,cO,uO,fO,kO,OO,NO,PO,oN,WO,YO,qO,KO,ZO,JO,eN,tN,rN]})}return t})();var rp=function(t){return t[t.INFO=0]="INFO",t[t.WARNING=1]="WARNING",t[t.DANGER=2]="DANGER",t}(rp||{});let Kfe=(()=>{class t{constructor(e){this.activeModal=e,this.type=rp.INFO}static#e=this.\u0275fac=function(i){return new(i||t)(ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-message-dlg"]],inputs:{title:"title",message:"message",type:"type",options:"options"},decls:10,vars:2,consts:[[1,"modal-header","bg-primary"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"h4",1),ye(2),ie(),ee(3,"button",2),ze("click",function(){return r.activeModal.dismiss("Cross click")}),ie()(),ee(4,"div",3)(5,"p"),ye(6),ie()(),ee(7,"div",4)(8,"button",5),ze("click",function(){return r.activeModal.close("Close click")}),ye(9,"Close"),ie()()),2&i&&(Q(2),It(r.title),Q(4),It(r.message))},encapsulation:2})}return t})();var Zfe=T(8507),op=T.n(Zfe);function ql(t,n,e){let i="",r=t,o=0,s=-1;for(;(s=r.indexOf(n))>-1;)i+=t.substring(o,o+s)+e,r=r.substring(s+n.length,r.length),o+=s+n.length;return r.length>0&&(i+=t.substring(t.length-r.length,t.length)),i}function sN(t){let n=-1;const e=t.length,i=new Array(e);for(;++n<e;)i[n]="string"==typeof t[n]?ql(ql(t[n],"~1","/"),"~0","~"):t[n];return i}function ehe(t){if("string"!=typeof t)throw new TypeError("Invalid type: JSON Pointers are represented as strings.");if(0===t.length)return[];if("/"!==t[0])throw new ReferenceError("Invalid JSON Pointer syntax. Non-empty pointer must begin with a solidus `/`.");return sN(t.substring(1).split("/"))}function sp(t){if(!t||t&&!Array.isArray(t))throw new TypeError("Invalid type: path must be an array of segments.");return 0===t.length?"":"/".concat(function Jfe(t){let n=-1;const e=t.length,i=new Array(e);for(;++n<e;)i[n]="string"==typeof t[n]?ql(ql(t[n],"~","~0"),"/","~1"):t[n];return i}(t).join("/"))}function the(t){if("string"!=typeof t)throw new TypeError("Invalid type: JSON Pointers are represented as strings.");if(0===t.length||"#"!==t[0])throw new ReferenceError("Invalid JSON Pointer syntax; URI fragment identifiers must begin with a hash.");if(1===t.length)return[];if("/"!==t[1])throw new ReferenceError("Invalid JSON Pointer syntax.");return function Qfe(t){let n=-1;const e=t.length,i=new Array(e);for(;++n<e;)i[n]="string"==typeof t[n]?ql(ql(decodeURIComponent(t[n]),"~1","/"),"~0","~"):t[n];return i}(t.substring(2).split("/"))}function zf(t){if(!t||t&&!Array.isArray(t))throw new TypeError("Invalid type: path must be an array of segments.");return 0===t.length?"#":"#/".concat(function Xfe(t){let n=-1;const e=t.length,i=new Array(e);for(;++n<e;)i[n]="string"==typeof t[n]?encodeURIComponent(ql(ql(t[n],"~","~0"),"/","~1")):t[n];return i}(t).join("/"))}const ny="Invalid Relative JSON Pointer syntax. Relative pointer must begin with a non-negative integer, followed by either the number sign (#), or a JSON Pointer.";function aN(t){if("string"!=typeof t)throw new TypeError("Invalid type: Relative JSON Pointers are represented as strings.");if(0===t.length)throw new ReferenceError(ny);const n=t.split("/");let e=n[0];if("#"==e[e.length-1]){if(n.length>1)throw new ReferenceError(ny);e=e.substr(0,e.length-1)}let i=-1;const r=e.length;for(;++i<r;)if(e[i]<"0"||e[i]>"9")throw new ReferenceError(ny);const o=sN(n.slice(1));return o.unshift(n[0]),o}function iy(t,n){if("number"==typeof n)return n;const e=n.length;if(!e)return-1;let i=0;if(1===e&&"-"===n[0])return Array.isArray(t)?t.length:0;for(;++i<e;)if(n[i]<"0"||n[i]>"9")return-1;return parseInt(n,10)}function cN(t){return function ohe(t){return"string"==typeof t&&t.length>0&&"#"===t[0]}(t)?the:ehe}function lN(t){return Array.isArray(t)?t.slice(0):cN(t)(t)}function ry(t){return"object"==typeof t&&null!==t}function she(t){return ry(t)&&!cy.isReference(t)}function ap(t,n,e){const i=new Map,r=[{obj:t,path:[]}];for(;r.length;){const{obj:o,path:s}=r.shift();if(n(e(s),o),she(o))if(i.set(o,new ea(zf(s))),Array.isArray(o)){let c=-1;const v=o.length;for(;++c<v;){const C=o[c];ry(C)&&i.has(C)?r.push({obj:new cy(i.get(C)),path:s.concat([c+""])}):r.push({obj:C,path:s.concat([c+""])})}}else{const c=Object.keys(o),v=c.length;let C=-1;for(;++C<v;){const N=o[c[C]];ry(N)&&i.has(N)?r.push({obj:new cy(i.get(N)),path:s.concat(c[C])}):r.push({obj:N,path:s.concat(c[C])})}}}}const oy=Symbol("pointer"),sy=Symbol("fragmentId"),ay=Symbol("getter");class ea{constructor(n){this.path=lN(n)}static create(n){return new ea(n)}static has(n,e){return("string"==typeof e||Array.isArray(e))&&(e=new ea(e)),e.has(n)}static get(n,e){return("string"==typeof e||Array.isArray(e))&&(e=new ea(e)),e.get(n)}static set(n,e,i,r=!1){return("string"==typeof e||Array.isArray(e))&&(e=new ea(e)),e.set(n,i,r)}static unset(n,e){return("string"==typeof e||Array.isArray(e))&&(e=new ea(e)),e.unset(n)}static decode(n){return cN(n)(n)}static visit(n,e,i=!1){ap(n,e,i?zf:sp)}static listPointers(n){const e=[];return ap(n,(i,r)=>{e.push({pointer:i,value:r})},sp),e}static listFragmentIds(n){const e=[];return ap(n,(i,r)=>{e.push({fragmentId:i,value:r})},zf),e}static flatten(n,e=!1){const i={};return ap(n,(r,o)=>{i[r]=o},e?zf:sp),i}static map(n,e=!1){const i=new Map;return ap(n,i.set.bind(i),e?zf:sp),i}get(n){return this[ay]||(this[ay]=function nhe(t){let n="if (typeof(it) !== 'undefined'";return 0===t.length?e=>e:(n=t.reduce((e,i,r)=>e+"\n\t&& it !== null && typeof((it = it['"+ql(ql(t[r]+"","\\","\\\\"),"'","\\'")+"'])) !== 'undefined'","if (typeof(it) !== 'undefined'"),n+=") {\n\treturn it;\n }",new Function("it",n))}(this.path)),this[ay](n)}set(n,e,i=!1){return function ihe(t,n,e,i=!1){if(0===e.length)throw new Error("Cannot set the root object; assign it directly.");if(typeof t>"u")throw new TypeError("Cannot set values on undefined");let r=t;const o=e.length,s=e.length-1;let c,C,N,v=-1;for(;++v<o;){if(c=e[v],"string"!=typeof c&&"number"!=typeof c)throw new TypeError("PathSegments must be a string or a number.");if("__proto__"===c||"constructor"===c||"prototype"===c)throw new Error("Attempted prototype pollution disallowed.");if(Array.isArray(r)){if("-"===c&&v===s)return void r.push(n);if(N=iy(r,c),r.length>N){if(v===s){C=r[N],r[N]=n;break}r=r[N]}else if(v===s&&N===r.length){if(i)return void r.push(n)}else i&&(r=r[N]=v===s?n:{})}else{if(typeof r[c]>"u"){if(i){if(v===s)return void(r[c]=n);const G=Number(e[v+1]);if(Number.isInteger(G)&&-1!==iy(r[c],G)){r=r[c]=[];continue}r=r[c]={};continue}return}if(v===s){C=r[c],r[c]=n;break}r=r[c]}}return C}(n,e,this.path,i)}unset(n){return function rhe(t,n){if(0===n.length)throw new Error("Cannot unset the root object; assign it directly.");if(typeof t>"u")throw new TypeError("Cannot unset values on undefined");let e=t;const i=n.length,r=n.length-1;let o,c,v,s=-1;for(;++s<i;){if(o=n[s],"string"!=typeof o&&"number"!=typeof o)throw new TypeError("PathSegments must be a string or a number.");if("__proto__"===o||"constructor"===o||"prototype"===o)throw new Error("Attempted prototype pollution disallowed.");if(Array.isArray(e)){if(v=iy(e,o),v>=e.length)return;if(s===r){c=e[v],delete e[v];break}e=e[v]}else{if(typeof e[o]>"u")return;if(s===r){c=e[o],delete e[o];break}e=e[o]}}return c}(n,this.path)}has(n){return typeof this.get(n)<"u"}parent(n){const e=this.path;return 1==e.length?void 0:new ea(e.slice(0,e.length-1)).get(n)}relative(n){const e=this.path,i=aN(n),r=parseInt(i[0]);if(r>e.length)throw new Error("Relative location does not exist.");const o=e.slice(0,e.length-r).concat(i.slice(1));if("#"==i[0][i[0].length-1])throw new Error(`We won't compile a pointer that will always return '${o[o.length-1]}'. Use JsonPointer.rel(target, ptr) instead.`);return new ea(o)}rel(n,e){const i=this.path,r=aN(e),o=parseInt(r[0]);if(o>i.length)return;const s=i.slice(0,i.length-o).concat(r.slice(1)),c=new ea(s);if("#"==r[0][r[0].length-1]){const v=s[s.length-1],C=c.parent(n);return Array.isArray(C)?parseInt(v,10):v}return c.get(n)}concat(n){return new ea(this.path.concat(n instanceof ea?n.path:lN(n)))}get pointer(){return void 0===this[oy]&&(this[oy]=sp(this.path)),this[oy]}get uriFragmentIdentifier(){return this[sy]||(this[sy]=zf(this.path)),this[sy]}toString(){return this.pointer}}const t8=Symbol("pointer");class cy{constructor(n){this[t8]=n instanceof ea?n:new ea(n),this.$ref=this[t8].uriFragmentIdentifier}static isReference(n){return!!n&&("string"==typeof n.$ref&&"function"==typeof n.resolve)}resolve(n){return this[t8].get(n)}pointer(){return this[t8]}toString(){return this.$ref}}var ahe=T(827),che=T.n(ahe);const ly="https://lhcforms-static.nlm.nih.gov/lforms-versions/",dN=10;function uN(t){return new Promise((n,e)=>{t.addEventListener("error",i=>{e(i)}),t.addEventListener("load",i=>{n(i)}),"LINK"==t.tagName?document.head.appendChild(t):(t.async=!1,document.body.appendChild(t))})}function dy(t,n,e){return uy.apply(this,arguments)}function uy(){return(uy=I(function*(t,n,e){let i=1;return function r(){return new Promise((o,s)=>{(function lhe(t,n,e){const i=e||`${ly}${t}`;let r,o,s;const c=t.split(".")[0];c>=33?(r="/webcomponent/styles.css",o=["assets/lib/zone.min.js","lhc-forms.js"].map(N=>"/webcomponent/"+N),s="/fhir/lformsFHIRAll.min.js"):c>=30?(r="/webcomponent/styles.css",o=["assets/lib/zone.min.js","lhc-forms.es5.js"].map(N=>"/webcomponent/"+N),s="/fhir/lformsFHIRAll.min.js"):(r="/styles/lforms.min.css",o=["/lforms.min.js"],s="/fhir/lformsFHIRAll.min.js");const v=document.createElement("link");v.setAttribute("href",i+r),v.setAttribute("media","screen"),v.setAttribute("rel","stylesheet");let C=[];C.push(uN(v).then(()=>n&&n())),o.push(s);for(let N of o){const G=document.createElement("script");G.setAttribute("src",i+N),G.setAttribute("async",!1),G.setAttribute("defer",!0),C.push(uN(G))}return Promise.all(C).then(()=>console.log("Loaded LHC-Forms "+(e?"from "+e:"version "+t)))})(t,n,e).then(()=>{o(LForms.lformsVersion)}).catch(c=>{if(i++,i>dN){const v=`${Date.now()}: Failed to get LForms library files after ${i} attempts.`;console.error(`${v} - ${c.error?.stack}`),s(c)}else setTimeout(I(function*(){return console.log(`${Date.now()}: ${c.message}`),console.log(`Retrying loadLForms() again: ${i}...`),r().then(o,s)}),500)})})}()})).apply(this,arguments)}var uhe=T(580),hN=T.n(uhe),fhe=T(8373),hhe=T.n(fhe),phe=T(409),mhe=T.n(phe),ghe=T(7457),pN=T.n(ghe),vhe=T(9317),_he=T.n(vhe),bhe=T(7958),yhe=T.n(bhe);const mN=function Che(t,n){return t===n||t!=t&&n!=n},n8=function Mhe(t,n){for(var e=t.length;e--;)if(mN(t[e][0],n))return e;return-1};var The=Array.prototype.splice;function $f(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}$f.prototype.clear=function whe(){this.__data__=[],this.size=0},$f.prototype.delete=function Ehe(t){var n=this.__data__,e=n8(n,t);return!(e<0||(e==n.length-1?n.pop():The.call(n,e,1),--this.size,0))},$f.prototype.get=function Ahe(t){var n=this.__data__,e=n8(n,t);return e<0?void 0:n[e][1]},$f.prototype.has=function Ihe(t){return n8(this.__data__,t)>-1},$f.prototype.set=function Ohe(t,n){var e=this.__data__,i=n8(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this};const i8=$f,gN="object"==typeof global&&global&&global.Object===Object&&global;var jhe="object"==typeof self&&self&&self.Object===Object&&self;const G1=gN||jhe||Function("return this")(),Bf=G1.Symbol;var vN=Object.prototype,Yhe=vN.hasOwnProperty,qhe=vN.toString,cp=Bf?Bf.toStringTag:void 0;var Xhe=Object.prototype.toString;var _N=Bf?Bf.toStringTag:void 0;const lp=function i3e(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_N&&_N in Object(t)?function Khe(t){var n=Yhe.call(t,cp),e=t[cp];try{t[cp]=void 0;var i=!0}catch{}var r=qhe.call(t);return i&&(n?t[cp]=e:delete t[cp]),r}(t):function Jhe(t){return Xhe.call(t)}(t)},bN=function r3e(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},yN=function l3e(t){if(!bN(t))return!1;var n=lp(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var t,d3e=G1["__core-js_shared__"],wN=(t=/[^.]+$/.exec(d3e&&d3e.keys&&d3e.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var p3e=Function.prototype.toString;const O0=function m3e(t){if(null!=t){try{return p3e.call(t)}catch{}try{return t+""}catch{}}return""};var v3e=/^\[object .+?Constructor\]$/,x3e=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const M3e=function C3e(t){return!(!bN(t)||function u3e(t){return!!wN&&wN in t}(t))&&(yN(t)?x3e:v3e).test(O0(t))},Hf=function E3e(t,n){var e=function S3e(t,n){return t?.[n]}(t,n);return M3e(e)?e:void 0},dp=Hf(G1,"Map"),up=Hf(Object,"create");var F3e=Object.prototype.hasOwnProperty;var B3e=Object.prototype.hasOwnProperty;function Uf(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Uf.prototype.clear=function D3e(){this.__data__=up?up(null):{},this.size=0},Uf.prototype.delete=function k3e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Uf.prototype.get=function P3e(t){var n=this.__data__;if(up){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return F3e.call(n,t)?n[t]:void 0},Uf.prototype.has=function H3e(t){var n=this.__data__;return up?void 0!==n[t]:B3e.call(n,t)},Uf.prototype.set=function j3e(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=up&&void 0===n?"__lodash_hash_undefined__":n,this};const xN=Uf,r8=function Z3e(t,n){var e=t.__data__;return function q3e(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map};function Vf(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Vf.prototype.clear=function G3e(){this.size=0,this.__data__={hash:new xN,map:new(dp||i8),string:new xN}},Vf.prototype.delete=function Q3e(t){var n=r8(this,t).delete(t);return this.size-=n?1:0,n},Vf.prototype.get=function J3e(t){return r8(this,t).get(t)},Vf.prototype.has=function t4e(t){return r8(this,t).has(t)},Vf.prototype.set=function i4e(t,n){var e=r8(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this};const CN=Vf;function jf(t){var n=this.__data__=new i8(t);this.size=n.size}jf.prototype.clear=function Rhe(){this.__data__=new i8,this.size=0},jf.prototype.delete=function Phe(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},jf.prototype.get=function $he(t){return this.__data__.get(t)},jf.prototype.has=function Hhe(t){return this.__data__.has(t)},jf.prototype.set=function s4e(t,n){var e=this.__data__;if(e instanceof i8){var i=e.__data__;if(!dp||i.length<199)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new CN(i)}return e.set(t,n),this.size=e.size,this};const py=jf;function o8(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new CN;++n<e;)this.add(t[n])}o8.prototype.add=o8.prototype.push=function l4e(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},o8.prototype.has=function u4e(t){return this.__data__.has(t)};const h4e=o8,m4e=function p4e(t,n){for(var e=-1,i=null==t?0:t.length;++e<i;)if(n(t[e],e,t))return!0;return!1},v4e=function g4e(t,n){return t.has(n)},MN=function y4e(t,n,e,i,r,o){var s=1&e,c=t.length,v=n.length;if(c!=v&&!(s&&v>c))return!1;var C=o.get(t),N=o.get(n);if(C&&N)return C==n&&N==t;var G=-1,se=!0,le=2&e?new h4e:void 0;for(o.set(t,n),o.set(n,t);++G<c;){var pe=t[G],we=n[G];if(i)var Le=s?i(we,pe,G,n,t,o):i(pe,we,G,t,n,o);if(void 0!==Le){if(Le)continue;se=!1;break}if(le){if(!m4e(n,function(Be,Pe){if(!v4e(le,Pe)&&(pe===Be||r(pe,Be,e,i,o)))return le.push(Pe)})){se=!1;break}}else if(pe!==we&&!r(pe,we,e,i,o)){se=!1;break}}return o.delete(t),o.delete(n),se},SN=G1.Uint8Array,C4e=function x4e(t){var n=-1,e=Array(t.size);return t.forEach(function(i,r){e[++n]=[r,i]}),e},S4e=function M4e(t){var n=-1,e=Array(t.size);return t.forEach(function(i){e[++n]=i}),e};var TN=Bf?Bf.prototype:void 0,my=TN?TN.valueOf:void 0;const s8=Array.isArray;var Q4e=Object.prototype.propertyIsEnumerable,EN=Object.getOwnPropertySymbols,X4e=EN?function(t){return null==t?[]:(t=Object(t),function G4e(t,n){for(var e=-1,i=null==t?0:t.length,r=0,o=[];++e<i;){var s=t[e];n(s,e,t)&&(o[r++]=s)}return o}(EN(t),function(n){return Q4e.call(t,n)}))}:function q4e(){return[]};const J4e=X4e,fp=function npe(t){return null!=t&&"object"==typeof t},LN=function rpe(t){return fp(t)&&"[object Arguments]"==lp(t)};var AN=Object.prototype,ope=AN.hasOwnProperty,spe=AN.propertyIsEnumerable,ape=LN(function(){return arguments}())?LN:function(t){return fp(t)&&ope.call(t,"callee")&&!spe.call(t,"callee")};const cpe=ape;var DN="object"==typeof exports&&exports&&!exports.nodeType&&exports,IN=DN&&"object"==typeof module&&module&&!module.nodeType&&module,kN=IN&&IN.exports===DN?G1.Buffer:void 0;const gy=(kN?kN.isBuffer:void 0)||function lpe(){return!1};var mpe=/^(?:0|[1-9]\d*)$/;const vpe=function gpe(t,n){var e=typeof t;return!!(n=n??9007199254740991)&&("number"==e||"symbol"!=e&&mpe.test(t))&&t>-1&&t%1==0&&t<n},ON=function bpe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var jr={};jr["[object Float32Array]"]=jr["[object Float64Array]"]=jr["[object Int8Array]"]=jr["[object Int16Array]"]=jr["[object Int32Array]"]=jr["[object Uint8Array]"]=jr["[object Uint8ClampedArray]"]=jr["[object Uint16Array]"]=jr["[object Uint32Array]"]=!0,jr["[object Arguments]"]=jr["[object Array]"]=jr["[object ArrayBuffer]"]=jr["[object Boolean]"]=jr["[object DataView]"]=jr["[object Date]"]=jr["[object Error]"]=jr["[object Function]"]=jr["[object Map]"]=jr["[object Number]"]=jr["[object Object]"]=jr["[object RegExp]"]=jr["[object Set]"]=jr["[object String]"]=jr["[object WeakMap]"]=!1;var NN="object"==typeof exports&&exports&&!exports.nodeType&&exports,hp=NN&&"object"==typeof module&&module&&!module.nodeType&&module,vy=hp&&hp.exports===NN&&gN.process,Kpe=function(){try{return hp&&hp.require&&hp.require("util").types||vy&&vy.binding&&vy.binding("util")}catch{}}(),FN=Kpe&&Kpe.isTypedArray;const PN=FN?function Gpe(t){return function(n){return t(n)}}(FN):function jpe(t){return fp(t)&&ON(t.length)&&!!jr[lp(t)]};var Xpe=Object.prototype.hasOwnProperty;const eme=function Jpe(t,n){var e=s8(t),i=!e&&cpe(t),r=!e&&!i&&gy(t),o=!e&&!i&&!r&&PN(t),s=e||i||r||o,c=s?function epe(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i}(t.length,String):[],v=c.length;for(var C in t)(n||Xpe.call(t,C))&&(!s||!("length"==C||r&&("offset"==C||"parent"==C)||o&&("buffer"==C||"byteLength"==C||"byteOffset"==C)||vpe(C,v)))&&c.push(C);return c};var tme=Object.prototype;var ome=function rme(t,n){return function(e){return t(n(e))}}(Object.keys,Object);const sme=ome;var cme=Object.prototype.hasOwnProperty;const dme=function lme(t){if(!function nme(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||tme)}(t))return sme(t);var n=[];for(var e in Object(t))cme.call(t,e)&&"constructor"!=e&&n.push(e);return n},pme=function hme(t){return function ume(t){return null!=t&&ON(t.length)&&!yN(t)}(t)?eme(t):dme(t)},zN=function mme(t){return function j4e(t,n,e){var i=n(t);return s8(t)?i:function H4e(t,n){for(var e=-1,i=n.length,r=t.length;++e<i;)t[r+e]=n[e];return t}(i,e(t))}(t,pme,J4e)};var _me=Object.prototype.hasOwnProperty;const _y=Hf(G1,"DataView"),by=Hf(G1,"Promise"),yy=Hf(G1,"Set"),wy=Hf(G1,"WeakMap");var $N="[object Map]",BN="[object Promise]",HN="[object Set]",UN="[object WeakMap]",VN="[object DataView]",Tme=O0(_y),Eme=O0(dp),Lme=O0(by),Ame=O0(yy),Dme=O0(wy),N0=lp;(_y&&N0(new _y(new ArrayBuffer(1)))!=VN||dp&&N0(new dp)!=$N||by&&N0(by.resolve())!=BN||yy&&N0(new yy)!=HN||wy&&N0(new wy)!=UN)&&(N0=function(t){var n=lp(t),e="[object Object]"==n?t.constructor:void 0,i=e?O0(e):"";if(i)switch(i){case Tme:return VN;case Eme:return $N;case Lme:return BN;case Ame:return HN;case Dme:return UN}return n});const jN=N0;var WN="[object Arguments]",GN="[object Array]",a8="[object Object]",YN=Object.prototype.hasOwnProperty;const Nme=function Ome(t,n,e,i,r,o){var s=s8(t),c=s8(n),v=s?GN:jN(t),C=c?GN:jN(n),N=(v=v==WN?a8:v)==a8,G=(C=C==WN?a8:C)==a8,se=v==C;if(se&&gy(t)){if(!gy(n))return!1;s=!0,N=!1}if(se&&!N)return o||(o=new py),s||PN(t)?MN(t,n,e,i,r,o):function $4e(t,n,e,i,r,o,s){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!o(new SN(t),new SN(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return mN(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var c=C4e;case"[object Set]":if(c||(c=S4e),t.size!=n.size&&!(1&i))return!1;var C=s.get(t);if(C)return C==n;i|=2,s.set(t,n);var N=MN(c(t),c(n),i,r,o,s);return s.delete(t),N;case"[object Symbol]":if(my)return my.call(t)==my.call(n)}return!1}(t,n,v,e,i,r,o);if(!(1&e)){var le=N&&YN.call(t,"__wrapped__"),pe=G&&YN.call(n,"__wrapped__");if(le||pe){var we=le?t.value():t,Le=pe?n.value():n;return o||(o=new py),r(we,Le,e,i,o)}}return!!se&&(o||(o=new py),function bme(t,n,e,i,r,o){var s=1&e,c=zN(t),v=c.length;if(v!=zN(n).length&&!s)return!1;for(var G=v;G--;){var se=c[G];if(!(s?se in n:_me.call(n,se)))return!1}var le=o.get(t),pe=o.get(n);if(le&&pe)return le==n&&pe==t;var we=!0;o.set(t,n),o.set(n,t);for(var Le=s;++G<v;){var Be=t[se=c[G]],Pe=n[se];if(i)var Je=s?i(Pe,Be,se,n,t,o):i(Be,Pe,se,t,n,o);if(!(void 0===Je?Be===Pe||r(Be,Pe,e,i,o):Je)){we=!1;break}Le||(Le="constructor"==se)}if(we&&!Le){var ut=t.constructor,Dt=n.constructor;ut!=Dt&&"constructor"in t&&"constructor"in n&&!("function"==typeof ut&&ut instanceof ut&&"function"==typeof Dt&&Dt instanceof Dt)&&(we=!1)}return o.delete(t),o.delete(n),we}(t,n,e,i,r,o))},Rme=function qN(t,n,e,i,r){return t===n||(null==t||null==n||!fp(t)&&!fp(n)?t!=t&&n!=n:Nme(t,n,e,i,qN,r))},Pme=function Fme(t,n){return Rme(t,n)};var zme=T(3496),KN=T.n(zme);function Y1(t){return(Y1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Uo(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function ta(t){Uo(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"===Y1(t)&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):(("string"==typeof t||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function ga(t){if(null===t||!0===t||!1===t)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function ZN(t,n){return Uo(2,arguments),function Hme(t,n){Uo(2,arguments);var e=ta(t).getTime(),i=ga(n);return new Date(e+i)}(t,-ga(n))}function Wf(t){Uo(1,arguments);var e=ta(t),i=e.getUTCDay(),r=(i<1?7:0)+i-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function QN(t){Uo(1,arguments);var n=ta(t),e=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=Wf(i),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var s=Wf(o);return n.getTime()>=r.getTime()?e+1:n.getTime()>=s.getTime()?e:e-1}function XN(t){Uo(1,arguments);var n=ta(t),e=Wf(n).getTime()-function jme(t){Uo(1,arguments);var n=QN(t),e=new Date(0);return e.setUTCFullYear(n,0,4),e.setUTCHours(0,0,0,0),Wf(e)}(n).getTime();return Math.round(e/6048e5)+1}var JN={};function Gf(){return JN}function R0(t,n){var e,i,r,o,s,c,v,C;Uo(1,arguments);var N=Gf(),G=ga(null!==(e=null!==(i=null!==(r=null!==(o=n?.weekStartsOn)&&void 0!==o?o:null==n||null===(s=n.locale)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:N.weekStartsOn)&&void 0!==i?i:null===(v=N.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==e?e:0);if(!(G>=0&&G<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var se=ta(t),le=se.getUTCDay(),pe=(le<G?7:0)+le-G;return se.setUTCDate(se.getUTCDate()-pe),se.setUTCHours(0,0,0,0),se}function xy(t,n){var e,i,r,o,s,c,v,C;Uo(1,arguments);var N=ta(t),G=N.getUTCFullYear(),se=Gf(),le=ga(null!==(e=null!==(i=null!==(r=null!==(o=n?.firstWeekContainsDate)&&void 0!==o?o:null==n||null===(s=n.locale)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:se.firstWeekContainsDate)&&void 0!==i?i:null===(v=se.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.firstWeekContainsDate)&&void 0!==e?e:1);if(!(le>=1&&le<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var pe=new Date(0);pe.setUTCFullYear(G+1,0,le),pe.setUTCHours(0,0,0,0);var we=R0(pe,n),Le=new Date(0);Le.setUTCFullYear(G,0,le),Le.setUTCHours(0,0,0,0);var Be=R0(Le,n);return N.getTime()>=we.getTime()?G+1:N.getTime()>=Be.getTime()?G:G-1}function eR(t,n){Uo(1,arguments);var e=ta(t),i=R0(e,n).getTime()-function Gme(t,n){var e,i,r,o,s,c,v,C;Uo(1,arguments);var N=Gf(),G=ga(null!==(e=null!==(i=null!==(r=null!==(o=n?.firstWeekContainsDate)&&void 0!==o?o:null==n||null===(s=n.locale)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:N.firstWeekContainsDate)&&void 0!==i?i:null===(v=N.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.firstWeekContainsDate)&&void 0!==e?e:1),se=xy(t,n),le=new Date(0);return le.setUTCFullYear(se,0,G),le.setUTCHours(0,0,0,0),R0(le,n)}(e,n).getTime();return Math.round(i/6048e5)+1}function mr(t,n){for(var e=t<0?"-":"",i=Math.abs(t).toString();i.length<n;)i="0"+i;return e+i}const o2_y=function(n,e){var i=n.getUTCFullYear(),r=i>0?i:1-i;return mr("yy"===e?r%100:r,e.length)},o2_M=function(n,e){var i=n.getUTCMonth();return"M"===e?String(i+1):mr(i+1,2)},o2_d=function(n,e){return mr(n.getUTCDate(),e.length)},o2_h=function(n,e){return mr(n.getUTCHours()%12||12,e.length)},o2_H=function(n,e){return mr(n.getUTCHours(),e.length)},o2_m=function(n,e){return mr(n.getUTCMinutes(),e.length)},o2_s=function(n,e){return mr(n.getUTCSeconds(),e.length)},o2_S=function(n,e){var i=e.length,r=n.getUTCMilliseconds();return mr(Math.floor(r*Math.pow(10,i-3)),e.length)};var Kme={G:function(n,e,i){var r=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(n,e,i){if("yo"===e){var r=n.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return o2_y(n,e)},Y:function(n,e,i,r){var o=xy(n,r),s=o>0?o:1-o;return"YY"===e?mr(s%100,2):"Yo"===e?i.ordinalNumber(s,{unit:"year"}):mr(s,e.length)},R:function(n,e){return mr(QN(n),e.length)},u:function(n,e){return mr(n.getUTCFullYear(),e.length)},Q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return mr(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return mr(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,i){var r=n.getUTCMonth();switch(e){case"M":case"MM":return o2_M(n,e);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,i){var r=n.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return mr(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,i,r){var o=eR(n,r);return"wo"===e?i.ordinalNumber(o,{unit:"week"}):mr(o,e.length)},I:function(n,e,i){var r=XN(n);return"Io"===e?i.ordinalNumber(r,{unit:"week"}):mr(r,e.length)},d:function(n,e,i){return"do"===e?i.ordinalNumber(n.getUTCDate(),{unit:"date"}):o2_d(n,e)},D:function(n,e,i){var r=function Vme(t){Uo(1,arguments);var n=ta(t),e=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime();return Math.floor((e-i)/864e5)+1}(n);return"Do"===e?i.ordinalNumber(r,{unit:"dayOfYear"}):mr(r,e.length)},E:function(n,e,i){var r=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,i,r){var o=n.getUTCDay(),s=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return mr(s,2);case"eo":return i.ordinalNumber(s,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,i,r){var o=n.getUTCDay(),s=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return mr(s,e.length);case"co":return i.ordinalNumber(s,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,i){var r=n.getUTCDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return mr(o,e.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,i){var o=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,i){var o,r=n.getUTCHours();switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,i){var o,r=n.getUTCHours();switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,i){if("ho"===e){var r=n.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return o2_h(n,e)},H:function(n,e,i){return"Ho"===e?i.ordinalNumber(n.getUTCHours(),{unit:"hour"}):o2_H(n,e)},K:function(n,e,i){var r=n.getUTCHours()%12;return"Ko"===e?i.ordinalNumber(r,{unit:"hour"}):mr(r,e.length)},k:function(n,e,i){var r=n.getUTCHours();return 0===r&&(r=24),"ko"===e?i.ordinalNumber(r,{unit:"hour"}):mr(r,e.length)},m:function(n,e,i){return"mo"===e?i.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):o2_m(n,e)},s:function(n,e,i){return"so"===e?i.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):o2_s(n,e)},S:function(n,e){return o2_S(n,e)},X:function(n,e,i,r){var s=(r._originalDate||n).getTimezoneOffset();if(0===s)return"Z";switch(e){case"X":return nR(s);case"XXXX":case"XX":return F0(s);default:return F0(s,":")}},x:function(n,e,i,r){var s=(r._originalDate||n).getTimezoneOffset();switch(e){case"x":return nR(s);case"xxxx":case"xx":return F0(s);default:return F0(s,":")}},O:function(n,e,i,r){var s=(r._originalDate||n).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tR(s,":");default:return"GMT"+F0(s,":")}},z:function(n,e,i,r){var s=(r._originalDate||n).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tR(s,":");default:return"GMT"+F0(s,":")}},t:function(n,e,i,r){return mr(Math.floor((r._originalDate||n).getTime()/1e3),e.length)},T:function(n,e,i,r){return mr((r._originalDate||n).getTime(),e.length)}};function tR(t,n){var e=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(0===o)return e+String(r);var s=n||"";return e+String(r)+s+mr(o,2)}function nR(t,n){return t%60==0?(t>0?"-":"+")+mr(Math.abs(t)/60,2):F0(t,n)}function F0(t,n){var e=n||"",i=t>0?"-":"+",r=Math.abs(t);return i+mr(Math.floor(r/60),2)+e+mr(r%60,2)}const Zme=Kme;var iR=function(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},rR=function(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}};const Cy={p:rR,P:function(n,e){var s,i=n.match(/(P+)(p+)?/)||[],r=i[1],o=i[2];if(!o)return iR(n,e);switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"})}return s.replace("{{date}}",iR(r,e)).replace("{{time}}",rR(o,e))}};function oR(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}var Jme=["D","DD"],e6e=["YY","YYYY"];function sR(t){return-1!==Jme.indexOf(t)}function aR(t){return-1!==e6e.indexOf(t)}function c8(t,n,e){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var t6e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function My(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const c6e={date:My({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:My({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:My({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var l6e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function pp(t){return function(n,e){var r;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=null!=e&&e.width?String(e.width):o;r=t.formattingValues[s]||t.formattingValues[o]}else{var c=t.defaultWidth,v=null!=e&&e.width?String(e.width):t.defaultWidth;r=t.values[v]||t.values[c]}return r[t.argumentCallback?t.argumentCallback(n):n]}}const y6e={ordinalNumber:function(n,e){var i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:pp({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:pp({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:pp({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:pp({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:pp({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function mp(t){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.width,o=n.match(i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth]);if(!o)return null;var C,s=o[0],c=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],v=Array.isArray(c)?function x6e(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return e}(c,function(G){return G.test(s)}):function w6e(t,n){for(var e in t)if(t.hasOwnProperty(e)&&n(t[e]))return e}(c,function(G){return G.test(s)});return C=t.valueCallback?t.valueCallback(v):v,{value:C=e.valueCallback?e.valueCallback(C):C,rest:n.slice(s.length)}}}var F6e={ordinalNumber:function C6e(t){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(t.matchPattern);if(!i)return null;var r=i[0],o=n.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];return{value:s=e.valueCallback?e.valueCallback(s):s,rest:n.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:mp({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mp({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:mp({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mp({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mp({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const cR={code:"en-US",formatDistance:function(n,e,i){var r,o=t6e[n];return r="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:c6e,formatRelative:function(n,e,i,r){return l6e[n]},localize:y6e,match:F6e,options:{weekStartsOn:0,firstWeekContainsDate:1}};var z6e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$6e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B6e=/^'([^]*?)'?$/,H6e=/''/g,U6e=/[a-zA-Z]/;function lR(t,n,e){var i,r,o,s,c,v,C,N,G,se,le,pe,we,Le,Be,Pe,Je,ut;Uo(2,arguments);var Dt=String(n),Ft=Gf(),en=null!==(i=null!==(r=e?.locale)&&void 0!==r?r:Ft.locale)&&void 0!==i?i:cR,vn=ga(null!==(o=null!==(s=null!==(c=null!==(v=e?.firstWeekContainsDate)&&void 0!==v?v:null==e||null===(C=e.locale)||void 0===C||null===(N=C.options)||void 0===N?void 0:N.firstWeekContainsDate)&&void 0!==c?c:Ft.firstWeekContainsDate)&&void 0!==s?s:null===(G=Ft.locale)||void 0===G||null===(se=G.options)||void 0===se?void 0:se.firstWeekContainsDate)&&void 0!==o?o:1);if(!(vn>=1&&vn<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Mi=ga(null!==(le=null!==(pe=null!==(we=null!==(Le=e?.weekStartsOn)&&void 0!==Le?Le:null==e||null===(Be=e.locale)||void 0===Be||null===(Pe=Be.options)||void 0===Pe?void 0:Pe.weekStartsOn)&&void 0!==we?we:Ft.weekStartsOn)&&void 0!==pe?pe:null===(Je=Ft.locale)||void 0===Je||null===(ut=Je.options)||void 0===ut?void 0:ut.weekStartsOn)&&void 0!==le?le:0);if(!(Mi>=0&&Mi<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!en.localize)throw new RangeError("locale must contain localize property");if(!en.formatLong)throw new RangeError("locale must contain formatLong property");var Ti=ta(t);if(!function Bme(t){if(Uo(1,arguments),!function $me(t){return Uo(1,arguments),t instanceof Date||"object"===Y1(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!=typeof t)return!1;var n=ta(t);return!isNaN(Number(n))}(Ti))throw new RangeError("Invalid time value");var Yr=ZN(Ti,oR(Ti)),qr={firstWeekContainsDate:vn,weekStartsOn:Mi,locale:en,_originalDate:Ti},$a=Dt.match($6e).map(function(Cr){var zt=Cr[0];return"p"===zt||"P"===zt?(0,Cy[zt])(Cr,en.formatLong):Cr}).join("").match(z6e).map(function(Cr){if("''"===Cr)return"'";var zt=Cr[0];if("'"===zt)return function V6e(t){var n=t.match(B6e);return n?n[1].replace(H6e,"'"):t}(Cr);var nn=Zme[zt];if(nn)return!(null!=e&&e.useAdditionalWeekYearTokens)&&aR(Cr)&&c8(Cr,n,String(t)),!(null!=e&&e.useAdditionalDayOfYearTokens)&&sR(Cr)&&c8(Cr,n,String(t)),nn(Yr,Cr,en.localize,qr);if(zt.match(U6e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+zt+"`");return Cr}).join("");return $a}Math.pow(10,8);var Ty=36e5;var l8={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Q6e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X6e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J6e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gp(t){return t?parseInt(t):1}function Ey(t){return t&&parseFloat(t.replace(",","."))||0}var sge=[31,null,31,30,31,30,31,31,30,31,30,31];function uR(t){return t%400==0||t%4==0&&t%100!=0}function fR(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function hR(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function fge(t,n){if(t){if("string"==typeof t)return fR(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return fR(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(C){throw C},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var C=e.next();return o=C.done,C},e:function(C){s=!0,c=C},f:function(){try{!o&&null!=e.return&&e.return()}finally{if(s)throw c}}}}function hge(t,n){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}function fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ly(t,n){return(Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i})(t,n)}function qi(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ly(t,n)}function d8(t){return(d8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function pR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pR=function(){return!!t})()}function Ki(t){var n=pR();return function(){var r,i=d8(t);if(n){var o=d8(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function pge(t,n){if(n&&("object"===Y1(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return fn(t)}(this,r)}}function Ni(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function mR(t){var n=function mge(t,n){if("object"!=Y1(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,n||"default");if("object"!=Y1(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==Y1(n)?n:String(n)}function gR(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,mR(i.key),i)}}function Ri(t,n,e){return n&&gR(t.prototype,n),e&&gR(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sn(t,n,e){return(n=mR(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var vR=function(){function t(){Ni(this,t),sn(this,"priority",void 0),sn(this,"subPriority",0)}return Ri(t,[{key:"validate",value:function(e,i){return!0}}]),t}(),vge=function(t){qi(e,t);var n=Ki(e);function e(i,r,o,s,c){var v;return Ni(this,e),(v=n.call(this)).value=i,v.validateValue=r,v.setValue=o,v.priority=s,c&&(v.subPriority=c),v}return Ri(e,[{key:"validate",value:function(r,o){return this.validateValue(r,this.value,o)}},{key:"set",value:function(r,o,s){return this.setValue(r,o,this.value,s)}}]),e}(vR),_ge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",10),sn(fn(i),"subPriority",-1),i}return Ri(e,[{key:"set",value:function(r,o){if(o.timestampIsSet)return r;var s=new Date(0);return s.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),s}}]),e}(vR),or=function(){function t(){Ni(this,t),sn(this,"incompatibleTokens",void 0),sn(this,"priority",void 0),sn(this,"subPriority",void 0)}return Ri(t,[{key:"run",value:function(e,i,r,o){var s=this.parse(e,i,r,o);return s?{setter:new vge(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(e,i,r){return!0}}]),t}(),bge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",140),sn(fn(i),"incompatibleTokens",["R","u","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}},{key:"set",value:function(r,o,s){return o.era=s,r.setUTCFullYear(s,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(or),Vo_month=/^(1[0-2]|0?\d)/,Vo_date=/^(3[0-1]|[0-2]?\d)/,Vo_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Vo_week=/^(5[0-3]|[0-4]?\d)/,Vo_hour23h=/^(2[0-3]|[0-1]?\d)/,Vo_hour24h=/^(2[0-4]|[0-1]?\d)/,Vo_hour11h=/^(1[0-1]|0?\d)/,Vo_hour12h=/^(1[0-2]|0?\d)/,Vo_minute=/^[0-5]?\d/,Vo_second=/^[0-5]?\d/,Vo_singleDigit=/^\d/,Vo_twoDigits=/^\d{1,2}/,Vo_threeDigits=/^\d{1,3}/,Vo_fourDigits=/^\d{1,4}/,Vo_anyDigitsSigned=/^-?\d+/,Vo_singleDigitSigned=/^-?\d/,Vo_twoDigitsSigned=/^-?\d{1,2}/,Vo_threeDigitsSigned=/^-?\d{1,3}/,Vo_fourDigitsSigned=/^-?\d{1,4}/,Kl_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,Kl_basic=/^([+-])(\d{2})(\d{2})|Z/,Kl_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Kl_extended=/^([+-])(\d{2}):(\d{2})|Z/,Kl_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function jo(t,n){return t&&{value:n(t.value),rest:t.rest}}function mo(t,n){var e=n.match(t);return e?{value:parseInt(e[0],10),rest:n.slice(e[0].length)}:null}function Zl(t,n){var e=n.match(t);if(!e)return null;if("Z"===e[0])return{value:0,rest:n.slice(1)};var i="+"===e[1]?1:-1,r=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,s=e[5]?parseInt(e[5],10):0;return{value:i*(r*Ty+6e4*o+1e3*s),rest:n.slice(e[0].length)}}function _R(t){return mo(Vo_anyDigitsSigned,t)}function To(t,n){switch(t){case 1:return mo(Vo_singleDigit,n);case 2:return mo(Vo_twoDigits,n);case 3:return mo(Vo_threeDigits,n);case 4:return mo(Vo_fourDigits,n);default:return mo(new RegExp("^\\d{1,"+t+"}"),n)}}function u8(t,n){switch(t){case 1:return mo(Vo_singleDigitSigned,n);case 2:return mo(Vo_twoDigitsSigned,n);case 3:return mo(Vo_threeDigitsSigned,n);case 4:return mo(Vo_fourDigitsSigned,n);default:return mo(new RegExp("^-?\\d{1,"+t+"}"),n)}}function Ay(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function bR(t,n){var r,e=n>0,i=e?n:1-n;if(i<=50)r=t||100;else{var o=i+50;r=t+100*Math.floor(o/100)-(t>=o%100?100:0)}return e?r:1-r}function yR(t){return t%400==0||t%4==0&&t%100!=0}var yge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",130),sn(fn(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){var c=function(C){return{year:C,isTwoDigitYear:"yy"===o}};switch(o){case"y":return jo(To(4,r),c);case"yo":return jo(s.ordinalNumber(r,{unit:"year"}),c);default:return jo(To(o.length,r),c)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,s){var c=r.getUTCFullYear();if(s.isTwoDigitYear){var v=bR(s.year,c);return r.setUTCFullYear(v,0,1),r.setUTCHours(0,0,0,0),r}return r.setUTCFullYear("era"in o&&1!==o.era?1-s.year:s.year,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(or),wge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",130),sn(fn(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){var c=function(C){return{year:C,isTwoDigitYear:"YY"===o}};switch(o){case"Y":return jo(To(4,r),c);case"Yo":return jo(s.ordinalNumber(r,{unit:"year"}),c);default:return jo(To(o.length,r),c)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,s,c){var v=xy(r,c);if(s.isTwoDigitYear){var C=bR(s.year,v);return r.setUTCFullYear(C,0,c.firstWeekContainsDate),r.setUTCHours(0,0,0,0),R0(r,c)}return r.setUTCFullYear("era"in o&&1!==o.era?1-s.year:s.year,0,c.firstWeekContainsDate),r.setUTCHours(0,0,0,0),R0(r,c)}}]),e}(or),xge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",130),sn(fn(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o){return u8("R"===o?4:o.length,r)}},{key:"set",value:function(r,o,s){var c=new Date(0);return c.setUTCFullYear(s,0,4),c.setUTCHours(0,0,0,0),Wf(c)}}]),e}(or),Cge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",130),sn(fn(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o){return u8("u"===o?4:o.length,r)}},{key:"set",value:function(r,o,s){return r.setUTCFullYear(s,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(or),Mge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",120),sn(fn(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"Q":case"QQ":return To(o.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,s){return r.setUTCMonth(3*(s-1),1),r.setUTCHours(0,0,0,0),r}}]),e}(or),Sge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",120),sn(fn(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"q":case"qq":return To(o.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,s){return r.setUTCMonth(3*(s-1),1),r.setUTCHours(0,0,0,0),r}}]),e}(or),Tge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),sn(fn(i),"priority",110),i}return Ri(e,[{key:"parse",value:function(r,o,s){var c=function(C){return C-1};switch(o){case"M":return jo(mo(Vo_month,r),c);case"MM":return jo(To(2,r),c);case"Mo":return jo(s.ordinalNumber(r,{unit:"month"}),c);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,s){return r.setUTCMonth(s,1),r.setUTCHours(0,0,0,0),r}}]),e}(or),Ege=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",110),sn(fn(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){var c=function(C){return C-1};switch(o){case"L":return jo(mo(Vo_month,r),c);case"LL":return jo(To(2,r),c);case"Lo":return jo(s.ordinalNumber(r,{unit:"month"}),c);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,s){return r.setUTCMonth(s,1),r.setUTCHours(0,0,0,0),r}}]),e}(or),Age=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",100),sn(fn(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"w":return mo(Vo_week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,s,c){return R0(function Lge(t,n,e){Uo(2,arguments);var i=ta(t),r=ga(n),o=eR(i,e)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(r,s,c),c)}}]),e}(or),Ige=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",100),sn(fn(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"I":return mo(Vo_week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,s){return Wf(function Dge(t,n){Uo(2,arguments);var e=ta(t),i=ga(n),r=XN(e)-i;return e.setUTCDate(e.getUTCDate()-7*r),e}(r,s))}}]),e}(or),kge=[31,28,31,30,31,30,31,31,30,31,30,31],Oge=[31,29,31,30,31,30,31,31,30,31,30,31],Nge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",90),sn(fn(i),"subPriority",1),sn(fn(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"d":return mo(Vo_date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){var c=yR(r.getUTCFullYear()),v=r.getUTCMonth();return c?o>=1&&o<=Oge[v]:o>=1&&o<=kge[v]}},{key:"set",value:function(r,o,s){return r.setUTCDate(s),r.setUTCHours(0,0,0,0),r}}]),e}(or),Rge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",90),sn(fn(i),"subpriority",1),sn(fn(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"D":case"DD":return mo(Vo_dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return yR(r.getUTCFullYear())?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(r,o,s){return r.setUTCMonth(0,s),r.setUTCHours(0,0,0,0),r}}]),e}(or);function Dy(t,n,e){var i,r,o,s,c,v,C,N;Uo(2,arguments);var G=Gf(),se=ga(null!==(i=null!==(r=null!==(o=null!==(s=e?.weekStartsOn)&&void 0!==s?s:null==e||null===(c=e.locale)||void 0===c||null===(v=c.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==o?o:G.weekStartsOn)&&void 0!==r?r:null===(C=G.locale)||void 0===C||null===(N=C.options)||void 0===N?void 0:N.weekStartsOn)&&void 0!==i?i:0);if(!(se>=0&&se<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var le=ta(t),pe=ga(n),Pe=((pe%7+7)%7<se?7:0)+pe-le.getUTCDay();return le.setUTCDate(le.getUTCDate()+Pe),le}var Fge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",90),sn(fn(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,s,c){return(r=Dy(r,s,c)).setUTCHours(0,0,0,0),r}}]),e}(or),Pge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",90),sn(fn(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s,c){var v=function(N){var G=7*Math.floor((N-1)/7);return(N+c.weekStartsOn+6)%7+G};switch(o){case"e":case"ee":return jo(To(o.length,r),v);case"eo":return jo(s.ordinalNumber(r,{unit:"day"}),v);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,s,c){return(r=Dy(r,s,c)).setUTCHours(0,0,0,0),r}}]),e}(or),zge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",90),sn(fn(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s,c){var v=function(N){var G=7*Math.floor((N-1)/7);return(N+c.weekStartsOn+6)%7+G};switch(o){case"c":case"cc":return jo(To(o.length,r),v);case"co":return jo(s.ordinalNumber(r,{unit:"day"}),v);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,s,c){return(r=Dy(r,s,c)).setUTCHours(0,0,0,0),r}}]),e}(or),Bge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",90),sn(fn(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){var c=function(C){return 0===C?7:C};switch(o){case"i":case"ii":return To(o.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return jo(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c);case"iiiii":return jo(s.day(r,{width:"narrow",context:"formatting"}),c);case"iiiiii":return jo(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c);default:return jo(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c)}}},{key:"validate",value:function(r,o){return o>=1&&o<=7}},{key:"set",value:function(r,o,s){return r=function $ge(t,n){Uo(2,arguments);var e=ga(n);e%7==0&&(e-=7);var r=ta(t),v=((e%7+7)%7<1?7:0)+e-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+v),r}(r,s),r.setUTCHours(0,0,0,0),r}}]),e}(or),Hge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",80),sn(fn(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,s){return r.setUTCHours(Ay(s),0,0,0),r}}]),e}(or),Uge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",80),sn(fn(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,s){return r.setUTCHours(Ay(s),0,0,0),r}}]),e}(or),Vge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",80),sn(fn(i),"incompatibleTokens",["a","b","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,s){return r.setUTCHours(Ay(s),0,0,0),r}}]),e}(or),jge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",70),sn(fn(i),"incompatibleTokens",["H","K","k","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"h":return mo(Vo_hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=12}},{key:"set",value:function(r,o,s){var c=r.getUTCHours()>=12;return r.setUTCHours(c&&s<12?s+12:c||12!==s?s:0,0,0,0),r}}]),e}(or),Wge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",70),sn(fn(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"H":return mo(Vo_hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=23}},{key:"set",value:function(r,o,s){return r.setUTCHours(s,0,0,0),r}}]),e}(or),Gge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",70),sn(fn(i),"incompatibleTokens",["h","H","k","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"K":return mo(Vo_hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,s){var c=r.getUTCHours()>=12;return r.setUTCHours(c&&s<12?s+12:s,0,0,0),r}}]),e}(or),Yge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",70),sn(fn(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"k":return mo(Vo_hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=24}},{key:"set",value:function(r,o,s){return r.setUTCHours(s<=24?s%24:s,0,0,0),r}}]),e}(or),qge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",60),sn(fn(i),"incompatibleTokens",["t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"m":return mo(Vo_minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,s){return r.setUTCMinutes(s,0,0),r}}]),e}(or),Kge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",50),sn(fn(i),"incompatibleTokens",["t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o,s){switch(o){case"s":return mo(Vo_second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return To(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,s){return r.setUTCSeconds(s,0),r}}]),e}(or),Zge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",30),sn(fn(i),"incompatibleTokens",["t","T"]),i}return Ri(e,[{key:"parse",value:function(r,o){return jo(To(o.length,r),function(v){return Math.floor(v*Math.pow(10,3-o.length))})}},{key:"set",value:function(r,o,s){return r.setUTCMilliseconds(s),r}}]),e}(or),Qge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",10),sn(fn(i),"incompatibleTokens",["t","T","x"]),i}return Ri(e,[{key:"parse",value:function(r,o){switch(o){case"X":return Zl(Kl_basicOptionalMinutes,r);case"XX":return Zl(Kl_basic,r);case"XXXX":return Zl(Kl_basicOptionalSeconds,r);case"XXXXX":return Zl(Kl_extendedOptionalSeconds,r);default:return Zl(Kl_extended,r)}}},{key:"set",value:function(r,o,s){return o.timestampIsSet?r:new Date(r.getTime()-s)}}]),e}(or),Xge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",10),sn(fn(i),"incompatibleTokens",["t","T","X"]),i}return Ri(e,[{key:"parse",value:function(r,o){switch(o){case"x":return Zl(Kl_basicOptionalMinutes,r);case"xx":return Zl(Kl_basic,r);case"xxxx":return Zl(Kl_basicOptionalSeconds,r);case"xxxxx":return Zl(Kl_extendedOptionalSeconds,r);default:return Zl(Kl_extended,r)}}},{key:"set",value:function(r,o,s){return o.timestampIsSet?r:new Date(r.getTime()-s)}}]),e}(or),Jge=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",40),sn(fn(i),"incompatibleTokens","*"),i}return Ri(e,[{key:"parse",value:function(r){return _R(r)}},{key:"set",value:function(r,o,s){return[new Date(1e3*s),{timestampIsSet:!0}]}}]),e}(or),e8e=function(t){qi(e,t);var n=Ki(e);function e(){var i;Ni(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return sn(fn(i=n.call.apply(n,[this].concat(o))),"priority",20),sn(fn(i),"incompatibleTokens","*"),i}return Ri(e,[{key:"parse",value:function(r){return _R(r)}},{key:"set",value:function(r,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),e}(or),t8e={G:new bge,y:new yge,Y:new wge,R:new xge,u:new Cge,Q:new Mge,q:new Sge,M:new Tge,L:new Ege,w:new Age,I:new Ige,d:new Nge,D:new Rge,E:new Fge,e:new Pge,c:new zge,i:new Bge,a:new Hge,b:new Uge,B:new Vge,h:new jge,H:new Wge,K:new Gge,k:new Yge,m:new qge,s:new Kge,S:new Zge,X:new Qge,x:new Xge,t:new Jge,T:new e8e},n8e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i8e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r8e=/^'([^]*?)'?$/,o8e=/''/g,s8e=/\S/,a8e=/[a-zA-Z]/;let sc=(()=>{class t{static#e=this.isoDateTimeRE=/([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.([0-9]{1,9}))?)?)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)?)?)?/;static#t=this.localDateTimeRE=/^\s*([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])( ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.([0-9]{1,3}))?\s*([aApP]\.?[mM]\.?))?)?)?\s*$/;static#n=this.dateRE=/^\s*([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?\s*$/;static isValidDate(e){return e&&!isNaN(e.getTime())}static parseISOToDateTime(e,i=!1){return t.parseToDateTime(e,i?t.dateRE:t.isoDateTimeRE,!0)}static parseLocalToDateTime(e,i=!1){return t.parseToDateTime(e,i?t.dateRE:t.localDateTimeRE)}static parseToDateTime(e,i,r=!1){const o=i.exec(e),G={dateStruct:null,timeStruct:null,millis:NaN},se=t.validateDate(e),le=se.date;return se.validDate&&o&&(o[8]?(G.dateStruct={year:le.getFullYear(),month:le.getMonth()+1,day:le.getDate()},G.timeStruct={hour:le.getHours(),minute:le.getMinutes(),second:le.getSeconds()},G.millis=parseInt(o[13],10)):G.dateStruct={year:o[1]?parseInt(o[1],10):null,month:o[5]?parseInt(o[5],10):null,day:o[7]?parseInt(o[7],10):null}),G}static formatToISO(e){let i="";const r=t.getDate(e);if(e&&e.dateStruct&&e.dateStruct.year){const o=e.dateStruct;i=lR(r,`yyyy${o?.month||o?.day?"-MM":""}${o?.day?"-dd":""}`),e.timeStruct&&null!==e.timeStruct.hour&&null!==e.timeStruct.minute&&(i=r.toISOString(),Number.isNaN(e.millis)&&(i=i.replace(/\.[0-9]{3}/,"")))}return i}static getDate(e){let i=new Date(NaN);if(e&&e.dateStruct&&e.dateStruct.year){const r=e.dateStruct,o=e.timeStruct;i=new Date(r.year,r?.month>0?r.month-1:0,r?.day||1,o?.hour||0,o?.minute||0,o?.second||0,e.millis||0)}return i}static formatToLocal(e){let i="";if(e&&e.dateStruct&&e.dateStruct.year){const r=e.dateStruct;let s=`${r.year?"yyyy":""}${r.month?"-MM":""}${r.day?"-dd":""}`;e.timeStruct&&null!==e.timeStruct.hour&&null!==e.timeStruct.minute&&(s+=` hh:mm${null!==e.timeStruct.second?":ss":""}${Number.isNaN(e.millis)?"":".SSS"} a`),i=lR(t.getDate(e),s)}return i}static validateDate(e){const i={date:new Date(NaN),validFormat:!1,validDate:!1};return i.date=function Z6e(t,n){var e;Uo(1,arguments);var i=ga(null!==(e=n?.additionalDigits)&&void 0!==e?e:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var o,r=function ege(t){var i,n={},e=t.split(l8.dateTimeDelimiter);if(e.length>2)return n;if(/:/.test(e[0])?i=e[0]:(n.date=e[0],i=e[1],l8.timeZoneDelimiter.test(n.date)&&(n.date=t.split(l8.timeZoneDelimiter)[0],i=t.substr(n.date.length,t.length))),i){var r=l8.timezone.exec(i);r?(n.time=i.replace(r[1],""),n.timezone=r[1]):n.time=i}return n}(t);if(r.date){var s=function tge(t,n){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=t.match(e);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:null===o?r:100*o,restDateString:t.slice((i[1]||i[2]).length)}}(r.date,i);o=function nge(t,n){if(null===n)return new Date(NaN);var e=t.match(Q6e);if(!e)return new Date(NaN);var i=!!e[4],r=gp(e[1]),o=gp(e[2])-1,s=gp(e[3]),c=gp(e[4]),v=gp(e[5])-1;if(i)return function lge(t,n,e){return n>=1&&n<=53&&e>=0&&e<=6}(0,c,v)?function oge(t,n,e){var i=new Date(0);i.setUTCFullYear(t,0,4);var o=7*(n-1)+e+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+o),i}(n,c,v):new Date(NaN);var C=new Date(0);return function age(t,n,e){return n>=0&&n<=11&&e>=1&&e<=(sge[n]||(uR(t)?29:28))}(n,o,s)&&function cge(t,n){return n>=1&&n<=(uR(t)?366:365)}(n,r)?(C.setUTCFullYear(n,o,Math.max(r,s)),C):new Date(NaN)}(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var C,c=o.getTime(),v=0;if(r.time&&(v=function ige(t){var n=t.match(X6e);if(!n)return NaN;var e=Ey(n[1]),i=Ey(n[2]),r=Ey(n[3]);return function dge(t,n,e){return 24===t?0===n&&0===e:e>=0&&e<60&&n>=0&&n<60&&t>=0&&t<25}(e,i,r)?e*Ty+6e4*i+1e3*r:NaN}(r.time),isNaN(v)))return new Date(NaN);if(!r.timezone){var N=new Date(c+v),G=new Date(0);return G.setFullYear(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate()),G.setHours(N.getUTCHours(),N.getUTCMinutes(),N.getUTCSeconds(),N.getUTCMilliseconds()),G}return C=function rge(t){if("Z"===t)return 0;var n=t.match(J6e);if(!n)return 0;var e="+"===n[1]?-1:1,i=parseInt(n[2]),r=n[3]&&parseInt(n[3])||0;return function uge(t,n){return n>=0&&n<=59}(0,r)?e*(i*Ty+6e4*r):NaN}(r.timezone),isNaN(C)?new Date(NaN):new Date(c+v+C)}(e),i.validDate=t.isValidDate(i.date),i.validFormat=t.isValidDate(new Date(e)),i.validDate||(i.date=t.parseForValidDate(e),i.validDate=t.isValidDate(i.date),i.validFormat=i.validDate,i.validDate||(i.validFormat=t.isValidDate(new Date(e)))),i}static parseForValidDate(e){let i=new Date(NaN);if(!e?.trim().length)return i;const r=e.trim().match(/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)/),o=r?.[1];return o&&r[3]?(i=function c8e(t,n,e,i){var r,o,s,c,v,C,N,G,se,le,pe,we,Le,Be,Pe,Je,ut,Dt;Uo(3,arguments);var Ft=String(t),en=String(n),vn=Gf(),Mi=null!==(r=null!==(o=i?.locale)&&void 0!==o?o:vn.locale)&&void 0!==r?r:cR;if(!Mi.match)throw new RangeError("locale must contain match property");var Ti=ga(null!==(s=null!==(c=null!==(v=null!==(C=i?.firstWeekContainsDate)&&void 0!==C?C:null==i||null===(N=i.locale)||void 0===N||null===(G=N.options)||void 0===G?void 0:G.firstWeekContainsDate)&&void 0!==v?v:vn.firstWeekContainsDate)&&void 0!==c?c:null===(se=vn.locale)||void 0===se||null===(le=se.options)||void 0===le?void 0:le.firstWeekContainsDate)&&void 0!==s?s:1);if(!(Ti>=1&&Ti<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Gr=ga(null!==(pe=null!==(we=null!==(Le=null!==(Be=i?.weekStartsOn)&&void 0!==Be?Be:null==i||null===(Pe=i.locale)||void 0===Pe||null===(Je=Pe.options)||void 0===Je?void 0:Je.weekStartsOn)&&void 0!==Le?Le:vn.weekStartsOn)&&void 0!==we?we:null===(ut=vn.locale)||void 0===ut||null===(Dt=ut.options)||void 0===Dt?void 0:Dt.weekStartsOn)&&void 0!==pe?pe:0);if(!(Gr>=0&&Gr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===en)return""===Ft?ta(e):new Date(NaN);var nn,Yr={firstWeekContainsDate:Ti,weekStartsOn:Gr,locale:Mi},qr=[new _ge],$a=en.match(i8e).map(function(Gi){var ci=Gi[0];return ci in Cy?(0,Cy[ci])(Gi,Mi.formatLong):Gi}).join("").match(n8e),Cr=[],zt=hR($a);try{var On=function(){var ci=nn.value;!(null!=i&&i.useAdditionalWeekYearTokens)&&aR(ci)&&c8(ci,en,t),(null==i||!i.useAdditionalDayOfYearTokens)&&sR(ci)&&c8(ci,en,t);var _s=ci[0],Nc=t8e[_s];if(Nc){var o7=Nc.incompatibleTokens;if(Array.isArray(o7)){var dm=Cr.find(function(s7){return o7.includes(s7.token)||s7.token===_s});if(dm)throw new RangeError("The format string mustn't contain `".concat(dm.fullToken,"` and `").concat(ci,"` at the same time"))}else if("*"===Nc.incompatibleTokens&&Cr.length>0)throw new RangeError("The format string mustn't contain `".concat(ci,"` and any other token at the same time"));Cr.push({token:_s,fullToken:ci});var um=Nc.run(Ft,ci,Mi.match,Yr);if(!um)return{v:new Date(NaN)};qr.push(um.setter),Ft=um.rest}else{if(_s.match(a8e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_s+"`");if("''"===ci?ci="'":"'"===_s&&(ci=function l8e(t){return t.match(r8e)[1].replace(o8e,"'")}(ci)),0!==Ft.indexOf(ci))return{v:new Date(NaN)};Ft=Ft.slice(ci.length)}};for(zt.s();!(nn=zt.n()).done;){var oi=On();if("object"===Y1(oi))return oi.v}}catch(Gi){zt.e(Gi)}finally{zt.f()}if(Ft.length>0&&s8e.test(Ft))return new Date(NaN);var Kr=qr.map(function(Gi){return Gi.priority}).sort(function(Gi,ci){return ci-Gi}).filter(function(Gi,ci,_s){return _s.indexOf(Gi)===ci}).map(function(Gi){return qr.filter(function(ci){return ci.priority===Gi}).sort(function(ci,_s){return _s.subPriority-ci.subPriority})}).map(function(Gi){return Gi[0]}),Ds=ta(e);if(isNaN(Ds.getTime()))return new Date(NaN);var Ba,Zr=ZN(Ds,oR(Ds)),sa={},Pi=hR(Kr);try{for(Pi.s();!(Ba=Pi.n()).done;){var s1=Ba.value;if(!s1.validate(Zr,Yr))return new Date(NaN);var Br=s1.set(Zr,sa,Yr);Array.isArray(Br)?(Zr=Br[0],hge(sa,Br[1])):Zr=Br}}catch(Gi){Pi.e(Gi)}finally{Pi.f()}return Zr}(o,"yyyy-M-d",new Date),t.isValidDate(i)&&(i=new Date(e))):i=new Date(e),i}}return t})();var f8,d8e=new Uint8Array(16);function u8e(){if(!f8&&!(f8=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f8(d8e)}const f8e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Us=[],Iy=0;Iy<256;++Iy)Us.push((Iy+256).toString(16).substr(1));const g8e=function m8e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Us[t[n+0]]+Us[t[n+1]]+Us[t[n+2]]+Us[t[n+3]]+"-"+Us[t[n+4]]+Us[t[n+5]]+"-"+Us[t[n+6]]+Us[t[n+7]]+"-"+Us[t[n+8]]+Us[t[n+9]]+"-"+Us[t[n+10]]+Us[t[n+11]]+Us[t[n+12]]+Us[t[n+13]]+Us[t[n+14]]+Us[t[n+15]]).toLowerCase();if(!function h8e(t){return"string"==typeof t&&f8e.test(t)}(e))throw TypeError("Stringified UUID is invalid");return e},_8e=function v8e(t,n,e){var i=(t=t||{}).random||(t.rng||u8e)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var r=0;r<16;++r)n[e+r]=i[r];return n}return g8e(i)};var wR=function(t){return t[t.R4=0]="R4",t[t.STU3=1]="STU3",t}(wR||{});class Bt{static#e=this.ITEM_CONTROL_EXT_URL="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl";static#t=this.RENDERING_STYLE_EXT_URL="http://hl7.org/fhir/StructureDefinition/rendering-style";static#n=this.RENDERING_XHTML_EXT_URL="http://hl7.org/fhir/StructureDefinition/rendering-xhtml";static#i=this.HELP_BUTTON_EXTENSION={url:Bt.ITEM_CONTROL_EXT_URL,valueCodeableConcept:{text:"Help-Button",coding:[{code:"help",display:"Help-Button",system:"http://hl7.org/fhir/questionnaire-item-control"}]}};static#r=this.helpItemTemplate={type:"display",linkId:"",extension:[Bt.HELP_BUTTON_EXTENSION]};static#o=this._defaultForm={resourceType:"Questionnaire",title:"New Form",status:"draft",item:[]};static#s=this._answerTypeMap={boolean:"answerBoolean",integer:"answerInteger",decimal:"answerDecimal",date:"answerDate",dateTime:"answerDateTime",time:"answerTime",string:"answerString",text:"answerString",choice:"answerCoding","open-choice":"answerCoding",quantity:"answerQuantity",reference:"answerReference"};static isGuidingStep(n){return"home"===n||"fl-editor"===n||"item-editor"===n}static validateFile(n){return"string"!=typeof n?.name||/^[.~]|[\/\\]/.test(n.name)?null:n}static capitalize(n){let e="";return n&&n.length>0&&(e=n.split(/(?=[A-Z])/).join(" "),e=e.charAt(0).toUpperCase()+e.substring(1)),e}static isVisible(n,e){const i=e.split(".");let r=n.visible;for(let o=0;o<i.length&&r;o++)r=(n=n.getProperty(i[o])).visible;return r}static isEmpty(n){let e=!0;if("number"==typeof n)e=!1;else if("boolean"==typeof n)e=!1;else if(n)if(n instanceof Date)e=!1;else if(Array.isArray(n))for(let i=0;e&&i<n.length;i++)e=Bt.isEmpty(n[i]);else if("object"==typeof n)if(0===Object.keys(n).length)e=!0;else for(let i=0,r=Object.keys(n);e&&i<r.length;i++)n.hasOwnProperty(r[i])&&(e=Bt.isEmpty(n[r[i]]));else e=!1;else e=!0;return e}static getFhirAnswerOption(n){if(!n)return null;const e=[];return n.forEach(i=>{e.push({code:i.AnswerStringID,system:"http://loinc.org",display:i.DisplayText})}),e}static getFhirType(n){let e="string";switch(n){case"INT":e="integer";break;case"REAL":e="decimal";break;case"DT":case"DAY":case"MONTH":case"YEAR":e="date";break;case"DTM":e="dateTime";break;case"ST":case"EMAIL":case"PHONE":e="string";break;case"TITLE":e="display";break;case"TM":e="time";break;case"SECTION":case null:e="group";break;case"URL":e="url";break;case"QTY":e="quantity";break;case"CNE":e="choice";break;case"CWE":e="open-choice"}return e}static convertUnitsToExtensions(n,e){if(!n)return null;const i=[],r="quantity"===e?"http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption":"http://hl7.org/fhir/StructureDefinition/questionnaire-unit";return n.some(o=>{const s=LForms.ucumPkg.UcumLhcUtils.getInstance().validateUnitString(o.unit)?.unit?.name||o.unit;return i.push({url:r,valueCoding:{code:o.unit,system:"http://unitsofmeasure.org",display:s}}),"quantity"!==e}),i}static findItemIndexWithHelpText(n){return n?n.findIndex(e=>{let i=!1;return"display"===e.type&&(i=e.extension?.some(r=>r.url===Bt.ITEM_CONTROL_EXT_URL&&r.valueCodeableConcept?.coding?.some(o=>"help"===o.code))),i}):-1}static hasHelpText(n){return n?.__$helpText?.text?.trim().length>0||n?.__$helpText?._text?.extension?.some(e=>e.url===Bt.RENDERING_XHTML_EXT_URL&&e.valueString?.trim().length>0)}static convertToQuestionnaireJSON(n){const e=KN()(n);return op()(e).forEach(function(i){this.before(function(){i&&Array.isArray(i)?this.update(i.filter(r=>null!=r)):Bt.hasHelpText(i)?(Bt.eliminateEmptyFields(i.__$helpText),i.item||(i.item=[]),i.item.push(i.__$helpText),delete i.__$helpText,this.update(i)):"question"===this.key&&"object"==typeof i?.data&&this.update(i.data.linkId)}),this.after(function(){(this.key?.startsWith("__$")||"function"==typeof i||Bt.isEmpty(i))&&this.notRoot&&this.remove()})}),e}static eliminateEmptyFields(n){op()(n).forEach(function(e){this.before(function(){e&&Array.isArray(e)&&this.update(e.filter(i=>null!=i))}),this.after(function(){("function"==typeof e||Bt.isEmpty(e))&&this.notRoot&&this.remove()})})}static mirrorObject(n,e){return Object.keys(n).forEach(i=>{n.hasOwnProperty(i)&&delete n[i]}),Object.assign(n,e)}static createDefaultForm(){return Bt.cloneDefaultForm()}static cloneDefaultForm(){return JSON.parse(JSON.stringify(Bt._defaultForm))}static isDefaultForm(n){return Pme(Bt._defaultForm,n)}static findExtensionByUrl(n,e){const i=this.findExtensionIndexByUrl(n,e);return i>=0?n[i]:null}static findExtensionIndexByUrl(n,e){let i=-1;return n?.length&&(i=n.findIndex(r=>r.url===e)),i}static isAnswerField(n){return n&&n.startsWith("answer")}static getAnswerFieldName(n){return Bt._answerTypeMap[n]}static getIndexPath(n){const e=[];if(n)for(e.push(n.index+1);n?.level>1;)e.push(((n=n.parent)?n.index:0)+1);return e.reverse()}static formatNodeForDisplay(n){let e;return n&&n.data&&(e=`${Bt.getIndexPath(n).join(".")}: ${n.data.text}`),e}static truncateString(n,e=15){return n?.length>e?n.substring(0,e).trim()+"...":n}static dateValidator(n,e){let i=[];const r=sc.validateDate(n);if(n?.trim().length>0&&!r.validDate&&r.validFormat){const s={code:"INVALID_DATE"};s.path=`#${e.canonicalPathNotation}`,s.message="Invalid date.",s.params=[n],i.push(s)}return i.length?e.extendErrors(i):i=null,i}static dateTimeValidator(n,e){return Bt.dateValidator(n,e)}static traverseAncestors(n,e){const i=[];let r=n,o=!0;for(;r&&o;)i.push(r),o=e(r),r=r.parent;return i}static generateUniqueId(){return _8e()}static extractBaseUrl(n){let e,i;try{if(e=new URL(n),!/^https?:$/i.test(e.protocol))return null}catch{return null}const r=/(\/questionnaire\/\$validate)$/i;return i=e.pathname&&r.test(e.pathname)?e.origin+e.pathname.replace(r,""):e.pathname&&e.pathname.length>1?e.origin+e.pathname:e.origin,i}static removeAnchorTagFromString(n,e,i="after"){let o;return o="before"===i?e+"$1":"$1"+e,n.replace(/<a[^>]*>(.*?)<\/a>/g,o)}}function h8(t){return fi((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class p8{}class m8{}class Lc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Lc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Lc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Lc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=n.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(c=>-1===o.indexOf(c)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class y8e{encodeKey(n){return xR(n)}encodeValue(n){return xR(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const x8e=/%(\d[a-f0-9])/gi,C8e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xR(t){return encodeURIComponent(t).replace(x8e,(n,e)=>C8e[e]??n)}function g8(t){return`${t}`}class ac{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new y8e,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function w8e(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,c]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],v=e.get(s)||[];v.push(c),e.set(s,v)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],r=Array.isArray(i)?i.map(g8):[g8(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new ac({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(g8(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(g8(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class M8e{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function CR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function MR(t){return typeof Blob<"u"&&t instanceof Blob}function SR(t){return typeof FormData<"u"&&t instanceof FormData}class vp{constructor(n,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function S8e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Lc,this.context??=new M8e,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+s}}else this.params=new ac,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||CR(this.body)||MR(this.body)||SR(this.body)||function T8e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SR(this.body)?null:MR(this.body)?this.body.type||null:CR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,c=n.withCredentials??this.withCredentials,v=n.reportProgress??this.reportProgress;let C=n.headers||this.headers,N=n.params||this.params;const G=n.context??this.context;return void 0!==n.setHeaders&&(C=Object.keys(n.setHeaders).reduce((se,le)=>se.set(le,n.setHeaders[le]),C)),n.setParams&&(N=Object.keys(n.setParams).reduce((se,le)=>se.set(le,n.setParams[le]),N)),new vp(e,i,s,{params:N,headers:C,context:G,reportProgress:v,responseType:r,withCredentials:c,transferCache:o})}}var s2=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(s2||{});class ky{constructor(n,e=_p.Ok,i="OK"){this.headers=n.headers||new Lc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class v8 extends ky{constructor(n={}){super(n),this.type=s2.ResponseHeader}clone(n={}){return new v8({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class P0 extends ky{constructor(n={}){super(n),this.type=s2.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new P0({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class qf extends ky{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var _p=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(_p||{});function Oy(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let z0=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof vp)o=e;else{let v,C;v=r.headers instanceof Lc?r.headers:new Lc(r.headers),r.params&&(C=r.params instanceof ac?r.params:new ac({fromObject:r.params})),o=new vp(e,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:C,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Wi(o).pipe(function b8e(t,n){return wt(n)?Jd(t,n,1):Jd(t,1)}(v=>this.handler.handle(v)));if(e instanceof vp||"events"===r.observe)return s;const c=s.pipe(er(v=>v instanceof P0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Mn(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return c.pipe(Mn(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return c.pipe(Mn(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return c.pipe(Mn(v=>v.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ac).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Oy(r,i))}post(e,i,r={}){return this.request("POST",e,Oy(r,i))}put(e,i,r={}){return this.request("PUT",e,Oy(r,i))}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(p8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();function ER(t,n){return n(t)}function I8e(t,n){return(e,i)=>n.intercept(e,{handle:r=>t(r,i)})}const O8e=new at(""),bp=new at(""),LR=new at(""),AR=new at("");function N8e(){let t=null;return(n,e)=>{null===t&&(t=($e(O8e,{optional:!0})??[]).reduceRight(I8e,ER));const i=$e(u0),r=i.add();return t(n,e).pipe(h8(()=>i.remove(r)))}}let DR=(()=>{class t extends p8{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=$e(u0);const r=$e(AR,{optional:!0});this.backend=r??e}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(bp),...this.injector.get(LR,[])]));this.chain=r.reduceRight((o,s)=>function k8e(t,n,e){return(i,r)=>function ys(t,n){t instanceof x1&&t.assertNotDestroyed();const i=yl(t),r=Gs(void 0);try{return n()}finally{yl(i),Gs(r)}}(e,()=>n(i,o=>t(o,r)))}(o,s,this.injector),ER)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(h8(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(m8),Xe(qs))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const $8e=/^\)\]\}',?\n/;let kR=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new et(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?qc(i.\u0275loadImpl()):Wi(null)).pipe(Oa(()=>new hn(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((we,Le)=>s.setRequestHeader(we,Le.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const we=e.detectContentTypeHeader();null!==we&&s.setRequestHeader("Content-Type",we)}if(e.responseType){const we=e.responseType.toLowerCase();s.responseType="json"!==we?we:"text"}const c=e.serializeBody();let v=null;const C=()=>{if(null!==v)return v;const we=s.statusText||"OK",Le=new Lc(s.getAllResponseHeaders()),Be=function B8e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||e.url;return v=new v8({headers:Le,status:s.status,statusText:we,url:Be}),v},N=()=>{let{headers:we,status:Le,statusText:Be,url:Pe}=C(),Je=null;Le!==_p.NoContent&&(Je=typeof s.response>"u"?s.responseText:s.response),0===Le&&(Le=Je?_p.Ok:0);let ut=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof Je){const Dt=Je;Je=Je.replace($8e,"");try{Je=""!==Je?JSON.parse(Je):null}catch(Ft){Je=Dt,ut&&(ut=!1,Je={error:Ft,text:Je})}}ut?(o.next(new P0({body:Je,headers:we,status:Le,statusText:Be,url:Pe||void 0})),o.complete()):o.error(new qf({error:Je,headers:we,status:Le,statusText:Be,url:Pe||void 0}))},G=we=>{const{url:Le}=C(),Be=new qf({error:we,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Le||void 0});o.error(Be)};let se=!1;const le=we=>{se||(o.next(C()),se=!0);let Le={type:s2.DownloadProgress,loaded:we.loaded};we.lengthComputable&&(Le.total=we.total),"text"===e.responseType&&s.responseText&&(Le.partialText=s.responseText),o.next(Le)},pe=we=>{let Le={type:s2.UploadProgress,loaded:we.loaded};we.lengthComputable&&(Le.total=we.total),o.next(Le)};return s.addEventListener("load",N),s.addEventListener("error",G),s.addEventListener("timeout",G),s.addEventListener("abort",G),e.reportProgress&&(s.addEventListener("progress",le),null!==c&&s.upload&&s.upload.addEventListener("progress",pe)),s.send(c),o.next({type:s2.Sent}),()=>{s.removeEventListener("error",G),s.removeEventListener("abort",G),s.removeEventListener("load",N),s.removeEventListener("timeout",G),e.reportProgress&&(s.removeEventListener("progress",le),null!==c&&s.upload&&s.upload.removeEventListener("progress",pe)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(ED))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const Fy=new at(""),OR=new at("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),NR=new at("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class RR{}let V8e=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=_D(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn),Xe(Bd),Xe(OR))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();function j8e(t,n){const e=t.url.toLowerCase();if(!$e(Fy)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const i=$e(RR).getToken(),r=$e(NR);return null!=i&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var a2=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(a2||{});function W8e(...t){const n=[z0,kR,DR,{provide:p8,useExisting:DR},{provide:m8,useExisting:kR},{provide:bp,useValue:j8e,multi:!0},{provide:Fy,useValue:!0},{provide:RR,useClass:V8e}];for(const e of t)n.push(...e.\u0275providers);return function P2(t){return{\u0275providers:t}}(n)}const FR=new at("");function G8e(){return function $0(t,n){return{\u0275kind:t,\u0275providers:n}}(a2.LegacyInterceptors,[{provide:FR,useFactory:N8e},{provide:bp,useExisting:FR,multi:!0}])}let Y8e=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[W8e(G8e())]})}return t})();function jR(t,n){const e=wt(t)?t:()=>t,i=r=>r.error(e());return new hn(n?r=>n.schedule(i,0,r):i)}function q1(t){return fi((n,e)=>{let o,i=null,r=!1;i=n.subscribe(new gi(e,void 0,void 0,s=>{o=fs(t(s,q1(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}const e5e=JSON.parse('{"resourceType":"Bundle","id":"5220b40f-b630-4b8a-b2e8-4218c0318d85","meta":{"lastUpdated":"2023-06-07T16:13:56.108+00:00"},"type":"searchset","total":162,"link":[{"relation":"self","url":"https://snowstorm.ihtsdotools.org/fhir/CodeSystem"}],"entry":[{"fullUrl":"https://snowstorm.ihtsdotools.org/fhir/CodeSystem/sct_11000221109_20221130","resource":{"resourceType":"CodeSystem","id":"sct_900000000000207008_20240410","url":"http://snomed.info/sct","version":"http://snomed.info/sct/900000000000207008/version/20240410","name":"SNOMED_CT","title":"United Kingdom Edition","status":"active","date":"2022-11-30T00:00:00+00:00","publisher":"NHS England","hierarchyMeaning":"is-a","compositional":true,"content":"complete"}}]}');var B0=function(t){return t.PANEL="panel",t.QUESTION="question",t}(B0||{});class ps{static#e=this.loincBaseUrl="https://clinicaltables.nlm.nih.gov";static#t=this.loincSearchUrl=ps.loincBaseUrl+"/api/loinc_items/v3/search";static#n=this.loincFormsUrl=ps.loincBaseUrl+"/loinc_form_definitions";static#i=this.fhirUrl="https://3cdzg7kbj4.execute-api.eu-west-2.amazonaws.com/poc/events/FHIR/R4/Questionnaire";static#r=this.snomedCodeSystemsUrl="https://3cdzg7kbj4.execute-api.eu-west-2.amazonaws.com/poc/events/FHIR/R4/CodeSystem";constructor(n){this.http=n,this._snomedEditions=null,this.assetsUrl="/assets"}get snomedEditions(){return this._snomedEditions}getFhirFormData(n){return this.http.get(ps.fhirUrl+"/"+n,{responseType:"json"})}getLoincFormData(n){return(new ac).set("loinc_num",n),this.http.get(ps.loincFormsUrl+"?loinc_num="+n,{responseType:"json"}).pipe(Mn(i=>LForms.Util.getFormFHIRData("Questionnaire","R4",i)),q1(i=>(console.log(`Loading loinc form ${n}`,i),Wi([]))))}searchLoincForms(n,e){return(e=e||{}).observe=e.observe||"body",e.responseType=e.responseType||"json",e.params=(e.params||new ac).set("terms",n).set("df","LOINC_NUM,text").set("type","form_and_section").set("available","true"),this.http.get(ps.loincSearchUrl,e).pipe(Mn(i=>i[3].map(r=>({id:r[0],title:r[1]}))),q1(i=>(console.log("searching for "+n,i),Wi([]))))}searchLoincItems(n,e,i){return(i=i||{}).observe=i.observe||"body",i.responseType=i.responseType||"json",i.params=i.params||new ac,i.params=e===B0.PANEL?i.params.set("type","form_and_section").set("available",!0):i.params.set("type","question").set("ef","answers,units,datatype"),i.params=i.params.set("terms",n).set("maxList",20),this.http.get(ps.loincSearchUrl,i).pipe(Mn(r=>{const o=[];if(Array.isArray(r)){const c=r[3],v=r[2];r[1].forEach((C,N)=>{const G=this.convertLoincQToItem(C,c[N][0],v?v.answers[N]:null,v?v.units[N]:null,v?v.datatype[N]:null);o.push(G)})}return o}))}getLoincPanel(n,e){return(e=e||{}).observe=e.observe||"body",e.responseType=e.responseType||"json",e.params=(e.params||new ac).set("loinc_num",n),this.http.get(ps.loincFormsUrl,e).pipe(Mn(i=>LForms.Util.getFormFHIRData("Questionnaire","R4",{lformsVersion:i.lformsVersion,name:i.name,items:[{question:i.name,questionCode:i.code,dataType:"SECTION",items:i.items}]}).item[0]))}convertLoincQToItem(n,e,i,r,o){const s={};if(s.code=[{code:n,system:"http://loinc.org",display:e}],s.text=e,i){const c=[];i.forEach(v=>{c.push({valueCoding:{code:v.AnswerStringID,system:"http://loinc.org",display:v.DisplayText}})}),s.answerOption=c}return s.type=Bt.getFhirType(o),r&&(s.extension=Bt.convertUnitsToExtensions(r,s.type)),s}fetchSnomedEditions(){this._snomedEditions||this.http.get(ps.snomedCodeSystemsUrl).pipe(function J8e(t=1/0){let n;n=t&&"object"==typeof t?t:{count:t};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=n;return e<=0?kt:fi((o,s)=>{let v,c=0;const C=()=>{let N=!1;v=o.subscribe(new gi(s,G=>{r&&(c=0),s.next(G)},void 0,G=>{if(c++<e){const se=()=>{v?(v.unsubscribe(),v=null,C()):N=!0};if(null!=i){const le="number"==typeof i?z4(i):fs(i(G,c)),pe=new gi(s,()=>{pe.unsubscribe(),se()},()=>{s.complete()});le.subscribe(pe)}else se()}else s.error(G)})),N&&(v.unsubscribe(),v=null,C())};C()})}(3),q1(this.handleSNOMEDError),Mn(this.parseSNOMEDEditions)).subscribe({next:n=>{console.log("Fetched SNOMED editions."),this._snomedEditions=n},error:n=>{console.log("Using packaged SNOMED editions."),this._snomedEditions=this.parseSNOMEDEditions(e5e)}})}parseSNOMEDEditions(n){const e=/^http:\/\/snomed.info\/sct\/([^\/]+)\/version\/(.+)?$/,i=new Map;return n.entry.forEach(r=>{const s=r.resource.version.match(e);if(s){const c=s[1],v=s[2];let C=i.get(c);C?C.versions.push(v):(C={title:r.resource.title,versions:[v]},i.set(c,C))}}),i}handleSNOMEDError(n){return 0===n.status?console.error("An error occurred:",n.error):console.error(`${ps.snomedCodeSystemsUrl} returned code ${n.status}, body was: `,n.error),jR(()=>n.error)}static#o=this.\u0275fac=function(e){return new(e||ps)(Xe(z0))};static#s=this.\u0275prov=tt({token:ps,factory:ps.\u0275fac,providedIn:"root"})}const vP={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},rB={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},Ac={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},uw={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},pH={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},rU={prefix:"fas",iconName:"angle-up",icon:[448,512,[8963],"f106","M201.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 205.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},kU={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M96 32l0 32L48 64C21.5 64 0 85.5 0 112l0 48 448 0 0-48c0-26.5-21.5-48-48-48l-48 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32L160 64l0-32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192L0 192 0 464c0 26.5 21.5 48 48 48l352 0c26.5 0 48-21.5 48-48l0-272z"]},RU={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Mp={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]};let Iw,il=(()=>{class t extends U1{constructor(){super(...arguments),this.faInfo=Ac,this.nolabel=!1,this.booleanControlled=!1,this.booleanControlledInitial=!0}ngOnInit(){const e=this.formProperty.schema.widget;this.labelPosition=this.labelPosition?this.labelPosition:e.labelPosition?e.labelPosition:"top",this.labelWidthClass="left"===this.labelPosition?this.labelWidthClass?this.labelWidthClass:e.labelWidthClass?e.labelWidthClass:"col-sm":"",this.controlWidthClass="left"===this.labelPosition?this.controlWidthClass?this.controlWidthClass:e.controlWidthClass?e.controlWidthClass:"col-sm":"",this.labelClasses=this.labelClasses||e.labelClasses||"",this.controlClasses=this.controlClasses||e.controlClasses||"",this.booleanControlled=this.booleanControlled?this.booleanControlled:!!e.booleanControlled,this.booleanControlledInitial=void 0!==e.booleanControlledInitial?e.booleanControlledInitial:this.booleanControlledInitial}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-control-widget"]],inputs:{nolabel:"nolabel",labelPosition:"labelPosition",labelWidthClass:"labelWidthClass",controlWidthClass:"controlWidthClass",controlClasses:"controlClasses",labelClasses:"labelClasses",booleanControlled:"booleanControlled",booleanLabel:"booleanLabel",booleanControlledInitial:"booleanControlledInitial"},features:[Ct],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();function na(t){return null!=t&&"false"!=`${t}`}function c2(t,n=0){return function LHe(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function F8(t){return Array.isArray(t)?t:[t]}function es(t){return null==t?"":"string"==typeof t?t:`${t}px`}function H0(t){return t instanceof Ht?t.nativeElement:t}function rl(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}try{Iw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Iw=!1}let Tp,go=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Gse(t){return t===SD}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Iw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(Bd))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function l2(t){return function VHe(){if(null==Tp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tp=!0}))}finally{Tp=Tp||!1}return Tp}()?t:!!t.capture}var Ql=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(Ql||{});let z8,U0,kw;function AV(){if(null==U0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return U0=!1,U0;if("scrollBehavior"in document.documentElement.style)U0=!0;else{const t=Element.prototype.scrollTo;U0=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return U0}function Ep(){if("object"!=typeof document||!document)return Ql.NORMAL;if(null==z8){const t=document.createElement("div"),n=t.style;t.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),z8=Ql.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,z8=0===t.scrollLeft?Ql.NEGATED:Ql.INVERTED),t.remove()}return z8}function Lp(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function K1(t){return t.composedPath?t.composedPath()[0]:t.target}function Ow(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ol(t,n=kg){return fi((e,i)=>{let r=null,o=null,s=null;const c=()=>{if(r){r.unsubscribe(),r=null;const C=o;o=null,i.next(C)}};function v(){const C=s+t,N=n.now();if(N<C)return r=this.schedule(void 0,C-N),void i.add(r);c()}e.subscribe(new gi(i,C=>{o=C,s=n.now(),r||(r=n.schedule(v,t),i.add(r))},()=>{c(),i.complete()},void 0,()=>{o=r=null}))})}let DV=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YHe=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=H0(e);return new hn(r=>{const s=this._observeElement(i).pipe(Mn(c=>c.filter(v=>!function GHe(t){if("characterData"===t.type&&t.target instanceof Comment)return!0;if("childList"===t.type){for(let n=0;n<t.addedNodes.length;n++)if(!(t.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<t.removedNodes.length;n++)if(!(t.removedNodes[n]instanceof Comment))return!1;return!0}return!1}(v))),er(c=>!!c.length)).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new xt,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(DV))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),IV=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=c2(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new mt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ol(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(YHe),ve(Ht),ve(on))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[Mt.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",Ji],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[ua]})}return t})(),Nw=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[DV]})}return t})(),qHe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();const kV=new Set;let V0,KHe=(()=>{class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):QHe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function ZHe(t,n){if(!kV.has(t))try{V0||(V0=document.createElement("style"),n&&V0.setAttribute("nonce",n),V0.setAttribute("type","text/css"),document.head.appendChild(V0)),V0.sheet&&(V0.sheet.insertRule(`@media ${t} {body{ }}`,0),kV.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(go),Xe(Q7,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QHe(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let XHe=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new xt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return OV(F8(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=x0(OV(F8(e)).map(s=>this._registerQuery(s).observable));return o=$4(o.pipe(Ar(1)),o.pipe(Og(1),ol(0))),o.pipe(Mn(s=>{const c={matches:!1,breakpoints:{}};return s.forEach(({matches:v,query:C})=>{c.matches=c.matches||v,c.breakpoints[C]=v}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new hn(s=>{const c=v=>this._zone.run(()=>s.next(v));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Na(i),Mn(({matches:s})=>({query:e,matches:s})),Vn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(KHe),Xe(on))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OV(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function B8(t,n){return t.getAttribute(n)?.match(/\S+/g)??[]}const RV="cdk-describedby-message",H8="cdk-describedby-host";let Fw=0,JHe=(()=>{class t{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Fw++,this._document=e,this._id=$e(L3)+"-"+Fw++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=Pw(i,r);"string"!=typeof i?(FV(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=Pw(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${H8}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(H8);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");FV(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Pw(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=B8(e,"aria-describedby").filter(r=>0!=r.indexOf(RV));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Rw(t,n,e){const i=B8(t,n);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),t.setAttribute(n,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(H8,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function $8(t,n,e){const i=B8(t,n);e=e.trim();const r=i.filter(o=>o!==e);r.length?t.setAttribute(n,r.join(" ")):t.removeAttribute(n)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(H8)}_isElementDescribedByMessage(e,i){const r=B8(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn),Xe(go))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pw(t,n){return"string"==typeof t?`${n||""}/${t}`:t}function FV(t,n){t.id||(t.id=`${RV}-${n}-${Fw++}`)}class eUe{constructor(n,e){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xt,this._typeaheadSubscription=Ce.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new xt,this.change=new xt,n instanceof Rl?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):C6(n)&&(this._effectRef=function tD(t,n){zl("NgSignals"),!n?.injector&&xo();const e=n?.injector??$e(io),i=!0!==n?.manualCleanup?e.get(Nl):null,r=new Loe(e.get(Soe),t,typeof Zone>"u"?null:Zone.current,i,e,n?.allowSignalWrites??!1),o=e.get(Si,null,{optional:!0});return o&&8&o._lView[bn]?(o._lView[Wa]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(n()),{injector:e}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Xc(e=>this._pressedLetters.push(e)),ol(n),er(()=>this._pressedLetters.length>0),Mn(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||rl(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),i="number"==typeof n?n:e.indexOf(n);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+n*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return C6(this._items)?this._items():this._items instanceof Rl?this._items.toArray():this._items}_itemsChanged(n){if(this._activeItem){const e=n.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class zw extends eUe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let U8=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function nUe(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function tUe(t){try{return t.frameElement}catch{return null}}(function dUe(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===zV(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=zV(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function cUe(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function lUe(t){return!function rUe(t){return function sUe(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function iUe(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function oUe(t){return function aUe(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||PV(t))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(go))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PV(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function zV(t){if(!PV(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class $V{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,i,r,o=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Ar(1)).subscribe(n)}}let $w=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new $V(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(U8),Xe(on),Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BV(t){return 0===t.buttons||0===t.detail}function HV(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const uUe=new at("cdk-input-modality-detector-options"),fUe={ignoreKeys:[18,17,224,91,16]},Qf=l2({passive:!0,capture:!0});let hUe=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new ur(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(c=>c===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=K1(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(BV(s)?"keyboard":"mouse"),this._mostRecentTarget=K1(s))},this._onTouchstart=s=>{HV(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=K1(s))},this._options={...fUe,...o},this.modalityDetected=this._modality.pipe(Og(1)),this.modalityChanged=this.modalityDetected.pipe(Tc()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Qf),r.addEventListener("mousedown",this._onMousedown,Qf),r.addEventListener("touchstart",this._onTouchstart,Qf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qf),document.removeEventListener("mousedown",this._onMousedown,Qf),document.removeEventListener("touchstart",this._onTouchstart,Qf))}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(go),Xe(on),Xe(zn),Xe(uUe,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pUe=new at("liveAnnouncerElement",{providedIn:"root",factory:function mUe(){return null}}),gUe=new at("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let vUe=0,j0=(()=>{class t{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+vUe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(pUe,8),Xe(on),Xe(zn),Xe(gUe,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var V8=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(V8||{});const _Ue=new at("cdk-focus-monitor-default-options"),j8=l2({passive:!0,capture:!0});let d2=(()=>{class t{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xt,this._rootNodeFocusAndBlurListener=c=>{for(let C=K1(c);C;C=C.parentElement)"focus"===c.type?this._onFocus(c,C):this._onBlur(c,C)},this._document=o,this._detectionMode=s?.detectionMode||V8.IMMEDIATE}monitor(e,i=!1){const r=H0(e);if(!this._platform.isBrowser||1!==r.nodeType)return Wi();const o=function WHe(t){if(function jHe(){if(null==kw){const t=typeof document<"u"?document.head:null;kw=!(!t||!t.createShadowRoot&&!t.attachShadow)}return kw}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const c={checkChildren:i,subject:new xt,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=H0(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=H0(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,v])=>this._originChanged(c,i,v)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===V8.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===V8.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=K1(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,j8),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,j8)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,j8),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,j8),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(on),Xe(go),Xe(hUe),Xe(zn,8),Xe(_Ue,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bUe=(()=>{class t{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new mt}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(d2))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return t})();var W0=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(W0||{});const VV="cdk-high-contrast-black-on-white",jV="cdk-high-contrast-white-on-black",Bw="cdk-high-contrast-active";let WV=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=$e(XHe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return W0.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return W0.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return W0.BLACK_ON_WHITE}return W0.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Bw,VV,jV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===W0.BLACK_ON_WHITE?e.add(Bw,VV):i===W0.WHITE_ON_BLACK&&e.add(Bw,jV)}}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(go),Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GV=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(WV))};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Nw]})}return t})();const yUe=new at("cdk-dir-doc",{providedIn:"root",factory:function wUe(){return $e(zn)}}),xUe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Dc=(()=>{class t{constructor(e){this.value="ltr",this.change=new mt,e&&(this.value=function CUe(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?xUe.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(yUe,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xf=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();const Ap={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ap;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(o=>{e=void 0,t(o)});return new Ce(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:n}=Ap;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Ap;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class SUe extends Eb{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;n=n||e.shift();const o=e.length;do{if(i=n.execute(n.state,n.delay))break}while(++r<o&&(n=e.shift()));if(this._active=!1,i){for(;++r<o&&(n=e.shift());)n.unsubscribe();throw i}}}(class MUe extends Tb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Ap.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);0===n.actions.length&&(Ap.cancelAnimationFrame(e),n._scheduled=void 0)}});let Hw,EUe=1;const W8={};function YV(t){return t in W8&&(delete W8[t],!0)}const LUe={setImmediate(t){const n=EUe++;return W8[n]=!0,Hw||(Hw=Promise.resolve()),Hw.then(()=>YV(n)&&t()),n},clearImmediate(t){YV(t)}},{setImmediate:AUe,clearImmediate:DUe}=LUe,G8={setImmediate(...t){const{delegate:n}=G8;return(n?.setImmediate||AUe)(...t)},clearImmediate(t){const{delegate:n}=G8;return(n?.clearImmediate||DUe)(t)},delegate:void 0};new class kUe extends Eb{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;n=n||e.shift();const o=e.length;do{if(i=n.execute(n.state,n.delay))break}while(++r<o&&(n=e.shift()));if(this._active=!1,i){for(;++r<o&&(n=e.shift());)n.unsubscribe();throw i}}}(class IUe extends Tb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=G8.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);0===n.actions.length&&(G8.clearImmediate(e),n._scheduled=void 0)}});function qV(t,n=Ik){return function NUe(t){return fi((n,e)=>{let i=!1,r=null,o=null,s=!1;const c=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const C=r;r=null,e.next(C)}s&&e.complete()},v=()=>{o=null,s&&e.complete()};n.subscribe(new gi(e,C=>{i=!0,r=C,o||fs(t(C)).subscribe(o=new gi(e,c,v))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>z4(t,n))}let Dp=(()=>{class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new xt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new hn(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(qV(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Wi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(er(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=H0(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(on),Xe(go),Xe(zn,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jf=(()=>{class t{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new xt,this._elementScrolled=new hn(s=>this.ngZone.runOutsideAngular(()=>Lr(this.elementRef.nativeElement,"scroll").pipe(Vn(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Ep()!=Ql.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),Ep()==Ql.INVERTED?e.left=e.right:Ep()==Ql.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;AV()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&Ep()==Ql.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Ep()==Ql.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Dp),ve(on),ve(Dc,8))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return t})(),eh=(()=>{class t{constructor(e,i,r){this._platform=e,this._change=new xt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qV(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(go),Xe(on),Xe(zn,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),u2=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),KV=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Xf,u2,Xf,u2]})}return t})();class Uw{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Y8 extends Uw{constructor(n,e,i,r,o){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class th extends Uw{constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class PUe extends Uw{constructor(n){super(),this.element=n instanceof Ht?n.nativeElement:n}}class Vw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Y8?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof th?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof PUe?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zUe extends Vw{constructor(n,e,i,r,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const c=s.element,v=this._document.createComment("dom-portal");c.parentNode.insertBefore(v,c),this.outletElement.appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(c,v)})},this._document=o}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||io.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let $Ue=(()=>{class t extends th{constructor(e,i){super(e,i)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hi),ve(Vr))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[Ct]})}return t})(),G0=(()=>{class t extends Vw{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new mt,this.attachDomPortal=o=>{const s=o.element,c=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(c,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ud),ve(Vr),ve(zn))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Mt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ct]})}return t})(),nh=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();const ZV=AV();class BUe{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=es(-this._previousScrollPosition.left),n.style.top=es(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),ZV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZV&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class HUe{constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(er(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QV{enable(){}disable(){}attach(){}}function jw(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function XV(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class UUe{constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jw(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let VUe=(()=>{class t{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new QV,this.close=s=>new HUe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new BUe(this._viewportRuler,this._document),this.reposition=s=>new UUe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(Dp),Xe(eh),Xe(on),Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ww{constructor(n){if(this.scrollStrategy=new QV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class jUe{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let JV=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WUe=(()=>{class t extends JV{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const c=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn),Xe(on,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GUe=(()=>{class t extends JV{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=K1(o)},this._clickListener=o=>{const s=K1(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let C=v.length-1;C>-1;C--){const N=v[C];if(N._outsidePointerEvents.observers.length<1||!N.hasAttached())continue;if(N.overlayElement.contains(s)||N.overlayElement.contains(c))break;const G=N._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>G.next(o)):G.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn),Xe(go),Xe(on,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),q8=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Ow()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Ow()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn),Xe(go))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class K8{constructor(n,e,i,r,o,s,c,v,C,N=!1){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=v,this._outsideClickDispatcher=C,this._animationsDisabled=N,this._backdropElement=null,this._backdropClick=new xt,this._attachments=new xt,this._detachments=new xt,this._locationChanges=Ce.EMPTY,this._backdropClickHandler=G=>this._backdropClick.next(G),this._backdropTransitionendHandler=G=>{this._disposeBackdrop(G.target)},this._keydownEvents=new xt,this._outsidePointerEvents=new xt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ar(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=es(this._config.width),n.height=es(this._config.height),n.minWidth=es(this._config.minWidth),n.minHeight=es(this._config.minHeight),n.maxWidth=es(this._config.maxWidth),n.maxHeight=es(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,i){const r=F8(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Vn(ma(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ej="cdk-overlay-connected-position-bounding-box",YUe=/([A-Za-z%]+)$/;class qUe{get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xt,this._resizeSubscription=Ce.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(ej),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let c of this._preferredPositions){let v=this._getOriginPoint(n,r,c),C=this._getOverlayPoint(v,e,c),N=this._getOverlayFit(C,e,i,c);if(N.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,v);this._canFitWithFlexibleDimensions(N,C,i)?o.push({position:c,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,c)}):(!s||s.overlayFit.visibleArea<N.visibleArea)&&(s={overlayFit:N,overlayPoint:C,originPoint:v,position:c,overlayRect:e})}if(o.length){let c=null,v=-1;for(const C of o){const N=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);N>v&&(v=N,c=C)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Y0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ej),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r,o;if("center"==i.originX)r=n.left+n.width/2;else{const s=this._isRtl()?n.right:n.left,c=this._isRtl()?n.left:n.right;r="start"==i.originX?s:c}return e.left<0&&(r-=e.left),o="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){const o=nj(e);let{x:s,y:c}=n,v=this._getOffset(r,"x"),C=this._getOffset(r,"y");v&&(s+=v),C&&(c+=C);let se=0-c,le=c+o.height-i.height,pe=this._subtractOverflows(o.width,0-s,s+o.width-i.width),we=this._subtractOverflows(o.height,se,le),Le=pe*we;return{visibleArea:Le,isCompletelyWithinViewport:o.width*o.height===Le,fitsInViewportVertically:we===o.height,fitsInViewportHorizontally:pe==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=tj(this._overlayRef.getConfig().minHeight),c=tj(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=s&&s<=r)&&(n.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const r=nj(e),o=this._viewportRect,s=Math.max(n.x+r.width-o.width,0),c=Math.max(n.y+r.height-o.height,0),v=Math.max(o.top-i.top-n.y,0),C=Math.max(o.left-i.left-n.x,0);let N=0,G=0;return N=r.width<=o.width?C||-s:n.x<this._viewportMargin?o.left-i.left-n.x:0,G=r.height<=o.height?v||-c:n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:N,y:G},{x:n.x+N,y:n.y+G}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!function KUe(t,n){return t===n||t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new jUe(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,r=this._isRtl();let o,s,c,N,G,se;if("top"===e.overlayY)s=n.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-n.y+2*this._viewportMargin,o=i.height-c+this._viewportMargin;else{const le=Math.min(i.bottom-n.y+i.top,n.y),pe=this._lastBoundingBoxSize.height;o=2*le,s=n.y-le,o>pe&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-pe/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)se=i.width-n.x+2*this._viewportMargin,N=n.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)G=n.x,N=i.right-n.x;else{const le=Math.min(i.right-n.x+i.left,n.x),pe=this._lastBoundingBoxSize.width;N=2*le,G=n.x-le,N>pe&&!this._isInitialRender&&!this._growAfterOpen&&(G=n.x-pe/2)}return{top:s,left:G,bottom:c,right:se,width:N,height:o}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=es(i.height),r.top=es(i.top),r.bottom=es(i.bottom),r.width=es(i.width),r.left=es(i.left),r.right=es(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=es(o)),s&&(r.maxWidth=es(s))}this._lastBoundingBoxSize=i,Y0(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Y0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Y0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const N=this._viewportRuler.getViewportScrollPosition();Y0(i,this._getExactOverlayY(e,n,N)),Y0(i,this._getExactOverlayX(e,n,N))}else i.position="static";let c="",v=this._getOffset(e,"x"),C=this._getOffset(e,"y");v&&(c+=`translateX(${v}px) `),C&&(c+=`translateY(${C}px)`),i.transform=c.trim(),s.maxHeight&&(r?i.maxHeight=es(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=es(s.maxWidth):o&&(i.maxWidth="")),Y0(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===n.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=es(o.y),r}_getExactOverlayX(n,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=es(o.x),r}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:XV(n,i),isOriginOutsideView:jw(n,i),isOverlayClipped:XV(e,i),isOverlayOutsideView:jw(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&F8(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Ht)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function Y0(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function tj(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(YUe);return e&&"px"!==e?null:parseFloat(n)}return t||null}function nj(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const ij="cdk-global-overlay-wrapper";class ZUe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(ij),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:c}=i,v=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),C=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),N=this._xPosition,G=this._xOffset,se="rtl"===this._overlayRef.getConfig().direction;let le="",pe="",we="";v?we="flex-start":"center"===N?(we="center",se?pe=G:le=G):se?"left"===N||"end"===N?(we="flex-end",le=G):("right"===N||"start"===N)&&(we="flex-start",pe=G):"left"===N||"start"===N?(we="flex-start",le=G):("right"===N||"end"===N)&&(we="flex-end",pe=G),n.position=this._cssPosition,n.marginLeft=v?"0":le,n.marginTop=C?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=v?"0":pe,e.justifyContent=we,e.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(ij),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let QUe=(()=>{class t{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new ZUe}flexibleConnectedTo(e){return new qUe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(eh),Xe(zn),Xe(go),Xe(q8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XUe=0,ms=(()=>{class t{constructor(e,i,r,o,s,c,v,C,N,G,se,le){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=c,this._ngZone=v,this._document=C,this._directionality=N,this._location=G,this._outsideClickDispatcher=se,this._animationsModuleType=le}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Ww(e);return s.direction=s.direction||this._directionality.value,new K8(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+XUe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ul)),new zUe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(VUe),Xe(q8),Xe(Ud),Xe(QUe),Xe(WUe),Xe(io),Xe(on),Xe(zn),Xe(Dc),Xe(c_),Xe(GUe),Xe(Js,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const JUe=new at("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=$e(ms);return()=>t.scrollStrategies.reposition()}}),tVe={provide:JUe,deps:[ms],useFactory:function eVe(t){return()=>t.scrollStrategies.reposition()}};let ih=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[ms,tVe],imports:[Xf,nh,KV,KV]})}return t})();var Zn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Zn||{});const Z1="*";function Ra(t,n){return{type:Zn.Trigger,name:t,definitions:n,options:{}}}function Eo(t,n=null){return{type:Zn.Animate,styles:n,timings:t}}function Ip(t,n=null){return{type:Zn.Group,steps:t,options:n}}function yi(t){return{type:Zn.Style,styles:t,offset:null}}function so(t,n,e){return{type:Zn.State,name:t,styles:n,options:e}}function Lo(t,n,e=null){return{type:Zn.Transition,expr:t,animation:n,options:e}}function kp(t=null){return{type:Zn.AnimateChild,options:t}}function Op(t,n,e=null){return{type:Zn.Query,selector:t,animation:n,options:e}}class Np{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rj{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,c)=>Math.max(s,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const aVe=["mat-internal-form-field",""],cVe=["*"],dVe=new at("mat-sanity-checks",{providedIn:"root",factory:function lVe(){return!0}});let Ci=(()=>{class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Ow()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(WV),Xe(dVe,8),Xe(zn))};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Xf,Xf]})}return t})(),Yw=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ic=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Ic||{});class vVe{constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Ic.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const aj=l2({passive:!0,capture:!0});class _Ve{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=K1(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(n))})}}addHandler(n,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,aj)})}removeHandler(n,e,i){const r=this._events.get(n);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,aj)))}}const cj={enterDuration:225,exitDuration:150},lj=l2({passive:!0,capture:!0}),dj=["mousedown","touchstart"],uj=["mouseup","mouseleave","touchend","touchcancel"];class Fp{static#e=this._eventManager=new _Ve;constructor(n,e,i,r){this._target=n,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=H0(i))}fadeInRipple(n,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...cj,...i.animation};i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function yVe(t,n,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}(n,e,r),c=n-r.left,v=e-r.top,C=o.enterDuration,N=document.createElement("div");N.classList.add("mat-ripple-element"),N.style.left=c-s+"px",N.style.top=v-s+"px",N.style.height=2*s+"px",N.style.width=2*s+"px",null!=i.color&&(N.style.backgroundColor=i.color),N.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(N);const G=window.getComputedStyle(N),le=G.transitionDuration,pe="none"===G.transitionProperty||"0s"===le||"0s, 0s"===le||0===r.width&&0===r.height,we=new vVe(this,N,i,pe);N.style.transform="scale3d(1, 1, 1)",we.state=Ic.FADING_IN,i.persistent||(this._mostRecentTransientRipple=we);let Le=null;return!pe&&(C||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Be=()=>this._finishRippleTransition(we),Pe=()=>this._destroyRipple(we);N.addEventListener("transitionend",Be),N.addEventListener("transitioncancel",Pe),Le={onTransitionEnd:Be,onTransitionCancel:Pe}}),this._activeRipples.set(we,Le),(pe||!C)&&this._finishRippleTransition(we),we}fadeOutRipple(n){if(n.state===Ic.FADING_OUT||n.state===Ic.HIDDEN)return;const e=n.element,i={...cj,...n.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=Ic.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=H0(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,dj.forEach(i=>{Fp._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uj.forEach(e=>{this._triggerElement.addEventListener(e,this,lj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===Ic.FADING_IN?this._startFadeOutTransition(n):n.state===Ic.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=Ic.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=Ic.HIDDEN,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=BV(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!HV(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(n.state===Ic.VISIBLE||n.config.terminateOnPointerUp&&n.state===Ic.FADING_IN)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(dj.forEach(e=>Fp._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(uj.forEach(e=>n.removeEventListener(e,this,lj)),this._pointerUpEventsRegistered=!1))}}const Z8=new at("mat-ripple-global-options");let Pp=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Fp(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(on),ve(go),ve(Z8,8),ve(Js,8))};static#t=this.\u0275dir=ot({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&At("mat-ripple-unbounded",r.unbounded)},inputs:{color:[Mt.None,"matRippleColor","color"],unbounded:[Mt.None,"matRippleUnbounded","unbounded"],centered:[Mt.None,"matRippleCentered","centered"],radius:[Mt.None,"matRippleRadius","radius"],animation:[Mt.None,"matRippleAnimation","animation"],disabled:[Mt.None,"matRippleDisabled","disabled"],trigger:[Mt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return t})(),rh=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,Ci]})}return t})(),fj=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci]})}return t})(),Q8=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[rh,Ci,fj]})}return t})();const hj={capture:!0},pj=["focus","click","mouseenter","touchstart"],qw="mat-ripple-loader-uninitialized",Kw="mat-ripple-loader-class-name",mj="mat-ripple-loader-centered",X8="mat-ripple-loader-disabled";let MVe=(()=>{class t{constructor(){this._document=$e(zn,{optional:!0}),this._animationMode=$e(Js,{optional:!0}),this._globalRippleOptions=$e(Z8,{optional:!0}),this._platform=$e(go),this._ngZone=$e(on),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${qw}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of pj)this._document?.addEventListener(e,this._onInteraction,hj)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of pj)this._document?.removeEventListener(i,this._onInteraction,hj)}configureRipple(e,i){e.setAttribute(qw,""),(i.className||!e.hasAttribute(Kw))&&e.setAttribute(Kw,i.className||""),i.centered&&e.setAttribute(mj,""),i.disabled&&e.setAttribute(X8,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(X8,""):e.removeAttribute(X8)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(Kw)),e.append(r);const o=new Pp(new Ht(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(mj),o.disabled=e.hasAttribute(X8),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(qw),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SVe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&At("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Xn],attrs:aVe,ngContentSelectors:cVe,decls:1,vars:0,template:function(i,r){1&i&&(xr(),pi(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return t})();const TVe=["tooltip"],vj=new at("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const t=$e(ms);return()=>t.scrollStrategies.reposition({scrollThrottle:20})}}),LVe={provide:vj,deps:[ms],useFactory:function EVe(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},DVe=new at("mat-tooltip-default-options",{providedIn:"root",factory:function AVe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),_j="tooltip-panel",bj=l2({passive:!0});let sl=(()=>{class t{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=na(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=na(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=c2(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=c2(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,c,v,C,N,G,se,le){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=c,this._ariaDescriber=v,this._focusMonitor=C,this._dir=G,this._defaultOptions=se,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=RVe,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new xt,this._scrollStrategy=N,this._document=le,se&&(this._showDelay=se.showDelay,this._hideDelay=se.hideDelay,se.position&&(this.position=se.position),se.positionAtOrigin&&(this.positionAtOrigin=se.positionAtOrigin),se.touchGestures&&(this.touchGestures=se.touchGestures)),G.change.pipe(Vn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Vn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,bj)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Y8(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Vn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Ht)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Vn(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${_j}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Vn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Vn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Vn(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!rl(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ar(1),Vn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const c=this._overlayRef;if(c){const v=`${this._cssClassPrefix}-${_j}-`;c.removePanelClass(v+this._currentPosition),c.addPanelClass(v+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,bj)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){return new(i||t)(ve(ms),ve(Ht),ve(Dp),ve(Vr),ve(on),ve(go),ve(JHe),ve(d2),ve(vj),ve(Dc),ve(DVe,8),ve(zn))};static#t=this.\u0275dir=ot({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&At("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[Mt.None,"matTooltipPosition","position"],positionAtOrigin:[Mt.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[Mt.None,"matTooltipDisabled","disabled"],showDelay:[Mt.None,"matTooltipShowDelay","showDelay"],hideDelay:[Mt.None,"matTooltipHideDelay","hideDelay"],touchGestures:[Mt.None,"matTooltipTouchGestures","touchGestures"],message:[Mt.None,"matTooltip","message"],tooltipClass:[Mt.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return t})(),RVe=(()=>{class t{constructor(e,i,r){this._changeDetectorRef=e,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new xt,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Si),ve(Ht),ve(Js,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Ln(TVe,7),2&i){let o;Et(o=Lt())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&ze("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&yc("zoom",r.isVisible()?1:null)},standalone:!0,features:[Xn],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",1,0),ze("animationend",function(c){return Se(o),Ee(r._handleAnimationEnd(c))}),ee(2,"div",2),ye(3),ie()()}2&i&&(At("mdc-tooltip--multiline",r._isMultiline),X("ngClass",r.tooltipClass),Q(3),It(r.message))},dependencies:[ir],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return t})(),yj=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[LVe],imports:[GV,ka,ih,Ci,Ci,u2]})}return t})();function FVe(t,n,e){return(n=function $Ve(t){var n=function zVe(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:n+""}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function wj(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function Ot(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?wj(Object(e),!0).forEach(function(i){FVe(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):wj(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}const xj=()=>{};let Zw={},Cj={},Mj=null,Sj={mark:xj,measure:xj};try{typeof window<"u"&&(Zw=window),typeof document<"u"&&(Cj=document),typeof MutationObserver<"u"&&(Mj=MutationObserver),typeof performance<"u"&&(Sj=performance)}catch{}const{userAgent:Tj=""}=Zw.navigator||{},f2=Zw,Wr=Cj,Ej=Mj,e5=Sj,Q1=!!Wr.documentElement&&!!Wr.head&&"function"==typeof Wr.addEventListener&&"function"==typeof Wr.createElement,Lj=~Tj.indexOf("MSIE")||~Tj.indexOf("Trident/");var Aj={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Dj=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ia="classic",t5="duotone",Ij=[ia,t5,"sharp","sharp-duotone"],YVe=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),KVe=["fak","fa-kit","fakd","fa-kit-duotone"],XVe=["fak","fakd"],n5={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},tje=["fak","fa-kit","fakd","fa-kit-duotone"],Qw={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Xw=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Nj=[1,2,3,4,5,6,7,8,9,10],aje=Nj.concat([11,12,13,14,15,16,17,18,19,20]),cje=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",n5.GROUP,n5.SWAP_OPACITY,n5.PRIMARY,n5.SECONDARY].concat(Nj.map(t=>"".concat(t,"x"))).concat(aje.map(t=>"w-".concat(t)));const X1="___FONT_AWESOME___",Jw=16,Rj="fa",Fj="svg-inline--fa",q0="data-fa-i2svg",ex="data-fa-pseudo-element",dje="data-fa-pseudo-element-pending",tx="data-prefix",nx="data-icon",Pj="fontawesome-i2svg",uje="async",fje=["HTML","HEAD","STYLE","SCRIPT"],zj=(()=>{try{return!0}catch{return!1}})();function $p(t){return new Proxy(t,{get:(n,e)=>e in n?n[e]:n[ia]})}const $j=Ot({},Aj);$j[ia]=Ot(Ot(Ot(Ot({},{"fa-duotone":"duotone"}),Aj[ia]),{fak:"kit","fa-kit":"kit"}),{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"});const hje=$p($j),ix=Ot({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});ix[ia]=Ot(Ot(Ot(Ot({},{duotone:"fad"}),ix[ia]),{kit:"fak"}),{"kit-duotone":"fakd"});const Bj=$p(ix),rx=Ot({},Qw);rx[ia]=Ot(Ot({},rx[ia]),{fak:"fa-kit"});const ox=$p(rx),sx=Ot({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});sx[ia]=Ot(Ot({},sx[ia]),{"fa-kit":"fak"}),$p(sx);const pje=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Hj="fa-layers-text",mje=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,vje=($p(Ot({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),ax={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_je=["kit",...cje],Bp=f2.FontAwesomeConfig||{};Wr&&"function"==typeof Wr.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(n=>{let[e,i]=n;const r=function yje(t){return""===t||"false"!==t&&("true"===t||t)}(function bje(t){var n=Wr.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}(e));null!=r&&(Bp[i]=r)});const Uj={styleDefault:"solid",familyDefault:ia,cssPrefix:Rj,replacementClass:Fj,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Bp.familyPrefix&&(Bp.cssPrefix=Bp.familyPrefix);const oh=Ot(Ot({},Uj),Bp);oh.autoReplaceSvg||(oh.observeMutations=!1);const An={};Object.keys(Uj).forEach(t=>{Object.defineProperty(An,t,{enumerable:!0,set:function(n){oh[t]=n,Hp.forEach(e=>e(An))},get:function(){return oh[t]}})}),Object.defineProperty(An,"familyPrefix",{enumerable:!0,set:function(t){oh.cssPrefix=t,Hp.forEach(n=>n(An))},get:function(){return oh.cssPrefix}}),f2.FontAwesomeConfig=An;const Hp=[],h2=Jw,Xl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Cje="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Up(){let t=12,n="";for(;t-- >0;)n+=Cje[62*Math.random()|0];return n}function sh(t){const n=[];for(let e=(t||[]).length>>>0;e--;)n[e]=t[e];return n}function cx(t){return t.classList?sh(t.classList):(t.getAttribute("class")||"").split(" ").filter(n=>n)}function Vj(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r5(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,": ").concat(t[e].trim(),";"),"")}function lx(t){return t.size!==Xl.size||t.x!==Xl.x||t.y!==Xl.y||t.rotate!==Xl.rotate||t.flipX||t.flipY}var Eje=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';function jj(){const t=Rj,n=Fj,e=An.cssPrefix,i=An.replacementClass;let r=Eje;if(e!==t||i!==n){const o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(n),"g");r=r.replace(o,".".concat(e,"-")).replace(s,"--".concat(e,"-")).replace(c,".".concat(i))}return r}let Wj=!1;function dx(){An.autoAddCss&&!Wj&&(function xje(t){if(!t||!Q1)return;const n=Wr.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;const e=Wr.head.childNodes;let i=null;for(let r=e.length-1;r>-1;r--){const o=e[r],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(i=o)}Wr.head.insertBefore(n,i)}(jj()),Wj=!0)}var Lje={mixout:()=>({dom:{css:jj,insertCss:dx}}),hooks:()=>({beforeDOMElementCreation(){dx()},beforeI2svg(){dx()}})};const J1=f2||{};J1[X1]||(J1[X1]={}),J1[X1].styles||(J1[X1].styles={}),J1[X1].hooks||(J1[X1].hooks={}),J1[X1].shims||(J1[X1].shims=[]);var Jl=J1[X1];const Gj=[],Yj=function(){Wr.removeEventListener("DOMContentLoaded",Yj),o5=1,Gj.map(t=>t())};let o5=!1;function Vp(t){const{tag:n,attributes:e={},children:i=[]}=t;return"string"==typeof t?Vj(t):"<".concat(n," ").concat(function Mje(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,'="').concat(Vj(t[e]),'" '),"").trim()}(e),">").concat(i.map(Vp).join(""),"</").concat(n,">")}function qj(t,n,e){if(t&&t[n]&&t[n][e])return{prefix:n,iconName:e,icon:t[n][e]}}Q1&&(o5=(Wr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Wr.readyState),o5||Wr.addEventListener("DOMContentLoaded",Yj));var ux=function(n,e,i,r){var v,C,N,o=Object.keys(n),s=o.length,c=void 0!==r?function(n,e){return function(i,r,o,s){return n.call(e,i,r,o,s)}}(e,r):e;for(void 0===i?(v=1,N=n[o[0]]):(v=0,N=i);v<s;v++)N=c(N,n[C=o[v]],C,n);return N};function fx(t){const n=function Ije(t){const n=[];let e=0;const i=t.length;for(;e<i;){const r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){const o=t.charCodeAt(e++);56320==(64512&o)?n.push(((1023&r)<<10)+(1023&o)+65536):(n.push(r),e--)}else n.push(r)}return n}(t);return 1===n.length?n[0].toString(16):null}function Kj(t){return Object.keys(t).reduce((n,e)=>{const i=t[e];return i.icon?n[i.iconName]=i.icon:n[e]=i,n},{})}function hx(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:i=!1}=e,r=Kj(n);"function"!=typeof Jl.hooks.addPack||i?Jl.styles[t]=Ot(Ot({},Jl.styles[t]||{}),r):Jl.hooks.addPack(t,Kj(n)),"fas"===t&&hx("fa",n)}const{styles:jp,shims:Oje}=Jl,Zj=Object.keys(ox),Nje=Zj.reduce((t,n)=>(t[n]=Object.keys(ox[n]),t),{});let px=null,Qj={},Xj={},Jj={},eW={},tW={};const nW=()=>{const t=i=>ux(jp,(r,o,s)=>(r[s]=ux(o,i,{}),r),{});Qj=t((i,r,o)=>(r[3]&&(i[r[3]]=o),r[2]&&r[2].filter(c=>"number"==typeof c).forEach(c=>{i[c.toString(16)]=o}),i)),Xj=t((i,r,o)=>(i[o]=o,r[2]&&r[2].filter(c=>"string"==typeof c).forEach(c=>{i[c]=o}),i)),tW=t((i,r,o)=>{const s=r[2];return i[o]=o,s.forEach(c=>{i[c]=o}),i});const n="far"in jp||An.autoFetchSvg,e=ux(Oje,(i,r)=>{const o=r[0];let s=r[1];const c=r[2];return"far"===s&&!n&&(s="fas"),"string"==typeof o&&(i.names[o]={prefix:s,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:s,iconName:c}),i},{names:{},unicodes:{}});Jj=e.names,eW=e.unicodes,px=s5(An.styleDefault,{family:An.familyDefault})};function mx(t,n){return(Qj[t]||{})[n]}function K0(t,n){return(tW[t]||{})[n]}function iW(t){return Jj[t]||{prefix:null,iconName:null}}function p2(){return px}(function wje(t){Hp.push(t)})(t=>{px=s5(t.styleDefault,{family:An.familyDefault})}),nW();const rW=()=>({prefix:null,iconName:null,rest:[]});function s5(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:e=ia}=n;return e!==t5||t?Bj[e][t]||Bj[e][hje[e][t]]||(t in Jl.styles?t:null)||null:"fad"}function oW(t){return t.sort().filter((n,e,i)=>i.indexOf(n)===e)}function a5(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:e=!1}=n;let i=null;const r=Xw.concat(tje),o=oW(t.filter(G=>r.includes(G))),s=oW(t.filter(G=>!Xw.includes(G))),c=o.filter(G=>(i=G,!Dj.includes(G))),[v=null]=c,C=function $je(t){let n=ia;const e=Zj.reduce((i,r)=>(i[r]="".concat(An.cssPrefix,"-").concat(r),i),{});return Ij.forEach(i=>{(t.includes(e[i])||t.some(r=>Nje[i].includes(r)))&&(n=i)}),n}(o),N=Ot(Ot({},function Bje(t){let n=[],e=null;return t.forEach(i=>{const r=function Fje(t,n){const e=n.split("-"),i=e[0],r=e.slice(1).join("-");return i!==t||""===r||function Rje(t){return~_je.indexOf(t)}(r)?null:r}(An.cssPrefix,i);r?e=r:i&&n.push(i)}),{iconName:e,rest:n}}(s)),{},{prefix:s5(v,{family:C})});return Ot(Ot(Ot({},N),function jje(t){const{values:n,family:e,canonical:i,givenPrefix:r="",styles:o={},config:s={}}=t,c=e===t5,v=n.includes("fa-duotone")||n.includes("fad");if(!c&&(v||"duotone"===s.familyDefault||("fad"===i.prefix||"fa-duotone"===i.prefix))&&(i.prefix="fad"),(n.includes("fa-brands")||n.includes("fab"))&&(i.prefix="fab"),!i.prefix&&Uje.includes(e)&&(Object.keys(o).find(se=>Vje.includes(se))||s.autoFetchSvg)){const se=YVe.get(e).defaultShortPrefixId;i.prefix=se,i.iconName=K0(i.prefix,i.iconName)||i.iconName}return("fa"===i.prefix||"fa"===r)&&(i.prefix=p2()||"fas"),i}({values:t,family:C,styles:jp,config:An,canonical:N,givenPrefix:i})),function Hje(t,n,e){let{prefix:i,iconName:r}=e;if(t||!i||!r)return{prefix:i,iconName:r};const o="fa"===n?iW(r):{},s=K0(i,r);return r=o.iconName||s||r,i=o.prefix||i,"far"===i&&!jp.far&&jp.fas&&!An.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}(e,i,N))}const Uje=Ij.filter(t=>t!==ia||t!==t5),Vje=Object.keys(Qw).filter(t=>t!==ia).map(t=>Object.keys(Qw[t])).flat();let sW=[],ah={};const ch={},Gje=Object.keys(ch);function gx(t,n){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];return(ah[t]||[]).forEach(s=>{n=s.apply(null,[n,...i])}),n}function Z0(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];(ah[t]||[]).forEach(o=>{o.apply(null,e)})}function m2(){const t=arguments[0],n=Array.prototype.slice.call(arguments,1);return ch[t]?ch[t].apply(null,n):void 0}function vx(t){"fa"===t.prefix&&(t.prefix="fas");let{iconName:n}=t;const e=t.prefix||p2();if(n)return n=K0(e,n)||n,qj(aW.definitions,e,n)||qj(Jl.styles,e,n)}const aW=new class Wje{constructor(){this.definitions={}}add(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];const r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach(o=>{this.definitions[o]=Ot(Ot({},this.definitions[o]||{}),r[o]),hx(o,r[o]);const s=ox[ia][o];s&&hx(s,r[o]),nW()})}reset(){this.definitions={}}_pullDefinitions(n,e){const i=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(i).map(r=>{const{prefix:o,iconName:s,icon:c}=i[r],v=c[2];n[o]||(n[o]={}),v.length>0&&v.forEach(C=>{"string"==typeof C&&(n[o][C]=c)}),n[o][s]=c}),n}},cc={noAuto:()=>{An.autoReplaceSvg=!1,An.observeMutations=!1,Z0("noAuto")},config:An,dom:{i2svg:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Q1?(Z0("beforeI2svg",t),m2("pseudoElements2svg",t),m2("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:n}=t;!1===An.autoReplaceSvg&&(An.autoReplaceSvg=!0),An.observeMutations=!0,function Aje(t){Q1&&(o5?setTimeout(t,0):Gj.push(t))}(()=>{qje({autoReplaceSvgRoot:n}),Z0("watch",t)})}},parse:{icon:t=>{if(null===t)return null;if("object"==typeof t&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:K0(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){const n=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],e=s5(t[0]);return{prefix:e,iconName:K0(e,n)||n}}if("string"==typeof t&&(t.indexOf("".concat(An.cssPrefix,"-"))>-1||t.match(pje))){const n=a5(t.split(" "),{skipLookups:!0});return{prefix:n.prefix||p2(),iconName:K0(n.prefix,n.iconName)||n.iconName}}if("string"==typeof t){const n=p2();return{prefix:n,iconName:K0(n,t)||t}}}},library:aW,findIconDefinition:vx,toHtml:Vp},qje=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:n=Wr}=t;(Object.keys(Jl.styles).length>0||An.autoFetchSvg)&&Q1&&An.autoReplaceSvg&&cc.dom.i2svg({node:n})};function c5(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(e=>Vp(e))}}),Object.defineProperty(t,"node",{get:function(){if(!Q1)return;const e=Wr.createElement("div");return e.innerHTML=t.html,e.children}}),t}function _x(t){const{icons:{main:n,mask:e},prefix:i,iconName:r,transform:o,symbol:s,title:c,maskId:v,titleId:C,extra:N,watchable:G=!1}=t,{width:se,height:le}=e.found?e:n,pe=XVe.includes(i),we=[An.replacementClass,r?"".concat(An.cssPrefix,"-").concat(r):""].filter(Dt=>-1===N.classes.indexOf(Dt)).filter(Dt=>""!==Dt||!!Dt).concat(N.classes).join(" ");let Le={children:[],attributes:Ot(Ot({},N.attributes),{},{"data-prefix":i,"data-icon":r,class:we,role:N.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(se," ").concat(le)})};const Be=pe&&!~N.classes.indexOf("fa-fw")?{width:"".concat(se/le*16*.0625,"em")}:{};G&&(Le.attributes[q0]=""),c&&(Le.children.push({tag:"title",attributes:{id:Le.attributes["aria-labelledby"]||"title-".concat(C||Up())},children:[c]}),delete Le.attributes.title);const Pe=Ot(Ot({},Le),{},{prefix:i,iconName:r,main:n,mask:e,maskId:v,transform:o,symbol:s,styles:Ot(Ot({},Be),N.styles)}),{children:Je,attributes:ut}=e.found&&n.found?m2("generateAbstractMask",Pe)||{children:[],attributes:{}}:m2("generateAbstractIcon",Pe)||{children:[],attributes:{}};return Pe.children=Je,Pe.attributes=ut,s?function Zje(t){let{prefix:n,iconName:e,children:i,attributes:r,symbol:o}=t;const s=!0===o?"".concat(n,"-").concat(An.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ot(Ot({},r),{},{id:s}),children:i}]}]}(Pe):function Kje(t){let{children:n,main:e,mask:i,attributes:r,styles:o,transform:s}=t;if(lx(s)&&e.found&&!i.found){const{width:c,height:v}=e,C={x:c/v/2,y:.5};r.style=r5(Ot(Ot({},o),{},{"transform-origin":"".concat(C.x+s.x/16,"em ").concat(C.y+s.y/16,"em")}))}return[{tag:"svg",attributes:r,children:n}]}(Pe)}function cW(t){const{content:n,width:e,height:i,transform:r,title:o,extra:s,watchable:c=!1}=t,v=Ot(Ot(Ot({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});c&&(v[q0]="");const C=Ot({},s.styles);lx(r)&&(C.transform=function Tje(t){let{transform:n,width:e=Jw,height:i=Jw,startCentered:r=!1}=t,o="";return o+=r&&Lj?"translate(".concat(n.x/h2-e/2,"em, ").concat(n.y/h2-i/2,"em) "):r?"translate(calc(-50% + ".concat(n.x/h2,"em), calc(-50% + ").concat(n.y/h2,"em)) "):"translate(".concat(n.x/h2,"em, ").concat(n.y/h2,"em) "),o+="scale(".concat(n.size/h2*(n.flipX?-1:1),", ").concat(n.size/h2*(n.flipY?-1:1),") "),o+="rotate(".concat(n.rotate,"deg) "),o}({transform:r,startCentered:!0,width:e,height:i}),C["-webkit-transform"]=C.transform);const N=r5(C);N.length>0&&(v.style=N);const G=[];return G.push({tag:"span",attributes:v,children:[n]}),o&&G.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),G}const{styles:bx}=Jl;function yx(t){const n=t[0],e=t[1],[i]=t.slice(4);let r=null;return r=Array.isArray(i)?{tag:"g",attributes:{class:"".concat(An.cssPrefix,"-").concat(ax.GROUP)},children:[{tag:"path",attributes:{class:"".concat(An.cssPrefix,"-").concat(ax.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(An.cssPrefix,"-").concat(ax.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:n,height:e,icon:r}}const Xje={found:!1,width:512,height:512};function wx(t,n){let e=n;return"fa"===n&&null!==An.styleDefault&&(n=p2()),new Promise((i,r)=>{if("fa"===e){const o=iW(t)||{};t=o.iconName||t,n=o.prefix||n}if(t&&n&&bx[n]&&bx[n][t])return i(yx(bx[n][t]));(function Jje(t,n){!zj&&!An.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(n,'" is missing.'))})(t,n),i(Ot(Ot({},Xje),{},{icon:An.showMissingIcons&&t&&m2("missingIconAbstract")||{}}))})}const lW=()=>{},xx=An.measurePerformance&&e5&&e5.mark&&e5.measure?e5:{mark:lW,measure:lW},Wp='FA "6.7.1"',dW=t=>{xx.mark("".concat(Wp," ").concat(t," ends")),xx.measure("".concat(Wp," ").concat(t),"".concat(Wp," ").concat(t," begins"),"".concat(Wp," ").concat(t," ends"))};var Cx={begin:t=>(xx.mark("".concat(Wp," ").concat(t," begins")),()=>dW(t)),end:dW};const l5=()=>{};function uW(t){return"string"==typeof(t.getAttribute?t.getAttribute(q0):null)}function rWe(t){return Wr.createElementNS("http://www.w3.org/2000/svg",t)}function oWe(t){return Wr.createElement(t)}function fW(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:e=("svg"===t.tag?rWe:oWe)}=n;if("string"==typeof t)return Wr.createTextNode(t);const i=e(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(fW(o,{ceFn:e}))}),i}const d5={replace:function(t){const n=t[0];if(n.parentNode)if(t[1].forEach(e=>{n.parentNode.insertBefore(fW(e),n)}),null===n.getAttribute(q0)&&An.keepOriginalSource){let e=Wr.createComment(function sWe(t){let n=" ".concat(t.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}(n));n.parentNode.replaceChild(e,n)}else n.remove()},nest:function(t){const n=t[0],e=t[1];if(~cx(n).indexOf(An.replacementClass))return d5.replace(t);const i=new RegExp("".concat(An.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const o=e[0].attributes.class.split(" ").reduce((s,c)=>(c===An.replacementClass||c.match(i)?s.toSvg.push(c):s.toNode.push(c),s),{toNode:[],toSvg:[]});e[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}const r=e.map(o=>Vp(o)).join("\n");n.setAttribute(q0,""),n.innerHTML=r}};function hW(t){t()}function pW(t,n){const e="function"==typeof n?n:l5;if(0===t.length)e();else{let i=hW;An.mutateApproach===uje&&(i=f2.requestAnimationFrame||hW),i(()=>{const r=function iWe(){return!0===An.autoReplaceSvg?d5.replace:d5[An.autoReplaceSvg]||d5.replace}(),o=Cx.begin("mutate");t.map(r),o(),e()})}}let Mx=!1;function mW(){Mx=!0}function Sx(){Mx=!1}let u5=null;function gW(t){if(!Ej||!An.observeMutations)return;const{treeCallback:n=l5,nodeCallback:e=l5,pseudoElementsCallback:i=l5,observeMutationsRoot:r=Wr}=t;u5=new Ej(o=>{if(Mx)return;const s=p2();sh(o).forEach(c=>{if("childList"===c.type&&c.addedNodes.length>0&&!uW(c.addedNodes[0])&&(An.searchPseudoElements&&i(c.target),n(c.target)),"attributes"===c.type&&c.target.parentNode&&An.searchPseudoElements&&i(c.target.parentNode),"attributes"===c.type&&uW(c.target)&&~vje.indexOf(c.attributeName))if("class"===c.attributeName&&function tWe(t){const n=t.getAttribute?t.getAttribute(tx):null,e=t.getAttribute?t.getAttribute(nx):null;return n&&e}(c.target)){const{prefix:v,iconName:C}=a5(cx(c.target));c.target.setAttribute(tx,v||s),C&&c.target.setAttribute(nx,C)}else(function nWe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(An.replacementClass)})(c.target)&&e(c.target)})}),Q1&&u5.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function vW(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:e,prefix:i,rest:r}=function lWe(t){const n=t.getAttribute("data-prefix"),e=t.getAttribute("data-icon"),i=void 0!==t.innerText?t.innerText.trim():"";let r=a5(cx(t));return r.prefix||(r.prefix=p2()),n&&e&&(r.prefix=n,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function Pje(t,n){return(Xj[t]||{})[n]}(r.prefix,t.innerText)||mx(r.prefix,fx(t.innerText))),!r.iconName&&An.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=t.firstChild.data)),r}(t),o=function dWe(t){const n=sh(t.attributes).reduce((r,o)=>("class"!==r.name&&"style"!==r.name&&(r[o.name]=o.value),r),{}),e=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id");return An.autoA11y&&(e?n["aria-labelledby"]="".concat(An.replacementClass,"-title-").concat(i||Up()):(n["aria-hidden"]="true",n.focusable="false")),n}(t),s=gx("parseNodeAttributes",{},t);let c=n.styleParser?function cWe(t){const n=t.getAttribute("style");let e=[];return n&&(e=n.split(";").reduce((i,r)=>{const o=r.split(":"),s=o[0],c=o.slice(1);return s&&c.length>0&&(i[s]=c.join(":").trim()),i},{})),e}(t):[];return Ot({iconName:e,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Xl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:c,attributes:o}},s)}const{styles:fWe}=Jl;function _W(t){const n="nest"===An.autoReplaceSvg?vW(t,{styleParser:!1}):vW(t);return~n.extra.classes.indexOf(Hj)?m2("generateLayersText",t,n):m2("generateSvgReplacementMutation",t,n)}function bW(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Q1)return Promise.resolve();const e=Wr.documentElement.classList,i=N=>e.add("".concat(Pj,"-").concat(N)),r=N=>e.remove("".concat(Pj,"-").concat(N)),o=An.autoFetchSvg?function hWe(){return[...KVe,...Xw]}():Dj.concat(Object.keys(fWe));o.includes("fa")||o.push("fa");const s=[".".concat(Hj,":not([").concat(q0,"])")].concat(o.map(N=>".".concat(N,":not([").concat(q0,"])"))).join(", ");if(0===s.length)return Promise.resolve();let c=[];try{c=sh(t.querySelectorAll(s))}catch{}if(!(c.length>0))return Promise.resolve();i("pending"),r("complete");const v=Cx.begin("onTree"),C=c.reduce((N,G)=>{try{const se=_W(G);se&&N.push(se)}catch(se){zj||"MissingIcon"===se.name&&console.error(se)}return N},[]);return new Promise((N,G)=>{Promise.all(C).then(se=>{pW(se,()=>{i("active"),i("complete"),r("pending"),"function"==typeof n&&n(),v(),N()})}).catch(se=>{v(),G(se)})})}function pWe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_W(t).then(e=>{e&&pW([e],n)})}function mWe(t){return function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(n||{}).icon?n:vx(n||{});let{mask:r}=e;return r&&(r=(r||{}).icon?r:vx(r||{})),t(i,Ot(Ot({},e),{},{mask:r}))}}const gWe=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:e=Xl,symbol:i=!1,mask:r=null,maskId:o=null,title:s=null,titleId:c=null,classes:v=[],attributes:C={},styles:N={}}=n;if(!t)return;const{prefix:G,iconName:se,icon:le}=t;return c5(Ot({type:"icon"},t),()=>(Z0("beforeDOMElementCreation",{iconDefinition:t,params:n}),An.autoA11y&&(s?C["aria-labelledby"]="".concat(An.replacementClass,"-title-").concat(c||Up()):(C["aria-hidden"]="true",C.focusable="false")),_x({icons:{main:yx(le),mask:r?yx(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:G,iconName:se,transform:Ot(Ot({},Xl),e),symbol:i,title:s,maskId:o,titleId:c,extra:{attributes:C,styles:N,classes:v}})))};var vWe={mixout:()=>({icon:mWe(gWe)}),hooks:()=>({mutationObserverCallbacks:t=>(t.treeCallback=bW,t.nodeCallback=pWe,t)}),provides(t){t.i2svg=function(n){const{node:e=Wr,callback:i=(()=>{})}=n;return bW(e,i)},t.generateSvgReplacementMutation=function(n,e){const{iconName:i,title:r,titleId:o,prefix:s,transform:c,symbol:v,mask:C,maskId:N,extra:G}=e;return new Promise((se,le)=>{Promise.all([wx(i,s),C.iconName?wx(C.iconName,C.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(pe=>{let[we,Le]=pe;se([n,_x({icons:{main:we,mask:Le},prefix:s,iconName:i,transform:c,symbol:v,maskId:N,title:r,titleId:o,extra:G,watchable:!0})])}).catch(le)})},t.generateAbstractIcon=function(n){let{children:e,attributes:i,main:r,transform:o,styles:s}=n;const c=r5(s);let v;return c.length>0&&(i.style=c),lx(o)&&(v=m2("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),e.push(v||r.icon),{children:e,attributes:i}}}},_We={mixout:()=>({layer(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:e=[]}=n;return c5({type:"layer"},()=>{Z0("beforeDOMElementCreation",{assembler:t,params:n});let i=[];return t(r=>{Array.isArray(r)?r.map(o=>{i=i.concat(o.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(An.cssPrefix,"-layers"),...e].join(" ")},children:i}]})}})},bWe={mixout:()=>({counter(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:e=null,classes:i=[],attributes:r={},styles:o={}}=n;return c5({type:"counter",content:t},()=>(Z0("beforeDOMElementCreation",{content:t,params:n}),function Qje(t){const{content:n,title:e,extra:i}=t,r=Ot(Ot(Ot({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),o=r5(i.styles);o.length>0&&(r.style=o);const s=[];return s.push({tag:"span",attributes:r,children:[n]}),e&&s.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),s}({content:t.toString(),title:e,extra:{attributes:r,styles:o,classes:["".concat(An.cssPrefix,"-layers-counter"),...i]}})))}})},yWe={mixout:()=>({text(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:e=Xl,title:i=null,classes:r=[],attributes:o={},styles:s={}}=n;return c5({type:"text",content:t},()=>(Z0("beforeDOMElementCreation",{content:t,params:n}),cW({content:t,transform:Ot(Ot({},Xl),e),title:i,extra:{attributes:o,styles:s,classes:["".concat(An.cssPrefix,"-layers-text"),...r]}})))}}),provides(t){t.generateLayersText=function(n,e){const{title:i,transform:r,extra:o}=e;let s=null,c=null;if(Lj){const v=parseInt(getComputedStyle(n).fontSize,10),C=n.getBoundingClientRect();s=C.width/v,c=C.height/v}return An.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,cW({content:n.innerHTML,width:s,height:c,transform:r,title:i,extra:o,watchable:!0})])}}};const wWe=new RegExp('"',"ug"),yW=[1105920,1112319],wW=Ot(Ot(Ot(Ot({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),Tx=Object.keys(wW).reduce((t,n)=>(t[n.toLowerCase()]=wW[n],t),{}),xWe=Object.keys(Tx).reduce((t,n)=>{const e=Tx[n];return t[n]=e[900]||[...Object.entries(e)][0][1],t},{});function xW(t,n){const e="".concat(dje).concat(n.replace(":","-"));return new Promise((i,r)=>{if(null!==t.getAttribute(e))return i();const s=sh(t.children).filter(se=>se.getAttribute(ex)===n)[0],c=f2.getComputedStyle(t,n),v=c.getPropertyValue("font-family"),C=v.match(mje),N=c.getPropertyValue("font-weight"),G=c.getPropertyValue("content");if(s&&!C)return t.removeChild(s),i();if(C&&"none"!==G&&""!==G){const se=c.getPropertyValue("content");let le=function MWe(t,n){const e=t.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(n),r=isNaN(i)?"normal":i;return(Tx[e]||{})[r]||xWe[e]}(v,N);const{value:pe,isSecondary:we}=function CWe(t){const n=t.replace(wWe,""),e=function kje(t,n){const e=t.length;let r,i=t.charCodeAt(n);return i>=55296&&i<=56319&&e>n+1&&(r=t.charCodeAt(n+1),r>=56320&&r<=57343)?1024*(i-55296)+r-56320+65536:i}(n,0),i=e>=yW[0]&&e<=yW[1],r=2===n.length&&n[0]===n[1];return{value:fx(r?n[0]:n),isSecondary:i||r}}(se),Le=C[0].startsWith("FontAwesome");let Be=mx(le,pe),Pe=Be;if(Le){const Je=function zje(t){const n=eW[t],e=mx("fas",t);return n||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(pe);Je.iconName&&Je.prefix&&(Be=Je.iconName,le=Je.prefix)}if(!Be||we||s&&s.getAttribute(tx)===le&&s.getAttribute(nx)===Pe)i();else{t.setAttribute(e,Pe),s&&t.removeChild(s);const Je=function uWe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Xl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),{extra:ut}=Je;ut.attributes[ex]=n,wx(Be,le).then(Dt=>{const Ft=_x(Ot(Ot({},Je),{},{icons:{main:Dt,mask:rW()},prefix:le,iconName:Pe,extra:ut,watchable:!0})),en=Wr.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===n?t.insertBefore(en,t.firstChild):t.appendChild(en),en.outerHTML=Ft.map(vn=>Vp(vn)).join("\n"),t.removeAttribute(e),i()}).catch(r)}}else i()})}function SWe(t){return Promise.all([xW(t,"::before"),xW(t,"::after")])}function TWe(t){return!(t.parentNode===document.head||~fje.indexOf(t.tagName.toUpperCase())||t.getAttribute(ex)||t.parentNode&&"svg"===t.parentNode.tagName)}function CW(t){if(Q1)return new Promise((n,e)=>{const i=sh(t.querySelectorAll("*")).filter(TWe).map(SWe),r=Cx.begin("searchPseudoElements");mW(),Promise.all(i).then(()=>{r(),Sx(),n()}).catch(()=>{r(),Sx(),e()})})}var EWe={hooks:()=>({mutationObserverCallbacks:t=>(t.pseudoElementsCallback=CW,t)}),provides(t){t.pseudoElements2svg=function(n){const{node:e=Wr}=n;An.searchPseudoElements&&CW(e)}}};let MW=!1;var LWe={mixout:()=>({dom:{unwatch(){mW(),MW=!0}}}),hooks:()=>({bootstrap(){gW(gx("mutationObserverCallbacks",{}))},noAuto(){!function aWe(){u5&&u5.disconnect()}()},watch(t){const{observeMutationsRoot:n}=t;MW?Sx():gW(gx("mutationObserverCallbacks",{observeMutationsRoot:n}))}})};const SW=t=>t.toLowerCase().split(" ").reduce((e,i)=>{const r=i.toLowerCase().split("-"),o=r[0];let s=r.slice(1).join("-");if(o&&"h"===s)return e.flipX=!0,e;if(o&&"v"===s)return e.flipY=!0,e;if(s=parseFloat(s),isNaN(s))return e;switch(o){case"grow":e.size=e.size+s;break;case"shrink":e.size=e.size-s;break;case"left":e.x=e.x-s;break;case"right":e.x=e.x+s;break;case"up":e.y=e.y-s;break;case"down":e.y=e.y+s;break;case"rotate":e.rotate=e.rotate+s}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var AWe={mixout:()=>({parse:{transform:t=>SW(t)}}),hooks:()=>({parseNodeAttributes(t,n){const e=n.getAttribute("data-fa-transform");return e&&(t.transform=SW(e)),t}}),provides(t){t.generateAbstractTransformGrouping=function(n){let{main:e,transform:i,containerWidth:r,iconWidth:o}=n;const s={transform:"translate(".concat(r/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),v="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),C="rotate(".concat(i.rotate," 0 0)"),se={outer:s,inner:{transform:"".concat(c," ").concat(v," ").concat(C)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Ot({},se.outer),children:[{tag:"g",attributes:Ot({},se.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:Ot(Ot({},e.icon.attributes),se.path)}]}]}}}};const Ex={x:0,y:0,width:"100%",height:"100%"};function TW(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function DWe(t){return"g"===t.tag?t.children:[t]}var IWe={hooks:()=>({parseNodeAttributes(t,n){const e=n.getAttribute("data-fa-mask"),i=e?a5(e.split(" ").map(r=>r.trim())):rW();return i.prefix||(i.prefix=p2()),t.mask=i,t.maskId=n.getAttribute("data-fa-mask-id"),t}}),provides(t){t.generateAbstractMask=function(n){let{children:e,attributes:i,main:r,mask:o,maskId:s,transform:c}=n;const{width:v,icon:C}=r,{width:N,icon:G}=o,se=function Sje(t){let{transform:n,containerWidth:e,iconWidth:i}=t;const r={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(s," ").concat(c)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:c,containerWidth:N,iconWidth:v}),le={tag:"rect",attributes:Ot(Ot({},Ex),{},{fill:"white"})},pe=C.children?{children:C.children.map(TW)}:{},we={tag:"g",attributes:Ot({},se.inner),children:[TW(Ot({tag:C.tag,attributes:Ot(Ot({},C.attributes),se.path)},pe))]},Le={tag:"g",attributes:Ot({},se.outer),children:[we]},Be="mask-".concat(s||Up()),Pe="clip-".concat(s||Up()),Je={tag:"mask",attributes:Ot(Ot({},Ex),{},{id:Be,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[le,Le]},ut={tag:"defs",children:[{tag:"clipPath",attributes:{id:Pe},children:DWe(G)},Je]};return e.push(ut,{tag:"rect",attributes:Ot({fill:"currentColor","clip-path":"url(#".concat(Pe,")"),mask:"url(#".concat(Be,")")},Ex)}),{children:e,attributes:i}}}},kWe={provides(t){let n=!1;f2.matchMedia&&(n=f2.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const e=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Ot(Ot({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=Ot(Ot({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:Ot(Ot({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||s.children.push({tag:"animate",attributes:Ot(Ot({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ot(Ot({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:Ot(Ot({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ot(Ot({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||e.push({tag:"path",attributes:Ot(Ot({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ot(Ot({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function Yje(t,n){let{mixoutsTo:e}=n;sW=t,ah={},Object.keys(ch).forEach(i=>{-1===Gje.indexOf(i)&&delete ch[i]}),sW.forEach(i=>{const r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(o=>{"function"==typeof r[o]&&(e[o]=r[o]),"object"==typeof r[o]&&Object.keys(r[o]).forEach(s=>{e[o]||(e[o]={}),e[o][s]=r[o][s]})}),i.hooks){const o=i.hooks();Object.keys(o).forEach(s=>{ah[s]||(ah[s]=[]),ah[s].push(o[s])})}i.provides&&i.provides(ch)})}([Lje,vWe,_We,bWe,yWe,EWe,LWe,AWe,IWe,kWe,{hooks:()=>({parseNodeAttributes(t,n){const e=n.getAttribute("data-fa-symbol");return t.symbol=null!==e&&(""===e||e),t}})}],{mixoutsTo:cc});const RWe=cc.parse,FWe=cc.icon,PWe=["*"],BWe=t=>{const n={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(n).map(e=>n[e]?e:null).filter(e=>e)};let VWe=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jWe=(()=>{class t{constructor(){this.definitions={}}addIcons(...e){for(const i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(const i of e){const r=Object.keys(i).map(o=>i[o]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WWe=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[si]})}return t})(),GWe=(()=>{class t{constructor(e,i){this.renderer=e,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ja),ve(Ht))};static#t=this.\u0275cmp=rt({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[si,Xn],ngContentSelectors:PWe,decls:1,vars:0,template:function(i,r){1&i&&(xr(),pi(0))},encapsulation:2})}return t})(),Vs=(()=>{class t{set spin(e){this.animation=e?"spin":void 0}set pulse(e){this.animation=e?"spin-pulse":void 0}constructor(e,i,r,o,s){this.sanitizer=e,this.config=i,this.iconLibrary=r,this.stackItem=o,this.classes=[],null!=s&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null!=this.icon||null!=this.config.fallbackIcon){if(e){const r=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=r){const o=this.buildParams();this.renderIcon(r,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(e){const i=((t,n)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:n,iconName:t}:{prefix:t[0],iconName:t[1]})(e,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?RWe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...BWe(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,i){const r=FWe(e,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(xf),ve(VWe),ve(jWe),ve(WWe,8),ve(GWe,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){2&i&&(ls("innerHTML",r.renderedIconHTML,pv),Ye("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[si,Xn],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})(),EW=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();function YWe(t,n){if(1&t&&(ee(0,"label",2),ye(1),ie()),2&t){const e=oe();Ye("for",e.for)("id",e.labelId),Q(),Qn("",e.title,"\xa0")}}function qWe(t,n){if(1&t&&(ee(0,"div",3),Ve(1,"fa-icon",4),ie()),2&t){const e=oe();X("matTooltip",e.helpMessage),Ye("aria-label","Tooltip for "+e.title+": "+e.helpMessage),Q(),X("icon",e.helpIcon)}}let Dr=(()=>{class t{constructor(){this.helpIcon=Ac}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-label"]],inputs:{title:"title",helpMessage:"helpMessage",helpIcon:"helpIcon",for:"for",labelWidthClass:"labelWidthClass",labelId:"labelId"},standalone:!0,features:[Xn],decls:2,vars:2,consts:[["class","col-form-label align-self-center p-0",4,"ngIf"],["tabindex","0","class","btn border-0 p-0 b-0",3,"matTooltip",4,"ngIf"],[1,"col-form-label","align-self-center","p-0"],["tabindex","0",1,"btn","border-0","p-0","b-0",3,"matTooltip"],["aria-hidden","true",3,"icon"]],template:function(i,r){1&i&&Me(0,YWe,2,3,"label",0)(1,qWe,2,3,"div",1),2&i&&(X("ngIf",r.title),Q(),X("ngIf",r.helpMessage))},dependencies:[ka,yn,yj,sl,EW,Vs],styles:["label{margin-bottom:0}.mdc-tooltip__surface{overflow-y:auto!important}.cdk-overlay-container .mat-mdc-tooltip{--mdc-plain-tooltip-container-color: lightyellow;--mdc-plain-tooltip-supporting-text-color: black;--mdc-plain-tooltip-container-shape: 4px;--mdc-plain-tooltip-supporting-text-line-height: 18px;--mdc-plain-tooltip-supporting-text-size: 12px;--mdc-plain-tooltip-supporting-text-weight: normal}.mdc-tooltip{border:1px black solid;border-radius:4px}.mat-mdc-tooltip:before{background-color:#ffffe0;border:1px solid black;height:12px;width:10px;rotate:45deg;right:50%!important;left:auto!important;transform:translate(4px,-4px)}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip:before{top:auto;bottom:-6px!important}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip:before{top:-6px!important;bottom:auto}\n"],encapsulation:2})}return t})(),kc=(()=>{class t{static#e=this.__ID=0;constructor(){this._id="extensionServiceInstance_",this._propertyMap=new Map,this._extMap=new Map,this.subscriptions=[],this.extensionsChange$=new xt,this._id=this._id+t.__ID++}setExtensions(e){this.subscriptions.forEach(r=>{r.unsubscribe()}),this.subscriptions=[],this.extensionsProp=e;const i=this.extensionsProp.valueChanges.subscribe(r=>{this.updateMaps(),this.extensionsChange$.next(r)});this.subscriptions.push(i)}get extensionsObservable(){return this.extensionsChange$.asObservable()}updateMaps(){this._extMap.clear(),this._propertyMap.clear(),this._propertyMap=this.extensionsProp.properties.reduce((e,i,r)=>{let o=e.get(i.value.url),s=this._extMap.get(i.value.url);return o||(o=[],s=[],e.set(i.value.url,o),this._extMap.set(i.value.url,s)),o.push(i),s.push(i.value),e},this._propertyMap)}getExtensionsByUrl(e){return this._extMap.get(e)}getFirstExtensionByUrl(e){const i=this._extMap.get(e);return i?.length>0?i[0]:null}getExtensionFormPropertiesByUrl(e){return this._propertyMap.get(e)}getFirstExtensionFormPropertyByUrl(e){const i=this._propertyMap.get(e);return i?.length>0?i[0]:null}removeExtensionsByUrl(e){this.removeAllExtensions(i=>i.value.url===e)}removeAllExtensions(e){const i=this.extensionsProp.properties.filter(r=>!e(r)).map(r=>r.value);i.length!==this.extensionsProp.properties.length&&this.extensionsProp.reset(i,!1)}removeExtension(e){const i=this.extensionsProp.properties.find(r=>e(r));this.extensionsProp.removeItem(i),this.extensionsChange$.next(this.extensionsProp.value)}addExtension(e,i){const r=this.extensionsProp.addItem(e);return i&&this.pruneUnusedValues(r,i),this.extensionsChange$.next(this.extensionsProp.value),r}pruneUnusedValues(e,i){const r=e.value,o=Object.keys(r);for(const s of o)r.hasOwnProperty(s)&&s.startsWith("value")&&s!==i&&delete r[s];return e}resetExtension(e,i,r,o){const s=this.getFirstExtensionFormPropertyByUrl(e);s?s.reset(i,o):this.addExtension(i,r)}static#t=this.\u0275fac=function(i){return new(i||t)};static#n=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const KWe=["hint"],ZWe=["urlInput"],QWe=t=>({row:t,"m-0":!0});function XWe(t,n){if(1&t&&Ve(0,"lfb-label",8),2&t){const e=oe();X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelWidthClass+" ps-0 pe-1")}}function JWe(t,n){1&t&&(ee(0,"small",9),ye(1,"Please enter a valid URL."),ie())}let lh=(()=>{class t extends il{static#e=this.PREFERRED_TERMINOLOGY_SERVER_URI="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-preferredTerminologyServer";constructor(e,i){super(),this.extensionService=e,this.liveAnnouncer=i,this.subscriptions=[],this.tsExtension={url:t.PREFERRED_TERMINOLOGY_SERVER_URI,valueUrl:""},this.urlValid=!0}announceHint(){this.liveAnnouncer.announce(this.hintEl.nativeElement.textContent)}ngOnInit(){super.ngOnInit();const e=this.extensionService.getFirstExtensionByUrl(t.PREFERRED_TERMINOLOGY_SERVER_URI);e?.valueUrl&&(this.tsExtension.valueUrl=e.valueUrl)}ngAfterViewInit(){super.ngAfterViewInit();const e=this.extensionService.extensionsObservable.subscribe(i=>{const r=this.extensionService.getFirstExtensionByUrl(t.PREFERRED_TERMINOLOGY_SERVER_URI);this.tsExtension.valueUrl=r?.valueUrl?r.valueUrl:""});setTimeout(()=>{this.urlValid=this.urlInput.nativeElement.checkValidity()},0),this.subscriptions.push(e)}urlChanged(e){this.urlValid=this.urlInput.nativeElement.checkValidity(),this.tsExtension.valueUrl=e.trim(),this.updateExtension()}updateExtension(){const e=this.tsExtension.valueUrl.trim();e?(this.tsExtension.valueUrl=e,this.extensionService.resetExtension(this.tsExtension.url,this.tsExtension,"valueUrl",!1)):this.extensionService.removeExtensionsByUrl(this.tsExtension.url)}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}static#t=this.\u0275fac=function(i){return new(i||t)(ve(kc),ve(j0))};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-terminology-server"]],viewQuery:function(i,r){if(1&i&&(Ln(KWe,5,Ht),Ln(ZWe,5,Ht)),2&i){let o;Et(o=Lt())&&(r.hintEl=o.first),Et(o=Lt())&&(r.urlInput=o.first)}},standalone:!0,features:[Ct,Xn],decls:12,vars:11,consts:[["hint",""],["urlInput",""],[3,"ngClass"],[3,"for","title","helpMessage","ngClass",4,"ngIf"],[1,"col-sm-10","row","m-0","p-0"],[1,"mb-1","ps-0"],["type","url",1,"form-control","form-control-sm",3,"focus","ngModelChange","ngModel"],["class","ps-0 text-danger form-text","role","alert",4,"ngIf"],[3,"for","title","helpMessage","ngClass"],["role","alert",1,"ps-0","text-danger","form-text"]],template:function(i,r){if(1&i){const o=lt();Fn(0),ee(1,"div",2),Me(2,XWe,1,4,"lfb-label",3),ee(3,"div",4)(4,"p",5,0)(6,"small")(7,"em"),ye(8),ie()()(),ee(9,"input",6,1),ze("focus",function(){return Se(o),Ee(r.announceHint())})("ngModelChange",function(c){return Se(o),Ee(r.urlChanged(c))}),ie(),Me(11,JWe,2,0,"small",7),ie()(),Pn()}2&i&&(Q(),X("ngClass",Wn(9,QWe,"left"===r.labelPosition)),Q(),X("ngIf",!r.nolabel),Q(2),Ye("id","hint_"+r.id),Q(4),It(null==r.formProperty.schema.widget?null:r.formProperty.schema.widget.note),Q(),X("ngModel",r.tsExtension.valueUrl),Ye("readonly",!!r.schema.readOnly||null)("id",r.id)("placeholder",null==r.schema.widget?null:r.schema.widget.placeholder),Q(2),X("ngIf",!r.urlValid))},dependencies:[ka,ir,yn,ob,di,ei,ro,Dr]})}return t})();class Hn{static#e=this._lformsLoaded$=new xt;static#t=this.TREE_NODE_ID="__$treeNodeId";constructor(n,e,i){this.modalService=n,this.http=e,this.liveAnnouncer=i,this._validationStatusChanged$=new xt,this._loading=!1,this._guidingStep$=new xt,this._formReset$=new xt,this._formChanged$=new xt,this._advPanelState={formLevel:!0,itemLevel:!0},this.localStorageError=null,this.itemSchema={properties:{}},this.flSchema={properties:{}},this._itemEditorSchema={properties:{}},this.snomedUser=!1,this._lformsVersion="",this._lformsErrorMessage=null,this._windowOpenerUrl=null,this.fetchService=$e(ps),this.formLevelExtensionService=$e(kc),this.linkIdTracker={},this.operatorOptions=[{option:"exists",label:"Not empty"},{option:"notexists",label:"Empty"},{option:"=",label:"="},{option:"!=",label:"!="},{option:">",label:">"},{option:"<",label:"<"},{option:">=",label:">="},{option:"<=",label:"<="}],this.operatorOptions2=this.operatorOptions.filter(r=>"exists"===r.option||"notexists"===r.option||"="===r.option||"!="===r.option),this.enableWhenOperatorOptions={decimal:this.operatorOptions,integer:this.operatorOptions,quantity:this.operatorOptions,date:this.operatorOptions,dateTime:this.operatorOptions,time:this.operatorOptions,string:this.operatorOptions,text:this.operatorOptions,url:this.operatorOptions2,boolean:this.operatorOptions2,choice:this.operatorOptions2,"open-choice":this.operatorOptions2,attachment:this.operatorOptions2,reference:this.operatorOptions2},[{schema:hN(),layout:mhe()},{schema:pN(),layout:_he()}].forEach(r=>{r.schema.definitions||(r.schema.definitions={}),r.schema.definitions=hhe().definitions,r.schema.formLayout=r.layout.formLayout,this.overrideSchemaWidgetFromLayout(r.schema,r.layout),this.overrideFieldLabelsFromLayout(r.schema,r.layout)}),this.itemSchema=hN(),this.flSchema=pN(),this._itemEditorSchema=yhe(),this.loadLFormsLib().then(r=>{this._lformsVersion=LForms.lformsVersion,Hn._lformsLoaded$.next(this._lformsVersion)}).catch(r=>{console.error(r),this._lformsVersion="ERROR",Hn._lformsLoaded$.error(r)})}overrideSchemaWidgetFromLayout(n,{widgets:e,widgetsMap:i}){!i||!e||Object.keys(i).forEach(r=>{const o=e[r];o&&i[r]?.forEach(c=>{const v=ea.get(n,c);v&&(v.widget=o)})})}overrideFieldLabelsFromLayout(n,{overridePropertyLabels:e}){e&&Object.entries(e).forEach(([i,r])=>{const o=ea.get(n,i);o&&o&&(o.title=r)})}get itemEditorSchema(){return this._itemEditorSchema}getItemSchema(){return this.itemSchema}getFormLevelSchema(){return this.flSchema}get windowOpenerUrl(){return this._windowOpenerUrl}set windowOpenerUrl(n){this._windowOpenerUrl=n}get lformsVersion(){return this._lformsVersion}get lformsErrorMessage(){return this._lformsErrorMessage}set loading(n){this._loading=n}get loading(){return this._loading}get guidingStep$(){return this._guidingStep$.asObservable()}static get lformsLoaded$(){return Hn._lformsLoaded$.asObservable()}get validationStatusChanged$(){return this._validationStatusChanged$.asObservable()}get formReset$(){return this._formReset$.asObservable()}get formChanged$(){return this._formChanged$.asObservable()}set formLevel(n){this._advPanelState.formLevel=n}get formLevel(){return this._advPanelState.formLevel}set itemLevel(n){this._advPanelState.itemLevel=n}get itemLevel(){return this._advPanelState.itemLevel}formChanged(n){this._formChanged$.next(n)}resetForm(){this._formReset$.next(null)}setGuidingStep(n){this._guidingStep$.next(n)}loadValidationNodes(){const n=[];function e(r){if(n.push(r),r.hasChildren)for(const o of r.children)e(o)}const i=this.treeModel.roots;if(i)for(const r of i)e(r);return n}loadTreeNodeStatusMap(){const n={};function e(i){if(n[i.data[Hn.TREE_NODE_ID]]={treeNodeId:i.data[Hn.TREE_NODE_ID],linkId:i.data.linkId?i.data.linkId:""},i.hasChildren)for(const r of i.children)e(r)}if(!this.treeNodeStatusMap||0===Object.keys(this.treeNodeStatusMap).length){const i=this.treeModel.roots;if(i)for(const r of i)e(r);this.treeNodeStatusMap=n}}addTreeNodeStatus(n,e){n in this.treeNodeStatusMap||(this.treeNodeStatusMap[n]={treeNodeId:n,linkId:e||""})}deleteTreeNodeStatus(n){delete this.treeNodeStatusMap[n]}treeNodeHasDuplicateLinkIdByLinkIdTracker(n,e){return!(!e||!this.treeNodeStatusMap)&&n in this.linkIdTracker&&(this.linkIdTracker[n].length>1||1===this.linkIdTracker[n].length&&-1===this.linkIdTracker[n].indexOf(e.toString()))}isTreeNodeHasErrorById(n,e=!0){if(this.treeNodeStatusMap&&this.treeNodeStatusMap[n]){const i="hasError"in this.treeNodeStatusMap[n]&&this.treeNodeStatusMap[n].hasError;return e?i||"childHasError"in this.treeNodeStatusMap[n]&&this.treeNodeStatusMap[n].childHasError:i}return!1}isFocusNodeHasError(){if(this.treeModel){const n=this.treeModel.getFocusedNode();if(n)return this.isTreeNodeHasErrorById(n.data[Hn.TREE_NODE_ID],!1)}return!1}getTreeNodeStatusById(n){return this.treeNodeStatusMap&&n in this.treeNodeStatusMap?this.treeNodeStatusMap[n]:null}siblingHasError(n){let e=!1;return n.parent&&!n.isRoot&&n.parent.hasChildren&&(e=n.parent.children.some(i=>{const r=i.data[Hn.TREE_NODE_ID];return n.data[Hn.TREE_NODE_ID]!==r&&(this.treeNodeStatusMap[r]?.hasError??!1)})),e}removeErrorFromAncestorNodes(n){const e=n.data[Hn.TREE_NODE_ID];e in this.treeNodeStatusMap&&(this.treeNodeStatusMap[e].childHasError=!1),n.parent&&!n.isRoot&&(!("childHasError"in this.treeNodeStatusMap[e])||!this.treeNodeStatusMap[e].childHasError)&&(this.siblingHasError(n)||this.removeErrorFromAncestorNodes(n.parent))}addErrorForAncestorNodes(n){const e=n.data[Hn.TREE_NODE_ID];e in this.treeNodeStatusMap&&(this.treeNodeStatusMap[e].childHasError=!0),n.parent&&!n.isRoot&&this.addErrorForAncestorNodes(n.parent)}updateValidationStatus(n,e,i,r){if(!this.treeNodeStatusMap||!this.treeNodeStatusMap[n])return;this.treeNodeStatusMap[n].linkId=e,r?(this.treeNodeStatusMap[n].errors||(this.treeNodeStatusMap[n].errors={}),this.treeNodeStatusMap[n].errors[i]=r,this.treeNodeStatusMap[n].hasError=!0):(this.treeNodeStatusMap[n].errors&&i in this.treeNodeStatusMap[n].errors&&(this.liveAnnouncer.announce("Error is resolved for this node."),delete this.treeNodeStatusMap[n].errors[i]),this.treeNodeStatusMap[n].hasError=Object.keys(this.treeNodeStatusMap[n]?.errors??{}).length>0);const o=this.getTreeNodeById(n);o&&o.parent&&!o.isRoot&&(r?this.addErrorForAncestorNodes(o.parent):!this.siblingHasError(o)&&0===Object.keys(this.treeNodeStatusMap[n]?.errors??{}).length&&(!("childHasError"in this.treeNodeStatusMap[n])||!this.treeNodeStatusMap[n].childHasError)&&this.removeErrorFromAncestorNodes(o.parent))}deleteErrorAndAdjustEnableWhenIndexes(n,e){if(!this.treeNodeStatusMap||!this.treeNodeStatusMap[n])return;const i=`enableWhen_${e}`;this.treeNodeStatusMap[n].errors&&i in this.treeNodeStatusMap[n].errors&&delete this.treeNodeStatusMap[n].errors[i],Object.keys(this.treeNodeStatusMap[n].errors).forEach(o=>{const s=o.match(/enableWhen_(\d+)/),c=s?Number(s[1]):-1;!isNaN(c)&&c>e&&(this.treeNodeStatusMap[n].errors["enableWhen_"+(c-1)]=this.treeNodeStatusMap[n].errors[`enableWhen_${c}`],delete this.treeNodeStatusMap[n].errors[`enableWhen_${c}`])}),this.treeNodeStatusMap[n].hasError=Object.keys(this.treeNodeStatusMap[n]?.errors??{}).length>0,this._validationStatusChanged$.next(null)}clearAutoSavedTreeNodeStatusMap(){localStorage.removeItem("treeMap"),this.treeNodeStatusMap={}}loadLinkIdTracker(){Object.values(this.treeNodeStatusMap).map(n=>{const e=n.linkId,i=n.treeNodeId;e in this.linkIdTracker?-1===this.linkIdTracker[e].indexOf(i)&&this.linkIdTracker[e].push(i):this.linkIdTracker[e]=[i]})}getNodeIdsByLinkId(n){return(n||""===n)&&n in this.linkIdTracker?this.linkIdTracker[n]:null}isValidLinkId(n){return!!this.getNodeIdsByLinkId(n)}addLinkIdToLinkIdTracker(n,e){e in this.linkIdTracker?-1===this.linkIdTracker[e].indexOf(n)&&this.linkIdTracker[e].push(n):this.linkIdTracker[e]=[n]}removeLinkIdFromLinkIdTracker(n,e){if(e in this.linkIdTracker)if(this.linkIdTracker[e].length>1){const i=this.linkIdTracker[e].indexOf(n);i>-1&&this.linkIdTracker[e].splice(i,1)}else delete this.linkIdTracker[e]}updateLinkIdForLinkIdTracker(n,e,i){i&&(n&&this.removeLinkIdFromLinkIdTracker(i,n),this.addLinkIdToLinkIdTracker(i,e))}clearLinkIdTracker(){this.linkIdTracker={}}getSourcesExcludingFocusedTree(){let n=null;if(this.treeModel){const e=this.treeModel.getFocusedNode();n=this.getEnableWhenSources(e)}return n}getEnableWhenOperatorListByAnswerType(n){return this.enableWhenOperatorOptions[n]}getEnableWhenSources(n,e){e||(e=this.treeModel);let i=null;return e&&(i=this.getEnableWhenSources_(e.roots,n)),i}getEnableWhenSources_(n,e){const i=[];for(const r of n)r!==e&&("group"!==r.data.type&&"display"!==r.data.type&&i.push(r),r.hasChildren&&i.push.apply(i,this.getEnableWhenSources_(r.children,e)));return i}setTreeModel(n){this.treeModel=n}getTreeNodeById(n){return this.treeModel.getNodeById(n)}getTreeNodeByLinkId(n){return this.findNodeByLinkId(this.treeModel?.roots,n)}hasExtension(){const n=this.treeModel?.getFocusedNode()?.data?.extension;return Array.isArray(n)?n.length>0:!!n}hasSubItems(){return!!this.treeModel?.getFocusedNode()?.data?.item}getPreferredTerminologyServer(n){let e=null;if(Bt.traverseAncestors(n,i=>{const r=i.data.extension?.find(o=>o.url===lh.PREFERRED_TERMINOLOGY_SERVER_URI);return e=r?r.valueUrl:null,!e}),!e){const i=this.formLevelExtensionService.getFirstExtensionByUrl(lh.PREFERRED_TERMINOLOGY_SERVER_URI);e=i?i.valueUrl:null}return e}findNodeByLinkId(n,e){let i;if(!n||0===n.length)return null;for(const r of n)if(r.data.linkId===e?i=r:r.hasChildren&&(i=this.findNodeByLinkId(r.children,e)),i)break;return i}showMessage(n,e,i=rp.INFO){const r=this.modalService.open(Kfe,{scrollable:!0});r.componentInstance.title=n,r.componentInstance.message=e,r.componentInstance.type=i}parseQuestionnaire(n){const e=new Error("Not a valid JSON");if(!n)throw e;let i=null;try{i=JSON.parse(n)}catch{throw e}if("Questionnaire"!==i.resourceType){if(!i.name)throw new Error("Not a valid questionnaire");i=LForms.Util._convertLFormsToFHIRData("Questionnaire","R4",i)}return i=this.convertToR4(i),this.updateFhirQuestionnaire(i)}convertToR4(n){let e=n;return"R4"!==LForms.Util.guessFHIRVersion(n)&&(e=LForms.Util.getFormFHIRData(n.resourceType,"R4",LForms.Util.convertFHIRQuestionnaireToLForms(n))),e}convertFromR4(n,e){let i=n;return"LHC-Forms"===e?i=LForms.Util.convertFHIRQuestionnaireToLForms(n):"R4"!==e&&(i=LForms.Util.getFormFHIRData(n.resourceType,e,LForms.Util.convertFHIRQuestionnaireToLForms(n))),i}updateFhirQuestionnaire(n){return op()(n).forEach(function(e){if(e?.item){let i=Bt.findItemIndexWithHelpText(e.item);if(i>=0){const r=e.item[i];op()(e).set(["__$helpText"],r),e.item.splice(i,1),0===e.item.length&&delete e.item}}}),n}clearAutoSavedForm(){localStorage.removeItem("fhirQuestionnaire")}autoSaveForm(n){this.autoSave("fhirQuestionnaire",n),this.notifyWindowOpener({type:"updateQuestionnaire",questionnaire:n})}notifyWindowOpener(n){this._windowOpenerUrl&&window.opener.postMessage(n,this._windowOpenerUrl)}autoLoadForm(){const n=this.autoLoad("fhirQuestionnaire");return this.updateFhirQuestionnaire(n)}autoSave(n,e){this._storageAvailable("localStorage")?e?"state"!==n&&e?localStorage.setItem(n,JSON.stringify(e)):localStorage.setItem(n,e):localStorage.removeItem(n):console.error("Local storage not available!")}autoLoad(n){let e=null;if(this._storageAvailable("localStorage")){const i=localStorage.getItem(n);i&&(e="state"!==n?JSON.parse(i):i)}else console.error("Local storage not available!");return e}_storageAvailable(n){let e;try{e=window[n];const i="__storage_test__";return e.setItem(i,i),e.removeItem(i),this.localStorageError=null,!0}catch(i){return this.localStorageError=i,i instanceof DOMException&&(22===i.code||1014===i.code||"QuotaExceededError"===i.name||"NS_ERROR_DOM_QUOTA_REACHED"===i.name)&&e&&0!==e.length}}isAutoSaved(){return!!localStorage.getItem("fhirQuestionnaire")}isSnomedUser(){return this.snomedUser}setSnomedUser(n){this.snomedUser=n,this.snomedUser&&this.fetchService.fetchSnomedEditions()}loadLFormsLib(){return function fN(){let t=1;return function n(){return new Promise((e,i)=>{(function dhe(){return fetch(ly).then(t=>{if(t.ok)return t.text().then(n=>{const e=[...n.matchAll(/>lforms-([^<]+)\.zip</g)].map(i=>i[1]).filter(i=>i.split(".")[0]>=29);return che()(e),e});throw new Error("Unable to retrieve the list of LForms versions from "+ly)})})().then(r=>{e(r)}).catch(r=>{if(t++,t>dN){const o=`${Date.now()}: Failed to get LForms version after ${t-1} attempts.`;console.error(`${o} - ${r.stack}`),i(r)}else setTimeout(I(function*(){console.log(`${Date.now()}: ${r.message}`),console.log(`Retrying getSupportedLFormsVersions() again: ${t}...`),yield n().then(e,i)}),500)})})}()}().then(n=>{const e=n[0]||"34.3.0";return dy(e).then(()=>e).catch(i=>{throw console.error(`lforms-loader.loadLForms() failed: ${i.message}`),new Error(i)})}).catch(n=>{throw console.error(`lforms-loader.getSupportedLFormsVersions() failed: ${n.message}`),new Error(n)})}static#n=this.\u0275fac=function(e){return new(e||Hn)(Xe(k0),Xe(z0),Xe(j0))};static#i=this.\u0275prov=tt({token:Hn,factory:Hn.\u0275fac,providedIn:"root"})}var eGe=T(6672);function f5(t){return new hn(n=>{fs(t()).subscribe(n)})}const Lx=tn(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function nGe(t){throw new Lx(t)}let dh=(()=>{class t{constructor(){this.fhirServerList=[{id:4,displayName:"Demo FHIR Server - R4",endpoint:"https://3cdzg7kbj4.execute-api.eu-west-2.amazonaws.com/poc/events/FHIR/R4/",desc:"Demo Server (R4 Resources)",version:"R4"}],this.validationServers=new Set(this.fhirServerList),this.formService=$e(Hn),this.httpClient=$e(z0),this.setFhirServer(this.fhirServerList[0])}create(e,i){let r="string"==typeof e?JSON.parse(e):e;return this.assignPublisher(r,i),r=this.formService.convertFromR4(r,this.getFhirServer().version),this.promiseToObservable(this.smartClient.create(r))}update(e,i){let r="string"==typeof e?JSON.parse(e):e;return this.assignPublisher(r,i),r=this.formService.convertFromR4(r,this.getFhirServer().version),this.promiseToObservable(this.smartClient.update(r))}read(e){return this.promiseToObservable(this.smartClient.request({url:"Questionnaire/"+e+"?_format=application/fhir+json"})).pipe(Mn(i=>this.formService.convertToR4(i)))}delete(e){return this.promiseToObservable(this.smartClient.delete("Questionnaire/"+e))}search(e,i,r){const o={_sort:["-_lastUpdated"],_total:"accurate",_format:"application/fhir+json"};return Object.assign(o,r),i||(i="_content"),e&&(o[i]=e),this.promiseToObservable(this.smartClient.request({url:"Questionnaire?"+this.queryToString(o)}))}getBundleByUrl(e){return this.promiseToObservable(this.smartClient.request(e))}getPage(e,i){let r;return r="prev"===i||"previous"===i?e.link.prev||e.link.previous:e.link[i],this.getBundleByUrl(r)}setFhirServer(e){this.currentServer=e,this.smartClient=eGe.client(this.currentServer.endpoint)}getFhirServer(){return this.currentServer}assignPublisher(e,i){if(e&&!e.publisher&&i&&i.displayName){let r=i.displayName;i.email&&(r+="; "+i.email),e.publisher=r}}queryToString(e){let i=null;return e&&(i=Object.entries(e).map(([r,o])=>(Array.isArray(o)&&(o=o.join(",")),encodeURI(r)+"="+encodeURI(o))).join("&")),i}promiseToObservable(e){return f5(()=>qc(e))}getSmartClient(){return this.smartClient}addNewFhirServer(e){this.fhirServerList.unshift(e),this.setFhirServer(e)}hasFhirServer(e){return this.fhirServerList.some(i=>i.endpoint===e)}getValidationErrors(e,i){let r=i||this.currentServer.endpoint;return/\Questionnaire\/\$validate/i.test(i)||(r+="/Questionnaire/$validate"),this.httpClient.post(r,JSON.stringify(e,null,2),{headers:{"Content-Type":"application/fhir+json"},observe:"body",responseType:"json"}).pipe(Mn(o=>o.issue||[]))}getLastUsedValidationServer(e){return Array.from(this.validationServers).reverse().find(r=>e===r.version).endpoint}getValidWebUrl(e){let i=null;try{i=new URL(e),i.protocol.match(/^https?:/i)||(i=null)}catch{}return i}validateBaseUrl(e){const i={};let r=this.getValidWebUrl(e);if(!r)return i.errorMessage=`Invalid url: ${e}`,Wi(i);const o={observe:"response",responseType:"json",params:(new ac).set("_format","json").set("_elements","fhirVersion,implementation")},s=Bt.extractBaseUrl(e);return this.httpClient.get(s+"/metadata",o).pipe(Mn(c=>{const v=c.body,C=LForms.Util._fhirVersionToRelease(v.fhirVersion);if(!C||C===v.fhirVersion)return i.errorMessage=`${r.href} returned an unsupported FHIR version: ${v.fhirVersion}`,i;const N=v.implementation?.url;return N&&N!==s&&(e=e.replace(s,N)),i.fhirServer={endpoint:e,desc:v.implementation?.description||"",version:C},Array.from(this.validationServers).find(se=>se.endpoint===i.fhirServer.endpoint)||this.validationServers.add(i.fhirServer),i}),q1(c=>{const v={};return v.errorMessage=c.message.startsWith("Invalid url:")?c.message:`${s}: Unable to confirm the URL is a FHIR server.`,Wi(v)}))}runValidations(e,i,r){const o=c=>c?.filter(v=>"fatal"===v.severity||"error"===v.severity).map(v=>{let C=`${v.severity.charAt(0).toUpperCase()+v.severity.slice(1)}: ${v.diagnostics}`;return v.location&&(C+=` [${v.location?.join("; ")}]`),C});return this.validateBaseUrl(i.href).pipe(function tGe(t,n){const{first:e,each:i,with:r=nGe,scheduler:o=n??kg,meta:s=null}=kk(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==e&&null==i)throw new TypeError("No timeout provided.");return fi((c,v)=>{let C,N,G=null,se=0;const le=pe=>{N=Vl(v,o,()=>{try{C.unsubscribe(),fs(r({meta:s,lastValue:G,seen:se})).subscribe(v)}catch(we){v.error(we)}},pe)};C=c.subscribe(new gi(v,pe=>{N?.unsubscribe(),se++,v.next(G=pe),i>0&&le(i)},void 0,void 0,()=>{N?.closed||N?.unsubscribe(),G=null})),le(null!=e?"number"==typeof e?e:+e-o.now():i)})}(3e4),Jd(c=>{let v=[];if(c.errorMessage)v.push(c.errorMessage);else if(c.fhirServer){if(c.fhirServer.version===e)return this.getValidationErrors(r,c.fhirServer.endpoint).pipe(Mn(C=>o(C)),q1(C=>{let N=[];return 412===C.status?N.push(...o(C.error.issue)):C instanceof Lx?N.push("Connection timed out after 30 seconds"):(0===C.status&&N.push("Detected network error."),N.push(C.message)),Wi(N)}));v.push(`This server version is ${c.fhirServer.version}. Please specify a server to validate ${e} format.`)}return Wi(v)}),q1(c=>{const v=[];return v.push(c instanceof Lx?"Connection timed out after 30 seconds":c.message),Wi(v)}))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iGe=["inputEl"];function rGe(t,n){1&t&&Ve(0,"div",17)}function oGe(t,n){1&t&&Ve(0,"div",18)}function sGe(t,n){if(1&t&&(ee(0,"p",19),ye(1),ie()),2&t){const e=oe();Q(),It(e.message)}}function aGe(t,n){if(1&t&&(ee(0,"p",20),ye(1),ie()),2&t){const e=oe();Q(),It(e.errorMessage)}}let cGe=(()=>{class t{constructor(e,i){this.fhirService=e,this.activeModal=i,this.valid=null,this.newServerObj=null,this.newServerObj=null}validateFHIRUrl(e){this.message=null,this.errorMessage=null,this.newServerObj=null;const i=`You entered an invalid url: ${e}`;this.fhirService.validateBaseUrl(e).subscribe({next:r=>{r.errorMessage?this.errorMessage=r.errorMessage.startsWith("Invalid url:")?i:r.errorMessage:(r.fhirServer.id=this.fhirService.fhirServerList.length+1,this.newServerObj=r.fhirServer,this.message=`${e} was verified to be a FHIR server.`)},error:r=>{this.errorMessage=r.message}})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(dh),ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-user-server-dlg"]],viewQuery:function(i,r){if(1&i&&Ln(iGe,5,Ht),2&i){let o;Et(o=Lt())&&(r.inputElRef=o.first)}},decls:23,vars:6,consts:[["urlInput","ngModel"],["role","dialog","aria-labelledby","userServerDlgTitle"],["id","userServerDlgTitle",1,"modal-header","bg-primary","text-white"],[1,"modal-title","h5"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],["class","ng-invalid",4,"ngIf"],["class","ng-valid",4,"ngIf"],["class","text-success","role","alert","aria-atomic","true",4,"ngIf"],["class","text-danger","role","alert","aria-atomic","true",4,"ngIf"],["for","urlInputId"],[1,"input-group","input-group-sm"],["id","urlInputId","ngModel","","type","url","required","","placeholder","Enter valid url of your FHIR server","aria-label","","aria-describedby","filterHelp",1,"form-control"],["type","button","id","button-addon2",1,"align-self-baseline","btn","btn-sm","btn-primary","input-group-append",3,"click","disabled"],[1,"modal-footer","btn-group-sm","border-0"],["type","button",1,"btn","btn-sm","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"ng-invalid"],[1,"ng-valid"],["role","alert","aria-atomic","true",1,"text-success"],["role","alert","aria-atomic","true",1,"text-danger"]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",1)(1,"div",2)(2,"span",3),ye(3,"Add your FHIR server"),ie(),ee(4,"button",4),ze("click",function(){return Se(o),Ee(r.activeModal.dismiss("Cancel"))}),ie()(),ee(5,"div",5),Me(6,rGe,1,0,"div",6)(7,oGe,1,0,"div",7)(8,sGe,2,1,"p",8)(9,aGe,2,1,"p",9),ee(10,"label",10),ye(11,"Specify base URL of your FHIR server"),ie(),ee(12,"div",11),Ve(13,"input",12,0),ee(15,"button",13),ze("click",function(){Se(o);const c=Ut(14);return Ee(r.validateFHIRUrl(c.value))}),ee(16,"span"),ye(17,"Validate"),ie()()()(),ee(18,"div",14)(19,"button",15),ze("click",function(){return Se(o),Ee(r.activeModal.close(r.newServerObj))}),ye(20,"Add"),ie(),ee(21,"button",16),ze("click",function(){return Se(o),Ee(r.activeModal.dismiss("Cancel"))}),ye(22,"Cancel"),ie()()()}if(2&i){const o=Ut(14);Q(6),X("ngIf",!r.valid),Q(),X("ngIf",r.valid),Q(),X("ngIf",r.message),Q(),X("ngIf",r.errorMessage),Q(6),X("disabled",o.errors),Q(4),X("disabled",!r.newServerObj)}},dependencies:[yn,di,ei,Qd,ro],encapsulation:2})}return t})();const lGe=()=>({standalone:!0});function dGe(t,n){if(1&t){const e=lt();ee(0,"tr")(1,"th",11)(2,"label",12)(3,"input",13),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.selectedServer,r)||(o.selectedServer=r),Ee(r)}),ie()()(),ee(4,"td",14)(5,"label"),ye(6),ie()(),ee(7,"td",14),ye(8),ie(),ee(9,"td",14),ye(10),ie()()}if(2&t){const e=n.$implicit,i=oe();Q(3),X("value",e),ki("ngModel",i.selectedServer),X("ngModelOptions",_i(8,lGe)),Ye("id",e.endpoint),Q(2),Ye("for",e.endpoint),Q(),It(e.endpoint),Q(2),It(e.version),Q(2),It(e.desc)}}let Ax=(()=>{class t{constructor(e,i,r){this.fhirService=e,this.modalService=i,this.activeModal=r,this.fhirServerList=this.fhirService.fhirServerList,this.selectedServer=this.fhirService.getFhirServer()}addFHIRServer(){this.modalService.open(cGe).result.then(i=>{this.fhirService.hasFhirServer(i.endpoint)||this.fhirService.addNewFhirServer(i),this.selectedServer=this.fhirService.getFhirServer()},i=>{})}continue(){this.fhirService.setFhirServer(this.selectedServer),this.activeModal.close(!0)}dismiss(){this.activeModal.close(!1)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(dh),ve(k0),ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-fhir-servers-dlg"]],inputs:{fhirServerList:"fhirServerList"},decls:27,vars:1,consts:[["role","dialog","aria-labelledby","serverDlgTitle","aria-describedby","ServerListCaption"],[1,"modal-header","bg-primary"],["id","serverDlgTitle",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],[1,"table","table-sm","table-striped","table-bordered"],["id","serverListCaption"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal-footer","btn-group-sm","border-0"],["type","button",1,"btn","btn-primary",3,"click"],["scope","row",1,"align-middle"],[1,"m-0","p-0"],["type","radio","name","fhirServer",3,"ngModelChange","value","ngModel","ngModelOptions"],[1,"align-middle"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"h4",2),ye(3,"Choose a FHIR server"),ie(),ee(4,"button",3),ze("click",function(){return r.dismiss()}),ie()(),ee(5,"div",4)(6,"table",5)(7,"caption",6),ye(8,"List of available FHIR servers."),ie(),ee(9,"thead")(10,"tr"),Ve(11,"th",7),ee(12,"th",7),ye(13,"Fhir Server"),ie(),ee(14,"th",7),ye(15,"FHIR Version"),ie(),ee(16,"th",7),ye(17,"Description"),ie()()(),ee(18,"tbody"),Me(19,dGe,11,9,"tr",8),ie()()(),ee(20,"div",9)(21,"button",10),ze("click",function(){return r.addFHIRServer()}),ye(22,"Add your FHIR server..."),ie(),ee(23,"button",10),ze("click",function(){return r.continue()}),ye(24,"Continue"),ie(),ee(25,"button",10),ze("click",function(){return r.dismiss()}),ye(26,"Cancel"),ie()()()),2&i&&(Q(19),X("ngForOf",r.fhirServerList))},dependencies:[bi,di,Ls,ei,ro],styles:["caption[_ngcontent-%COMP%]{caption-side:top;font-size:130%}"]})}return t})();const Dx=()=>({standalone:!0});function uGe(t,n){1&t&&wr(0)}function fGe(t,n){1&t&&wr(0)}function hGe(t,n){1&t&&Ve(0,"span",26)}function pGe(t,n){1&t&&(ee(0,"span"),ye(1,"Loading..."),ie())}function mGe(t,n){1&t&&(ee(0,"span"),ye(1,"Search"),ie())}function gGe(t,n){if(1&t&&(ee(0,"option",27),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e),Q(),It(e.endpoint)}}function vGe(t,n){if(1&t&&(ee(0,"option",27),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e),Q(),It(e.display)}}function _Ge(t,n){if(1&t&&(ee(0,"h4",32),ye(1),ie()),2&t){const e=oe(3);Q(),Qn("",e.total," resource was found.")}}function bGe(t,n){if(1&t&&(ee(0,"h4",32),ye(1),ie()),2&t){const e=oe(3);Q(),Qn("",e.total," resources were found.")}}function yGe(t,n){1&t&&(ee(0,"h4",32),ye(1,"No resources were found."),ie())}function wGe(t,n){1&t&&(ee(0,"h4",32),ye(1,"The following resources were found."),ie())}function xGe(t,n){if(1&t){const e=lt();ee(0,"div",28)(1,"div",9),Me(2,_Ge,2,1,"h4",29)(3,bGe,2,1,"h4",29)(4,yGe,2,0,"h4",29)(5,wGe,2,0,"h4",29),ie(),ee(6,"div",30)(7,"button",31),ze("click",function(){return Se(e),Ee(oe(2).prevPage())}),ye(8,"Previous"),ie(),ee(9,"button",31),ze("click",function(){return Se(e),Ee(oe(2).nextPage())}),ye(10,"Next"),ie()()()}if(2&t){const e=oe(2);Q(2),X("ngIf",1===e.total),Q(),X("ngIf",e.total>1),Q(),X("ngIf",0===e.total),Q(),X("ngIf",void 0===e.total),Q(2),X("disabled",!e.prevUrl),Q(2),X("disabled",!e.nextUrl)}}function CGe(t,n){if(1&t){const e=lt();ee(0,"form",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"input",12),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.inputTerm,r)||(o.inputTerm=r),Ee(r)}),ie(),ee(6,"button",13),Da(7,"async"),ze("click",function(){return Se(e),Ee(oe().searchInput())}),Me(8,hGe,1,0,"span",14),Da(9,"async"),Me(10,pGe,2,0,"span",15),Da(11,"async"),Me(12,mGe,2,0,"span",15),Da(13,"async"),ie()(),ee(14,"div",16),Ve(15,"fa-icon",17),ie()()(),ee(16,"div",9)(17,"div",18)(18,"label",19),ye(19,"FHIR Server:\xa0"),ie(),ee(20,"select",20),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.selectedFHIRServer,r)||(o.selectedFHIRServer=r),Ee(r)}),Me(21,gGe,2,2,"option",21),ie()()()(),ee(22,"div",22)(23,"label",23),ye(24,"Search by term occurring in: "),ie(),ee(25,"select",24),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.searchField,r)||(o.searchField=r),Ee(r)}),Me(26,vGe,2,2,"option",21),ie()(),Me(27,xGe,11,6,"div",25),Da(28,"async"),ie()}if(2&t){const e=oe();Q(5),ki("ngModel",e.inputTerm),X("ngModelOptions",_i(25,Dx))("placeholder",e.searchField.searchFieldPlaceholder),Q(),X("disabled",Ia(7,15,e.loading$)),Q(2),X("ngIf",Ia(9,17,e.loading$)),Q(2),X("ngIf",Ia(11,19,e.loading$)),Q(2),X("ngIf",!1===Ia(13,21,e.loading$)),Q(3),X("icon",e.infoIcon),Q(5),ki("ngModel",e.selectedFHIRServer),X("ngModelOptions",_i(26,Dx)),Q(),X("ngForOf",e.getServerList()),Q(4),ki("ngModel",e.searchField),X("ngModelOptions",_i(27,Dx)),Q(),X("ngForOf",e.searchFieldList),Q(),X("ngIf",Ia(28,23,e.bundle$))}}function MGe(t,n){if(1&t&&(ee(0,"div"),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.title||e.name)}}function SGe(t,n){1&t&&(ee(0,"div"),ye(1,"(No title or name assigned)"),ie())}function TGe(t,n){if(1&t&&(ee(0,"span"),ye(1),ie()),2&t){const e=oe().$implicit;Q(),Qn("(version: ",e.version,")")}}function EGe(t,n){if(1&t&&(ee(0,"div"),ye(1),ie()),2&t){const e=oe().$implicit;Q(),Qn("Publisher: ",e.publisher,"")}}function LGe(t,n){if(1&t&&(ee(0,"div"),ye(1),ie()),2&t){const e=oe().$implicit;Q(),Qn("Last changed: ",e.date,"")}}function AGe(t,n){if(1&t){const e=lt();ee(0,"a",36),ze("click",function(){const r=Se(e).$implicit;return Ee(oe(3).close(r.id))}),ee(1,"div",28)(2,"div",37),ye(3),ie(),ee(4,"div",38),Me(5,MGe,2,1,"div",15)(6,SGe,2,0,"div",15),ee(7,"div"),ye(8),Me(9,TGe,2,1,"span",15),ie(),Me(10,EGe,2,1,"div",15)(11,LGe,2,1,"div",15),ie()()()}if(2&t){const e=n.$implicit,i=n.index,r=oe(3);Q(3),It(r.resultsOffset+i+1),Q(2),X("ngIf",e.title||e.name),Q(),X("ngIf",!e.title&&!e.name),Q(2),Qn("ID: ",e.id," "),Q(),X("ngIf",e.version),Q(),X("ngIf",e.publisher),Q(),X("ngIf",e.date)}}function DGe(t,n){if(1&t&&(Fn(0),ee(1,"div",33)(2,"div",34),Me(3,AGe,12,7,"a",35),ie()(),Pn()),2&t){const e=oe(2);Q(3),X("ngForOf",e.questionnaires)}}function IGe(t,n){1&t&&Me(0,DGe,4,1,"ng-container",15),2&t&&X("ngIf",oe().questionnaires)}let LW=(()=>{class t{constructor(e,i){this.fhirService=e,this.activeModal=i,this.infoIcon=Ac,this._loading$=new ur(!1),this._search$=new xt,this._bundle$=new ur(null),this.inputTerm="",this.resultsOffset=0,this.pageSize=20,this.nextUrl=null,this.prevUrl=null,this.total=void 0,this.searchFieldList=[{field:"_content",display:"Any text field",searchFieldPlaceholder:"Search any text field"},{field:"code",display:"Item code",searchFieldPlaceholder:"Search item code"},{field:"title:contains",display:"Form title only",searchFieldPlaceholder:"Search form title"},{field:"name:contains",display:"Form name only",searchFieldPlaceholder:"Search form name"}],this._state={searchTerm:"",searchField:this.searchFieldList[0],fhirServer:this.fhirService.getFhirServer()},this._search$.pipe(Xc(()=>this._loading$.next(!0)),Oa(()=>this._search()),Xc(()=>this._loading$.next(!1))).subscribe(r=>{this.total=void 0,this._bundle$.next(r)}),this.bundle$.pipe(Mn(r=>(this.questionnaires=null,r&&(void 0!==r.total&&(this.total=r.total),this.nextUrl=null,this.prevUrl=null,r.link&&r.link&&r.link.length>0&&r.link.forEach(o=>{switch(o.relation){case"self":this.resultsOffset=this._getOffset(o.url);break;case"next":this.nextUrl=o.url;break;case"prev":case"previous":this.prevUrl=o.url}}),r.entry)?r.entry.map(o=>{const s=o.resource,c={};return["id","title","name","publisher","date","status","code"].forEach(v=>{s[v]&&(c[v]=s[v])}),c}):null))).subscribe(r=>{this.questionnaires=r})}get loading$(){return this._loading$.asObservable()}get bundle$(){return this._bundle$.asObservable()}get searchTerm(){return this._state.searchTerm}set searchTerm(e){this._set({searchTerm:e})}get searchField(){return this._state.searchField}set searchField(e){this._set({searchField:e})}get selectedFHIRServer(){return this._state.fhirServer}set selectedFHIRServer(e){this.fhirService.setFhirServer(e),this._set({fhirServer:e})}_set(e){Object.assign(this._state,e)}_search(){return this.fhirService.search(this.searchTerm,this.searchField.field,{_count:this.pageSize})}searchInput(){this.searchTerm=this.inputTerm,this._search$.next()}nextPage(){this.getBundleByUrl(this.nextUrl)}prevPage(){this.getBundleByUrl(this.prevUrl)}getBundleByUrl(e){this.fhirService.getBundleByUrl(e).subscribe(i=>{this._bundle$.next(i)})}_getOffset(e){let i="";return e&&(i=new URL(e).searchParams.get("_getpagesoffset")),i?parseInt(i,10):0}dismiss(e){this.activeModal.dismiss(e)}close(e){this.activeModal.close(e)}getServerList(){return this.fhirService.fhirServerList}static#e=this.\u0275fac=function(i){return new(i||t)(ve(dh),ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-fhir-search-dlg"]],decls:11,vars:2,consts:[["search",""],["results",""],["role","dialog",1,"modal-header","bg-primary"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-header"],[4,"ngTemplateOutlet"],["role","search","aria-label","Search selected FHIR server",1,"container"],[1,"row","align-items-center","mb-2"],[1,"col"],[1,"align-items-center","d-inline-flex"],[1,"input-group","input-group-sm"],["type","text","aria-label","Search term","aria-describedby","filterHelp",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["type","button","id","button-addon2",1,"align-self-baseline","btn","btn-sm","btn-primary","input-group-append",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2","aria-hidden","true","role","status",4,"ngIf"],[4,"ngIf"],["ngbTooltip","Choose a search field and enter the search term. Choosing 'Any text field' implies searching '_content'. Please refer to FHIR REST API for details.",1,"ms-1"],[3,"icon"],[1,"row","float-end"],["for","SelectFHIRServer1",1,"align-self-center","col-auto","col-form-label","col-form-label-sm","me-2","p-0","text-nowrap"],["id","SelectFHIRServer1",1,"col-auto","form-select","form-select-sm","w-auto",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"m-0","mb-2","row","align-items-center"],["for","searchField1",1,"p-0","me-2","col-auto","col-form-label","text-nowrap"],["id","searchField1",1,"form-select","form-select-sm","col-auto","w-auto",3,"ngModelChange","ngModel","ngModelOptions"],["class","row",4,"ngIf"],["aria-hidden","true","role","status",1,"spinner-border","spinner-border-sm","me-2"],[3,"ngValue"],[1,"row"],["role","alert",4,"ngIf"],["role","group","aria-label","Navigation",1,"col-auto","btn-group","btn-group-sm","btn-sm","float-end","m-auto","p-0"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["role","alert"],["aria-live","polite",1,"modal-body","bg-light"],[1,"list-group","list-group-flush"],["href","#","class","list-group-item list-group-item-action result-item",3,"click",4,"ngFor","ngForOf"],["href","#",1,"list-group-item","list-group-item-action","result-item",3,"click"],[1,"col-1"],[1,"col-11"]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",2)(1,"h4",3),ye(2,"Import a questionnaire"),ie(),ee(3,"button",4),ze("click",function(){return Se(o),Ee(r.close(!1))}),ie()(),ee(4,"div",5),Me(5,uGe,1,0,"ng-container",6),ie(),Me(6,fGe,1,0,"ng-container",6)(7,CGe,29,28,"ng-template",null,0,En)(9,IGe,1,1,"ng-template",null,1,En)}if(2&i){const o=Ut(8),s=Ut(10);Q(5),X("ngTemplateOutlet",o),Q(),X("ngTemplateOutlet",s)}},dependencies:[bi,yn,ho,Sf,B1,H1,di,Kc,ei,Cf,ro,Zd,Vs,e8,y4],styles:[".result-item[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.bs-like-control[_ngcontent-%COMP%]{border-color:#d3d3d3;border-radius:.2rem;color:#495057;font-size:.875rem}"]})}return t})();function kGe(t,n){}class h5{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let AW=(()=>{class t extends Vw{constructor(e,i,r,o,s,c,v,C){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=c,this._overlayRef=v,this._focusMonitor=C,this._platform=$e(go),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=$e(Si),this.attachDomPortal=N=>{this._portalOutlet.hasAttached();const G=this._portalOutlet.attachDomPortal(N);return this._contentAttached(),G},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Lp(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Lp();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Lp()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve($w),ve(zn,8),ve(h5),ve(U8),ve(on),ve(K8),ve(d2))};static#t=this.\u0275cmp=rt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Ln(G0,7),2&i){let o;Et(o=Lt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Ye("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[Ct,Xn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Me(0,kGe,0,0,"ng-template",0)},dependencies:[G0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})();class Ix{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new xt,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!rl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(n,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const DW=new at("DialogScrollStrategy",{providedIn:"root",factory:()=>{const t=$e(ms);return()=>t.scrollStrategies.block()}}),OGe=new at("DialogData"),NGe=new at("DefaultDialogConfig");let FGe=0,IW=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,c){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xt,this._afterOpenedAtThisLevel=new xt,this._ariaHiddenElements=new Map,this.afterAllClosed=f5(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Na(void 0))),this._scrollStrategy=c}open(e,i){(i={...this._defaultOptions||new h5,...i}).id=i.id||"cdk-dialog-"+FGe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),c=new Ix(s,i),v=this._attachContainer(s,c,i);return c.containerInstance=v,this._attachDialogContent(e,c,v,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){kx(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){kx(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),kx(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Ww({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:h5,useValue:r},{provide:Ix,useValue:i},{provide:K8,useValue:e}];let c;r.container?"function"==typeof r.container?c=r.container:(c=r.container.type,s.push(...r.container.providers(r))):c=AW;const v=new Y8(c,r.viewContainerRef,io.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(v).instance}_attachDialogContent(e,i,r,o){if(e instanceof Hi){const s=this._createInjector(o,i,r,void 0);let c={$implicit:o.data,dialogRef:i};o.templateContext&&(c={...c,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new th(e,null,c,s))}else{const s=this._createInjector(o,i,r,this._injector),c=r.attachComponentPortal(new Y8(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,c=[{provide:OGe,useValue:e.data},{provide:Ix,useValue:i}];return e.providers&&("function"==typeof e.providers?c.push(...e.providers(i,e,r)):c.push(...e.providers)),e.direction&&(!s||!s.get(Dc,null,{optional:!0}))&&c.push({provide:Dc,useValue:{value:e.direction,change:Wi()}}),io.create({parent:s||o,providers:c})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(ms),Xe(io),Xe(NGe,8),Xe(t,12),Xe(q8),Xe(DW))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kx(t,n){let e=t.length;for(;e--;)n(t[e])}let PGe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[IW],imports:[ih,nh,GV,nh]})}return t})();function zGe(t,n){}class Ox{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Nx="mdc-dialog--open",kW="mdc-dialog--opening",OW="mdc-dialog--closing";let NW=(()=>{class t extends AW{constructor(e,i,r,o,s,c,v,C,N){super(e,i,r,o,s,c,v,N),this._animationMode=C,this._animationStateChanged=new mt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?FW(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?FW(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(RW,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(kW,Nx)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Nx),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Nx),this._animationsEnabled?(this._hostElement.style.setProperty(RW,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(OW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(kW,OW)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve($w),ve(zn,8),ve(Ox),ve(U8),ve(on),ve(K8),ve(Js,8),ve(d2))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(ls("id",r._config.id),Ye("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),At("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[Ct,Xn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1),Me(2,zGe,0,0,"ng-template",2),ie()())},dependencies:[G0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return t})();const RW="--mat-dialog-transition-duration";function FW(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?c2(t.substring(0,t.length-2)):t.endsWith("s")?1e3*c2(t.substring(0,t.length-1)):"0"===t?0:null}var p5=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(p5||{});class m5{constructor(n,e,i){this._ref=n,this._containerInstance=i,this._afterOpened=new xt,this._beforeClosed=new xt,this._state=p5.OPEN,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(er(r=>"opened"===r.state),Ar(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(er(r=>"closed"===r.state),Ar(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ma(this.backdropClick(),this.keydownEvents().pipe(er(r=>27===r.keyCode&&!this.disableClose&&!rl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),PW(this,"keydown"===r.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(er(e=>"closing"===e.state),Ar(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=p5.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=p5.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function PW(t,n,e){return t._closeInteractionType=n,t.close(e)}const zW=new at("MatMdcDialogData"),HGe=new at("mat-mdc-dialog-default-options"),$W=new at("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const t=$e(ms);return()=>t.scrollStrategies.block()}});let VGe=0,Gp=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,c,v,C){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xt,this._afterOpenedAtThisLevel=new xt,this.dialogConfigClass=Ox,this.afterAllClosed=f5(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Na(void 0))),this._dialog=i.get(IW),this._dialogRefConstructor=m5,this._dialogContainerType=NW,this._dialogDataToken=zW}open(e,i){let r;(i={...this._defaultOptions||new Ox,...i}).id=i.id||"mat-mdc-dialog-"+VGe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:h5,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,c,v)=>(r=new this._dialogRefConstructor(s,i,v),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:v},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(ms),Xe(io),Xe(c_,8),Xe(HGe,8),Xe($W),Xe(t,12),Xe(q8),Xe(Js,8))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jGe=0,BW=(()=>{class t{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=WW(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){PW(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(m5,8),ve(Ht),ve(Gp))};static#t=this.\u0275dir=ot({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&ze("click",function(s){return r._onButtonClick(s)}),2&i&&Ye("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[Mt.None,"aria-label","ariaLabel"],type:"type",dialogResult:[Mt.None,"mat-dialog-close","dialogResult"],_matDialogClose:[Mt.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[si]})}return t})(),HW=(()=>{class t{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=WW(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(m5,8),ve(Ht),ve(Gp))};static#t=this.\u0275dir=ot({type:t,standalone:!0})}return t})(),UW=(()=>{class t extends HW{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+jGe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&ls("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Ct]})}return t})(),VW=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return t})(),jW=(()=>{class t extends HW{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){2&i&&At("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[Ct]})}return t})();function WW(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(i=>i.id===e.id):null}let WGe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[Gp],imports:[PGe,ih,nh,Ci,Ci]})}return t})();const lY={prefix:"far",iconName:"copy",icon:[448,512,[],"f0c5","M384 336l-192 0c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l140.1 0L400 115.9 400 320c0 8.8-7.2 16-16 16zM192 384l192 0c35.3 0 64-28.7 64-64l0-204.1c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1L192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-32-48 0 0 32c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l32 0 0-48-32 0z"]},JKe=["mat-icon-button",""],eZe=["*"],tZe=new at("MAT_BUTTON_CONFIG"),nZe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let iZe=(()=>{class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=$e(d2),this._rippleLoader=$e(MVe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=$e(tZe,{optional:!0}),c=e.nativeElement,v=c.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(const{attribute:C,mdcClasses:N}of nZe)c.hasAttribute(C)&&v.add(...N)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){!function yS(){throw new Error("invalid")}()};static#t=this.\u0275dir=ot({type:t,inputs:{color:"color",disableRipple:[Mt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ji],disabled:[Mt.HasDecoratorInputTransform,"disabled","disabled",Ji],ariaDisabled:[Mt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",Ji],disabledInteractive:[Mt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",Ji]},features:[ua]})}return t})(),oZe=(()=>{class t extends iZe{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(go),ve(on),ve(Js,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Ye("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),So(r.color?"mat-"+r.color:""),At("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ct,Xn],attrs:JKe,ngContentSelectors:eZe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(xr(),Ve(0,"span",0),pi(1),Ve(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})(),sZe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,rh,Ci]})}return t})();function Hx(t,n,...e){return!0===n?(t(),null):!1===n?null:n(...e).pipe(Ar(1)).subscribe(()=>t())}const cZe=["*"];let v5;function Yp(t){return function lZe(){if(void 0===v5&&(v5=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(v5=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return v5}()?.createHTML(t)||t}function bY(t){return Error(`Unable to find icon with the name "${t}"`)}function yY(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function wY(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Q0{constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}}let uh=(()=>{class t{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Q0(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(zs.HTML,r);if(!s)throw wY(r);const c=Yp(s);return this._addSvgIconConfig(e,i,new Q0("",c,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Q0(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(zs.HTML,i);if(!o)throw wY(i);const s=Yp(o);return this._addSvgIconSetConfig(e,new Q0("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(zs.RESOURCE_URL,e);if(!i)throw yY(e);const r=this._cachedIconsByUrl.get(i);return r?Wi(_5(r)):this._loadSvgIconFromConfig(new Q0(e,null)).pipe(Xc(o=>this._cachedIconsByUrl.set(i,o)),Mn(o=>_5(o)))}getNamedSvgIcon(e,i=""){const r=xY(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):jR(bY(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Wi(_5(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Mn(i=>_5(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Wi(r):gI(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(q1(c=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(zs.RESOURCE_URL,s.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(C)),Wi(null)})))).pipe(Mn(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw bY(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(s,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Xc(i=>e.svgText=i),Mn(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Wi(null):this._fetchIcon(e).pipe(Xc(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const c=this._svgElementFromString(Yp("<svg></svg>"));return c.appendChild(s),this._setSvgAttributes(c,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Yp("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:c}=r[o];"id"!==s&&i.setAttribute(s,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function dZe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(zs.RESOURCE_URL,i);if(!s)throw yY(i);const c=this._inProgressUrlFetches.get(s);if(c)return c;const v=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Mn(C=>Yp(C)),h8(()=>this._inProgressUrlFetches.delete(s)),function aZe(t={}){const{connector:n=(()=>new xt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s=null,c=null,v=null,C=0,N=!1,G=!1;const se=()=>{c?.unsubscribe(),c=null},le=()=>{se(),s=v=null,N=G=!1},pe=()=>{const we=s;le(),we?.unsubscribe()};return fi((we,Le)=>{C++,!G&&!N&&se();const Be=v=v??n();Le.add(()=>{C--,0===C&&!G&&!N&&(c=Hx(pe,r))}),Be.subscribe(Le),s||(s=new Yn({next:Pe=>Be.next(Pe),error:Pe=>{G=!0,se(),c=Hx(le,e,Pe),Be.error(Pe)},complete:()=>{N=!0,se(),c=Hx(le,i),Be.complete()}}),qc(we).subscribe(s))})(o)}}());return this._inProgressUrlFetches.set(s,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(xY(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return fZe(o)?new Q0(o.url,null,o.options):new Q0(o,null)}}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(z0,8),Xe(xf),Xe(zn,8),Xe(Za))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _5(t){return t.cloneNode(!0)}function xY(t,n){return t+":"+n}function fZe(t){return!(!t.url||!t.options)}const hZe=new at("MAT_ICON_DEFAULT_OPTIONS"),pZe=new at("mat-icon-location",{providedIn:"root",factory:function mZe(){const t=$e(zn),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),CY=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gZe=CY.map(t=>`[${t}]`).join(", "),vZe=/^url\(['"]?#(.*?)['"]?\)$/;let b5=(()=>{class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,c){this._elementRef=e,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ce.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(gZe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)CY.forEach(s=>{const c=i[o],v=c.getAttribute(s),C=v?v.match(vZe):null;if(C){let N=r.get(c);N||(N=[],r.set(c,N)),N.push({name:s,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ar(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(uh),Ms("aria-hidden"),ve(pZe),ve(Za),ve(hZe,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(Ye("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),So(r.color?"mat-"+r.color:""),At("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[Mt.HasDecoratorInputTransform,"inline","inline",Ji],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ua,Xn],ngContentSelectors:cZe,decls:1,vars:0,template:function(i,r){1&i&&(xr(),pi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),MY=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,Ci]})}return t})();const Ux=["*"];function _Ze(t,n){1&t&&pi(0)}const bZe=["tabListContainer"],yZe=["tabList"],wZe=["tabListInner"],xZe=["nextPaginator"],CZe=["previousPaginator"],MZe=t=>({animationDuration:t}),SZe=(t,n)=>({value:t,params:n});function TZe(t,n){}const EZe=["tabBodyWrapper"],LZe=["tabHeader"];function AZe(t,n){}function DZe(t,n){1&t&&Me(0,AZe,0,0,"ng-template",12),2&t&&X("cdkPortalOutlet",oe().$implicit.templateLabel)}function IZe(t,n){1&t&&ye(0),2&t&&It(oe().$implicit.textLabel)}function kZe(t,n){if(1&t){const e=lt();ee(0,"div",7,2),ze("click",function(){const r=Se(e),o=r.$implicit,s=r.$index,c=oe(),v=Ut(1);return Ee(c._handleClick(o,v,s))})("cdkFocusChange",function(r){const o=Se(e).$index;return Ee(oe()._tabFocusChanged(r,o))}),Ve(2,"span",8)(3,"div",9),ee(4,"span",10)(5,"span",11),Me(6,DZe,1,1,null,12)(7,IZe,1,1),ie()()()}if(2&t){const e=n.$implicit,i=n.$index,r=Ut(1),o=oe();So(e.labelClass),At("mdc-tab--active",o.selectedIndex===i),X("id",o._getTabLabelId(i))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),Ye("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),Q(3),X("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),Q(3),$n(6,e.templateLabel?6:7)}}function OZe(t,n){1&t&&pi(0)}function NZe(t,n){if(1&t){const e=lt();ee(0,"mat-tab-body",13),ze("_onCentered",function(){return Se(e),Ee(oe()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Se(e),Ee(oe()._setTabBodyWrapperHeight(r))}),ie()}if(2&t){const e=n.$implicit,i=n.$index,r=oe();So(e.bodyClass),At("mat-mdc-tab-body-active",r.selectedIndex===i),X("id",r._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ye("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}const RZe=new at("MatTabContent");let SY=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hi))};static#t=this.\u0275dir=ot({type:t,selectors:[["","matTabContent",""]],standalone:!0,features:[Nn([{provide:RZe,useExisting:t}])]})}return t})();const FZe=new at("MatTabLabel"),TY=new at("MAT_TAB");let EY=(()=>{class t extends $Ue{constructor(e,i,r){super(e,i),this._closestTab=r}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hi),ve(Vr),ve(TY,8))};static#t=this.\u0275dir=ot({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Nn([{provide:FZe,useExisting:t}]),Ct]})}return t})();const LY=new at("MAT_TAB_GROUP");let AY=(()=>{class t{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,i){this._viewContainerRef=e,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new xt,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new th(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Vr),ve(LY,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(1&i&&(ai(o,EY,5),ai(o,SY,7,Hi)),2&i){let s;Et(s=Lt())&&(r.templateLabel=s.first),Et(s=Lt())&&(r._explicitContent=s.first)}},viewQuery:function(i,r){if(1&i&&Ln(Hi,7),2&i){let o;Et(o=Lt())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[Mt.HasDecoratorInputTransform,"disabled","disabled",Ji],textLabel:[Mt.None,"label","textLabel"],ariaLabel:[Mt.None,"aria-label","ariaLabel"],ariaLabelledby:[Mt.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Nn([{provide:TY,useExisting:t}]),ua,si,Xn],ngContentSelectors:Ux,decls:1,vars:0,template:function(i,r){1&i&&(xr(),Me(0,_Ze,1,0,"ng-template"))},encapsulation:2})}return t})();const Vx="mdc-tab-indicator--active",DY="mdc-tab-indicator--no-transition";class PZe{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(r=>r.elementRef.nativeElement===n),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}}let zZe=(()=>{class t{constructor(){this._elementRef=$e(Ht),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement)return void i.classList.add(Vx);const r=i.getBoundingClientRect(),o=e.width/r.width,s=e.left-r.left;i.classList.add(DY),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(DY),i.classList.add(Vx),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Vx)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,inputs:{fitInkBarToContent:[Mt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Ji]},features:[ua]})}return t})(),IY=(()=>{class t extends zZe{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht))};static#t=this.\u0275dir=ot({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&(Ye("aria-disabled",!!r.disabled),At("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[Mt.HasDecoratorInputTransform,"disabled","disabled",Ji]},standalone:!0,features:[ua,Ct]})}return t})();const kY=l2({passive:!0});let UZe=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(e,i,r,o,s,c,v){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=c,this._animationMode=v,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new xt,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new xt,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new mt,this.indexFocused=new mt,s.runOutsideAngular(()=>{Lr(e.nativeElement,"mouseleave").pipe(Vn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Lr(this._previousPaginator.nativeElement,"touchstart",kY).pipe(Vn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Lr(this._nextPaginator.nativeElement,"touchstart",kY).pipe(Vn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Wi("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new zw(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Ar(1)).subscribe(r),ma(e,i,this._items.changes,this._itemsResized()).pipe(Vn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?Tf:this._items.changes.pipe(Na(this._items),Oa(e=>new hn(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),Og(1),er(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!rl(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let c,v;"ltr"==this._getLayoutDirection()?(c=o,v=c+s):(v=this._tabListInner.nativeElement.offsetWidth-o,c=v-s);const C=this.scrollDistance,N=this.scrollDistance+r;c<C?this.scrollDistance-=C-c:v>N&&(this.scrollDistance+=Math.min(v-N,c-C))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),z4(650,100).pipe(Vn(ma(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Si),ve(eh),ve(Dc,8),ve(on),ve(go),ve(Js,8))};static#t=this.\u0275dir=ot({type:t,inputs:{disablePagination:[Mt.HasDecoratorInputTransform,"disablePagination","disablePagination",Ji],selectedIndex:[Mt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",yf]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ua]})}return t})(),VZe=(()=>{class t extends UZe{constructor(e,i,r,o,s,c,v){super(e,i,r,o,s,c,v),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new PZe(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Si),ve(eh),ve(Dc,8),ve(on),ve(go),ve(Js,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(1&i&&ai(o,IY,4),2&i){let s;Et(s=Lt())&&(r._items=s)}},viewQuery:function(i,r){if(1&i&&(Ln(bZe,7),Ln(yZe,7),Ln(wZe,7),Ln(xZe,5),Ln(CZe,5)),2&i){let o;Et(o=Lt())&&(r._tabListContainer=o.first),Et(o=Lt())&&(r._tabList=o.first),Et(o=Lt())&&(r._tabListInner=o.first),Et(o=Lt())&&(r._nextPaginator=o.first),Et(o=Lt())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&At("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[Mt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ji]},standalone:!0,features:[ua,Ct,Xn],ngContentSelectors:Ux,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(i,r){if(1&i){const o=lt();xr(),ee(0,"button",5,0),ze("click",function(){return Se(o),Ee(r._handlePaginatorClick("before"))})("mousedown",function(c){return Se(o),Ee(r._handlePaginatorPress("before",c))})("touchend",function(){return Se(o),Ee(r._stopInterval())}),Ve(2,"div",6),ie(),ee(3,"div",7,1),ze("keydown",function(c){return Se(o),Ee(r._handleKeydown(c))}),ee(5,"div",8,2),ze("cdkObserveContent",function(){return Se(o),Ee(r._onContentChanges())}),ee(7,"div",9,3),pi(9),ie()()(),ee(10,"button",10,4),ze("mousedown",function(c){return Se(o),Ee(r._handlePaginatorPress("after",c))})("click",function(){return Se(o),Ee(r._handlePaginatorClick("after"))})("touchend",function(){return Se(o),Ee(r._stopInterval())}),Ve(12,"div",6),ie()}2&i&&(At("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),X("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),Q(3),At("_mat-animation-noopable","NoopAnimations"===r._animationMode),Q(7),At("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),X("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[Pp,IV],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return t})();const jZe=new at("MAT_TABS_CONFIG"),WZe={translateTab:Ra("translateTab",[so("center, void, left-origin-center, right-origin-center",yi({transform:"none"})),so("left",yi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),so("right",yi({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Lo("* => left, * => right, left => center, right => center",Eo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Lo("void => left-origin-center",[yi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Eo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Lo("void => right-origin-center",[yi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Eo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let GZe=(()=>{class t extends G0{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=Ce.EMPTY,this._leavingSub=Ce.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Na(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ud),ve(Vr),ve(Ie(()=>OY)),ve(zn))};static#t=this.\u0275dir=ot({type:t,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[Ct]})}return t})(),OY=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Ce.EMPTY,this._translateTabComplete=new xt,this._onCentering=new mt,this._beforeCentering=new mt,this._afterLeavingCenter=new mt,this._onCentered=new mt(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(Tc((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Dc,8),ve(Si))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&Ln(G0,5),2&i){let o;Et(o=Lt())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[Mt.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Xn],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",1,0),ze("@translateTab.start",function(c){return Se(o),Ee(r._onTranslateTabStarted(c))})("@translateTab.done",function(c){return Se(o),Ee(r._translateTabComplete.next(c))}),Me(2,TZe,0,0,"ng-template",2),ie()}2&i&&X("@translateTab",xc(3,SZe,r._position,Wn(1,MZe,r.animationDuration)))},dependencies:[GZe,Jf],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[WZe.translateTab]}})}return t})(),YZe=0,KZe=(()=>{class t{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){const i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,r,o){this._elementRef=e,this._changeDetectorRef=i,this._animationMode=o,this._tabs=new Rl,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ce.EMPTY,this._tabLabelSubscription=Ce.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new mt,this.focusChange=new mt,this.animationDone=new mt,this.selectedTabChange=new mt(!0),this._isServer=!$e(go).isBrowser,this._groupId=YZe++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Na(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new ZZe;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=ma(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Si),ve(jZe,8),ve(Js,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(1&i&&ai(o,AY,5),2&i){let s;Et(s=Lt())&&(r._allTabs=s)}},viewQuery:function(i,r){if(1&i&&(Ln(EZe,5),Ln(LZe,5)),2&i){let o;Et(o=Lt())&&(r._tabBodyWrapper=o.first),Et(o=Lt())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,r){2&i&&(So("mat-"+(r.color||"primary")),yc("--mat-tab-animation-duration",r.animationDuration),At("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[Mt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Ji],stretchTabs:[Mt.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",Ji],dynamicHeight:[Mt.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",Ji],selectedIndex:[Mt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",yf],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[Mt.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",yf],disablePagination:[Mt.HasDecoratorInputTransform,"disablePagination","disablePagination",Ji],disableRipple:[Mt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ji],preserveContent:[Mt.HasDecoratorInputTransform,"preserveContent","preserveContent",Ji],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Nn([{provide:LY,useExisting:t}]),ua,Xn],ngContentSelectors:Ux,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,r){if(1&i){const o=lt();xr(),ee(0,"mat-tab-header",3,0),ze("indexFocused",function(c){return Se(o),Ee(r._focusChanged(c))})("selectFocusedIndex",function(c){return Se(o),Ee(r.selectedIndex=c)}),Ts(2,kZe,8,17,"div",4,$s),ie(),Me(4,OZe,1,0),ee(5,"div",5,1),Ts(7,NZe,1,13,"mat-tab-body",6,$s),ie()}2&i&&(X("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),Q(2),Es(r._tabs),Q(2),$n(4,r._isServer?4:-1),Q(),At("_mat-animation-noopable","NoopAnimations"===r._animationMode),Q(2),Es(r._tabs))},dependencies:[VZe,IY,bUe,Pp,G0,OY],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return t})();class ZZe{}let QZe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,Ci]})}return t})();class XZe{constructor(n,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){const n=this._textarea;let e=!1;try{if(n){const i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let JZe=(()=>{class t{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),r=i.copy();return i.destroy(),r}beginCopy(e){return new XZe(e,this._document)}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eQe=new at("CDK_COPY_TO_CLIPBOARD_CONFIG");let tQe=(()=>{class t{constructor(e,i,r){this._clipboard=e,this._ngZone=i,this.text="",this.attempts=1,this.copied=new mt,this._pending=new Set,r&&null!=r.attempts&&(this.attempts=r.attempts)}copy(e=this.attempts){if(e>1){let i=e;const r=this._clipboard.beginCopy(this.text);this._pending.add(r);const o=()=>{const s=r.copy();s||! --i||this._destroyed?(this._currentTimeout=null,this._pending.delete(r),r.destroy(),this.copied.emit(s)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(o,1))};o()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}static#e=this.\u0275fac=function(i){return new(i||t)(ve(JZe),ve(on),ve(eQe,8))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(i,r){1&i&&ze("click",function(){return r.copy()})},inputs:{text:[Mt.None,"cdkCopyToClipboard","text"],attempts:[Mt.None,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"},standalone:!0})}return t})();const nQe=["ref"];function NY(t){return t&&t.replace(/\r\n|\r/g,"\n")}let iQe=(()=>{class t{_differs;_ngZone;className="";name="codemirror";autoFocus=!1;set options(e){this._options=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}preserveScrollPosition=!1;cursorActivity=new mt;focusChange=new mt;scroll=new mt;drop=new mt;codeMirrorLoaded=new mt;ref;value="";disabled=!1;isFocused=!1;codeMirror;_codeMirror;_differ;_options;constructor(e,i){this._differs=e,this._ngZone=i}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror=typeof CodeMirror<"u"?CodeMirror:Promise.resolve().then(T.t.bind(T,8401,19))),this._codeMirror}ngAfterViewInit(){var e=this;this._ngZone.runOutsideAngular(I(function*(){const i=yield e.codeMirrorGlobal;e.codeMirror=(i?.default?i.default:i).fromTextArea(e.ref.nativeElement,e._options),e.codeMirror.on("cursorActivity",o=>e._ngZone.run(()=>e.cursorActive(o))),e.codeMirror.on("scroll",e.scrollChanged.bind(e)),e.codeMirror.on("blur",()=>e._ngZone.run(()=>e.focusChanged(!1))),e.codeMirror.on("focus",()=>e._ngZone.run(()=>e.focusChanged(!0))),e.codeMirror.on("change",(o,s)=>e._ngZone.run(()=>e.codemirrorValueChanged(o,s))),e.codeMirror.on("drop",(o,s)=>{e._ngZone.run(()=>e.dropFiles(o,s))}),e.codeMirror.setValue(e.value),e.codeMirrorLoaded.emit(e)}))}ngDoCheck(){if(!this._differ)return;const e=this._differ.diff(this._options);e&&(e.forEachChangedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),e.forEachAddedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),e.forEachRemovedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(e,i){const r=e.getValue();this.value!==r&&(this.value=r,this.onChange(this.value))}setOptionIfChanged(e,i){this.codeMirror&&this.codeMirror.setOption(e,i)}focusChanged(e){this.onTouched(),this.isFocused=e,this.focusChange.emit(e)}scrollChanged(e){this.scroll.emit(e.getScrollInfo())}cursorActive(e){this.cursorActivity.emit(e)}dropFiles(e,i){this.drop.emit([e,i])}writeValue(e){if(null==e)return;if(!this.codeMirror)return void(this.value=e);const i=this.codeMirror.getValue();if(e!==i&&NY(i)!==NY(e))if(this.value=e,this.preserveScrollPosition){const r=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(r.left,r.top)}else this.codeMirror.setValue(this.value)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.setOptionIfChanged("readOnly",this.disabled)}onChange=e=>{};onTouched=()=>{};static \u0275fac=function(i){return new(i||t)(ve(g4),ve(on))};static \u0275cmp=rt({type:t,selectors:[["ngx-codemirror"]],viewQuery:function(i,r){if(1&i&&Ln(nQe,5),2&i){let o;Et(o=Lt())&&(r.ref=o.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop",codeMirrorLoaded:"codeMirrorLoaded"},features:[Nn([{provide:hs,useExisting:Ie(()=>t),multi:!0}])],decls:3,vars:7,consts:[["ref",""],["autocomplete","off",3,"name","autofocus"]],template:function(i,r){1&i&&(ee(0,"textarea",1,0),ye(2,"    "),ie()),2&i&&(Ko("ngx-codemirror ",r.className,""),At("ngx-codemirror--focused",r.isFocused),X("name",r.name)("autofocus",r.autoFocus))},encapsulation:2,changeDetection:0})}return t})(),rQe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=an({type:t});static \u0275inj=qt({})}return t})();const oQe=["lfbSpinner"];function sQe(t,n){1&t&&(ee(0,"div",1)(1,"div",2)(2,"span",3),ye(3,"Loading..."),ie()()())}let RY=(()=>{class t{constructor(e){this.modalService=e,this.modalOptions={keyboard:!1,backdrop:"static",centered:!0,backdropClass:"bg-transparent",modalDialogClass:"lfb-spinner"}}ngOnChanges(e){e.show&&(this.show?this.showSpinner():this.hideSpinner())}showSpinner(){this.modalRef=this.modalService.open(this.templateRef,this.modalOptions)}hideSpinner(){this.modalRef&&(this.modalRef.close(!0),this.modalRef=null)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(k0))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-spinner"]],viewQuery:function(i,r){if(1&i&&Ln(oQe,5),2&i){let o;Et(o=Lt())&&(r.templateRef=o.first)}},inputs:{show:"show"},features:[si],decls:2,vars:0,consts:[["lfbSpinner",""],[1,"modal-dialog-centered","justify-content-center"],["role","status",1,"spinner-border","text-primary","spinner-size"],[1,"visually-hidden"]],template:function(i,r){1&i&&Me(0,sQe,4,0,"ng-template",null,0,En)},styles:[".spinner-size[_ngcontent-%COMP%]{height:6rem;width:6rem}"]})}return t})();const aQe=["lhcForm"],cQe=["dlgContent"],lQe=["autoCompNgb"],dQe=["errorsItem"],uQe=()=>["R4","STU3"],jx=t=>({$implicit:t}),fQe=()=>({name:"application/ld+json"}),hQe=()=>["CodeMirror-linenumbers","CodeMirror-foldgutter"],pQe=(t,n)=>({lineNumbers:!0,theme:"idea code-editor",mode:t,readOnly:!0,lineWrapping:!0,foldGutter:!0,gutters:n});function mQe(t,n){1&t&&wr(0)}function gQe(t,n){if(1&t&&(Fn(0),ee(1,"div",26),ye(2),ie(),Me(3,mQe,1,0,"ng-container",27),Pn()),2&t){const e=oe(2),i=Ut(19);Q(2),It(e.lformsErrors),Q(),X("ngTemplateOutlet",i)}}function vQe(t,n){if(1&t){const e=lt();ee(0,"div")(1,"div",20),ye(2,"This preview is being handled by "),ee(3,"a",21),ye(4,"LHC-Forms"),ie(),ye(5,", which you can also use via the "),ee(6,"a",22),ye(7,"Questionnaire Viewer"),ie(),ye(8,", or in your own applications. "),ie(),ee(9,"small",23),ye(10),ie(),ee(11,"div"),ye(12,"\xa0"),ie()(),Me(13,gQe,4,2,"ng-container",24),ee(14,"wc-lhc-form",25,4),ze("onError",function(r){return Se(e),Ee(oe().handleLFormsError(r))}),ie()}if(2&t){const e=oe();Q(10),Qn("LForms version: ",e.formService.lformsVersion,""),Q(3),X("ngIf",e.lformsErrors),Q(),X("questionnaire",null==e.data?null:e.data.questionnaire)("options",e.data.lfData.options)}}function _Qe(t,n){1&t&&ye(0," View/Validate Questionnaire JSON ")}function bQe(t,n){1&t&&ye(0),2&t&&Qn("",oe().$implicit," Version")}function yQe(t,n){1&t&&wr(0)}function wQe(t,n){1&t&&wr(0)}function xQe(t,n){1&t&&wr(0)}function CQe(t,n){if(1&t&&Me(0,yQe,1,0,"ng-container",30)(1,wQe,1,0,"ng-container",30)(2,xQe,1,0,"ng-container",30),2&t){const e=oe().$implicit;oe(2);const i=Ut(19),r=Ut(21),o=Ut(23);X("ngTemplateOutlet",r)("ngTemplateOutletContext",Wn(6,jx,e)),Q(),X("ngTemplateOutlet",i)("ngTemplateOutletContext",Wn(8,jx,e)),Q(),X("ngTemplateOutlet",o)("ngTemplateOutletContext",Wn(10,jx,e))}}function MQe(t,n){1&t&&(Fn(0),ee(1,"mat-tab"),Me(2,bQe,1,1,"ng-template",16)(3,CQe,3,12,"ng-template",15),ie(),Pn())}function SQe(t,n){if(1&t){const e=lt();ee(0,"mat-tab-group",28),Oi("selectedIndexChange",function(r){Se(e);const o=oe();return Vi(o.activeJsonTabIndex,r)||(o.activeJsonTabIndex=r),Ee(r)}),ze("selectedIndexChange",function(r){return Se(e),Ee(oe().onJsonVersionSelected(r))}),Me(1,MQe,4,0,"ng-container",29),ie()}if(2&t){const e=oe();X("mat-stretch-tabs",!1),ki("selectedIndex",e.activeJsonTabIndex),Q(),X("ngForOf",_i(3,uQe))}}function TQe(t,n){if(1&t&&(ee(0,"li"),ye(1),ie()),2&t){const e=n.$implicit;Q(),It(e)}}function EQe(t,n){if(1&t&&(ee(0,"div",39,6)(2,"div",40)(3,"ul"),Ts(4,TQe,2,1,"li",null,kE),ie()(),ee(6,"button",41),Ve(7,"fa-icon",42),ie()()),2&t){const e=Ut(1),i=oe(2).$implicit,r=oe();Q(4),Es(r.validationErrors[i]),Q(2),X("cdkCopyToClipboard",e.innerText),Ye("aria-label","Button to copy validation errors to clipboard"),Q(),X("icon",r.faCopy)}}function LQe(t,n){if(1&t&&(ee(0,"div",31)(1,"div",33,5)(3,"div",34)(4,"p",35),ye(5,"Validation errors"),ie(),ee(6,"div")(7,"button",36),ye(8),ie()()(),ee(9,"div",37)(10,"div",38),Me(11,EQe,8,3,"ng-template"),ie()()()()),2&t){const e=Ut(2);Q(),X("collapsed",!1),Q(6),Ye("title",e.collapsed?"Show the messages":"Hide the messages"),Q(),It(e.collapsed?"Show":"Hide")}}function AQe(t,n){if(1&t){const e=lt();ee(0,"ngb-alert",43),ze("closed",function(){return Se(e),Ee(oe(2).showNoErrorsMsg=!1)}),ye(1,"No errors found"),ie()}}function DQe(t,n){if(1&t&&Me(0,LQe,12,3,"div",31)(1,AQe,2,0,"ngb-alert",32),2&t){const e=n.$implicit,i=oe();$n(0,(null==i.validationErrors[e]?null:i.validationErrors[e].length)>0?0:-1),Q(),$n(1,i.showNoErrorsMsg?1:-1)}}function IQe(t,n){if(1&t){const e=lt();ee(0,"div",44)(1,"input",45,7),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.vServer,r)||(o.vServer=r),Ee(r)}),ze("focus",function(r){return Se(e),Ee(oe().focus$.next(r.target.value))})("click",function(r){return Se(e),Ee(oe().click$.next(r.target.value))})("change",function(){return Se(e),Ee(oe().inputUrlErrors=null)}),ie(),ee(3,"button",46),ze("click",function(){const r=Se(e).$implicit,o=oe();return Ee(o.runValidations(r,o.vServer))}),ye(4,"Run Validation"),ie()()}if(2&t){const e=oe();Q(),ki("ngModel",e.vServer),X("ngbTypeahead",e.search)}}function kQe(t,n){if(1&t){const e=lt();ee(0,"div",39)(1,"ngx-codemirror",47),Da(2,"json"),ze("codeMirrorLoaded",function(r){return Se(e),Ee(oe().codeMirrorLoaded(r))}),ie(),ee(3,"button",48),Da(4,"json"),Ve(5,"fa-icon",42),ie()(),Ve(6,"div",null,8)}if(2&t){const e=n.$implicit,i=oe();Q(),X("ngModel",Ia(2,5,i.formService.convertFromR4(null==i.data?null:i.data.questionnaire,e)))("options",xc(11,pQe,_i(9,fQe),_i(10,hQe))),Q(2),X("cdkCopyToClipboard",Ia(4,7,i.formService.convertFromR4(null==i.data?null:i.data.questionnaire,e))),Ye("aria-label","Button to copy questionnaire to clipboard"),Q(2),X("icon",i.faCopy)}}let OQe=(()=>{class t{constructor(e,i,r,o){this.formService=e,this.fhirService=i,this.dialogRef=r,this.data=o,this.format="R4",this.activeTopLevelTabIndex=0,this.activeJsonTabIndex=0,this.validationErrors={},this.spinner$=new ur(!1),this.showNoErrorsMsg=!1,this.focus$=new xt,this.click$=new xt,this.search=s=>{const c=s.pipe(ol(200),Tc()),v=this.click$.pipe(er(()=>!this.autoCompNgb.isPopupOpen()));return ma(c,this.focus$,v).pipe(Mn(N=>(N=N?.trim(),this.filterServers(this.fhirService.validationServers,this.format,N).map(G=>G.endpoint))))},this.filterServers=(s,c,v)=>Array.from(s.values()).filter(C=>{let N=C.version===c;return N&&v?v.trim().toLowerCase().indexOf(C.endpoint.toLowerCase())>-1:N}),this.subscriptions=[],this.faCopy=lY,LForms.Util.setFHIRContext(this.fhirService.getSmartClient())}ngOnInit(){this.activeTopLevelTabIndex=0,this.activeJsonTabIndex=0,this.vServer=this.fhirService.getLastUsedValidationServer(this.format)}close(){this.dialogRef.close()}onJsonVersionSelected(e){this.format=wR[e],this.vServer=this.fhirService.getLastUsedValidationServer(this.format)}getQuestionnaire(e="R4"){return this.formService.convertFromR4(this.data.questionnaire,e)}handleLFormsError(e){this.lformsErrors=e.detail}runValidations(e,i){if(!Bt.extractBaseUrl(i))return void(this.validationErrors[e]=[`You entered an invalid URL: ${i}`]);const o=new URL(i);this.spinner$.next(!0),this.fhirService.runValidations(this.format,o,this.getQuestionnaire(e)).subscribe({next:s=>{this.validationErrors[this.format]=s},error:s=>{this.validationErrors[this.format]=[s.message]},complete:()=>{this.spinner$.next(!1),this.errorsItem?.expand(),this.showNoErrorsMsg=!this.validationErrors[this.format].length}})}codeMirrorLoaded(e){const i=this.calculateJSONElementHeight();i>0&&e.codeMirror.setSize(null,i)}calculateJSONElementHeight(){return this.dlgContent?this.dlgContent.nativeElement.offsetHeight-160:0}ngOnDestroy(){this.subscriptions.forEach(e=>{e?.unsubscribe()})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hn),ve(dh),ve(m5),ve(zW))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-preview-dlg"]],viewQuery:function(i,r){if(1&i&&(Ln(aQe,5,Ht),Ln(cQe,5,Ht),Ln(lQe,5,Pf),Ln(dQe,5,W1)),2&i){let o;Et(o=Lt())&&(r.wcForm=o.first),Et(o=Lt())&&(r.dlgContent=o.first),Et(o=Lt())&&(r.autoCompNgb=o.first),Et(o=Lt())&&(r.errorsItem=o.first)}},decls:24,vars:6,consts:[["dlgContent",""],["validations",""],["jsonMenu",""],["jsonQ",""],["lhcForm",""],["errorsItem","ngbAccordionItem"],["errorsContainer",""],["autoCompNgb","ngbTypeahead"],["jsonContent",""],["mat-dialog-title","",1,"bg-primary","text-white","pe-2","pb-3"],["mat-icon-button","",1,"close-button","mt-2",3,"mat-dialog-close"],[1,"close-icon"],[1,"lfb-mat-tab-content"],[3,"selectedIndexChange","mat-stretch-tabs","selectedIndex"],["label","View Rendered Form"],["matTabContent",""],["matTabLabel",""],[3,"show"],["align","end",1,"border-top","pe-3","pt-3"],[1,"btn","btn-primary",3,"click"],[1,"pt-1"],["href","https://lhncbc.github.io/lforms/","target","_blank",1,"link-primary"],["href","https://lhncbc.github.io/questionnaire-viewer/","target","_blank",1,"link-primary"],[1,"float-sm-end","fw-bold"],[4,"ngIf"],[3,"onError","questionnaire","options"],[1,"card","bg-danger-subtle","text-center"],[4,"ngTemplateOutlet"],[1,"preview-json-tabs","bg-light",3,"selectedIndexChange","mat-stretch-tabs","selectedIndex"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["ngbAccordion",""],["type","info",1,"mb-0"],["ngbAccordionItem","",3,"collapsed"],["ngbAccordionHeader","",1,"accordion-button","custom-header","justify-content-between","p-1","bg-primary-subtle"],[1,"m-0"],["ngbAccordionToggle","",1,"btn","btn-sm","btn-primary"],["ngbAccordionCollapse",""],["ngbAccordionBody","",1,"p-0"],[1,"overlay-container"],[1,"card","bg-danger-subtle","p-2","px-3"],["tabindex","0","title","Copy validation errors to clipboard",1,"btn","overlay-top-right","py-1","pe-2",3,"cdkCopyToClipboard"],["size","2x","aria-hidden","true",3,"icon"],["type","info",1,"mb-0",3,"closed"],[1,"input-group","p-1"],["placeholder","Enter base url of a FHIR server","aria-label","URL of a FHIR server to run the validation","type","url",1,"form-control","lf-box-shadow",3,"ngModelChange","focus","click","change","ngModel","ngbTypeahead"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[3,"codeMirrorLoaded","ngModel","options"],["tabindex","0","title","Copy questionnaire to clipboard",1,"btn","overlay-top-right","me-3",3,"cdkCopyToClipboard"]],template:function(i,r){if(1&i){const o=lt();ee(0,"h2",9),ye(1,"Preview of Questionnaire "),ee(2,"button",10)(3,"mat-icon",11),ye(4,"close"),ie()()(),ee(5,"mat-dialog-content",12,0)(7,"mat-tab-group",13),ze("selectedIndexChange",function(c){return Se(o),Ee(r.activeTopLevelTabIndex=c)}),ee(8,"mat-tab",14),Me(9,vQe,16,4,"ng-template",15),ie(),ee(10,"mat-tab"),Me(11,_Qe,1,0,"ng-template",16)(12,SQe,2,4,"ng-template",15),ie()(),Ve(13,"lfb-spinner",17),Da(14,"async"),ie(),ee(15,"mat-dialog-actions",18)(16,"button",19),ze("click",function(){return Se(o),Ee(r.close())}),ye(17,"Close"),ie()(),Me(18,DQe,2,2,"ng-template",null,1,En)(20,IQe,5,2,"ng-template",null,2,En)(22,kQe,8,14,"ng-template",null,3,En)}2&i&&(Q(2),X("mat-dialog-close",!0),Q(5),X("mat-stretch-tabs",!0)("selectedIndex",r.activeTopLevelTabIndex),Q(6),X("show",Ia(14,4,r.spinner$)))},dependencies:[bi,yn,ho,di,ei,ro,Vs,oZe,b5,SY,EY,AY,KZe,$g,W1,sO,Vb,oO,Ub,gue,Pf,BW,UW,jW,VW,tQe,iQe,RY,y4,C_],styles:[".close-button{float:right}.fix-pre{margin-top:revert}.lfb-mat-tab-content{max-height:67vh}.custom-header:after{content:none}.overlay-container{position:relative}.overlay-top-right{position:absolute;top:0;right:0}.lf-box-shadow:focus{box-shadow:0 0 0 .25rem #86b7fe80}\n"],encapsulation:2})}return t})();function NQe(t,n){if(1&t&&(ee(0,"div",8)(1,"span",9),ye(2,"The questionnaire is successfully created on the server."),ie(),ee(3,"pre",10),ye(4),Da(5,"json"),ie()()),2&t){const e=oe();Q(4),It(Ia(5,1,e.serverResponse))}}function RQe(t,n){if(1&t&&(ee(0,"div",11)(1,"pre",12),ye(2),ie()()),2&t){const e=oe();Q(2),It(e.error.message)}}let PQe=(()=>{class t{constructor(e,i){this.fhirService=e,this.activeModal=i,this._loading$=new ur(!1),this._state={fhirServer:this.fhirService.getFhirServer()}}get loading$(){return this._loading$.asObservable()}get selectedFHIRServer(){return this._state.fhirServer}set selectedFHIRServer(e){this.fhirService.setFhirServer(e),this._set({fhirServer:e})}_set(e){Object.assign(this._state,e)}close(e){this.activeModal.close(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(dh),ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-fhir-export-dlg"]],inputs:{questionnaire:"questionnaire"},decls:10,vars:2,consts:[["role","dialog","aria-labelledby","replyTitle",1,"modal-content"],[1,"modal-header","bg-primary"],["id","replyTitle","role","document",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],["class","modal-body bg-light","aria-live","polite",4,"ngIf"],["class","modal-body bg-light",4,"ngIf"],[1,"modal-footer","btn-group-sm"],["type","button",1,"btn","btn-primary",3,"click"],["aria-live","polite",1,"modal-body","bg-light"],["role","alert",1,"visually-hidden"],[1,"fhir-response"],[1,"modal-body","bg-light"],["role","alert",1,"fhir-response"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"h4",2),ye(3,"FHIR Server Reply"),ie(),ee(4,"button",3),ze("click",function(){return r.close(!0)}),ie()(),Me(5,NQe,6,3,"div",4)(6,RQe,3,1,"div",5),ee(7,"div",6)(8,"button",7),ze("click",function(){return r.close(!0)}),ye(9,"Close"),ie()()()),2&i&&(Q(5),X("ngIf",r.serverResponse),Q(),X("ngIf",r.error))},dependencies:[yn,C_],styles:[".fhir-response[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return t})();function zQe(t,n){1&t&&wr(0)}function $Qe(t,n){1&t&&wr(0)}function BQe(t,n){if(1&t){const e=lt();Fn(0),ee(1,"div",15),Me(2,$Qe,1,0,"ng-container",6),ee(3,"input",16),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.acceptedTerms.acceptedSnomed,r)||(o.acceptedTerms.acceptedSnomed=r),Ee(r)}),ie(),ee(4,"label",17),ye(5,"I accept the SNOMED International SNOMED CT Browser License Agreement."),ie()(),Pn()}if(2&t){const e=oe(),i=Ut(25);Q(2),X("ngTemplateOutlet",i),Q(),ki("ngModel",e.acceptedTerms.acceptedSnomed)}}function HQe(t,n){1&t&&(ee(0,"article")(1,"h5"),ye(2,"LOINC Terms of Use"),ie(),ee(3,"div",18)(4,"p")(5,"span"),ye(6," The NLM Form Builder provides access to LOINC questions and forms. By using this service you agree to abide by the "),ee(7,"a",19),ye(8,"LOINC Terms of Use"),ie(),ye(9,". "),ie()()()())}function UQe(t,n){1&t&&(ee(0,"article",20)(1,"h5"),ye(2,"SNOMED International SNOMED CT Browser License Agreement"),ie(),ee(3,"div",21)(4,"p")(5,"span")(6,"strong"),ye(7,"SNOMED International SNOMED CT Browser"),ie(),ye(8," includes SNOMED Clinical Terms\xae (SNOMED CT\xae) which is used by permission of the SNOMED International. All rights reserved. SNOMED CT\xae was originally created by the College of American Pathologists."),ie(),ee(9,"span"),ye(10,"\u201cSNOMED\u201d, \u201cSNOMED CT\u201d and \u201cSNOMED Clinical Terms\u201d are registered trademarks of the SNOMED International ("),ee(11,"a",22),ye(12,"www.snomed.org"),ie(),ye(13,")"),ie()(),ee(14,"p")(15,"span"),ye(16,"Use of SNOMED CT in "),ee(17,"strong"),ye(18,"SNOMED International SNOMED CT Browser"),ie(),ye(19," is governed by the conditions of the following SNOMED CT license issued by SNOMED International"),ie(),ye(20,":"),ie(),ee(21,"p",23),ye(22,"1. "),ee(23,"span"),ye(24,"The meaning of the terms \u201cAffiliate\u201d, or \u201cData Analysis System\u201d, \u201cData Creation System\u201d, \u201cDerivative\u201d, \u201cEnd User\u201d, \u201cExtension\u201d, \u201cMember\u201d, \u201cNon-Member Territory\u201d, \u201cSNOMED CT\u201d and \u201cSNOMED CT Content\u201d are as defined in the SNOMED International Affiliate License Agreement (see "),ee(25,"a",24),ye(26,"http://snomed.org/license-affiliate"),ie(),Ve(27,"a"),ye(28,")"),ie(),ye(29,"."),ie(),ee(30,"p",23),ye(31,"2. "),ee(32,"span"),ye(33,"Information about Affiliate Licensing is available at "),ee(34,"a",25),ye(35,"https://www.snomed.org/snomed-ct/get-snomed"),ie(),ye(36,". Individuals or organizations wishing to register as SNOMED International Affiliates can register at "),ee(37,"a",26),ye(38,"mlds.ihtsdotools.org"),ie(),ye(39,", subject to acceptance of the Affiliate License Agreement (see "),ee(40,"a",24),ye(41,"http://snomed.org/license-affiliate)"),ie()(),ye(42,"."),ie(),ee(43,"p",23),ye(44,"3. "),ee(45,"span"),ye(46,"The current list of SNOMED International Member Territories can be viewed at "),ee(47,"a",27),ye(48,"snomed.org/members"),ie(),ye(49,'. Countries not included in that list are "Non-Member Territories"'),ie(),ye(50,"."),ie(),ee(51,"p",23),ye(52,"4. "),ee(53,"span"),ye(54,"End Users, that do not hold an SNOMED International Affiliate License, may access SNOMED CT\xae using "),ee(55,"strong"),ye(56,"SNOMED International SNOMED CT Browser"),ie(),ye(57," subject to acceptance of and adherence to the following sub-license limitations"),ie(),ye(58,":"),ie(),ee(59,"p",28),ye(60,"a) "),ee(61,"span"),ye(62,"The sub-licensee is only permitted to access SNOMED CT\xae using this software (or service) for the purpose of exploring and evaluating the terminology"),ie(),ye(63,"."),ie(),ee(64,"p",28),ye(65,"b) "),ee(66,"span"),ye(67,'The sub-licensee is not permitted the use of this software as part of a system that constitutes a SNOMED CT "Data Creation System" or "Data Analysis System", as defined in the SNOMED International Affiliate License. This means that the sub-licensee must not use '),ee(68,"strong"),ye(69,"SNOMED International SNOMED CT Browser"),ie(),ye(70," to add or copy SNOMED CT identifiers into any type of record system, database or document"),ie(),ye(71,"."),ie(),ee(72,"p",28),ye(73,"c) "),ee(74,"span"),ye(75,"The sub-licensee is not permitted to translate or modify SNOMED CT Content or Derivatives"),ie(),ye(76,"."),ie(),ee(77,"p",28),ye(78,"d) "),ee(79,"span"),ye(80,"The sub-licensee is not permitted to distribute or share SNOMED CT Content or Derivatives"),ie(),ye(81,"."),ie(),ee(82,"p",23),ye(83,"5. "),ee(84,"span"),ye(85,"SNOMED International Affiliates may use "),ee(86,"strong"),ye(87,"SNOMED International SNOMED CT Browser"),ie(),ye(88,' as part of a "Data Creation System" or "Data Analysis System" subject to the following conditions'),ie(),ye(89,":"),ie(),ee(90,"p",28),ye(91,"a) "),ee(92,"span"),ye(93,"The SNOMED International Affiliate, using "),ee(94,"strong"),ye(95,"SNOMED International SNOMED CT Browser"),ie(),ye(96," must accept full responsibility for any reporting and fees due for use or deployment of such a system in a Non-Member Territory"),ie(),ye(97,"."),ie(),ee(98,"p",28),ye(99,"b) "),ee(100,"span"),ye(101,"The SNOMED International Affiliate must not use "),ee(102,"strong"),ye(103,"SNOMED International SNOMED CT Browser"),ie(),ye(104," to access or interact with SNOMED CT in any way that is not permitted by the Affiliate License Agreement"),ie(),ye(105,"."),ie(),ee(106,"p",28),ye(107,"c) "),ee(108,"span"),ye(109,"In the event of termination of the Affiliate License Agreement, the use of "),ee(110,"strong"),ye(111,"SNOMED International SNOMED CT Browser"),ie(),ye(112," will be subject to the End User limitations noted in 4"),ie(),ye(113,"."),ie()()())}let VQe=(()=>{class t{constructor(e){this.activeModal=e,this.acceptedTerms={acceptedLoinc:!1,acceptedSnomed:!1}}close(e){this.activeModal.close(e?this.acceptedTerms:null)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-loinc-notice"]],decls:26,vars:5,consts:[["loincTermsContent",""],["snomedTermsContent",""],["role","alertdialog"],[1,"modal-header","bg-primary"],[1,"modal-title","text-white"],[1,"modal-body","bg-light","alert","m-0"],[4,"ngTemplateOutlet"],["id","acceptLoinc","type","checkbox","required","",1,"form-check-inline",3,"ngModelChange","ngModel"],["for","acceptLoinc",1,"form-check-label","align-top"],["id","useSnomed","type","checkbox","aria-controls","snomedContent",1,"form-check-inline",3,"ngModelChange","ngModel"],["for","useSnomed",1,"form-check-label","pb-3","align-top"],["role","note",1,"pb-3"],[4,"ngIf"],[1,"modal-footer","btn-group"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["id","snomedContent"],["id","acceptSnomed","type","checkbox",1,"form-check-inline",3,"ngModelChange","ngModel"],["for","acceptSnomed",1,"form-check-label","pb-2"],[2,"overflow","auto","margin","20px","border","1px solid","padding","10px"],["href","https://loinc.org/license/","target","loincWindow"],["role","alert"],[2,"height","300px","overflow","auto","margin","20px","border","1px solid","padding","10px"],["href","http://www.snomed.org"],[2,"margin-left","20px"],["href","http://snomed.org/license-affiliate"],["href","https://www.snomed.org/snomed-ct/get-snomed"],["href","https://mlds.ihtsdotools.org"],["href","http://snomed.org/members"],[2,"margin-left","40px"]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",2)(1,"div",3)(2,"h4",4),ye(3,"Accept Terms of Use"),ie()(),ee(4,"div",5),Me(5,zQe,1,0,"ng-container",6),ee(6,"div")(7,"input",7),Oi("ngModelChange",function(c){return Se(o),Vi(r.acceptedTerms.acceptedLoinc,c)||(r.acceptedTerms.acceptedLoinc=c),Ee(c)}),ie(),ee(8,"label",8),ye(9,"I accept the LOINC Terms of Use."),ie()(),Ve(10,"hr"),ee(11,"div")(12,"input",9),Oi("ngModelChange",function(c){return Se(o),Vi(r.useSnomed,c)||(r.useSnomed=c),Ee(c)}),ie(),ee(13,"label",10),ye(14,"Optionally, enable SNOMED CT terminology support. "),Ve(15,"br"),ee(16,"small",11),ye(17,"Currently the support is limited to creating answer lists for questions."),ie()()(),Me(18,BQe,6,2,"ng-container",12),ie(),ee(19,"div",13)(20,"button",14),ze("click",function(){return Se(o),Ee(r.close(!0))}),ye(21,"Accept"),ie()()(),Me(22,HQe,10,0,"ng-template",null,0,En)(24,UQe,114,0,"ng-template",null,1,En)}if(2&i){const o=Ut(23);Q(5),X("ngTemplateOutlet",o),Q(2),ki("ngModel",r.acceptedTerms.acceptedLoinc),Q(5),ki("ngModel",r.useSnomed),Q(6),X("ngIf",r.useSnomed),Q(2),X("disabled",!r.acceptedTerms.acceptedLoinc||r.useSnomed&&!r.acceptedTerms.acceptedSnomed)}},dependencies:[yn,ho,jl,ei,ib,ro],styles:[".fine-print[_ngcontent-%COMP%]{font-size:80%;border-top:1px solid #0BACB6;clear:left;padding-top:10px;margin-top:10px}"]})}return t})(),y5=(()=>{class t{transform(e){return JSON.stringify(Bt.convertToQuestionnaireJSON(e),null,2)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=os({name:"appJson",type:t,pure:!0})}return t})(),w5=(()=>{class t{constructor(){this.questionnaireSource$=new ur(null),this.itemSource$=new ur(null),this.nodeSource$=new ur(null),this.node$=this.nodeSource$.asObservable(),this.objSource$=new ur({}),this.object$=this.objSource$.asObservable(),this.objectStr$=this.object$.pipe(Mn(e=>(new y5).transform(e)))}setObject(e){let i=!0;if("string"==typeof e)try{e=JSON.parse(e)}catch{i=!1}i&&this.objSource$.next(e)}set questionnaire(e){this.questionnaireSource$.next(e)}get questionnaire$(){return this.questionnaireSource$.asObservable()}set currentItem(e){this.itemSource$.next(e)}get currentItem$(){return this.itemSource$.asObservable()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wx=function(t,n){return(Wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(t,n)};function FY(t,n){function e(){this.constructor=t}Wx(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var va=function(){return va=Object.assign||function(n){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},va.apply(this,arguments)};function PY(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,s,i=e.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(c){s={error:c}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function Gx(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(PY(arguments[n]));return t}var jQe="An invariant failed, however the error is obfuscated because this is an production build.",x5=[];Object.freeze(x5);var Yx={};Object.freeze(Yx);var WQe={};function fh(){return typeof window<"u"?window:typeof global<"u"?global:WQe}function _a(){return++Gt.mobxGuid}function ui(t){throw X0(!1,t),"X"}function X0(t,n){if(!t)throw new Error("[mobx] "+(n||jQe))}function qx(t){var n=!1;return function(){if(!n)return n=!0,t.apply(this,arguments)}}var C5=function(){};function Kx(t){return null!==t&&"object"==typeof t}function hh(t){if(null===t||"object"!=typeof t)return!1;var n=Object.getPrototypeOf(t);return n===Object.prototype||null===n}function J0(t,n,e){Object.defineProperty(t,n,{enumerable:!1,writable:!0,configurable:!0,value:e})}function qp(t,n,e){Object.defineProperty(t,n,{enumerable:!1,writable:!1,configurable:!0,value:e})}function g2(t,n){var e="isMobX"+t;return n.prototype[e]=!0,function(i){return Kx(i)&&!0===i[e]}}function ph(t){return void 0!==fh().Map&&t instanceof fh().Map}function Kp(t){return t instanceof Set}function ed(t){for(var n=[];;){var e=t.next();if(e.done)break;n.push(e.value)}return n}function $Y(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function BY(t){return null===t?null:"object"==typeof t?""+t:t}function Zx(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function Qx(t,n){qp(t,Zx(),n)}function Zp(t){return t[Zx()]=ZQe,t}function Xx(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function ZQe(){return this}var M5=function(){function t(n){void 0===n&&(n="Atom@"+_a()),this.name=n,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=sr.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.reportObserved=function(){return iq(this)},t.prototype.reportChanged=function(){cl(),function yXe(t){if(t.lowestObserverState!==sr.STALE){t.lowestObserverState=sr.STALE;for(var n=t.observers,e=n.length;e--;){var i=n[e];i.dependenciesState===sr.UP_TO_DATE&&(i.isTracing!==e1.NONE&&rq(i,t),i.onBecomeStale()),i.dependenciesState=sr.STALE}}}(this),ll()},t.prototype.toString=function(){return this.name},t}(),Jx=g2("Atom",M5);function HY(t,n){return t===n}var mh={identity:HY,structural:function XQe(t,n){return uC(t,n)},default:function eXe(t,n){return function KQe(t,n){return"number"==typeof t&&"number"==typeof n&&isNaN(t)&&isNaN(n)}(t,n)||HY(t,n)},shallow:function JQe(t,n){return uC(t,n,1)}},tXe={},nXe={};function eu(t){if(!0!==t.__mobxDidRunLazyInitializers){var n=t.__mobxDecorators;if(n)for(var e in J0(t,"__mobxDidRunLazyInitializers",!0),n){var i=n[e];i.propertyCreator(t,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function UY(t,n){return function(){var i,r=function(s,c,v,C){return!0===C?(n(s,c,v,s,i),null):(Object.prototype.hasOwnProperty.call(s,"__mobxDecorators")||J0(s,"__mobxDecorators",va({},s.__mobxDecorators)),s.__mobxDecorators[c]={prop:c,propertyCreator:n,descriptor:v,decoratorTarget:s,decoratorArguments:i},function iXe(t,n){var e=n?tXe:nXe;return e[t]||(e[t]={configurable:!0,enumerable:n,get:function(){return eu(this),this[t]},set:function(i){eu(this),this[t]=i}})}(c,t))};return function rXe(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}(arguments)?(i=x5,r.apply(null,arguments)):(i=Array.prototype.slice.call(arguments),r)}}function Qp(t,n,e){return N5(t)?t:Array.isArray(t)?Zi.array(t,{name:e}):hh(t)?Zi.object(t,void 0,{name:e}):ph(t)?Zi.map(t,{name:e}):Kp(t)?Zi.set(t,{name:e}):t}function Xp(t){return t}function S5(t){var n=UY(!0,function(i,r,o,s,c){!function xq(t,n,e,i){var r=dC(t);if(t1(r)){var o=n1(r,{object:t,name:n,type:"add",newValue:e});if(!o)return;e=o.newValue}e=(r.values[n]=new b2(e,i,r.name+"."+n,!1)).value,Object.defineProperty(t,n,function eJe(t){return Cq[t]||(Cq[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,t)},set:function(n){this.$mobx.write(this,t,n)}})}(n)),r.keys&&r.keys.push(n),function nJe(t,n,e,i){var r=fl(t),o=js(),s=r||o?{type:"add",object:n,name:e,newValue:i}:null;o&&dl(va({},s,{name:t.name,key:e})),r&&hl(t,s),o&&ul()}(r,t,n,e)}(i,r,o?o.initializer?o.initializer.call(i):o.value:void 0,t)}),e=(typeof process<"u"&&process,n);return e.enhancer=t,e}var VY={deep:!0,name:void 0,defaultDecorator:void 0};function gh(t){return null==t?VY:"string"==typeof t?{name:t,deep:!0}:t}function T5(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?Xp:Qp}Object.freeze(VY),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var eC=S5(Qp),aXe=S5(function oXe(t,n,e){return null==t||za(t)||Fa(t)||ra(t)||Pa(t)?t:Array.isArray(t)?Zi.array(t,{name:e,deep:!1}):hh(t)?Zi.object(t,void 0,{name:e,deep:!1}):ph(t)?Zi.map(t,{name:e,deep:!1}):Kp(t)?Zi.set(t,{name:e,deep:!1}):ui(!1)}),WY=S5(Xp),cXe=S5(function sXe(t,n,e){return uC(t,n)?n:t}),GY={box:function(t,n){arguments.length>2&&td("box");var e=gh(n);return new b2(t,T5(e),e.name,!0,e.equals)},shallowBox:function(t,n){return arguments.length>2&&td("shallowBox"),Zi.box(t,{name:n,deep:!1})},array:function(t,n){arguments.length>2&&td("array");var e=gh(n);return new id(t,T5(e),e.name)},shallowArray:function(t,n){return arguments.length>2&&td("shallowArray"),Zi.array(t,{name:n,deep:!1})},map:function(t,n){arguments.length>2&&td("map");var e=gh(n);return new R5(t,T5(e),e.name)},shallowMap:function(t,n){return arguments.length>2&&td("shallowMap"),Zi.map(t,{name:n,deep:!1})},set:function(t,n){arguments.length>2&&td("set");var e=gh(n);return new P5(t,T5(e),e.name)},object:function(t,n,e){return"string"==typeof arguments[1]&&td("object"),function fq(t,n,e,i){var o=(i=gh(i)).defaultDecorator||(!1===i.deep?WY:eC);eu(t),dC(t,i.name,o.enhancer),cl();try{for(var r in n){var s=Object.getOwnPropertyDescriptor(n,r),v=(e&&r in e?e[r]:s.get?E5:o)(t,r,s,!0);v&&Object.defineProperty(t,r,v)}}finally{ll()}return t}({},t,n,gh(e))},shallowObject:function(t,n){return"string"==typeof arguments[1]&&td("shallowObject"),Zi.object(t,{},{name:n,deep:!1})},ref:WY,shallow:aXe,deep:eC,struct:cXe},Zi=function lXe(t,n,e){if("string"==typeof arguments[1])return eC.apply(null,arguments);if(N5(t))return t;var i=hh(t)?Zi.object(t,n,e):Array.isArray(t)?Zi.array(t,n):ph(t)?Zi.map(t,n):Kp(t)?Zi.set(t,n):t;if(i!==t)return i;ui(!1)};function td(t){ui("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(GY).forEach(function(t){return Zi[t]=GY[t]});var E5=UY(!1,function(t,n,e,i,r){!function JXe(t,n,e){var i=dC(t);e.name=i.name+"."+n,e.context=t,i.values[n]=new y2(e),Object.defineProperty(t,n,function tJe(t){return Mq[t]||(Mq[t]={configurable:Gt.computedConfigurable,enumerable:!1,get:function(){return Sq(this).read(this,t)},set:function(n){Sq(this).write(this,t,n)}})}(n))}(t,n,va({get:e.get,set:e.set},r[0]||{}))}),dXe=E5({equals:mh.structural}),gs=function(n,e,i){if("string"==typeof e||null!==n&&"object"==typeof n&&1===arguments.length)return E5.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=n,r.set="function"==typeof e?e:r.set,r.name=r.name||n.name||"",new y2(r)};gs.struct=dXe;var sr=function(t){return t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE",t}(sr||{}),e1=function(t){return t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK",t}(e1||{}),L5=function(){return function t(n){this.cause=n}}();function Jp(t){return t instanceof L5}function tC(t){switch(t.dependenciesState){case sr.UP_TO_DATE:return!1;case sr.NOT_TRACKING:case sr.STALE:return!0;case sr.POSSIBLY_STALE:for(var n=vh(),e=t.observing,i=e.length,r=0;r<i;r++){var o=e[r];if(_h(o)){if(Gt.disableErrorBoundaries)o.get();else try{o.get()}catch{return v2(n),!0}if(t.dependenciesState===sr.STALE)return v2(n),!0}}return QY(t),v2(n),!1}}function A5(t){var n=t.observers.length>0;Gt.computationDepth>0&&n&&ui(!1),!Gt.allowStateChanges&&(n||"strict"===Gt.enforceActions)&&ui(!1)}function YY(t,n,e){var i=KY(!0);QY(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Gt.runId;var o,r=Gt.trackingDerivation;if(Gt.trackingDerivation=t,!0===Gt.disableErrorBoundaries)o=n.call(e);else try{o=n.call(e)}catch(s){o=new L5(s)}return Gt.trackingDerivation=r,function uXe(t){for(var n=t.observing,e=t.observing=t.newObserving,i=sr.UP_TO_DATE,r=0,o=t.unboundDepsCount,s=0;s<o;s++)0===(c=e[s]).diffValue&&(c.diffValue=1,r!==s&&(e[r]=c),r++),c.dependenciesState>i&&(i=c.dependenciesState);for(e.length=r,t.newObserving=null,o=n.length;o--;)0===(c=n[o]).diffValue&&tq(c,t),c.diffValue=0;for(;r--;){var c;1===(c=e[r]).diffValue&&(c.diffValue=0,bXe(c,t))}i!==sr.UP_TO_DATE&&(t.dependenciesState=i,t.onBecomeStale())}(t),ZY(i),o}function nC(t){var n=t.observing;t.observing=[];for(var e=n.length;e--;)tq(n[e],t);t.dependenciesState=sr.NOT_TRACKING}function qY(t){var n=vh(),e=t();return v2(n),e}function vh(){var t=Gt.trackingDerivation;return Gt.trackingDerivation=null,t}function v2(t){Gt.trackingDerivation=t}function KY(t){var n=Gt.allowStateReads;return Gt.allowStateReads=t,n}function ZY(t){Gt.allowStateReads=t}function QY(t){if(t.dependenciesState!==sr.UP_TO_DATE){t.dependenciesState=sr.UP_TO_DATE;for(var n=t.observing,e=n.length;e--;)n[e].lowestObserverState=sr.UP_TO_DATE}}var D5=0,fXe=1;function _2(t,n){var e=function(){return function XY(t,n,e,i){var r=function hXe(t,n,e){var i=js()&&!!t,r=0;if(i){r=Date.now();var o=e&&e.length||0,s=new Array(o);if(o>0)for(var c=0;c<o;c++)s[c]=e[c];dl({type:"action",name:t,object:n,arguments:s})}var v=vh();cl();var G={prevDerivation:v,prevAllowStateChanges:iC(!0),prevAllowStateReads:KY(!0),notifySpy:i,startTime:r,actionId:fXe++,parentActionId:D5};return D5=G.actionId,G}(t,e,i);try{return n.apply(e,i)}catch(o){throw r.error=o,o}finally{!function pXe(t){D5!==t.actionId&&ui("invalid action stack. did you forget to finish an action?"),D5=t.parentActionId,void 0!==t.error&&(Gt.suppressReactionErrors=!0),rC(t.prevAllowStateChanges),ZY(t.prevAllowStateReads),ll(),v2(t.prevDerivation),t.notifySpy&&ul({time:Date.now()-t.startTime}),Gt.suppressReactionErrors=!1}(r)}}(t,n,this,arguments)};return e.isMobxAction=!0,e}function iC(t){var n=Gt.allowStateChanges;return Gt.allowStateChanges=t,n}function rC(t){Gt.allowStateChanges=t}var b2=function(t){function n(e,i,r,o,s){void 0===r&&(r="ObservableValue@"+_a()),void 0===o&&(o=!0),void 0===s&&(s=mh.default);var c=t.call(this,r)||this;return c.enhancer=i,c.name=r,c.equals=s,c.hasUnreportedChange=!1,c.value=i(e,void 0,r),o&&js()&&tu({type:"create",name:c.name,newValue:""+c.value}),c}return FY(n,t),n.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.prototype.set=function(e){var i=this.value;if((e=this.prepareNewValue(e))!==Gt.UNCHANGED){var r=js();r&&dl({type:"update",name:this.name,newValue:e,oldValue:i}),this.setNewValue(e),r&&ul()}},n.prototype.prepareNewValue=function(e){if(A5(this),t1(this)){var i=n1(this,{object:this,type:"update",newValue:e});if(!i)return Gt.UNCHANGED;e=i.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Gt.UNCHANGED:e},n.prototype.setNewValue=function(e){var i=this.value;this.value=e,this.reportChanged(),fl(this)&&hl(this,{type:"update",object:this,newValue:e,oldValue:i})},n.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},n.prototype.intercept=function(e){return im(this,e)},n.prototype.observe=function(e,i){return i&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),rm(this,e)},n.prototype.toJSON=function(){return this.get()},n.prototype.toString=function(){return this.name+"["+this.value+"]"},n.prototype.valueOf=function(){return BY(this.get())},n}(M5);b2.prototype[$Y()]=b2.prototype.valueOf,g2("ObservableValue",b2);var y2=function(){function t(n){this.dependenciesState=sr.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=sr.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+_a(),this.value=new L5(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=e1.NONE,this.derivation=n.get,this.name=n.name||"ComputedValue@"+_a(),n.set&&(this.setter=_2(this.name+"-setter",n.set)),this.equals=n.equals||(n.compareStructural||n.struct?mh.structural:mh.default),this.scope=n.context,this.requiresReaction=!!n.requiresReaction,this.keepAlive=!!n.keepAlive}return t.prototype.onBecomeStale=function(){!function xXe(t){if(t.lowestObserverState===sr.UP_TO_DATE){t.lowestObserverState=sr.POSSIBLY_STALE;for(var n=t.observers,e=n.length;e--;){var i=n[e];i.dependenciesState===sr.UP_TO_DATE&&(i.dependenciesState=sr.POSSIBLY_STALE,i.isTracing!==e1.NONE&&rq(i,t),i.onBecomeStale())}}}(this)},t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.get=function(){this.isComputing&&ui("Cycle detected in computation "+this.name+": "+this.derivation),0!==Gt.inBatch||0!==this.observers.length||this.keepAlive?(iq(this),tC(this)&&this.trackAndCompute()&&function wXe(t){if(t.lowestObserverState!==sr.STALE){t.lowestObserverState=sr.STALE;for(var n=t.observers,e=n.length;e--;){var i=n[e];i.dependenciesState===sr.POSSIBLY_STALE?i.dependenciesState=sr.STALE:i.dependenciesState===sr.UP_TO_DATE&&(t.lowestObserverState=sr.UP_TO_DATE)}}}(this)):tC(this)&&(this.warnAboutUntrackedRead(),cl(),this.value=this.computeValue(!1),ll());var n=this.value;if(Jp(n))throw n.cause;return n},t.prototype.peek=function(){var n=this.computeValue(!1);if(Jp(n))throw n.cause;return n},t.prototype.set=function(n){if(this.setter){X0(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,n)}finally{this.isRunningSetter=!1}}else X0(!1,!1)},t.prototype.trackAndCompute=function(){js()&&tu({object:this.scope,type:"compute",name:this.name});var n=this.value,e=this.dependenciesState===sr.NOT_TRACKING,i=this.computeValue(!0),r=e||Jp(n)||Jp(i)||!this.equals(n,i);return r&&(this.value=i),r},t.prototype.computeValue=function(n){var e;if(this.isComputing=!0,Gt.computationDepth++,n)e=YY(this,this.derivation,this.scope);else if(!0===Gt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(i){e=new L5(i)}return Gt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(nC(this),this.value=void 0)},t.prototype.observe=function(n,e){var i=this,r=!0,o=void 0;return tm(function(){var s=i.get();if(!r||e){var c=vh();n({type:"update",object:i,newValue:s,oldValue:o}),v2(c)}r=!1,o=s})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return BY(this.get())},t}();y2.prototype[$Y()]=y2.prototype.valueOf;var _h=g2("ComputedValue",y2),em=function(){return function t(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),I5=!0,Gt=function(){var t=fh();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(I5=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new em).version&&(I5=!1),I5?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new em):(setTimeout(function(){ui("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new em)}();function bXe(t,n){var e=t.observers.length;e&&(t.observersIndexes[n.__mapid]=e),t.observers[e]=n,t.lowestObserverState>n.dependenciesState&&(t.lowestObserverState=n.dependenciesState)}function tq(t,n){if(1===t.observers.length)t.observers.length=0,nq(t);else{var e=t.observers,i=t.observersIndexes,r=e.pop();if(r!==n){var o=i[n.__mapid]||0;o?i[r.__mapid]=o:delete i[r.__mapid],e[o]=r}delete i[n.__mapid]}}function nq(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Gt.pendingUnobservations.push(t))}function cl(){Gt.inBatch++}function ll(){if(0==--Gt.inBatch){aq();for(var t=Gt.pendingUnobservations,n=0;n<t.length;n++){var e=t[n];e.isPendingUnobservation=!1,0===e.observers.length&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBecomeUnobserved()),e instanceof y2&&e.suspend())}Gt.pendingUnobservations=[]}}function iq(t){var n=Gt.trackingDerivation;return null!==n?(n.runId!==t.lastAccessedBy&&(t.lastAccessedBy=n.runId,n.newObserving[n.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.length&&Gt.inBatch>0&&nq(t),!1)}function rq(t,n){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+n.name+"'"),t.isTracing===e1.BREAK){var e=[];oq(function OXe(t,n){return hq(pl(t,n))}(t),e,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+n.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof y2?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+e.join("\n")+"\n*/\n    ")()}}function oq(t,n,e){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(e).join("\t")+t.name),t.dependencies&&t.dependencies.forEach(function(i){return oq(i,n,e+1)}))}var k5=function(){function t(n,e,i,r){void 0===n&&(n="Reaction@"+_a()),void 0===r&&(r=!1),this.name=n,this.onInvalidate=e,this.errorHandler=i,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=sr.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+_a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=e1.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Gt.pendingReactions.push(this),aq())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(cl(),this._isScheduled=!1,tC(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&js()&&tu({name:this.name,type:"scheduled-reaction"})}catch(n){this.reportExceptionInDerivation(n)}}ll()}},t.prototype.track=function(n){cl();var i,e=js();e&&(i=Date.now(),dl({name:this.name,type:"reaction"})),this._isRunning=!0;var r=YY(this,n,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&nC(this),Jp(r)&&this.reportExceptionInDerivation(r.cause),e&&ul({time:Date.now()-i}),ll()},t.prototype.reportExceptionInDerivation=function(n){var e=this;if(this.errorHandler)this.errorHandler(n,this);else{if(Gt.disableErrorBoundaries)throw n;var i="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Gt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(i,n),js()&&tu({type:"error",name:this.name,message:i,error:""+n}),Gt.globalReactionErrorHandlers.forEach(function(r){return r(n,e)})}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(cl(),nC(this),ll()))},t.prototype.getDisposer=function(){var n=this.dispose.bind(this);return n.$mobx=this,n},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(n){void 0===n&&(n=!1),function UXe(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=!1;"boolean"==typeof t[t.length-1]&&(e=t.pop());var i=function VXe(t){switch(t.length){case 0:return Gt.trackingDerivation;case 1:return pl(t[0]);case 2:return pl(t[0],t[1])}}(t);if(!i)return ui(!1);i.isTracing===e1.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=e?e1.BREAK:e1.LOG}(this,n)},t}(),sq=100,oC=function(t){return t()};function aq(){Gt.inBatch>0||Gt.isRunningReactions||oC(CXe)}function CXe(){Gt.isRunningReactions=!0;for(var t=Gt.pendingReactions,n=0;t.length>0;){++n===sq&&(console.error("Reaction doesn't converge to a stable state after "+sq+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var e=t.splice(0),i=0,r=e.length;i<r;i++)e[i].runReaction()}Gt.isRunningReactions=!1}var O5=g2("Reaction",k5);function js(){return!!Gt.spyListeners.length}function tu(t){if(Gt.spyListeners.length)for(var n=Gt.spyListeners,e=0,i=n.length;e<i;e++)n[e](t)}function dl(t){tu(va({},t,{spyReportStart:!0}))}var SXe={spyReportEnd:!0};function ul(t){tu(t?va({},t,{spyReportEnd:!0}):SXe)}function EXe(){ui(!1)}function cq(t){return function(n,e,i){if(i){if(i.value)return{value:_2(t,i.value),enumerable:!1,configurable:!0,writable:!0};var r=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return _2(t,r.call(this))}}}return function LXe(t){return function(n,e,i){Object.defineProperty(n,e,{configurable:!0,enumerable:!1,get:function(){},set:function(r){J0(this,e,Fi(t,r))}})}}(t).apply(this,arguments)}}var Fi=function(n,e,i,r){return 1===arguments.length&&"function"==typeof n?_2(n.name||"<unnamed action>",n):2===arguments.length&&"function"==typeof e?_2(n,e):1===arguments.length&&"string"==typeof n?cq(n):!0!==r?cq(e).apply(null,arguments):void(n[e]=_2(n.name||e,i.value))};function sC(t,n,e){J0(t,n,_2(n,e.bind(t)))}function tm(t,n){void 0===n&&(n=Yx);var r,e=n&&n.name||t.name||"Autorun@"+_a();if(n.scheduler||n.delay){var o=lq(n),s=!1;r=new k5(e,function(){s||(s=!0,o(function(){s=!1,r.isDisposed||r.track(c)}))},n.onError,n.requiresObservable)}else r=new k5(e,function(){this.track(c)},n.onError,n.requiresObservable);function c(){t(r)}return r.schedule(),r.getDisposer()}Fi.bound=function AXe(t,n,e,i){return!0===i?(sC(t,n,e.value),null):e?{configurable:!0,enumerable:!1,get:function(){return sC(this,n,e.value||e.initializer.call(this)),this[n]},set:EXe}:{enumerable:!1,configurable:!0,set:function(r){sC(this,n,r)},get:function(){}}};var DXe=function(t){return t()};function lq(t){return t.scheduler?t.scheduler:t.delay?function(n){return setTimeout(n,t.delay)}:DXe}function bh(t,n,e){void 0===e&&(e=Yx),"boolean"==typeof e&&(e={fireImmediately:e});var C,i=e.name||"Reaction@"+_a(),r=Fi(i,e.onError?function IXe(t,n){return function(){try{return n.apply(this,arguments)}catch(e){t.call(this,e)}}}(e.onError,n):n),o=!e.scheduler&&!e.delay,s=lq(e),c=!0,v=!1,N=e.compareStructural?mh.structural:e.equals||mh.default,G=new k5(i,function(){c||o?se():v||(v=!0,s(se))},e.onError,e.requiresObservable);function se(){if(v=!1,!G.isDisposed){var le=!1;G.track(function(){var pe=t(G);le=c||!N(C,pe),C=pe}),c&&e.fireImmediately&&r(C,G),!c&&!0===le&&r(C,G),c&&(c=!1)}}return G.schedule(),G.getDisposer()}function dq(t,n,e){return uq("onBecomeUnobserved",t,n,e)}function uq(t,n,e,i){var r="function"==typeof i?pl(n,e):pl(n),o="function"==typeof i?i:e,s=r[t];return"function"!=typeof s?ui(!1):(r[t]=function(){s.call(this),o.call(this)},function(){r[t]=s})}function hq(t){var n={name:t.name};return t.observing&&t.observing.length>0&&(n.dependencies=function GQe(t){var n=[];return t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n}(t.observing).map(hq)),n}function N5(t){return 1!==arguments.length&&ui(!1),function vq(t,n){if(null==t)return!1;if(void 0!==n){if(za(t)){var e=t.$mobx;return e.values&&!!e.values[n]}return!1}return za(t)||!!t.$mobx||Jx(t)||O5(t)||_h(t)}(t)}function nd(t,n){void 0===n&&(n=void 0),cl();try{return t.apply(n)}finally{ll()}}function t1(t){return void 0!==t.interceptors&&t.interceptors.length>0}function im(t,n){var e=t.interceptors||(t.interceptors=[]);return e.push(n),qx(function(){var i=e.indexOf(n);-1!==i&&e.splice(i,1)})}function n1(t,n){var e=vh();try{var i=t.interceptors;if(i)for(var r=0,o=i.length;r<o&&(X0(!(n=i[r](n))||n.type,"Intercept handlers should return nothing or a change object"),n);r++);return n}finally{v2(e)}}function fl(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function rm(t,n){var e=t.changeListeners||(t.changeListeners=[]);return e.push(n),qx(function(){var i=e.indexOf(n);-1!==i&&e.splice(i,1)})}function hl(t,n){var e=vh(),i=t.changeListeners;if(i){for(var r=0,o=(i=i.slice()).length;r<o;r++)i[r](n);v2(e)}}var GXe=function(){var t=!1,n={};return Object.defineProperty(n,"0",{set:function(){t=!0}}),Object.create(n)[0]=1,!1===t}(),aC=0,cC=function(){return function t(){}}();(function YXe(t,n){typeof Object.setPrototypeOf<"u"?Object.setPrototypeOf(t.prototype,n):typeof t.prototype.__proto__<"u"?t.prototype.__proto__=n:t.prototype=n})(cC,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(t){Object.defineProperty(cC.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})});var bq=function(){function t(n,e,i,r){this.array=i,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new M5(n||"ObservableArray@"+_a()),this.enhancer=function(o,s){return e(o,s,n+"[..]")}}return t.prototype.dehanceValue=function(n){return void 0!==this.dehancer?this.dehancer(n):n},t.prototype.dehanceValues=function(n){return void 0!==this.dehancer&&n.length>0?n.map(this.dehancer):n},t.prototype.intercept=function(n){return im(this,n)},t.prototype.observe=function(n,e){return void 0===e&&(e=!1),e&&n({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),rm(this,n)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(n){if("number"!=typeof n||n<0)throw new Error("[mobx.array] Out of range: "+n);var e=this.values.length;if(n!==e)if(n>e){for(var i=new Array(n-e),r=0;r<n-e;r++)i[r]=void 0;this.spliceWithArray(e,0,i)}else this.spliceWithArray(n,e-n)},t.prototype.updateArrayLength=function(n,e){if(n!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&n+e+1>aC&&lC(n+e+1)},t.prototype.spliceWithArray=function(n,e,i){var r=this;A5(this.atom);var o=this.values.length;if(void 0===n?n=0:n>o?n=o:n<0&&(n=Math.max(0,o+n)),e=1===arguments.length?o-n:null==e?0:Math.max(0,Math.min(e,o-n)),void 0===i&&(i=x5),t1(this)){var s=n1(this,{object:this.array,type:"splice",index:n,removedCount:e,added:i});if(!s)return x5;e=s.removedCount,i=s.added}i=0===i.length?i:i.map(function(C){return r.enhancer(C,void 0)}),this.updateArrayLength(o,i.length-e);var v=this.spliceItemsIntoValues(n,e,i);return(0!==e||0!==i.length)&&this.notifyArraySplice(n,i,v),this.dehanceValues(v)},t.prototype.spliceItemsIntoValues=function(n,e,i){var r;if(i.length<1e4)return(r=this.values).splice.apply(r,Gx([n,e],i));var o=this.values.slice(n,n+e);return this.values=this.values.slice(0,n).concat(i,this.values.slice(n+e)),o},t.prototype.notifyArrayChildUpdate=function(n,e,i){var r=!this.owned&&js(),o=fl(this),s=o||r?{object:this.array,type:"update",index:n,newValue:e,oldValue:i}:null;r&&dl(va({},s,{name:this.atom.name})),this.atom.reportChanged(),o&&hl(this,s),r&&ul()},t.prototype.notifyArraySplice=function(n,e,i){var r=!this.owned&&js(),o=fl(this),s=o||r?{object:this.array,type:"splice",index:n,removed:i,added:e,removedCount:i.length,addedCount:e.length}:null;r&&dl(va({},s,{name:this.atom.name})),this.atom.reportChanged(),o&&hl(this,s),r&&ul()},t}(),id=function(t){function n(e,i,r,o){void 0===r&&(r="ObservableArray@"+_a()),void 0===o&&(o=!1);var s=t.call(this)||this,c=new bq(r,i,s,o);if(qp(s,"$mobx",c),e&&e.length){var v=iC(!0);s.spliceWithArray(0,0,e),rC(v)}return GXe&&Object.defineProperty(c.array,"0",qXe),s}return FY(n,t),n.prototype.intercept=function(e){return this.$mobx.intercept(e)},n.prototype.observe=function(e,i){return void 0===i&&(i=!1),this.$mobx.observe(e,i)},n.prototype.clear=function(){return this.splice(0)},n.prototype.concat=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(r){return Fa(r)?r.peek():r}))},n.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},n.prototype.toJS=function(){return this.slice()},n.prototype.toJSON=function(){return this.toJS()},n.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},n.prototype.find=function(e,i,r){void 0===r&&(r=0);var o=this.findIndex.apply(this,arguments);return-1===o?void 0:this.get(o)},n.prototype.findIndex=function(e,i,r){void 0===r&&(r=0);for(var o=this.peek(),s=o.length,c=r;c<s;c++)if(e.call(i,o[c],c,this))return c;return-1},n.prototype.splice=function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,i)}return this.$mobx.spliceWithArray(e,i,r)},n.prototype.spliceWithArray=function(e,i,r){return this.$mobx.spliceWithArray(e,i,r)},n.prototype.push=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,e),r.values.length},n.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},n.prototype.shift=function(){return this.splice(0,1)[0]},n.prototype.unshift=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this.$mobx;return r.spliceWithArray(0,0,e),r.values.length},n.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},n.prototype.sort=function(e){var i=this.slice();return i.sort.apply(i,arguments)},n.prototype.remove=function(e){var i=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return i>-1&&(this.splice(i,1),!0)},n.prototype.move=function(e,i){function r(c){if(c<0)throw new Error("[mobx.array] Index out of bounds: "+c+" is negative");var v=this.$mobx.values.length;if(c>=v)throw new Error("[mobx.array] Index out of bounds: "+c+" is not smaller than "+v)}if(r.call(this,e),r.call(this,i),e!==i){var s,o=this.$mobx.values;s=e<i?Gx(o.slice(0,e),o.slice(e+1,i+1),[o[e]],o.slice(i+1)):Gx(o.slice(0,i),[o[e]],o.slice(i,e),o.slice(e+1)),this.replace(s)}},n.prototype.get=function(e){var i=this.$mobx;if(i){if(e<i.values.length)return i.atom.reportObserved(),i.dehanceValue(i.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+i.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},n.prototype.set=function(e,i){var r=this.$mobx,o=r.values;if(e<o.length){A5(r.atom);var s=o[e];if(t1(r)){var c=n1(r,{type:"update",object:this,index:e,newValue:i});if(!c)return;i=c.newValue}(i=r.enhancer(i,s))!==s&&(o[e]=i,r.notifyArrayChildUpdate(e,i,s))}else{if(e!==o.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+o.length);r.spliceWithArray(e,0,[i])}},n}(cC);Qx(id.prototype,function(){this.$mobx.atom.reportObserved();var t=this,n=0;return Zp({next:function(){return n<t.length?{value:t[n++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(id.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),J0(id.prototype,Xx(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){var n=Array.prototype[t];X0("function"==typeof n,"Base function not defined on Array prototype: '"+t+"'"),J0(id.prototype,t,function(){return n.apply(this.peek(),arguments)})}),function qQe(t,n){for(var e=0;e<n.length;e++)J0(t,n[e],t[n[e]])}(id.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var qXe=yq(0);function yq(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(n){this.set(t,n)}}}function KXe(t){Object.defineProperty(id.prototype,""+t,yq(t))}function lC(t){for(var n=aC;n<t;n++)KXe(n);aC=t}lC(1e3);var ZXe=g2("ObservableArrayAdministration",bq);function Fa(t){return Kx(t)&&ZXe(t.$mobx)}var QXe={},R5=function(){function t(n,e,i){if(void 0===e&&(e=Qp),void 0===i&&(i="ObservableMap@"+_a()),this.enhancer=e,this.name=i,this.$mobx=QXe,this._keys=new id(void 0,Xp,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(n)}return t.prototype._has=function(n){return this._data.has(n)},t.prototype.has=function(n){var e=this;if(!Gt.trackingDerivation)return this._has(n);var i=this._hasMap.get(n);if(!i){var r=i=new b2(this._has(n),Xp,this.name+"."+F5(n)+"?",!1);this._hasMap.set(n,r),dq(r,function(){return e._hasMap.delete(n)})}return i.get()},t.prototype.set=function(n,e){var i=this._has(n);if(t1(this)){var r=n1(this,{type:i?"update":"add",object:this,newValue:e,name:n});if(!r)return this;e=r.newValue}return i?this._updateValue(n,e):this._addValue(n,e),this},t.prototype.delete=function(n){var e=this;if(t1(this)&&!(i=n1(this,{type:"delete",object:this,name:n})))return!1;if(this._has(n)){var r=js(),o=fl(this),i=o||r?{type:"delete",object:this,oldValue:this._data.get(n).value,name:n}:null;return r&&dl(va({},i,{name:this.name,key:n})),nd(function(){e._keys.remove(n),e._updateHasMapEntry(n,!1),e._data.get(n).setNewValue(void 0),e._data.delete(n)}),o&&hl(this,i),r&&ul(),!0}return!1},t.prototype._updateHasMapEntry=function(n,e){var i=this._hasMap.get(n);i&&i.setNewValue(e)},t.prototype._updateValue=function(n,e){var i=this._data.get(n);if((e=i.prepareNewValue(e))!==Gt.UNCHANGED){var r=js(),o=fl(this),s=o||r?{type:"update",object:this,oldValue:i.value,name:n,newValue:e}:null;r&&dl(va({},s,{name:this.name,key:n})),i.setNewValue(e),o&&hl(this,s),r&&ul()}},t.prototype._addValue=function(n,e){var i=this;nd(function(){var c=new b2(e,i.enhancer,i.name+"."+F5(n),!1);i._data.set(n,c),e=c.value,i._updateHasMapEntry(n,!0),i._keys.push(n)});var r=js(),o=fl(this),s=o||r?{type:"add",object:this,name:n,newValue:e}:null;r&&dl(va({},s,{name:this.name,key:n})),o&&hl(this,s),r&&ul()},t.prototype.get=function(n){return this.has(n)?this.dehanceValue(this._data.get(n).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(n){return void 0!==this.dehancer?this.dehancer(n):n},t.prototype.keys=function(){return this._keys[Zx()]()},t.prototype.values=function(){var n=this,e=0;return Zp({next:function(){return e<n._keys.length?{value:n.get(n._keys[e++]),done:!1}:{value:void 0,done:!0}}})},t.prototype.entries=function(){var n=this,e=0;return Zp({next:function(){if(e<n._keys.length){var i=n._keys[e++];return{value:[i,n.get(i)],done:!1}}return{done:!0}}})},t.prototype.forEach=function(n,e){var i=this;this._keys.forEach(function(r){return n.call(e,i.get(r),r,i)})},t.prototype.merge=function(n){var e=this;return ra(n)&&(n=n.toJS()),nd(function(){hh(n)?Object.keys(n).forEach(function(i){return e.set(i,n[i])}):Array.isArray(n)?n.forEach(function(i){var r=PY(i,2);return e.set(r[0],r[1])}):ph(n)?n.constructor!==Map?ui("Cannot initialize from classes that inherit from Map: "+n.constructor.name):n.forEach(function(i,r){return e.set(r,i)}):null!=n&&ui("Cannot initialize map from "+n)}),this},t.prototype.clear=function(){var n=this;nd(function(){qY(function(){n._keys.slice().forEach(function(e){return n.delete(e)})})})},t.prototype.replace=function(n){var e=this;return nd(function(){for(var i=function YQe(t){return ph(t)||ra(t)?t:Array.isArray(t)?new Map(t):hh(t)?new Map(Object.entries(t)):ui("Cannot convert to map from '"+t+"'")}(n),r=e._keys,o=Array.from(i.keys()),s=!1,c=0;c<r.length;c++){var v=r[c];r.length===o.length&&v!==o[c]&&(s=!0),i.has(v)||(s=!0,e.delete(v))}i.forEach(function(C,N){e._data.has(N)||(s=!0),e.set(N,C)}),s&&e._keys.replace(o)}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var n=this,e={};return this._keys.forEach(function(i){return e["symbol"==typeof i?i:F5(i)]=n.get(i)}),e},t.prototype.toJS=function(){var n=this,e=new Map;return this._keys.forEach(function(i){return e.set(i,n.get(i))}),e},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var n=this;return this.name+"[{ "+this._keys.map(function(e){return F5(e)+": "+n.get(e)}).join(", ")+" }]"},t.prototype.observe=function(n,e){return rm(this,n)},t.prototype.intercept=function(n){return im(this,n)},t}();function F5(t){return t&&t.toString?t.toString():new String(t).toString()}Qx(R5.prototype,function(){return this.entries()}),qp(R5.prototype,Xx(),"Map");var ra=g2("ObservableMap",R5),XXe={},P5=function(){function t(n,e,i){if(void 0===e&&(e=Qp),void 0===i&&(i="ObservableSet@"+_a()),this.name=i,this.$mobx=XXe,this._data=new Set,this._atom=function QQe(t,n,e){void 0===n&&(n=C5),void 0===e&&(e=C5);var i=new M5(t);return function kXe(t,n,e){uq("onBecomeObserved",t,n,e)}(i,n),dq(i,e),i}(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(r,o){return e(r,o,i)},n&&this.replace(n)}return t.prototype.dehanceValue=function(n){return void 0!==this.dehancer?this.dehancer(n):n},t.prototype.clear=function(){var n=this;nd(function(){qY(function(){n._data.forEach(function(e){n.delete(e)})})})},t.prototype.forEach=function(n,e){var i=this;this._data.forEach(function(r){n.call(e,r,r,i)})},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(n){var e=this;if(A5(this._atom),t1(this)&&!(i=n1(this,{type:"add",object:this,newValue:n})))return this;if(!this.has(n)){nd(function(){e._data.add(e.enhancer(n,void 0)),e._atom.reportChanged()});var r=js(),o=fl(this),i=o||r?{type:"add",object:this,newValue:n}:null;o&&hl(this,i)}return this},t.prototype.delete=function(n){var e=this;if(t1(this)&&!(i=n1(this,{type:"delete",object:this,oldValue:n})))return!1;if(this.has(n)){var r=js(),o=fl(this),i=o||r?{type:"delete",object:this,oldValue:n}:null;return nd(function(){e._atom.reportChanged(),e._data.delete(n)}),o&&hl(this,i),!0}return!1},t.prototype.has=function(n){return this._atom.reportObserved(),this._data.has(this.dehanceValue(n))},t.prototype.entries=function(){var n=0,e=ed(this.keys()),i=ed(this.values());return Zp({next:function(){var r=n;return n+=1,r<i.length?{value:[e[r],i[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var i,n=this,e=0;return void 0!==this._data.values?i=ed(this._data.values()):(i=[],this._data.forEach(function(r){return i.push(r)})),Zp({next:function(){return e<i.length?{value:n.dehanceValue(i[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(n){var e=this;return Pa(n)&&(n=n.toJS()),nd(function(){Array.isArray(n)||Kp(n)?(e.clear(),n.forEach(function(i){return e.add(i)})):null!=n&&ui("Cannot initialize set from "+n)}),this},t.prototype.observe=function(n,e){return rm(this,n)},t.prototype.intercept=function(n){return im(this,n)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+ed(this.keys()).join(", ")+" ]"},t}();Qx(P5.prototype,function(){return this.values()}),qp(P5.prototype,Xx(),"Set");var Pa=g2("ObservableSet",P5),wq=function(){function t(n,e,i){this.target=n,this.name=e,this.defaultEnhancer=i,this.values={}}return t.prototype.read=function(n,e){if(this.target===n||(this.illegalAccess(n,e),this.values[e]))return this.values[e].get()},t.prototype.write=function(n,e,i){var r=this.target;r!==n&&this.illegalAccess(n,e);var o=this.values[e];if(o instanceof y2)o.set(i);else{if(t1(this)){if(!(s=n1(this,{type:"update",object:r,name:e,newValue:i})))return;i=s.newValue}if((i=o.prepareNewValue(i))!==Gt.UNCHANGED){var c=fl(this),v=js(),s=c||v?{type:"update",object:r,oldValue:o.value,name:e,newValue:i}:null;v&&dl(va({},s,{name:this.name,key:e})),o.setNewValue(i),c&&hl(this,s),v&&ul()}}},t.prototype.remove=function(n){if(this.values[n]){var e=this.target;if(t1(this)&&!(i=n1(this,{object:e,name:n,type:"remove"})))return;try{cl();var r=fl(this),o=js(),s=this.values[n].get();this.keys&&this.keys.remove(n),delete this.values[n],delete this.target[n];var i=r||o?{type:"remove",object:e,oldValue:s,name:n}:null;o&&dl(va({},i,{name:this.name,key:n})),r&&hl(this,i),o&&ul()}finally{ll()}}},t.prototype.illegalAccess=function(n,e){console.warn("Property '"+e+"' of '"+n+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(n,e){return rm(this,n)},t.prototype.intercept=function(n){return im(this,n)},t.prototype.getKeys=function(){var n=this;return void 0===this.keys&&(this.keys=new id(Object.keys(this.values).filter(function(e){return n.values[e]instanceof b2}),Xp,"keys("+this.name+")",!0)),this.keys.slice()},t}();function dC(t,n,e){void 0===n&&(n=""),void 0===e&&(e=Qp);var i=t.$mobx;return i||(hh(t)||(n=(t.constructor.name||"ObservableObject")+"@"+_a()),n||(n="ObservableObject@"+_a()),qp(t,"$mobx",i=new wq(t,n,e)),i)}var Cq=Object.create(null),Mq=Object.create(null);function Sq(t){return t.$mobx||(eu(t),t.$mobx)}var iJe=g2("ObservableObjectAdministration",wq);function za(t){return!!Kx(t)&&(eu(t),iJe(t.$mobx))}function pl(t,n){if("object"==typeof t&&null!==t){if(Fa(t))return void 0!==n&&ui(!1),t.$mobx.atom;if(Pa(t))return t.$mobx;if(ra(t)){var e=t;return void 0===n?pl(e._keys):((i=e._data.get(n)||e._hasMap.get(n))||ui(!1),i)}var i;if(eu(t),za(t))return n?((i=t.$mobx.values[n])||ui(!1),i):ui(!1);if(Jx(t)||_h(t)||O5(t))return t}else if("function"==typeof t&&O5(t.$mobx))return t.$mobx;return ui(!1)}function rd(t,n){return t||ui("Expecting some object"),void 0!==n?rd(pl(t,n)):Jx(t)||_h(t)||O5(t)||ra(t)||Pa(t)?t:(eu(t),t.$mobx?t.$mobx:void ui(!1))}var Tq=Object.prototype.toString;function uC(t,n,e){return void 0===e&&(e=-1),fC(t,n,e)}function fC(t,n,e,i,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var o=typeof t;if("function"!==o&&"object"!==o&&"object"!=typeof n)return!1;t=Eq(t),n=Eq(n);var s=Tq.call(t);if(s!==Tq.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var c="[object Array]"===s;if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;var v=t.constructor,C=n.constructor;if(v!==C&&!("function"==typeof v&&v instanceof v&&"function"==typeof C&&C instanceof C)&&"constructor"in t&&"constructor"in n)return!1}if(0===e)return!1;e<0&&(e=-1),r=r||[];for(var N=(i=i||[]).length;N--;)if(i[N]===t)return r[N]===n;if(i.push(t),r.push(n),c){if((N=t.length)!==n.length)return!1;for(;N--;)if(!fC(t[N],n[N],e-1,i,r))return!1}else{var G=Object.keys(t),se=void 0;if(N=G.length,Object.keys(n).length!==N)return!1;for(;N--;)if(!oJe(n,se=G[N])||!fC(t[se],n[se],e-1,i,r))return!1}return i.pop(),r.pop(),!0}function Eq(t){return Fa(t)?t.peek():ph(t)||ra(t)||Kp(t)||Pa(t)?ed(t.entries()):t}function oJe(t,n){return Object.prototype.hasOwnProperty.call(t,n)}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function TXe(t){return Gt.spyListeners.push(t),qx(function(){Gt.spyListeners=Gt.spyListeners.filter(function(n){return n!==t})})},extras:{getDebugName:function rJe(t,n){return(void 0!==n?pl(t,n):za(t)||ra(t)||Pa(t)?rd(t):pl(t)).name}},$mobx:"$mobx"});const aJe=t=>({$implicit:t});function cJe(t,n){1&t&&(ee(0,"span"),ye(1,"loading..."),ie())}const lJe=["*"],wh=()=>({dontDetach:!0});function dJe(t,n){if(1&t&&(Fn(0),ee(1,"div"),pi(2),ie(),Pn()),2&t){const e=oe();Q(),yc("height",e.getTotalHeight())}}function uJe(t,n){if(1&t){const e=lt();Fn(0),ee(1,"input",1),ze("click",function(r){return Se(e),Ee(oe().node.mouseAction("checkboxClick",r))}),ie(),Pn()}if(2&t){const e=oe();Q(),X("checked",e.node.isSelected)("indeterminate",e.node.isPartiallySelected)}}function fJe(t,n){if(1&t){const e=lt();ee(0,"span",3),ze("click",function(r){return Se(e),Ee(oe(2).node.mouseAction("expanderClick",r))}),Ve(1,"span",4),ie()}if(2&t){const e=oe(2);At("toggle-children-wrapper-expanded",e.node.isExpanded)("toggle-children-wrapper-collapsed",e.node.isCollapsed)}}function hJe(t,n){1&t&&Ve(0,"span",5)}function pJe(t,n){if(1&t&&(Fn(0),Me(1,fJe,2,4,"span",1)(2,hJe,1,0,"span",2),Pn()),2&t){const e=oe();Q(),X("ngIf",e.node.hasChildren),Q(),X("ngIf",!e.node.hasChildren)}}const mJe=(t,n,e)=>({$implicit:t,node:n,index:e});function gJe(t,n){if(1&t&&(ee(0,"span"),ye(1),ie()),2&t){const e=oe();Q(),It(e.node.displayField)}}const Aq=(t,n,e,i)=>({$implicit:t,node:n,index:e,templates:i});function vJe(t,n){1&t&&Ve(0,"tree-node-checkbox",4),2&t&&X("node",oe(2).node)}function _Je(t,n){if(1&t){const e=lt();ee(0,"div",2),Me(1,vJe,1,1,"tree-node-checkbox",3),Ve(2,"tree-node-expander",4),ee(3,"div",5),ze("click",function(r){return Se(e),Ee(oe().node.mouseAction("click",r))})("dblclick",function(r){return Se(e),Ee(oe().node.mouseAction("dblClick",r))})("mouseover",function(r){return Se(e),Ee(oe().node.mouseAction("mouseOver",r))})("mouseout",function(r){return Se(e),Ee(oe().node.mouseAction("mouseOut",r))})("contextmenu",function(r){return Se(e),Ee(oe().node.mouseAction("contextMenu",r))})("treeDrop",function(r){return Se(e),Ee(oe().node.onDrop(r))})("treeDropDragOver",function(r){return Se(e),Ee(oe().node.mouseAction("dragOver",r))})("treeDropDragLeave",function(r){return Se(e),Ee(oe().node.mouseAction("dragLeave",r))})("treeDropDragEnter",function(r){return Se(e),Ee(oe().node.mouseAction("dragEnter",r))}),Ve(4,"tree-node-content",6),ie()()}if(2&t){const e=oe();yc("padding-left",e.node.getNodePadding()),Q(),X("ngIf",e.node.options.useCheckbox),Q(),X("node",e.node),Q(),At("node-content-wrapper-active",e.node.isActive)("node-content-wrapper-focused",e.node.isFocused),X("treeAllowDrop",e.node.allowDrop)("allowDragoverStyling",e.node.allowDragoverStyling())("treeDrag",e.node)("treeDragEnabled",e.node.allowDrag()),Q(),X("node",e.node)("index",e.index)("template",e.templates.treeNodeTemplate)}}function bJe(t,n){if(1&t&&Ve(0,"tree-node",2),2&t){const e=n.$implicit,i=n.index,r=oe(2);X("node",e)("index",i)("templates",r.templates)}}function yJe(t,n){if(1&t&&(Fn(0),ee(1,"div"),Me(2,bJe,1,3,"tree-node",1),ie(),Pn()),2&t){const e=oe();Q(),yc("margin-top",e.marginTop),Q(),X("ngForOf",e.viewportNodes)("ngForTrackBy",e.trackNode)}}function wJe(t,n){if(1&t&&Ve(0,"tree-node-collection",4),2&t){const e=oe(3);X("nodes",e.node.children)("templates",e.templates)("treeModel",e.node.treeModel)}}function xJe(t,n){if(1&t&&Ve(0,"tree-loading-component",5),2&t){const e=oe(3);yc("padding-left",e.node.getNodePadding()),X("template",e.templates.loadingTemplate)("node",e.node)}}function CJe(t,n){if(1&t&&(ee(0,"div"),Me(1,wJe,1,3,"tree-node-collection",2)(2,xJe,1,4,"tree-loading-component",3),ie()),2&t){const e=oe(2);At("tree-children",!0)("tree-children-no-padding",e.node.options.levelPadding),Q(),X("ngIf",e.node.children),Q(),X("ngIf",!e.node.children)}}function MJe(t,n){if(1&t&&(Fn(0),Me(1,CJe,3,6,"div",1),Pn()),2&t){const e=oe();Q(),X("treeAnimateOpen",e.node.isExpanded)("treeAnimateOpenSpeed",e.node.options.animateSpeed)("treeAnimateOpenAcceleration",e.node.options.animateAcceleration)("treeAnimateOpenEnabled",e.node.options.animateExpand)}}function SJe(t,n){if(1&t&&Ve(0,"tree-node-drop-slot",6),2&t){const e=oe(3);X("dropIndex",e.node.index)("node",e.node.parent)}}function TJe(t,n){if(1&t&&(ee(0,"div"),Me(1,SJe,1,2,"tree-node-drop-slot",3),Ve(2,"tree-node-wrapper",4)(3,"tree-node-children",5)(4,"tree-node-drop-slot",6),ie()),2&t){const e=oe(2);So(e.node.getClass()),At("tree-node",!0)("tree-node-expanded",e.node.isExpanded&&e.node.hasChildren)("tree-node-collapsed",e.node.isCollapsed&&e.node.hasChildren)("tree-node-leaf",e.node.isLeaf)("tree-node-active",e.node.isActive)("tree-node-focused",e.node.isFocused),Q(),X("ngIf",0===e.index),Q(),X("node",e.node)("index",e.index)("templates",e.templates),Q(),X("node",e.node)("templates",e.templates),Q(),X("dropIndex",e.node.index+1)("node",e.node.parent)}}function EJe(t,n){if(1&t&&(Fn(0),Me(1,TJe,5,22,"div",1),wr(2,2),Pn()),2&t){const e=oe();Q(),X("ngIf",!e.templates.treeNodeFullTemplate),Q(),X("ngTemplateOutlet",e.templates.treeNodeFullTemplate)("ngTemplateOutletContext",U6(3,Aq,e.node,e.node,e.index,e.templates))}}const LJe=["loadingTemplate"],AJe=["treeNodeTemplate"],DJe=["treeNodeWrapperTemplate"],IJe=["treeNodeFullTemplate"],kJe=["viewport"],OJe=(t,n,e,i)=>({loadingTemplate:t,treeNodeTemplate:n,treeNodeWrapperTemplate:e,treeNodeFullTemplate:i});function NJe(t,n){if(1&t&&Ve(0,"tree-node-collection",4),2&t){const e=oe();X("nodes",e.treeModel.roots)("treeModel",e.treeModel)("templates",U6(3,OJe,e.loadingTemplate,e.treeNodeTemplate,e.treeNodeWrapperTemplate,e.treeNodeFullTemplate))}}function RJe(t,n){if(1&t&&Ve(0,"tree-node-drop-slot",5),2&t){const e=oe();X("dropIndex",0)("node",e.treeModel.virtualRoot)}}let xh=(()=>{class t{constructor(e,i){this.templateRef=e,this.viewContainer=i,this.templateBindings={}}ngOnInit(){this.view=this.viewContainer.createEmbeddedView(this.templateRef),this.dispose&&this.dispose(),this.shouldDetach()&&this.view.detach(),this.autoDetect(this.view)}shouldDetach(){return this.treeMobxAutorun&&this.treeMobxAutorun.detach}autoDetect(e){this.dispose=tm(()=>e.detectChanges())}ngOnDestroy(){this.dispose&&this.dispose()}}return t.\u0275fac=function(e){return new(e||t)(ve(Hi),ve(Vr))},t.\u0275dir=ot({type:t,selectors:[["","treeMobxAutorun",""]],inputs:{treeMobxAutorun:"treeMobxAutorun"}}),t})();const Ao={TOGGLE_ACTIVE:(t,n,e)=>n&&n.toggleActivated(),TOGGLE_ACTIVE_MULTI:(t,n,e)=>n&&n.toggleActivated(!0),TOGGLE_SELECTED:(t,n,e)=>n&&n.toggleSelected(),ACTIVATE:(t,n,e)=>n.setIsActive(!0),DEACTIVATE:(t,n,e)=>n.setIsActive(!1),SELECT:(t,n,e)=>n.setIsSelected(!0),DESELECT:(t,n,e)=>n.setIsSelected(!1),FOCUS:(t,n,e)=>n.focus(),TOGGLE_EXPANDED:(t,n,e)=>n.hasChildren&&n.toggleExpanded(),EXPAND:(t,n,e)=>n.expand(),COLLAPSE:(t,n,e)=>n.collapse(),DRILL_DOWN:(t,n,e)=>t.focusDrillDown(),DRILL_UP:(t,n,e)=>t.focusDrillUp(),NEXT_NODE:(t,n,e)=>t.focusNextNode(),PREVIOUS_NODE:(t,n,e)=>t.focusPreviousNode(),MOVE_NODE:(t,n,e,{from:i,to:r})=>{e.ctrlKey?t.copyNode(i,r):t.moveNode(i,r)}},Ch={mouse:{click:Ao.TOGGLE_ACTIVE,dblClick:null,contextMenu:null,expanderClick:Ao.TOGGLE_EXPANDED,checkboxClick:Ao.TOGGLE_SELECTED,drop:Ao.MOVE_NODE},keys:{39:Ao.DRILL_DOWN,37:Ao.DRILL_UP,40:Ao.NEXT_NODE,38:Ao.PREVIOUS_NODE,32:Ao.TOGGLE_ACTIVE,13:Ao.TOGGLE_ACTIVE}};class Dq{constructor(n={}){this.options=n,this.actionMapping={mouse:{click:this.options?.actionMapping?.mouse?.click??Ch.mouse.click,dblClick:this.options?.actionMapping?.mouse?.dblClick??Ch.mouse.dblClick,contextMenu:this.options?.actionMapping?.mouse?.contextMenu??Ch.mouse.contextMenu,expanderClick:this.options?.actionMapping?.mouse?.expanderClick??Ch.mouse.expanderClick,checkboxClick:this.options?.actionMapping?.mouse?.checkboxClick??Ch.mouse.checkboxClick,drop:this.options?.actionMapping?.mouse?.drop??Ch.mouse.drop,dragStart:this.options?.actionMapping?.mouse?.dragStart??void 0,drag:this.options?.actionMapping?.mouse?.drag??void 0,dragEnd:this.options?.actionMapping?.mouse?.dragEnd??void 0,dragOver:this.options?.actionMapping?.mouse?.dragOver??void 0,dragLeave:this.options?.actionMapping?.mouse?.dragLeave??void 0,dragEnter:this.options?.actionMapping?.mouse?.dragEnter??void 0,mouseOver:this.options?.actionMapping?.mouse?.mouseOver??void 0,mouseOut:this.options?.actionMapping?.mouse?.mouseOut??void 0},keys:{39:Ao.DRILL_DOWN,37:Ao.DRILL_UP,40:Ao.NEXT_NODE,38:Ao.PREVIOUS_NODE,32:Ao.TOGGLE_ACTIVE,13:Ao.TOGGLE_ACTIVE}},this.options?.actionMapping?.keys&&(this.actionMapping.keys={...this.actionMapping.keys,...this.options.actionMapping.keys}),n.rtl&&(this.actionMapping.keys[39]=n.actionMapping?.keys[39]||Ao.DRILL_UP,this.actionMapping.keys[37]=n.actionMapping?.keys[37]||Ao.DRILL_DOWN)}get hasChildrenField(){return this.options.hasChildrenField||"hasChildren"}get childrenField(){return this.options.childrenField||"children"}get displayField(){return this.options.displayField||"name"}get idField(){return this.options.idField||"id"}get isExpandedField(){return this.options.isExpandedField||"isExpanded"}get getChildren(){return this.options.getChildren}get levelPadding(){return this.options.levelPadding||0}get useVirtualScroll(){return this.options.useVirtualScroll}get animateExpand(){return this.options.animateExpand}get animateSpeed(){return this.options.animateSpeed||1}get animateAcceleration(){return this.options.animateAcceleration||1.2}get scrollOnActivate(){return void 0===this.options.scrollOnActivate||this.options.scrollOnActivate}get rtl(){return!!this.options.rtl}get rootId(){return this.options.rootId}get useCheckbox(){return this.options.useCheckbox}get useTriState(){return void 0===this.options.useTriState||this.options.useTriState}get scrollContainer(){return this.options.scrollContainer}get allowDragoverStyling(){return void 0===this.options.allowDragoverStyling||this.options.allowDragoverStyling}getNodeClone(n){if(this.options.getNodeClone)return this.options.getNodeClone(n);const e=Object.assign({},n.data);return e.id&&delete e.id,e}allowDrop(n,e,i){return this.options.allowDrop instanceof Function?this.options.allowDrop(n,e,i):void 0===this.options.allowDrop||this.options.allowDrop}allowDrag(n){return this.options.allowDrag instanceof Function?this.options.allowDrag(n):this.options.allowDrag}nodeClass(n){return this.options.nodeClass?this.options.nodeClass(n):""}nodeHeight(n){if(n.data.virtual)return 0;let e=this.options.nodeHeight||22;return"function"==typeof e&&(e=e(n)),e+(0===n.index?2:1)*this.dropSlotHeight}get dropSlotHeight(){return"number"==typeof this.options.dropSlotHeight?this.options.dropSlotHeight:2}}const Wo={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"};var oa=function(t,n,e,i){var s,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,i);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(n,e,o):s(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o},dr=function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)};class ts{constructor(n,e,i,r){this.data=n,this.parent=e,this.treeModel=i,this.position=0,this.allowDrop=(o,s)=>this.options.allowDrop(o,{parent:this,index:0},s),this.allowDragoverStyling=()=>this.options.allowDragoverStyling,null==this.id&&(this.id=function FJe(){return Math.floor(1e13*Math.random())}()),this.index=r,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}get isHidden(){return this.treeModel.isHidden(this)}get isExpanded(){return this.treeModel.isExpanded(this)}get isActive(){return this.treeModel.isActive(this)}get isFocused(){return this.treeModel.isNodeFocused(this)}get isSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.some(n=>n.isSelected)}get isAllSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.every(n=>n.isAllSelected)}get isPartiallySelected(){return this.isSelected&&!this.isAllSelected}get level(){return this.parent?this.parent.level+1:0}get path(){return this.parent?[...this.parent.path,this.id]:[]}get elementRef(){throw"Element Ref is no longer supported since introducing virtual scroll\n\n      You may use a template to obtain a reference to the element"}get originalNode(){return this._originalNode}get hasChildren(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)}get isCollapsed(){return!this.isExpanded}get isLeaf(){return!this.hasChildren}get isRoot(){return this.parent.data.virtual}get realParent(){return this.isRoot?null:this.parent}get options(){return this.treeModel.options}fireEvent(n){this.treeModel.fireEvent(n)}get displayField(){return this.getField("display")}get id(){return this.getField("id")}set id(n){this.setField("id",n)}getField(n){return this.data[this.options[`${n}Field`]]}setField(n,e){this.data[this.options[`${n}Field`]]=e}_findAdjacentSibling(n,e=!1){const i=this._getParentsChildren(e),r=i.indexOf(this);return i.length>r+n?i[r+n]:null}findNextSibling(n=!1){return this._findAdjacentSibling(1,n)}findPreviousSibling(n=!1){return this._findAdjacentSibling(-1,n)}getVisibleChildren(){return this.visibleChildren}get visibleChildren(){return(this.children||[]).filter(n=>!n.isHidden)}getFirstChild(n=!1){let e=n?this.visibleChildren:this.children;return null!=e&&e.length?e[0]:null}getLastChild(n=!1){let e=n?this.visibleChildren:this.children;return null!=e&&e.length?e[e.length-1]:null}findNextNode(n=!0,e=!1){return n&&this.isExpanded&&this.getFirstChild(e)||this.findNextSibling(e)||this.parent&&this.parent.findNextNode(!1,e)}findPreviousNode(n=!1){let e=this.findPreviousSibling(n);return e?e._getLastOpenDescendant(n):this.realParent}_getLastOpenDescendant(n=!1){const e=this.getLastChild(n);return this.isCollapsed||!e?this:e._getLastOpenDescendant(n)}_getParentsChildren(n=!1){return this.parent&&(n?this.parent.getVisibleChildren():this.parent.children)||[]}getIndexInParent(n=!1){return this._getParentsChildren(n).indexOf(this)}isDescendantOf(n){return this===n||this.parent&&this.parent.isDescendantOf(n)}getNodePadding(){return this.options.levelPadding*(this.level-1)+"px"}getClass(){return[this.options.nodeClass(this),`tree-node-level-${this.level}`].join(" ")}onDrop(n){this.mouseAction("drop",n.event,{from:n.element,to:{parent:this,index:0,dropOnNode:!0}})}allowDrag(){return this.options.allowDrag(this)}loadNodeChildren(){return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then(n=>{n&&(this.setField("children",n),this._initChildren(),this.options.useTriState&&this.treeModel.isSelected(this)&&this.setIsSelected(!0),this.children.forEach(e=>{e.getField("isExpanded")&&e.hasChildren&&e.expand()}))}).then(()=>{this.fireEvent({eventName:Wo.loadNodeChildren,node:this})}):Promise.resolve()}expand(){return this.isExpanded||this.toggleExpanded(),this}collapse(){return this.isExpanded&&this.toggleExpanded(),this}doForAll(n){Promise.resolve(n(this)).then(()=>{this.children&&this.children.forEach(e=>e.doForAll(n))})}expandAll(){this.doForAll(n=>n.expand())}collapseAll(){this.doForAll(n=>n.collapse())}ensureVisible(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this}toggleExpanded(){return this.setIsExpanded(!this.isExpanded),this}setIsExpanded(n){return this.hasChildren&&this.treeModel.setExpandedNode(this,n),this}autoLoadChildren(){this.handler=bh(()=>this.isExpanded,n=>{!this.children&&this.hasChildren&&n&&this.loadNodeChildren()},{fireImmediately:!0})}dispose(){this.children&&this.children.forEach(n=>n.dispose()),this.handler&&this.handler(),this.parent=null,this.children=null}setIsActive(n,e=!1){return this.treeModel.setActiveNode(this,n,e),n&&this.focus(this.options.scrollOnActivate),this}isSelectable(){return this.isLeaf||!this.children||!this.options.useTriState}setIsSelected(n){return this.isSelectable()?this.treeModel.setSelectedNode(this,n):this.visibleChildren.forEach(e=>e.setIsSelected(n)),this}toggleSelected(){return this.setIsSelected(!this.isSelected),this}toggleActivated(n=!1){return this.setIsActive(!this.isActive,n),this}setActiveAndVisible(n=!1){return this.setIsActive(!0,n).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this}scrollIntoView(n=!1){this.treeModel.virtualScroll.scrollIntoView(this,n)}focus(n=!0){let e=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),n&&this.scrollIntoView(),e&&this.fireEvent({eventName:Wo.blur,node:e}),this.fireEvent({eventName:Wo.focus,node:this}),this}blur(){let n=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),n&&this.fireEvent({eventName:Wo.blur,node:this}),this}setIsHidden(n){this.treeModel.setIsHidden(this,n)}hide(){this.setIsHidden(!0)}show(){this.setIsHidden(!1)}mouseAction(n,e,i=null){this.treeModel.setFocus(!0);const o=this.options.actionMapping.mouse[n];o&&o(this.treeModel,this,e,i)}getSelfHeight(){return this.options.nodeHeight(this)}_initChildren(){this.children=this.getField("children").map((n,e)=>new ts(n,this,this.treeModel,e))}}oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"isHidden",null),oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"isExpanded",null),oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"isActive",null),oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"isFocused",null),oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"isSelected",null),oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"isAllSelected",null),oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"isPartiallySelected",null),oa([Zi,dr("design:type",Array)],ts.prototype,"children",void 0),oa([Zi,dr("design:type",Number)],ts.prototype,"index",void 0),oa([Zi,dr("design:type",Object)],ts.prototype,"position",void 0),oa([Zi,dr("design:type",Number)],ts.prototype,"height",void 0),oa([gs,dr("design:type",Number),dr("design:paramtypes",[])],ts.prototype,"level",null),oa([gs,dr("design:type",Array),dr("design:paramtypes",[])],ts.prototype,"path",null),oa([gs,dr("design:type",Object),dr("design:paramtypes",[])],ts.prototype,"visibleChildren",null),oa([Fi,dr("design:type",Function),dr("design:paramtypes",[Object]),dr("design:returntype",void 0)],ts.prototype,"setIsSelected",null),oa([Fi,dr("design:type",Function),dr("design:paramtypes",[]),dr("design:returntype",void 0)],ts.prototype,"_initChildren",null);var Qi=function(t,n,e,i){var s,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,i);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(n,e,o):s(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o},Kt=function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)};let Ai=(()=>{class t{constructor(){this.options=new Dq,this.eventNames=Object.keys(Wo),this.expandedNodeIds={},this.selectedLeafNodeIds={},this.activeNodeIds={},this.hiddenNodeIds={},this.focusedNodeId=null,this.firstUpdate=!0,this.subscriptions=[]}fireEvent(e){e.treeModel=this,this.events[e.eventName].emit(e),this.events.event.emit(e)}subscribe(e,i){const r=this.events[e].subscribe(i);this.subscriptions.push(r)}getFocusedNode(){return this.focusedNode}getActiveNode(){return this.activeNodes[0]}getActiveNodes(){return this.activeNodes}getVisibleRoots(){return this.virtualRoot.visibleChildren}getFirstRoot(e=!1){const i=e?this.getVisibleRoots():this.roots;return null!=i&&i.length?i[0]:null}getLastRoot(e=!1){const i=e?this.getVisibleRoots():this.roots;return null!=i&&i.length?i[i.length-1]:null}get isFocused(){return t.focusedTree===this}isNodeFocused(e){return this.focusedNode===e}isEmptyTree(){return this.roots&&0===this.roots.length}get focusedNode(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null}get expandedNodes(){return Object.keys(this.expandedNodeIds).filter(i=>this.expandedNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}get activeNodes(){return Object.keys(this.activeNodeIds).filter(i=>this.activeNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}get hiddenNodes(){return Object.keys(this.hiddenNodeIds).filter(i=>this.hiddenNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}get selectedLeafNodes(){return Object.keys(this.selectedLeafNodeIds).filter(i=>this.selectedLeafNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}getNodeByPath(e,i=null){if(!e)return null;if(i=i||this.virtualRoot,0===e.length)return i;if(!i.children)return null;const r=e.shift(),o=i.children.find(s=>s.id===r);return o?this.getNodeByPath(e,o):null}getNodeById(e){const i=e.toString();return this.getNodeBy(r=>r.id.toString()===i)}getNodeBy(e,i=null){if(!(i=i||this.virtualRoot).children)return null;const r=i.children.find(e);if(r)return r;for(let o of i.children){const s=this.getNodeBy(e,o);if(s)return s}}isExpanded(e){return this.expandedNodeIds[e.id]}isHidden(e){return this.hiddenNodeIds[e.id]}isActive(e){return this.activeNodeIds[e.id]}isSelected(e){return this.selectedLeafNodeIds[e.id]}ngOnDestroy(){this.dispose(),this.unsubscribeAll()}dispose(){this.virtualRoot&&this.virtualRoot.dispose()}unsubscribeAll(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[]}setData({nodes:e,options:i=null,events:r=null}){i&&(this.options=new Dq(i)),r&&(this.events=r),e&&(this.nodes=e),this.update()}update(){let e={id:this.options.rootId,virtual:!0,[this.options.childrenField]:this.nodes};this.dispose(),this.virtualRoot=new ts(e,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:Wo.updateData})}setFocusedNode(e){this.focusedNodeId=e?e.id:null}setFocus(e){t.focusedTree=e?this:null}doForAll(e){this.roots.forEach(i=>i.doForAll(e))}focusNextNode(){let e=this.getFocusedNode(),i=e?e.findNextNode(!0,!0):this.getFirstRoot(!0);i&&i.focus()}focusPreviousNode(){let e=this.getFocusedNode(),i=e?e.findPreviousNode(!0):this.getLastRoot(!0);i&&i.focus()}focusDrillDown(){let e=this.getFocusedNode();if(e&&e.isCollapsed&&e.hasChildren)e.toggleExpanded();else{let i=e?e.getFirstChild(!0):this.getFirstRoot(!0);i&&i.focus()}}focusDrillUp(){let e=this.getFocusedNode();if(e)if(e.isExpanded)e.toggleExpanded();else{let i=e.realParent;i&&i.focus()}}setActiveNode(e,i,r=!1){r?this._setActiveNodeMulti(e,i):this._setActiveNodeSingle(e,i),i?(e.focus(this.options.scrollOnActivate),this.fireEvent({eventName:Wo.activate,node:e}),this.fireEvent({eventName:Wo.nodeActivate,node:e})):(this.fireEvent({eventName:Wo.deactivate,node:e}),this.fireEvent({eventName:Wo.nodeDeactivate,node:e}))}setSelectedNode(e,i){this.selectedLeafNodeIds=Object.assign({},this.selectedLeafNodeIds,{[e.id]:i}),i?(e.focus(),this.fireEvent({eventName:Wo.select,node:e})):this.fireEvent({eventName:Wo.deselect,node:e})}setExpandedNode(e,i){this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[e.id]:i}),this.fireEvent({eventName:Wo.toggleExpanded,node:e,isExpanded:i})}expandAll(){this.roots.forEach(e=>e.expandAll())}collapseAll(){this.roots.forEach(e=>e.collapseAll())}setIsHidden(e,i){this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,{[e.id]:i})}setHiddenNodeIds(e){this.hiddenNodeIds=e.reduce((i,r)=>Object.assign(i,{[r]:!0}),{})}performKeyAction(e,i){const r=this.options.actionMapping.keys[i.keyCode];return!!r&&(i.preventDefault(),r(this,e,i),!0)}filterNodes(e,i=!0){let r;if(!e)return this.clearFilter();if(e&&"string"==typeof e.valueOf())r=s=>-1!==s.displayField.toLowerCase().indexOf(e.toLowerCase());else{if(!e||"function"!=typeof e)return console.error("Don't know what to do with filter",e),void console.error("Should be either a string or function");r=e}const o={};this.roots.forEach(s=>this._filterNode(o,s,r,i)),this.hiddenNodeIds=o,this.fireEvent({eventName:Wo.changeFilter})}clearFilter(){this.hiddenNodeIds={},this.fireEvent({eventName:Wo.changeFilter})}moveNode(e,i){const r=e.getIndexInParent(),o=e.parent;if(!this.canMoveNode(e,i,r))return;const s=o.getField("children");i.parent.getField("children")||i.parent.setField("children",[]);const c=i.parent.getField("children"),v=s.splice(r,1)[0];let C=o===i.parent&&i.index>r?i.index-1:i.index;c.splice(C,0,v),o.treeModel.update(),i.parent.treeModel!==o.treeModel&&i.parent.treeModel.update(),this.fireEvent({eventName:Wo.moveNode,node:v,to:{parent:i.parent.data,index:C},from:{parent:o.data,index:r}})}copyNode(e,i){const r=e.getIndexInParent();if(!this.canMoveNode(e,i,r))return;i.parent.getField("children")||i.parent.setField("children",[]);const o=i.parent.getField("children"),s=this.options.getNodeClone(e);o.splice(i.index,0,s),e.treeModel.update(),i.parent.treeModel!==e.treeModel&&i.parent.treeModel.update(),this.fireEvent({eventName:Wo.copyNode,node:s,to:{parent:i.parent.data,index:i.index}})}getState(){return{expandedNodeIds:this.expandedNodeIds,selectedLeafNodeIds:this.selectedLeafNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}}setState(e){e&&Object.assign(this,{expandedNodeIds:e.expandedNodeIds||{},selectedLeafNodeIds:e.selectedLeafNodeIds||{},activeNodeIds:e.activeNodeIds||{},hiddenNodeIds:e.hiddenNodeIds||{},focusedNodeId:e.focusedNodeId})}subscribeToState(e){tm(()=>e(this.getState()))}canMoveNode(e,i,r=void 0){return r||e.getIndexInParent(),(e.parent!==i.parent||r!==i.index)&&!i.parent.isDescendantOf(e)}calculateExpandedNodes(){this._calculateExpandedNodes()}_filterNode(e,i,r,o){let s=r(i);return i.children&&i.children.forEach(c=>{this._filterNode(e,c,r,o)&&(s=!0)}),s||(e[i.id]=!0),o&&s&&i.ensureVisible(),s}_calculateExpandedNodes(e=null){(e=e||this.virtualRoot).data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[e.id]:!0})),e.children&&e.children.forEach(i=>this._calculateExpandedNodes(i))}_setActiveNodeSingle(e,i){this.activeNodes.filter(r=>r!==e).forEach(r=>{this.fireEvent({eventName:Wo.deactivate,node:r}),this.fireEvent({eventName:Wo.nodeDeactivate,node:r})}),this.activeNodeIds=i?{[e.id]:!0}:{}}_setActiveNodeMulti(e,i){this.activeNodeIds=Object.assign({},this.activeNodeIds,{[e.id]:i})}}return t.focusedTree=null,t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac}),t})();Qi([Zi,Kt("design:type",Array)],Ai.prototype,"roots",void 0),Qi([Zi,Kt("design:type",Object)],Ai.prototype,"expandedNodeIds",void 0),Qi([Zi,Kt("design:type",Object)],Ai.prototype,"selectedLeafNodeIds",void 0),Qi([Zi,Kt("design:type",Object)],Ai.prototype,"activeNodeIds",void 0),Qi([Zi,Kt("design:type",Object)],Ai.prototype,"hiddenNodeIds",void 0),Qi([Zi,Kt("design:type",Object)],Ai.prototype,"focusedNodeId",void 0),Qi([Zi,Kt("design:type",ts)],Ai.prototype,"virtualRoot",void 0),Qi([gs,Kt("design:type",Object),Kt("design:paramtypes",[])],Ai.prototype,"focusedNode",null),Qi([gs,Kt("design:type",Object),Kt("design:paramtypes",[])],Ai.prototype,"expandedNodes",null),Qi([gs,Kt("design:type",Object),Kt("design:paramtypes",[])],Ai.prototype,"activeNodes",null),Qi([gs,Kt("design:type",Object),Kt("design:paramtypes",[])],Ai.prototype,"hiddenNodes",null),Qi([gs,Kt("design:type",Object),Kt("design:paramtypes",[])],Ai.prototype,"selectedLeafNodes",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object]),Kt("design:returntype",void 0)],Ai.prototype,"setData",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"update",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object]),Kt("design:returntype",void 0)],Ai.prototype,"setFocusedNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object]),Kt("design:returntype",void 0)],Ai.prototype,"setFocus",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object]),Kt("design:returntype",void 0)],Ai.prototype,"doForAll",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"focusNextNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"focusPreviousNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"focusDrillDown",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"focusDrillUp",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object,Object,Object]),Kt("design:returntype",void 0)],Ai.prototype,"setActiveNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object,Object]),Kt("design:returntype",void 0)],Ai.prototype,"setSelectedNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object,Object]),Kt("design:returntype",void 0)],Ai.prototype,"setExpandedNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"expandAll",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"collapseAll",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object,Object]),Kt("design:returntype",void 0)],Ai.prototype,"setIsHidden",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object]),Kt("design:returntype",void 0)],Ai.prototype,"setHiddenNodeIds",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object,Object]),Kt("design:returntype",void 0)],Ai.prototype,"filterNodes",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[]),Kt("design:returntype",void 0)],Ai.prototype,"clearFilter",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object,Object]),Kt("design:returntype",void 0)],Ai.prototype,"moveNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object,Object]),Kt("design:returntype",void 0)],Ai.prototype,"copyNode",null),Qi([Fi,Kt("design:type",Function),Kt("design:paramtypes",[Object]),Kt("design:returntype",void 0)],Ai.prototype,"setState",null);let hC=(()=>{class t{constructor(){this._draggedElement=null}set(e){this._draggedElement=e}get(){return this._draggedElement}isDragging(){return!!this.get()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var od=function(t,n,e,i){var s,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,i);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(n,e,o):s(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o},vs=function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)};let ml=(()=>{class t{constructor(e){this.treeModel=e,this.yBlocks=0,this.x=0,this.viewportHeight=null,this.viewport=null,e.virtualScroll=this,this._dispose=[tm(()=>this.fixScroll())]}get y(){return 150*this.yBlocks}get totalHeight(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0}fireEvent(e){this.treeModel.fireEvent(e)}init(){const e=this.recalcPositions.bind(this);e(),this._dispose=[...this._dispose,bh(()=>this.treeModel.roots,e),bh(()=>this.treeModel.expandedNodeIds,e),bh(()=>this.treeModel.hiddenNodeIds,e)],this.treeModel.subscribe(Wo.loadNodeChildren,e)}isEnabled(){return this.treeModel.options.useVirtualScroll}_setYBlocks(e){this.yBlocks=e}recalcPositions(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)}_getPositionAfter(e,i){let r=i;return e.forEach(o=>{o.position=r,r=this._getPositionAfterNode(o,r)}),r}_getPositionAfterNode(e,i){let r=e.getSelfHeight()+i;return e.children&&e.isExpanded&&(r=this._getPositionAfter(e.visibleChildren,r)),e.height=r-i,r}clear(){this._dispose.forEach(e=>e())}setViewport(e){Object.assign(this,{viewport:e,x:e.scrollLeft,yBlocks:Math.round(e.scrollTop/150),viewportHeight:e.getBoundingClientRect?e.getBoundingClientRect().height:0})}scrollIntoView(e,i,r=!0){if(e.options.scrollContainer){const o=e.options.scrollContainer,s=o.getBoundingClientRect().height,c=o.getBoundingClientRect().top,v=this.viewport.getBoundingClientRect().top+e.position-c;(i||v<o.scrollTop||v+e.getSelfHeight()>o.scrollTop+s)&&(o.scrollTop=r?v-s/2:v)}else(i||e.position<this.y||e.position+e.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=r?e.position-this.viewportHeight/2:e.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/150)))}getViewportNodes(e){if(!e)return[];const i=e.filter(v=>!v.isHidden);if(!this.isEnabled())return i;if(!this.viewportHeight||!i.length)return[];const r=i.slice(-1)[0];if(!r.height&&0===r.position)return[];const o=kq(i,v=>v.position+500>this.y||v.position+v.height>this.y),s=kq(i,v=>v.position-500>this.y+this.viewportHeight,o),c=[];for(let v=o;v<=s;v++)c.push(i[v]);return c}fixScroll(){const e=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>e&&this._setYBlocks(e/150)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Ai))},t.\u0275prov=tt({token:t,factory:t.\u0275fac}),t})();function kq(t,n,e=0){let i=e,r=t.length-1;for(;i!==r;){let o=Math.floor((i+r)/2);n(t[o])?r=o:i=i===o?r:o}return i}od([Zi,vs("design:type",Object)],ml.prototype,"yBlocks",void 0),od([Zi,vs("design:type",Object)],ml.prototype,"x",void 0),od([Zi,vs("design:type",Object)],ml.prototype,"viewportHeight",void 0),od([gs,vs("design:type",Object),vs("design:paramtypes",[])],ml.prototype,"y",null),od([gs,vs("design:type",Object),vs("design:paramtypes",[])],ml.prototype,"totalHeight",null),od([Fi,vs("design:type",Function),vs("design:paramtypes",[Object]),vs("design:returntype",void 0)],ml.prototype,"_setYBlocks",null),od([Fi,vs("design:type",Function),vs("design:paramtypes",[]),vs("design:returntype",void 0)],ml.prototype,"recalcPositions",null),od([Fi,vs("design:type",Function),vs("design:paramtypes",[Object]),vs("design:returntype",void 0)],ml.prototype,"setViewport",null),od([Fi,vs("design:type",Function),vs("design:paramtypes",[Object,Object,Object]),vs("design:returntype",void 0)],ml.prototype,"scrollIntoView",null);let PJe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["tree-loading-component"]],inputs:{template:"template",node:"node"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(Me(0,cJe,2,0,"span",0),wr(1,1)),2&e&&(X("ngIf",!i.template),Q(),X("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Wn(3,aJe,i.node)))},dependencies:[yn,ho],encapsulation:2}),t})(),zJe=(()=>{class t{constructor(e,i){this.elementRef=e,this.virtualScroll=i,this.setViewport=this.throttle(()=>{this.virtualScroll.setViewport(this.elementRef.nativeElement)},17),this.scrollEventHandler=this.setViewport.bind(this)}ngOnInit(){this.virtualScroll.init()}ngAfterViewInit(){setTimeout(()=>{this.setViewport(),this.virtualScroll.fireEvent({eventName:Wo.initialized})}),this.elementRef.nativeElement.addEventListener("scroll",this.scrollEventHandler)}ngOnDestroy(){this.virtualScroll.clear(),this.elementRef.nativeElement.removeEventListener("scroll",this.scrollEventHandler)}getTotalHeight(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"}throttle(e,i){let r=0;return function(){let o=Date.now();o-r>=i&&(e(),r=o)}}}return t.\u0275fac=function(e){return new(e||t)(ve(Ht),ve(ml))},t.\u0275cmp=rt({type:t,selectors:[["tree-viewport"]],features:[Nn([ml])],ngContentSelectors:lJe,decls:1,vars:2,consts:[[4,"treeMobxAutorun"]],template:function(e,i){1&e&&(xr(),Me(0,dJe,3,2,"ng-container",0)),2&e&&X("treeMobxAutorun",_i(1,wh))},dependencies:[xh],encapsulation:2}),t})(),$Je=(()=>{class t{constructor(e,i,r){this.renderer=e,this.templateRef=i,this.viewContainerRef=r}set isOpen(e){e?(this._show(),this.isEnabled&&!1===this._isOpen&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!e}_show(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])}_hide(){this.viewContainerRef.clear(),this.innerElement=null}_animateOpen(){let e=this.animateSpeed,i=this.animateAcceleration,r=0;this.renderer.setStyle(this.innerElement,"max-height","0"),setTimeout(()=>{const o=setInterval(()=>{if(!this._isOpen||!this.innerElement)return clearInterval(o);r+=e;const s=Math.round(r);this.renderer.setStyle(this.innerElement,"max-height",`${s}px`);const c=this.innerElement.getBoundingClientRect?this.innerElement.getBoundingClientRect().height:0;e*=i,i*=1.005,c<s&&(this.renderer.setStyle(this.innerElement,"max-height",null),clearInterval(o))},17)})}_animateClose(){if(!this.innerElement)return;let e=this.animateSpeed,i=this.animateAcceleration,r=this.innerElement.getBoundingClientRect().height;const o=setInterval(()=>{if(this._isOpen||!this.innerElement)return clearInterval(o);r-=e,this.renderer.setStyle(this.innerElement,"max-height",`${r}px`),e*=i,i*=1.005,r<=0&&(this.viewContainerRef.clear(),this.innerElement=null,clearInterval(o))},17)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ja),ve(Hi),ve(Vr))},t.\u0275dir=ot({type:t,selectors:[["","treeAnimateOpen",""]],inputs:{animateSpeed:[Mt.None,"treeAnimateOpenSpeed","animateSpeed"],animateAcceleration:[Mt.None,"treeAnimateOpenAcceleration","animateAcceleration"],isEnabled:[Mt.None,"treeAnimateOpenEnabled","isEnabled"],isOpen:[Mt.None,"treeAnimateOpen","isOpen"]}}),t})();const Nq="is-dragging-over",Rq="is-dragging-over-disabled";let pC=(()=>{class t{constructor(e,i,r,o){this.el=e,this.renderer=i,this.treeDraggedElement=r,this.ngZone=o,this.allowDragoverStyling=!0,this.onDropCallback=new mt,this.onDragOverCallback=new mt,this.onDragLeaveCallback=new mt,this.onDragEnterCallback=new mt,this._allowDrop=(s,c)=>!0,this.dragOverEventHandler=this.onDragOver.bind(this),this.dragEnterEventHandler=this.onDragEnter.bind(this),this.dragLeaveEventHandler=this.onDragLeave.bind(this)}set treeAllowDrop(e){this._allowDrop=e instanceof Function?e:(i,r)=>e}allowDrop(e){return this._allowDrop(this.treeDraggedElement.get(),e)}ngAfterViewInit(){let e=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{e.addEventListener("dragover",this.dragOverEventHandler),e.addEventListener("dragenter",this.dragEnterEventHandler),e.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){let e=this.el.nativeElement;e.removeEventListener("dragover",this.dragOverEventHandler),e.removeEventListener("dragenter",this.dragEnterEventHandler),e.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragOver(e){if(!this.allowDrop(e))return this.allowDragoverStyling?this.addDisabledClass():void 0;this.onDragOverCallback.emit({event:e,element:this.treeDraggedElement.get()}),e.preventDefault(),this.allowDragoverStyling&&this.addClass()}onDragEnter(e){this.allowDrop(e)&&(e.preventDefault(),this.onDragEnterCallback.emit({event:e,element:this.treeDraggedElement.get()}))}onDragLeave(e){if(!this.allowDrop(e))return this.allowDragoverStyling?this.removeDisabledClass():void 0;this.onDragLeaveCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass()}onDrop(e){this.allowDrop(e)&&(e.preventDefault(),this.onDropCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass(),this.treeDraggedElement.set(null))}addClass(){this.renderer.addClass(this.el.nativeElement,Nq)}removeClass(){this.renderer.removeClass(this.el.nativeElement,Nq)}addDisabledClass(){this.renderer.addClass(this.el.nativeElement,Rq)}removeDisabledClass(){this.renderer.removeClass(this.el.nativeElement,Rq)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ht),ve(Ja),ve(hC),ve(on))},t.\u0275dir=ot({type:t,selectors:[["","treeDrop",""]],hostBindings:function(e,i){1&e&&ze("drop",function(o){return i.onDrop(o)})},inputs:{allowDragoverStyling:"allowDragoverStyling",treeAllowDrop:"treeAllowDrop"},outputs:{onDropCallback:"treeDrop",onDragOverCallback:"treeDropDragOver",onDragLeaveCallback:"treeDropDragLeave",onDragEnterCallback:"treeDropDragEnter"}}),t})(),Fq=(()=>{class t{onDrop(e){this.node.mouseAction("drop",e.event,{from:e.element,to:{parent:this.node,index:this.dropIndex}})}allowDrop(e,i){return this.node.options.allowDrop(e,{parent:this.node,index:this.dropIndex},i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["TreeNodeDropSlot"],["tree-node-drop-slot"]],inputs:{node:"node",dropIndex:"dropIndex"},decls:1,vars:2,consts:[[1,"node-drop-slot",3,"treeDrop","treeAllowDrop","allowDragoverStyling"]],template:function(e,i){1&e&&(ee(0,"div",0),ze("treeDrop",function(o){return i.onDrop(o)}),ie()),2&e&&X("treeAllowDrop",i.allowDrop.bind(i))("allowDragoverStyling",!0)},dependencies:[pC],encapsulation:2}),t})(),BJe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["tree-node-checkbox"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["type","checkbox",1,"tree-node-checkbox",3,"click","checked","indeterminate"]],template:function(e,i){1&e&&Me(0,uJe,2,2,"ng-container",0),2&e&&X("treeMobxAutorun",_i(1,wh))},dependencies:[xh],encapsulation:2}),t})(),Pq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["tree-node-expander"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["class","toggle-children-wrapper",3,"toggle-children-wrapper-expanded","toggle-children-wrapper-collapsed","click",4,"ngIf"],["class","toggle-children-placeholder",4,"ngIf"],[1,"toggle-children-wrapper",3,"click"],[1,"toggle-children"],[1,"toggle-children-placeholder"]],template:function(e,i){1&e&&Me(0,pJe,3,2,"ng-container",0),2&e&&X("treeMobxAutorun",_i(1,wh))},dependencies:[xh,yn],encapsulation:2}),t})(),zq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["tree-node-content"]],inputs:{node:"node",index:"index",template:"template"},decls:2,vars:7,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(Me(0,gJe,2,1,"span",0),wr(1,1)),2&e&&(X("ngIf",!i.template),Q(),X("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Wc(3,mJe,i.node,i.node,i.index)))},dependencies:[yn,ho],encapsulation:2}),t})(),$q=(()=>{class t{constructor(e,i,r,o){this.el=e,this.renderer=i,this.treeDraggedElement=r,this.ngZone=o,this.dragEventHandler=this.onDrag.bind(this)}ngAfterViewInit(){let e=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{e.addEventListener("drag",this.dragEventHandler)})}ngDoCheck(){this.renderer.setAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")}ngOnDestroy(){this.el.nativeElement.removeEventListener("drag",this.dragEventHandler)}onDragStart(e){e.dataTransfer.setData("text",e.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",e)}onDrag(e){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",e)}onDragEnd(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ht),ve(Ja),ve(hC),ve(on))},t.\u0275dir=ot({type:t,selectors:[["","treeDrag",""]],hostBindings:function(e,i){1&e&&ze("dragstart",function(o){return i.onDragStart(o)})("dragend",function(){return i.onDragEnd()})},inputs:{draggedElement:[Mt.None,"treeDrag","draggedElement"],treeDragEnabled:"treeDragEnabled"}}),t})(),HJe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["tree-node-wrapper"]],inputs:{node:"node",index:"index",templates:"templates"},decls:2,vars:8,consts:[["class","node-wrapper",3,"padding-left",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-wrapper"],[3,"node",4,"ngIf"],[3,"node"],[1,"node-content-wrapper",3,"click","dblclick","mouseover","mouseout","contextmenu","treeDrop","treeDropDragOver","treeDropDragLeave","treeDropDragEnter","treeAllowDrop","allowDragoverStyling","treeDrag","treeDragEnabled"],[3,"node","index","template"]],template:function(e,i){1&e&&(Me(0,_Je,5,15,"div",0),wr(1,1)),2&e&&(X("ngIf",!i.templates.treeNodeWrapperTemplate),Q(),X("ngTemplateOutlet",i.templates.treeNodeWrapperTemplate)("ngTemplateOutletContext",U6(3,Aq,i.node,i.node,i.index,i.templates)))},dependencies:[BJe,Pq,zq,yn,$q,pC,ho],encapsulation:2}),t})();var $5=function(t,n,e,i){var s,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,i);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(n,e,o):s(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o},nu=function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)};let Bq=(()=>{class t{constructor(){this._dispose=[]}get nodes(){return this._nodes}set nodes(e){this.setNodes(e)}get marginTop(){const e=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return(e&&e.parent?e.position-e.parent.position-e.parent.getSelfHeight():0)+"px"}setNodes(e){this._nodes=e}ngOnInit(){this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[bh(()=>this.virtualScroll.getViewportNodes(this.nodes).map(e=>e.index),e=>{this.viewportNodes=e.map(i=>this.nodes[i])},{compareStructural:!0,fireImmediately:!0}),bh(()=>this.nodes,e=>{this.viewportNodes=this.virtualScroll.getViewportNodes(e)})]}ngOnDestroy(){this._dispose.forEach(e=>e())}trackNode(e,i){return i.id}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["tree-node-collection"]],inputs:{nodes:"nodes",treeModel:"treeModel",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"node","index","templates",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","index","templates"]],template:function(e,i){1&e&&Me(0,yJe,3,4,"ng-container",0),2&e&&X("treeMobxAutorun",_i(1,wh))},dependencies:()=>[VJe,xh,bi],encapsulation:2}),$5([Zi,nu("design:type",Object)],t.prototype,"_nodes",void 0),$5([Zi,nu("design:type",Array)],t.prototype,"viewportNodes",void 0),$5([gs,nu("design:type",String),nu("design:paramtypes",[])],t.prototype,"marginTop",null),$5([Fi,nu("design:type",Function),nu("design:paramtypes",[Object]),nu("design:returntype",void 0)],t.prototype,"setNodes",null),t})(),UJe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["tree-node-children"]],inputs:{node:"node",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"tree-children","tree-children-no-padding",4,"treeAnimateOpen","treeAnimateOpenSpeed","treeAnimateOpenAcceleration","treeAnimateOpenEnabled"],[3,"nodes","templates","treeModel",4,"ngIf"],["class","tree-node-loading",3,"padding-left","template","node",4,"ngIf"],[3,"nodes","templates","treeModel"],[1,"tree-node-loading",3,"template","node"]],template:function(e,i){1&e&&Me(0,MJe,2,4,"ng-container",0),2&e&&X("treeMobxAutorun",_i(1,wh))},dependencies:[Bq,PJe,xh,$Je,yn],encapsulation:2}),t})(),VJe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=rt({type:t,selectors:[["TreeNode"],["tree-node"]],inputs:{node:"node",index:"index",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"class","tree-node","tree-node-expanded","tree-node-collapsed","tree-node-leaf","tree-node-active","tree-node-focused",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dropIndex","node",4,"ngIf"],[3,"node","index","templates"],[3,"node","templates"],[3,"dropIndex","node"]],template:function(e,i){1&e&&Me(0,EJe,3,8,"ng-container",0),2&e&&X("treeMobxAutorun",_i(1,wh))},dependencies:[Fq,HJe,UJe,xh,yn,ho],encapsulation:2}),t})(),jJe=(()=>{class t{constructor(e,i){this.treeModel=e,this.treeDraggedElement=i,e.eventNames.forEach(r=>this[r]=new mt),e.subscribeToState(r=>this.stateChange.emit(r))}set nodes(e){}set options(e){}set focused(e){this.treeModel.setFocus(e)}set state(e){this.treeModel.setState(e)}onKeydown(e){if(!this.treeModel.isFocused||["input","textarea"].includes(document.activeElement.tagName.toLowerCase()))return;const i=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(i,e)}onMousedown(e){(function i(r,o){return!r||r.localName!==o&&i(r.parentElement,o)})(e.target,"tree-root")&&this.treeModel.setFocus(!1)}ngOnChanges(e){(e.options||e.nodes)&&this.treeModel.setData({options:e.options&&e.options.currentValue,nodes:e.nodes&&e.nodes.currentValue,events:this.pick(this,this.treeModel.eventNames)})}sizeChanged(){this.viewportComponent.setViewport()}pick(e,i){return i.reduce((r,o)=>(e&&e.hasOwnProperty(o)&&(r[o]=e[o]),r),{})}}return t.\u0275fac=function(e){return new(e||t)(ve(Ai),ve(hC))},t.\u0275cmp=rt({type:t,selectors:[["Tree"],["tree-root"]],contentQueries:function(e,i,r){if(1&e&&(ai(r,LJe,5),ai(r,AJe,5),ai(r,DJe,5),ai(r,IJe,5)),2&e){let o;Et(o=Lt())&&(i.loadingTemplate=o.first),Et(o=Lt())&&(i.treeNodeTemplate=o.first),Et(o=Lt())&&(i.treeNodeWrapperTemplate=o.first),Et(o=Lt())&&(i.treeNodeFullTemplate=o.first)}},viewQuery:function(e,i){if(1&e&&Ln(kJe,5),2&e){let r;Et(r=Lt())&&(i.viewportComponent=r.first)}},hostBindings:function(e,i){1&e&&ze("keydown",function(o){return i.onKeydown(o)},0,r6)("mousedown",function(o){return i.onMousedown(o)},!1,r6)},inputs:{nodes:"nodes",options:"options",focused:"focused",state:"state"},outputs:{toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",updateData:"updateData",initialized:"initialized",moveNode:"moveNode",copyNode:"copyNode",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",event:"event",stateChange:"stateChange"},features:[Nn([Ai]),si],decls:5,vars:6,consts:[["viewport",""],[1,"angular-tree-component"],[3,"nodes","treeModel","templates",4,"ngIf"],["class","empty-tree-drop-slot",3,"dropIndex","node",4,"ngIf"],[3,"nodes","treeModel","templates"],[1,"empty-tree-drop-slot",3,"dropIndex","node"]],template:function(e,i){1&e&&(ee(0,"tree-viewport",null,0)(2,"div",1),Me(3,NJe,1,8,"tree-node-collection",2)(4,RJe,1,2,"tree-node-drop-slot",3),ie()()),2&e&&(Q(2),At("node-dragging",i.treeDraggedElement.isDragging())("angular-tree-component-rtl",i.treeModel.options.rtl),Q(),X("ngIf",i.treeModel.roots),Q(),X("ngIf",i.treeModel.isEmptyTree()))},dependencies:[zJe,Bq,Fq,yn],encapsulation:2}),t})(),WJe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=an({type:t}),t.\u0275inj=qt({providers:[],imports:[[ka]]}),t})();const GJe=["searchBox"],mC=()=>({standalone:!0});function YJe(t,n){if(1&t){const e=lt();ee(0,"li")(1,"label",10)(2,"input",17),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.targetLocation,r)||(o.targetLocation=r),Ee(r)}),ie(),ye(3," As a child of target item. "),ie()()}if(2&t){const e=oe();Q(2),ki("ngModel",e.targetLocation),X("ngModelOptions",_i(2,mC))}}let qJe=(()=>{class t{constructor(e){this.activeModal=e,this.targetLocation="AFTER",this.focus$=new xt,this.click$=new xt,this.sources=[],this.search=i=>{const r=i.pipe(ol(100),Tc()),o=this.click$.pipe(er(()=>!this.searchBox.isPopupOpen()));return ma(r,this.focus$,o).pipe(Mn(c=>this.sources.filter(v=>(""===c||v.data.text.toLowerCase().includes(c.toLowerCase()))&&("CHILD"!==this.targetLocation||"display"!==v.data.type))))}}ngOnInit(){this.self=this,this.item.treeComponent.treeModel.doForAll(e=>{this.node.id!==e.id&&this.sources.push(e)}),this.title=`${this.mode} - ${this.resultFormatter(this.node)}`}formatter(e){return Bt.formatNodeForDisplay(e)}resultFormatter(e){return Bt.truncateString(Bt.formatNodeForDisplay(e),50)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-node-dialog"]],viewQuery:function(i,r){if(1&i&&Ln(GJe,5),2&i){let o;Et(o=Lt())&&(r.searchBox=o.first)}},inputs:{node:"node",item:"item",mode:"mode"},decls:28,vars:16,consts:[["searchBox","ngbTypeahead"],[1,"modal-header","bg-primary"],["id","modal-move-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click","keydown.enter"],[1,"modal-body"],[1,"form-group"],["for","moveTarget1",1,""],["name","name","id","moveTarget1","type","text","popupClass","add-scrolling",1,"form-control",3,"ngModelChange","focus","click","ngModel","ngbTypeahead","editable","inputFormatter","resultFormatter"],["id","dropLocationRadioGroupLabel",1,"mt-4"],["aria-labelledby","dropLocationRadioGroupLabel","role","radiogroup",1,"list-unstyled","ms-5"],[1,"btn"],["value","AFTER","type","radio","name","targetLocation",3,"ngModelChange","ngModel","ngModelOptions"],["value","BEFORE","type","radio","name","targetLocation",3,"ngModelChange","ngModel","ngModelOptions"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"keydown.enter","click"],["type","button",1,"btn","btn-primary",3,"click","keydown.enter","disabled"],["value","CHILD","type","radio","name","targetLocation",3,"ngModelChange","ngModel","ngModelOptions"]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",1)(1,"h4",2),ye(2),ie(),ee(3,"button",3),ze("click",function(){return Se(o),Ee(r.activeModal.dismiss(!1))})("keydown.enter",function(){return Se(o),Ee(r.activeModal.dismiss(!1))}),ie()(),ee(4,"div",4)(5,"form")(6,"div",5)(7,"label",6),ye(8),ie(),ee(9,"input",7,0),Oi("ngModelChange",function(c){return Se(o),Vi(r.targetNode,c)||(r.targetNode=c),Ee(c)}),ze("focus",function(c){return Se(o),Ee(r.focus$.next(c.target.value))})("click",function(c){return Se(o),Ee(r.click$.next(c.target.value))}),ie(),ee(11,"p",8),ye(12,"Specify drop location:"),ie(),ee(13,"ul",9)(14,"li")(15,"label",10)(16,"input",11),Oi("ngModelChange",function(c){return Se(o),Vi(r.targetLocation,c)||(r.targetLocation=c),Ee(c)}),ie(),ye(17," After the target item. "),ie()(),ee(18,"li")(19,"label",10)(20,"input",12),Oi("ngModelChange",function(c){return Se(o),Vi(r.targetLocation,c)||(r.targetLocation=c),Ee(c)}),ie(),ye(21," Before the target item. "),ie()(),Me(22,YJe,4,3,"li",13),ie()()()(),ee(23,"div",14)(24,"button",15),ze("keydown.enter",function(){return Se(o),Ee(r.activeModal.dismiss(!1))})("click",function(){return Se(o),Ee(r.activeModal.dismiss(!1))}),ye(25,"Cancel"),ie(),ee(26,"button",16),ze("click",function(){return Se(o),Ee(r.activeModal.close({target:r.targetNode,location:r.targetLocation}))})("keydown.enter",function(){return Se(o),Ee(r.activeModal.close({target:r.targetNode,location:r.targetLocation}))}),ye(27),ie()()}2&i&&(Q(2),It(r.title),Q(6),Qn("Pick a target item to ",r.mode.toLocaleLowerCase()," to:"),Q(),ki("ngModel",r.targetNode),X("ngbTypeahead",r.search)("editable",!1)("inputFormatter",r.formatter)("resultFormatter",r.resultFormatter),Q(7),ki("ngModel",r.targetLocation),X("ngModelOptions",_i(14,mC)),Q(4),ki("ngModel",r.targetLocation),X("ngModelOptions",_i(15,mC)),Q(2),X("ngIf","display"!==(null==r.targetNode||null==r.targetNode.data?null:r.targetNode.data.type)),Q(4),X("disabled",r.targetNode?null:"disabled"),Q(),Qn("",r.mode," "))},dependencies:[yn,Sf,di,Ls,ei,Cf,ro,Zd,Pf],styles:[".node-content-wrapper[_ngcontent-%COMP%]{width:100%;background-color:#f5f5f5}.node-display-field[_ngcontent-%COMP%]{width:0}.node-content-wrapper-active[_ngcontent-%COMP%], .node-content-wrapper-focused[_ngcontent-%COMP%]{background-color:#d3d3d3}.node-content-wrapper[_ngcontent-%COMP%]:hover{background-color:#fafad2}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;z-index:1000;top:40%;left:0;opacity:.5;filter:alpha(opacity=50)}.sidenav-header[_ngcontent-%COMP%]{background-color:gray;color:#fff}.node-display-prefix[_ngcontent-%COMP%]{font-weight:700;margin-right:1ch}.mat-sidenav[_ngcontent-%COMP%]{width:25%;padding:10px}[_nghost-%COMP%]     .mat-drawer-inner-container{overflow:hidden!important}.mat-sidenav-content[_ngcontent-%COMP%]{padding:5px}.mat-tab-body[_ngcontent-%COMP%]{background-color:#fff}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.json-radio-group[_ngcontent-%COMP%]{display:flex;margin:5px 0}.json-radio-button[_ngcontent-%COMP%]{margin:5px}.search-box[_ngcontent-%COMP%]{font-size:small;width:100%;align-items:end}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]:hover{background-color:#fff}.not-allowed-tooltip[_ngcontent-%COMP%]{position:absolute;padding:5px 10px;background-color:#797272;color:#fff;font-size:12px;border-radius:3px;pointer-events:none;white-space:nowrap;z-index:1500!important}"],changeDetection:0})}return t})(),gC=(()=>{class t{static#e=this.LINKID_PATTERN=/^[^\s]+(\s[^\s]+)*$/;constructor(e){this.formService=e,this.validators={"/type":this.validateType.bind(this),"/enableWhen":this.validateEnableWhenAll.bind(this),"/linkId":this.validateLinkId.bind(this)}}validateAllItems(e,i=0){const r=[],o=Object.keys(this.validators),s=this;for(let c=i;c<e.length;c++){const v=JSON.parse(JSON.stringify(e[c].data));v.id=""+v[Hn.TREE_NODE_ID];for(let C=0;C<o.length;C++){const N=o[C];r.push(new Promise(G=>{setTimeout(()=>{v.cannoncial=N,v.canonicalPathNotation=s.convertToDotNotationPath(N),v.value=v[s.getLastPathSegment(v.canonicalPathNotation)];const se=s.validators[N](v,!1);G(se||{})},0)}))}}return Promise.all(r)}createEnableWhenValidationObj(e,i,r,o){const s=this.formService.getTreeNodeByLinkId(r.question);let c="";s&&(c=s.data.type);const v=Bt.getAnswerFieldName(c||"string");return{id:e,linkId:i,conditionKey:""+o,q:this.createEnableWhenFieldValidationObject(r,"question",o),aType:c,op:this.createEnableWhenFieldValidationObject(r,"operator",o),aField:v,answerX:this.createEnableWhenFieldValidationObject(r,v,o),operatorOptions:this.formService.getEnableWhenOperatorListByAnswerType(c)}}createEnableWhenFieldValidationObject(e,i,r){return{canonicalPath:`/enableWhen/${r}/${i}`,canonicalPathNotation:`enableWhen.${r}.${i}`,value:e[i]}}handleLinkIdValidationResult(e,i,r,o,s){let c=null;!s&&i||s&&!o?c=this.formService.getNodeIdsByLinkId(i):(e&&this.formService.updateLinkIdForLinkIdTracker(i,o,r),c=this.formService.getNodeIdsByLinkId(o)),c&&(!s&&c.length<3||s)?c.forEach(v=>{this.formService.updateValidationStatus(v,v!==r&&i?i:o,"linkId",s)}):this.formService.updateValidationStatus(r,o,"linkId",s),e||this.formService.updateLinkIdForLinkIdTracker(i,o,r)}convertToDotNotationPath(e){return e.replace(/^\/+|\/+$/g,"").replace(/\//g,".")}getLastPathSegment(e){return(e||"").split(".").pop()}validateType(e,i=!0){let r=[];const o=e.value;if("display"!==o&&!i)return null;if("display"===o){if(!e.id)return null;const s=this.formService.getTreeNodeById(e.id);if(s.data?.item?.length>0){const v={code:"INVALID_TYPE"};v.path=`#${e.canonicalPathNotation}`,v.indexPath=Bt.getIndexPath(s).join("."),v.message=`'${e.value}' data type cannot contain sub-items.`,v.params=[{linkId:e.linkId,id:e.id,field:e.canonicalPathNotation}],r.push(v)}}return r.length||(r=null),(i||r)&&this.formService.updateValidationStatus(e.id,e.linkId,this.getLastPathSegment(e.canonicalPathNotation),r),r}validateEnableWhenAll(e,i=!0){let r=[];return e.id&&e.value?(e.value.forEach((s,c)=>{const v=this.createEnableWhenValidationObj(e.id,e.linkId,s,c);if(!v)return null;const C=this.validateEnableWhenSingle(v,i);C&&(r=r||[],r.push(C))}),r):null}validateEnableWhenSingle(e,i=!0){let r=[];if(e.q?.value?.trim().length>0&&e.op?.value.length>0){const o=e.answerX?.value,s=this.formService.getTreeNodeById(e.id),c=Bt.getIndexPath(s).join(".");if(e.aType)if(e?.op&&e.operatorOptions.some(C=>C.option===e.op.value)){if(e.answerX&&Bt.isEmpty(o)&&"exists"!==e.op?.value){const C="ENABLEWHEN_ANSWER_REQUIRED",N={};N.code=C,N.path=`#${e.answerX.canonicalPathNotation}`,N.message="Answer field is required when you choose an operator other than 'Not empty' or 'Empty'.";const G=JSON.stringify(o);N.params=[e.q.value,e.op.value,G],r.push(N),i&&(e.answerX._errors?.findIndex(le=>le.code===C)>=0||e.answerX.extendErrors(N))}}else{const C="ENABLEWHEN_INVALID_OPERATOR",N={};N.code=C,N.path=`#${e.op.canonicalPathNotation}`,N.message=`Invalid operator '${e.op.value}' for type '${e.aType}'.`;const G=JSON.stringify(o);N.params=[e.q.value,e.op.value,G],r.push(N),i&&(e.op._errors?.findIndex(le=>le.code===C)>=0||e.op.extendErrors(N))}else{const v="ENABLEWHEN_INVALID_QUESTION",C={};C.code=v,C.path=`#${e.q.canonicalPathNotation}`,C.message=`Question not found for the linkId '${e.q.value}'.`,C.indexPath=c;const N=JSON.stringify(o);C.params=[e.q.value,e.op.value,N],r.push(C),i&&(e.q._errors?.findIndex(se=>se.code===v)>=0||e.q.extendErrors(C))}}return r.length||(r=null),(i||r)&&this.formService.updateValidationStatus(e.id,e.linkId,`enableWhen_${e.conditionKey}`,r),r}validateLinkId(e,i=!0){let r=[],o=!1;const s=this.formService.getTreeNodeById(e.id),c=Bt.getIndexPath(s).join(".");if(e.value)if(t.LINKID_PATTERN.test(e.value)){if(this.formService.treeNodeHasDuplicateLinkIdByLinkIdTracker(e.value,e.id)){o=!0;const C={code:"DUPLICATE_LINK_ID"};C.path=`#${e.canonicalPathNotation}`,C.indexPath=c,C.message="Entered linkId is already used.",C.params=[{linkId:e.value,id:e.id,field:e.canonicalPathNotation}],r.push(C)}else if(e.value.length>255){const C={code:"MAX_LENGTH"};C.path=`#${e.canonicalPathNotation}`,C.indexPath=c,C.message="LinkId cannot exceed 255 characters.",C.params=[{linkId:e.value,id:e.id,field:e.canonicalPathNotation}],r.push(C)}}else{const C={code:"PATTERN"};C.path=`#${e.canonicalPathNotation}`,C.indexPath=c,C.message="Spaces are not allowed at the beginning or end, and only a single space is allowed between words.",C.params=[{linkId:e.value,id:e.id,field:e.canonicalPathNotation}],r.push(C)}else{const C={code:"REQUIRED"};C.path=`#${e.canonicalPathNotation}`,C.indexPath=c,C.message="Link Id is required.",C.params=[{linkId:e.prevLinkId,id:e.id,field:e.canonicalPathNotation}],r.push(C)}return r.length||(r=null),(i||r)&&this.handleLinkIdValidationResult(o,e.prevLinkId,e.id,e.value,r),r}static#t=this.\u0275fac=function(i){return new(i||t)(Xe(Hn))};static#n=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hq=(()=>{class t{constructor(){this._nodeFocus=new xt}get nodeFocus(){return this._nodeFocus}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const B5=["*"],KJe=["content"],ZJe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],QJe=["mat-drawer","mat-drawer-content","*"];function XJe(t,n){if(1&t){const e=lt();ee(0,"div",1),ze("click",function(){return Se(e),Ee(oe()._onBackdropClicked())}),ie()}2&t&&At("mat-drawer-shown",oe()._isShowingBackdrop())}function JJe(t,n){1&t&&(ee(0,"mat-drawer-content"),pi(1,2),ie())}const eet=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],tet=["mat-sidenav","mat-sidenav-content","*"];function net(t,n){if(1&t){const e=lt();ee(0,"div",1),ze("click",function(){return Se(e),Ee(oe()._onBackdropClicked())}),ie()}2&t&&At("mat-drawer-shown",oe()._isShowingBackdrop())}function iet(t,n){1&t&&(ee(0,"mat-sidenav-content"),pi(1,2),ie())}const Uq={transformDrawer:Ra("transform",[so("open, open-instant",yi({transform:"none",visibility:"visible"})),so("void",yi({"box-shadow":"none",visibility:"hidden"})),Lo("void => open-instant",Eo("0ms")),Lo("void <=> open, open-instant => void",Eo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},oet=new at("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function set(){return!1}}),vC=new at("MAT_DRAWER_CONTAINER");let H5=(()=>{class t extends Jf{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Si),ve(Ie(()=>jq)),ve(Ht),ve(Dp),ve(on))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&yc("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[Nn([{provide:Jf,useExisting:t}]),Ct,Xn],ngContentSelectors:B5,decls:1,vars:0,template:function(i,r){1&i&&(xr(),pi(0))},encapsulation:2,changeDetection:0})}return t})(),Vq=(()=>{class t{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=na(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=na(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(na(e))}constructor(e,i,r,o,s,c,v,C){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=c,this._doc=v,this._container=C,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new xt,this._animationEnd=new xt,this._animationState="void",this.openedChange=new mt(!0),this._openedStream=this.openedChange.pipe(er(N=>N),Mn(()=>{})),this.openedStart=this._animationStarted.pipe(er(N=>N.fromState!==N.toState&&0===N.toState.indexOf("open")),Db(void 0)),this._closedStream=this.openedChange.pipe(er(N=>!N),Mn(()=>{})),this.closedStart=this._animationStarted.pipe(er(N=>N.fromState!==N.toState&&"void"===N.toState),Db(void 0)),this._destroyed=new xt,this.onPositionChanged=new mt,this._modeChanged=new xt,this.openedChange.subscribe(N=>{N?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Lr(this._elementRef.nativeElement,"keydown").pipe(er(N=>27===N.keyCode&&!this.disableClose&&!rl(N)),Vn(this._destroyed)).subscribe(N=>this._ngZone.run(()=>{this.close(),N.stopPropagation(),N.preventDefault()}))}),this._animationEnd.pipe(Tc((N,G)=>N.fromState===G.fromState&&N.toState===G.toState)).subscribe(N=>{const{fromState:G,toState:se}=N;(0===se.indexOf("open")&&"void"===G||"void"===se&&0===G.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ar(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve($w),ve(d2),ve(go),ve(on),ve(U8),ve(zn,8),ve(vC,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&Ln(KJe,5),2&i){let o;Et(o=Lt())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&N9("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(D9("@transform",r._animationState),Ye("align",null),At("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Xn],ngContentSelectors:B5,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){1&i&&(xr(),ee(0,"div",1,0),pi(2),ie())},dependencies:[Jf],encapsulation:2,data:{animation:[Uq.transformDrawer]},changeDetection:0})}return t})(),jq=(()=>{class t{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=na(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:na(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,s,c=!1,v){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=v,this._drawers=new Rl,this.backdropClick=new mt,this._destroyed=new xt,this._doCheckSubject=new xt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new xt,e&&e.change.pipe(Vn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Vn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=c}ngAfterContentInit(){this._allDrawers.changes.pipe(Na(this._allDrawers),Vn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Na(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ol(10),Vn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(er(i=>i.fromState!==i.toState),Vn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Vn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Vn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ar(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Vn(ma(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Dc,8),ve(Ht),ve(on),ve(Si),ve(eh),ve(oet),ve(Js,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(ai(o,H5,5),ai(o,Vq,5)),2&i){let s;Et(s=Lt())&&(r._content=s.first),Et(s=Lt())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&Ln(H5,5),2&i){let o;Et(o=Lt())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&At("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[Nn([{provide:vC,useExisting:t}]),Xn],ngContentSelectors:QJe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(xr(ZJe),Me(0,XJe,1,2,"div",0),pi(1),pi(2,1),Me(3,JJe,2,0,"mat-drawer-content")),2&i&&($n(0,r.hasBackdrop?0:-1),Q(3),$n(3,r._content?-1:3))},dependencies:[H5],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return t})(),_C=(()=>{class t extends H5{constructor(e,i,r,o,s){super(e,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Si),ve(Ie(()=>Gq)),ve(Ht),ve(Dp),ve(on))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&yc("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[Nn([{provide:Jf,useExisting:t}]),Ct,Xn],ngContentSelectors:B5,decls:1,vars:0,template:function(i,r){1&i&&(xr(),pi(0))},encapsulation:2,changeDetection:0})}return t})(),Wq=(()=>{class t extends Vq{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=na(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=c2(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=c2(e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(Ye("align",null),yc("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),At("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[Ct,Xn],ngContentSelectors:B5,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){1&i&&(xr(),ee(0,"div",1,0),pi(2),ie())},dependencies:[Jf],encapsulation:2,data:{animation:[Uq.transformDrawer]},changeDetection:0})}return t})(),Gq=(()=>{class t extends jq{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(ai(o,_C,5),ai(o,Wq,5)),2&i){let s;Et(s=Lt())&&(r._content=s.first),Et(s=Lt())&&(r._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&At("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[Nn([{provide:vC,useExisting:t}]),Ct,Xn],ngContentSelectors:tet,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(xr(eet),Me(0,net,1,2,"div",0),pi(1),pi(2,1),Me(3,iet,2,0,"mat-sidenav-content")),2&i&&($n(0,r.hasBackdrop?0:-1),Q(3),$n(3,r._content?-1:3))},dependencies:[_C],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return t})(),aet=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,u2,u2,Ci]})}return t})();function cet(t,n){if(1&t){const e=lt();ee(0,"lfb-sf-form-wrapper",2),ze("valueChange",function(r){return Se(e),Ee(oe().updateValue(r))})("errorsChanged",function(r){return Se(e),Ee(oe().onErrorsChange(r))})("validationErrorsChanged",function(r){return Se(e),Ee(oe().onValidationErrorsChange(r))}),ie()}2&t&&X("model",oe().model)}let Yq=(()=>{class t{static#e=this.ID=0;constructor(e,i){this.modelService=e,this.cdr=i,this._id=++t.ID,this.instantiate=!0,this.setLinkId=new mt,this.valueChange=new mt,this.errorsChanged=new mt,this.validationErrorsChanged=new mt}ngOnChanges(e){this.instantiate=!1,this.cdr.detectChanges(),this.instantiate=!0,this.cdr.detectChanges()}updateValue(e){this.valueChange.emit(e),this.modelService.currentItem=e}onErrorsChange(e){this.errorsChanged.next(e)}onValidationErrorsChange(e){this.validationErrorsChanged.next(e)}static#t=this.\u0275fac=function(i){return new(i||t)(ve(w5),ve(Si))};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-ngx-schema-form"]],inputs:{model:"model"},outputs:{setLinkId:"setLinkId",valueChange:"valueChange",errorsChanged:"errorsChanged",validationErrorsChanged:"validationErrorsChanged"},features:[si],decls:2,vars:1,consts:[[1,"container"],[3,"model","valueChange","errorsChanged","validationErrorsChanged",4,"ngIf"],[3,"valueChange","errorsChanged","validationErrorsChanged","model"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,cet,1,1,"lfb-sf-form-wrapper",1),ie()),2&i&&(Q(),X("ngIf",r.instantiate))},styles:["pre[_ngcontent-%COMP%]{padding:02em;border:solid 1px black;background:#eee}[_nghost-%COMP%]     sf-form-element>div{margin-top:1em;margin-bottom:1em}"]})}return t})();var bC=T(3548);const det=["itemJsonEditor"];let uet=(()=>{class t{constructor(e,i){this.dataSrv=e,this.itemSrv=i}ngAfterViewInit(){bC.config.set("fontSize","14px"),bC.config.set("basePath","https://unpkg.com/ace-builds@1.4.12/src-noconflict");const e=bC.edit(this.editorElement.nativeElement);e.setTheme("ace/theme/twilight"),e.session.setMode("ace/mode/json"),e.on("change",()=>{const i=e.getValue();i!==this.val&&(this.val=i,this.itemSrv.setObject(this.val))}),this.itemSrv.currentItem$.subscribe(i=>{i!==this.val&&(this.val=i,e.setValue((new y5).transform(this.val)))})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(ps),ve(w5))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-item-json-editor"]],viewQuery:function(i,r){if(1&i&&Ln(det,5),2&i){let o;Et(o=Lt())&&(r.editorElement=o.first)}},decls:3,vars:0,consts:[["itemJsonEditor",""],[1,"card-container"],[1,"app-ace-editor",2,"height","500px"]],template:function(i,r){1&i&&(ee(0,"div",1),Ve(1,"div",2,0),ie())},styles:[".app-ace-editor[_ngcontent-%COMP%]{border:2px solid #f8f9fa;box-shadow:0 .5rem 1rem #00000026}"]})}return t})();const fet=["tree"],het=["jsonEditor"],pet=["uiEditor"],met=["formSearch"],get=["drawer"],vet=(t,n)=>({top:t,left:n}),_et=(t,n)=>({node:t,tooltip:n}),qq=()=>({standalone:!0});function bet(t,n){if(1&t&&(ee(0,"div",32),ye(1),ie()),2&t){const e=oe();X("ngStyle",xc(2,vet,e.errorTooltip.tooltipMouseYLoc+"px",e.errorTooltip.tooltipMouseXLoc+"px")),Q(),Qn(" ",e.errorTooltip.dropErrorMessage,"\n")}}function yet(t,n){if(1&t){const e=lt();ee(0,"div",33),Ve(1,"tree-node-expander",34),ee(2,"div",35),ze("click",function(r){return Ee(Se(e).$implicit.mouseAction("click",r))})("dblclick",function(r){return Ee(Se(e).$implicit.mouseAction("dblClick",r))})("contextmenu",function(r){return Ee(Se(e).$implicit.mouseAction("contextMenu",r))})("treeDrop",function(r){return Ee(Se(e).$implicit.onDrop(r))}),Ve(3,"tree-node-content",36),ie()()}if(2&t){const e=n.$implicit,i=n.index;oe();const r=Ut(14);yc("padding-left",e.getNodePadding()),Q(),X("node",e),Q(),At("node-content-wrapper-active",e.isActive)("node-content-wrapper-focused",e.isFocused),X("treeAllowDrop",e.allowDrop)("treeDrag",e)("treeDragEnabled",e.allowDrag()),Ye("tabindex",e.isActive?"0":null)("aria-selected",e.isActive),Q(),X("node",e)("index",i)("template",r)}}function wet(t,n){1&t&&Ve(0,"fa-icon",42),2&t&&X("icon",oe(2).errorIcon)}function xet(t,n){1&t&&wr(0)}function Cet(t,n){if(1&t&&(ee(0,"div",37,7)(2,"span",38),ye(3),ie(),ee(4,"span",39),ye(5),ie(),Me(6,wet,1,1,"fa-icon",40),ye(7,"\xa0 "),Me(8,xet,1,0,"ng-container",41),ie()),2&t){const e=n.$implicit,i=Ut(1),r=oe(),o=Ut(54);X("ngClass",e.nodeClass)("matTooltip",e.displayField),Q(3),It(r.getIndexPath(e).join(".")),Q(),X("ngClass",e.nodeClass),Q(),It(e.displayField),Q(),X("ngIf",r.hasError(e)),Q(2),X("ngTemplateOutlet",o)("ngTemplateOutletContext",xc(8,_et,e,i))}}function Met(t,n){1&t&&Ve(0,"span")}function Tet(t,n){if(1&t&&(ee(0,"small",43),ye(1),ie()),2&t){const e=oe();Q(),Qn(" ",e.validationErrorsAllItemsErrorStr," ")}}function Eet(t,n){if(1&t&&(ee(0,"span"),ye(1),ie()),2&t){const e=oe();Q(),Qn("(",e.focusNode.data.text,")")}}function Let(t,n){if(1&t&&(ee(0,"small",44),ye(1),ie()),2&t){const e=oe();Q(),Qn("",e.loadingTime," seconds")}}function Aet(t,n){if(1&t&&(ee(0,"li",45),ye(1),ie()),2&t){const e=oe();Q(),It(e.errorMessage)}}function Det(t,n){if(1&t&&(ee(0,"li",45),ye(1),ie()),2&t){const e=oe();Q(),It(e.childErrorMessage)}}function Iet(t,n){if(1&t){const e=lt();Fn(0),Ve(1,"lfb-spinner",46),Da(2,"async"),ee(3,"lfb-ngx-schema-form",47,8),ze("valueChange",function(r){return Se(e),Ee(oe().itemChanged(r))})("errorsChanged",function(r){return Se(e),Ee(oe().onErrorsChanged(r))})("validationErrorsChanged",function(r){return Se(e),Ee(oe().onValidationErrorsChanged(r))}),ie(),Pn()}if(2&t){const e=oe();Q(),X("show",Ia(2,2,e.spinner$)),Q(2),X("model",e.itemData)}}function ket(t,n){1&t&&(Fn(0),Ve(1,"lfb-item-json-editor",null,9),Pn())}function Oet(t,n){if(1&t&&(ee(0,"li",48),ye(1),ie()),2&t){const e=oe();Q(),It(e.errorMessage)}}function Net(t,n){if(1&t&&(ee(0,"li",45),ye(1),ie()),2&t){const e=oe();Q(),It(e.childErrorMessage)}}function Ret(t,n){if(1&t){const e=lt();ee(0,"label",61)(1,"input",62),Oi("ngModelChange",function(r){Se(e);const o=oe(2);return Vi(o.loincType,r)||(o.loincType=r),Ee(r)}),ie(),ye(2),ie()}if(2&t){const e=n.$implicit,i=oe(2);Q(),X("value",e.value),ki("ngModel",i.loincType),X("ngModelOptions",_i(4,qq)),Q(),Qn(" ",e.display," ")}}function Fet(t,n){if(1&t){const e=lt();ee(0,"div",49)(1,"h4",50),ye(2,"Add LOINC item"),ie(),ee(3,"button",51),ze("click",function(){return Ee(Se(e).$implicit.dismiss("Cross click"))}),ie()(),ee(4,"div",52)(5,"form")(6,"div",53)(7,"label",54),ye(8,"Select LOINC item type:"),ie(),ee(9,"div",55),Me(10,Ret,3,5,"label",56),ie(),ee(11,"label",57),ye(12,"Search for a LOINC item:"),ie(),ee(13,"input",58),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.loincItem,r)||(o.loincItem=r),Ee(r)}),ie()()()(),ee(14,"div",59)(15,"button",60),ze("click",function(){return Ee(Se(e).$implicit.dismiss(!1))}),ye(16,"Cancel"),ie(),ee(17,"button",60),ze("click",function(){const r=Se(e).$implicit,o=oe();return Ee(r.close(o.loincItem))}),ye(18,"Add"),ie()()}if(2&t){const e=oe();Q(10),X("ngForOf",e.loincTypeOpts),Q(3),ki("ngModel",e.loincItem),X("ngModelOptions",_i(7,qq))("ngbTypeahead",e.acSearch)("resultFormatter",e.formatter)("inputFormatter",e.formatter)("editable",!1)}}function Pet(t,n){if(1&t){const e=lt();ee(0,"button",67),ze("keyup.enter",function(r){Se(e);const o=oe().node,s=Ut(1);return Ee(oe().onInsertItem(s,r,o,"CHILD"))})("click",function(r){Se(e);const o=oe().node,s=Ut(1);return Ee(oe().onInsertItem(s,r,o,"CHILD"))}),ye(1,"Insert a new "),ee(2,"b"),ye(3,"child"),ie(),ye(4," item"),ie()}}function zet(t,n){if(1&t){const e=lt();ee(0,"div",63,10),ze("openChange",function(r){return Se(e),Ee(oe().handleContextMenuOpen(r))})("mouseenter",function(){return Ee(Se(e).tooltip.hide())})("mouseleave",function(){return Ee(Se(e).tooltip.show())}),ee(2,"button",64),ze("keydown.arrowDown",function(r){return Se(e),Ee(oe().preventEventPropagation(r))})("keydown.arrowUp",function(r){return Se(e),Ee(oe().preventEventPropagation(r))})("keydown.enter",function(){return Se(e),Ee(Ut(1).toggle())}),Ve(3,"fa-icon",65),ie(),ee(4,"div",66),ze("keydown.arrowDown",function(r){return Se(e),Ee(oe().preventEventPropagation(r))})("keydown.arrowUp",function(r){return Se(e),Ee(oe().preventEventPropagation(r))}),ee(5,"button",67),ze("keyup.enter",function(r){const o=Se(e).node,s=Ut(1);return Ee(oe().onInsertItem(s,r,o,"BEFORE"))})("click",function(r){const o=Se(e).node,s=Ut(1);return Ee(oe().onInsertItem(s,r,o,"BEFORE"))}),ye(6,"Insert a new item "),ee(7,"b"),ye(8,"before"),ie(),ye(9," this"),ie(),ee(10,"button",67),ze("keyup.enter",function(r){const o=Se(e).node,s=Ut(1);return Ee(oe().onInsertItem(s,r,o,"AFTER"))})("click",function(r){const o=Se(e).node,s=Ut(1);return Ee(oe().onInsertItem(s,r,o,"AFTER"))}),ye(11,"Insert a new item "),ee(12,"b"),ye(13,"after"),ie(),ye(14," this"),ie(),Me(15,Pet,5,0,"button",68),Ve(16,"div",69),ee(17,"button",67),ze("keyup.enter",function(r){const o=Se(e).node,s=Ut(1);return oe().onMoveDlg(r,o),Ee(s.close())})("click",function(r){const o=Se(e).node;return Ee(oe().onMoveDlg(r,o))}),ye(18,"Move this item ..."),ie(),Ve(19,"div",69),ee(20,"button",67),ze("keyup.enter",function(r){const o=Se(e).node,s=Ut(1);return oe().onCopyDlg(r,o),Ee(s.close())})("click",function(r){const o=Se(e).node;return Ee(oe().onCopyDlg(r,o))}),ye(21,"Copy this item ..."),ie(),Ve(22,"div",69),ee(23,"button",67),ze("keyup.enter",function(){Se(e);const r=Ut(1);return oe().confirmItemDelete(),Ee(r.close())})("click",function(){return Se(e),Ee(oe().confirmItemDelete())}),ye(24,"Remove this item"),ie()()()}if(2&t){const e=n.node,i=oe();Q(2),Ye("tabindex",e.isActive?null:"-1"),Q(),X("icon",i.nodeMenuIcon),Q(12),X("ngIf","display"!==e.data.type)}}class Kq{constructor(){this.linkIdHash={}}addLinkId(n,e){let i=!1;return n&&n.trim().length>0&&(this.linkIdHash[n.trim()]=e,i=!0),i}getItemPath(n){return this.linkIdHash[n]}hasLinkId(n){return this.linkIdHash.hasOwnProperty(n)}deleteLinkId(n){let e=!1;return this.getItemPath(n)&&(delete this.linkIdHash[n],e=!0),e}changeLinkId(n,e){let i=!1;const r=this.getItemPath(n);return r&&(this.deleteLinkId(n),this.addLinkId(e,r),i=!0),i}}class $et{constructor(){this.dropErrorMessage="Cannot drop into a node of type 'display' because it cannot contain children.",this.showDropNotAllowedTooltip=!1,this.tooltipMouseXLoc=0,this.tooltipMouseYLoc=0,this.tooltipXOffset=-15,this.tooltipYOffset=20}showTooltip(n){this.showDropNotAllowedTooltip=n}updateTooltipMouseLocation(n,e){this.tooltipMouseXLoc=n+this.tooltipXOffset,this.tooltipMouseYLoc=e+this.tooltipYOffset}updateTooltipOffset(n,e){this.tooltipXOffset=n,this.tooltipYOffset=e}}let Bet=(()=>{class t{constructor(e){this.activeModal=e}static#e=this.\u0275fac=function(i){return new(i||t)(ve(nl))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-confirm-dlg"]],inputs:{title:"title",message:"message"},decls:12,vars:2,consts:[[1,"modal-header","bg-primary"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click","keydown.enter"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"keydown.enter","click"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"h4",1),ye(2),ie(),ee(3,"button",2),ze("click",function(){return r.activeModal.dismiss(!1)})("keydown.enter",function(){return r.activeModal.dismiss(!1)}),ie()(),ee(4,"div",3)(5,"p"),ye(6),ie()(),ee(7,"div",4)(8,"button",5),ze("keydown.enter",function(){return r.activeModal.dismiss(!1)})("click",function(){return r.activeModal.dismiss(!1)}),ye(9,"No"),ie(),ee(10,"button",5),ze("keydown.enter",function(){return r.activeModal.close(!0)})("click",function(){return r.activeModal.close(!0)}),ye(11,"Yes"),ie()()),2&i&&(Q(2),It(r.title),Q(4),It(r.message))},encapsulation:2})}return t})(),Het=(()=>{class t{constructor(e,i,r,o,s,c,v){this.liveAnnouncer=e,this.dialog=i,this.modalService=r,this.treeService=o,this.formService=s,this.dataSrv=c,this.validationService=v,this.errorIcon=Mp,this.helpIcon=Ac,this.id=1,this.nodeMenuIcon=pH,this.itemData=null,this.treeOptions={displayField:"text",childrenField:"item",idField:Hn.TREE_NODE_ID,actionMapping:{mouse:{dblClick:(C,N,G)=>{N.hasChildren&&Ao.TOGGLE_EXPANDED(C,N,G)},click:Ao.ACTIVATE},keys:{32:Ao.TOGGLE_EXPANDED,13:(C,N,G)=>{Ao.ACTIVATE(C,N,G),this.focusActiveNode()}}},nodeHeight:23,dropSlotHeight:23,allowDrag:C=>!0,allowDrop:(C,{parent:N})=>this.canDropNode(C,N),levelPadding:10,useVirtualScroll:!1,animateExpand:!0,scrollOnActivate:!0,animateSpeed:30,animateAcceleration:1.2,scrollContainer:document.documentElement},this.errorTooltip=new $et,this.errorMessage="Error(s) exist in this item. The resultant form may not render properly.",this.errorMessageLite="One or more errors exist in this item.",this.childErrorMessage="A child item or one of its descendants has an error.",this.questionnaire={resourceType:"Questionnaire",status:"draft",item:[]},this.itemChange=new mt,this.isTreeExpanded=!1,this.editType="ui",this.editor="ngx",this.loincType=B0.PANEL,this.errors$=new mt(!0),this.treeHelpMessage="You can drag and drop items in the tree to move them around in the hierarchy",this.loincTypeOpts=[{value:B0.PANEL,display:"Panel"},{value:B0.QUESTION,display:"Question"}],this.linkIdCollection=new Kq,this.itemLoading$=new ur(!1),this.spinner$=new ur(!1),this.subscriptions=[],this.loadingTime=0,this.startTime=Date.now(),this.devMode=!1,this.contextMenuActive=!1,this.treeFirstFocus=!1,this.isViewInited=!1,this.isTreeNodeError=!1,this.isChildTreeNodeError=!1,this.spinnerCounter=0,this.acSearch=C=>C.pipe(ol(200),Tc(),Oa(N=>N.length<2?[]:this.dataSrv.searchLoincItems(N,this.loincType))),this.itemEditorSchema=s.itemEditorSchema}ngAfterViewInit(){this.treeOptions.scrollContainer=this.sidenavEl.nativeElement,this.formService.setTreeModel(this.treeComponent.treeModel),setTimeout(()=>{this.treeComponent.treeModel.update(),this.formService.loadTreeNodeStatusMap(),this.formService.loadLinkIdTracker()},0),this.isViewInited=!0;const e=this.formService.validationStatusChanged$.subscribe(()=>{this.onValidationErrorsChanged(null)});this.subscriptions.push(e)}populateTreeNodeIds(e){e.forEach(i=>{i[Hn.TREE_NODE_ID]||(i[Hn.TREE_NODE_ID]=Bt.generateUniqueId()),i.item?.length>0&&this.populateTreeNodeIds(i.item)})}ngOnChanges(e){this.itemList=e.questionnaire.currentValue?.item,this.itemList=this.itemList||[],0===this.itemList.length?this.itemList.push({text:"Item 0",type:"string",[Hn.TREE_NODE_ID]:Bt.generateUniqueId()}):this.populateTreeNodeIds(this.itemList),this.treeComponent?.treeModel&&this.treeComponent?.treeModel.update()}itemChanged(e){if(this.itemData){for(const i of Object.keys(this.itemData))"item"!==i&&delete this.itemData[i];Object.assign(this.itemData,e)}"number"==typeof this.itemData?.linkId&&(this.itemData.linkId=""+this.itemData.linkId),this.loadingTime=(Date.now()-this.startTime)/1e3,this.formService.loading||this.itemChange.emit(this.itemList)}onTreeUpdated(){if(this.focusNode=this.treeComponent.treeModel.getFocusedNode(),this.focusNode)this.treeComponent.treeModel.setActiveNode(this.focusNode,!0);else{const e=this.treeComponent.treeModel.getFirstRoot();e&&(this.treeComponent.treeModel.setFocusedNode(e),this.treeComponent.treeModel.setActiveNode(e,!0),this.setNode(e,!0))}}onTreeEvent(e){switch(e.eventName){case"toggleExpanded":this.liveAnnouncer.announce(e.isExpanded?`"${Bt.formatNodeForDisplay(e.node)}" is expanded.`:`"${Bt.formatNodeForDisplay(e.node)}" is collapsed.`);break;case"activate":this.startSpinner(),setTimeout(()=>{this.setNode(e.node),this.stopSpinner(),this.liveAnnouncer.announce(`"${Bt.formatNodeForDisplay(e.node)}" is selected`)});break;case"updateData":this.startSpinner(),setTimeout(()=>{this.onTreeUpdated(),this.stopSpinner()});break;case"focus":this.treeComponent.treeModel.setFocus(!0),this.treeNodeFocusAnnounce(e.node);break;case"initialized":this.startSpinner(),this.validationErrorsAllItemsErrorStr="",this.formService.clearAutoSavedTreeNodeStatusMap(),this.formService.clearLinkIdTracker(),this.validationService.validateAllItems(this.formService.loadValidationNodes(),1).then(i=>{const r=i.filter(o=>Array.isArray(o)&&o.length>0).map(o=>Array.isArray(o[0])?o[0][0].indexPath:o[0].indexPath);r.length>0&&(this.validationErrorsAllItemsErrorStr=1===r.length?`One validation error was found for the item located at position ${r[0]} in the question tree.`:`${r.length} validation errors were found for items located at positions ${r.slice(0,-1).join(", ")}, and ${r[r.length-1]} in the question tree.`)}).finally(()=>{this.stopSpinner()})}}startSpinner(){this.spinnerCounter++||this.spinner$.next(!0)}stopSpinner(){0==--this.spinnerCounter&&this.spinner$.next(!1)}setNode(e,i=!1){this.startTime=Date.now(),this.focusNode=e,this.itemData=this.focusNode?this.focusNode.data:null,this.focusNode?.data&&i&&void 0===this.focusNode.data.linkId&&(this.focusNode.data.linkId=this.createLinkId()),this.treeService.nodeFocus.next(e)}toggleTreeExpansion(){this.treeComponent&&(this.isTreeExpanded?(this.treeComponent.treeModel.collapseAll(),this.isTreeExpanded=!1):(this.treeComponent.treeModel.expandAll(),this.isTreeExpanded=!0))}defaultLinkId(e){return e.data[Hn.TREE_NODE_ID]}toggleEditType(e){this.editType="json"===this.editType?"ui":"json"}getIndexPath(e){return Bt.getIndexPath(e)}addItem(e){this.insertAnItem({text:"New item "+this.id++,[Hn.TREE_NODE_ID]:Bt.generateUniqueId()})}insertAnItem(e,i){this.startSpinner(),setTimeout(()=>{0===this.itemList.length?this.itemList.push(e):(typeof i>"u"&&(i=this.focusNode?this.focusNode.index+1:0),this.focusNode.parent.data.item.splice(i,0,e)),this.treeComponent.treeModel.update(),this.treeComponent.treeModel.focusNextNode(),this.setNode(this.treeComponent.treeModel.getFocusedNode(),!0),this.formService.addTreeNodeStatus(this.focusNode.id.toString(),this.focusNode.data.linkId),this.formService.addLinkIdToLinkIdTracker(this.focusNode.id.toString(),this.focusNode.data.linkId),this.stopSpinner()})}onInsertItem(e,i,r,o="AFTER"){const s={text:"New item "+this.id++,type:"string",linkId:this.createLinkId(),[Hn.TREE_NODE_ID]:Bt.generateUniqueId()};this.addNewItem(o,s,r),this.treeComponent.treeModel.update(),this.setFocusedNode(o),this.formService.addTreeNodeStatus(s[Hn.TREE_NODE_ID],s.linkId),this.formService.addLinkIdToLinkIdTracker(s[Hn.TREE_NODE_ID],s.linkId),i.stopPropagation(),e.close()}setFocusedNode(e){setTimeout(()=>{const i=this.treeComponent.treeModel.getFocusedNode();switch(e){case"CHILD":i.getLastChild(!1).setActiveAndVisible(!1);break;case"BEFORE":i.findPreviousSibling(!1).setActiveAndVisible(!1);break;case"AFTER":i.findNextSibling(!1).setActiveAndVisible(!1)}setTimeout(()=>{this.focusActiveNode()})})}moveItem(e,i,r="AFTER"){this.treeComponent.treeModel.moveNode(e,{dropOnNode:"CHILD"===r,parent:"CHILD"===r?i:i.parent,index:i.index+("AFTER"===r?1:0)}),this.treeComponent.treeModel.setFocusedNode(e),this.treeComponent.treeModel.getFocusedNode().setActiveAndVisible(!1)}onMoveDlg(e,i){this.openNodeDlg(i,"Move").result.then(o=>{this.moveItem(i,o.target,o.location)},o=>{}).finally(()=>{setTimeout(()=>{this.focusActiveNode()})}),e.stopPropagation()}onCopyDlg(e,i){this.openNodeDlg(i,"Copy").result.then(o=>{this.copyItem(i,o.target,o.location)},o=>{}).finally(()=>{setTimeout(()=>{this.focusActiveNode()})}),e.stopPropagation()}openNodeDlg(e,i){const r=this.modalService.open(qJe,{ariaLabelledBy:"modal-move-title"});return r.componentInstance.node=e,r.componentInstance.item=this,r.componentInstance.mode=i,r}confirmItemDelete(){const e=this.modalService.open(Bet);return e.componentInstance.title="Confirm deletion",e.componentInstance.message="Are you sure you want to delete this item?",e.componentInstance.type=rp.WARNING,e.result.then(()=>{this.deleteFocusedItem()}).finally(()=>{setTimeout(()=>{this.focusActiveNode()})})}deleteFocusedItem(){const e=this.focusNode.index;let i=this.focusNode.findNextSibling(!0);i=i||this.focusNode.findPreviousSibling(!0),i=i||this.focusNode.parent,this.startSpinner(),setTimeout(()=>{i.data.virtual||this.treeComponent.treeModel.setFocusedNode(i),this.formService.deleteTreeNodeStatus(this.focusNode.id.toString()),this.formService.removeLinkIdFromLinkIdTracker(this.focusNode.id.toString(),this.focusNode.data.linkId),this.focusNode.parent.data.item.splice(e,1),this.treeComponent.treeModel.update(),i=this.treeComponent.treeModel.getFocusedNode(),this.setNode(i),i&&this.treeComponent.treeModel.getFocusedNode().setActiveAndVisible(!1),this.stopSpinner()})}addLoincItem(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{const r=this.getLoincItem(i,this.loincType).subscribe(o=>{o[Hn.TREE_NODE_ID]=Bt.generateUniqueId(),this.insertAnItem(o),this.loincItem=null});this.subscriptions.push(r)},i=>{this.loincItem=null})}getLoincItem(e,i){let r;return i===B0.PANEL?r=this.dataSrv.getLoincPanel(e.code[0].code):i===B0.QUESTION&&(r=Wi(e)),r}getItem(e){}formatter(e){return e.code[0].code+": "+e.text}truncate(e,i=15){return Bt.truncateString(e,i)}onErrorsChanged(e){if(this.errors$.next(e),!this.focusNode)return;const i=this.focusNode.id.toString(),r=this.formService.getTreeNodeStatusById(i);this.isTreeNodeError=!(!r||!("hasError"in r))&&r.hasError,this.isChildTreeNodeError=!(!r||!("childHasError"in r))&&r.childHasError}onValidationErrorsChanged(e){if(this.focusNode){const i=this.focusNode.id.toString(),r=this.formService.getTreeNodeStatusById(i);this.isTreeNodeError=!(!r||!("hasError"in r))&&r.hasError,this.isChildTreeNodeError=!(!r||!("childHasError"in r))&&r.childHasError}}preventEventPropagation(e){return e.stopPropagation(),!1}handleContextMenuOpen(e){this.contextMenuActive=e,e&&this.liveAnnouncer.announce("Use up or down arrow keys to navigate the menu items")}focusActiveNode(){setTimeout(()=>{const e=document.querySelector(".node-content-wrapper-active");e&&(this.treeComponent.treeModel.setFocus(!0),e.focus())})}treeInitialFocus(e){this.treeFirstFocus||(this.treeFirstFocus=!0,this.liveAnnouncer.announce("You can use up and down arrow keys to move the focus on the tree nodes. You may use enter key to select the focused node for editing. The Right or left arrow keys to will expand or collapse a selected node if it has children. Space bar will toggle expansion and collapse of tree node. "))}treeNodeFocusAnnounce(e){if(e?.data&&e.id!==this.treeComponent.treeModel.getActiveNode()?.id){const r=[];r.push(`${Bt.formatNodeForDisplay(e)}`),e.hasChildren&&r.push(e.isExpanded?"has children and is expanded.":"has children and is collapsed.");const o=this.formService.getTreeNodeStatusById(e.id.toString()),c=!(!o||!("childHasError"in o))&&o.childHasError;!(!o||!("hasError"in o))&&o.hasError&&r.push(this.errorMessageLite),c&&r.push(this.childErrorMessage),this.liveAnnouncer.announce(r.join(" "))}}logEvent(e){console.log(e.type,e.target instanceof HTMLElement?'"'+e.target.nodeName+":"+e.target.className+'"':null,e.currentTarget instanceof HTMLElement?'"'+e.currentTarget.nodeName+":"+e.currentTarget.className+'"':null,e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement?'"'+e.relatedTarget.nodeName+":"+e.relatedTarget.className+'"':null)}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}addNewItem(e,i,r){switch(e){case"CHILD":r.data.item||(r.data.item=[]),r.data.item.push(i);break;case"BEFORE":r.parent.data.item.splice(r.index,0,i);break;case"AFTER":r.parent.data.item.splice(r.index+1,0,i)}}copyItem(e,i,r="AFTER"){const o=e.data,s=KN()(o);s.text="Copy of "+s.text,op()(s).forEach(v=>{v&&(v.linkId&&(v.linkId=this.createLinkId()),v[Hn.TREE_NODE_ID]&&(v[Hn.TREE_NODE_ID]=Bt.generateUniqueId()))}),this.addNewItem(r,s,i),this.treeComponent.treeModel.update();const c=this.formService.getTreeNodeByLinkId(s.linkId);c&&(this.treeComponent.treeModel.setFocusedNode(c),this.formService.addTreeNodeStatus(c.id.toString(),c.data.linkId),this.formService.addLinkIdToLinkIdTracker(this.focusNode.id.toString(),this.focusNode.data.linkId))}createLinkId(){return Math.floor(1e11+9e11*Math.random()).toString()}hasError(e){return!!this.isViewInited&&this.formService.isTreeNodeHasErrorById(e.id.toString(),!0)}canDropNode(e,i){return i&&"display"===i.data.type?(this.errorTooltip.showTooltip(!0),setTimeout(()=>{this.liveAnnouncer.announce(this.errorTooltip.dropErrorMessage)},0)):this.errorTooltip.showTooltip(!1),!this.errorTooltip.showDropNotAllowedTooltip}onMouseDragOver(e){this.errorTooltip.updateTooltipMouseLocation(e.pageX,e.pageY)}onMouseOver(e){this.errorTooltip.showTooltip(!1)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(j0),ve(Gp),ve(k0),ve(Hq),ve(Hn),ve(ps),ve(gC))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-item-component"]],viewQuery:function(i,r){if(1&i&&(Ln(fet,5),Ln(het,5),Ln(pet,5),Ln(met,5),Ln(get,5,Ht)),2&i){let o;Et(o=Lt())&&(r.treeComponent=o.first),Et(o=Lt())&&(r.jsonItemEditor=o.first),Et(o=Lt())&&(r.uiItemEditor=o.first),Et(o=Lt())&&(r.sInput=o.first),Et(o=Lt())&&(r.sidenavEl=o.first)}},inputs:{questionnaire:"questionnaire"},outputs:{itemChange:"itemChange"},features:[Nn([gC]),si],decls:55,vars:20,consts:[["drawer",""],["tree",""],["treeNodeWrapperTemplate",""],["treeNodeTemplate",""],["loadingTemplate",""],["addItemDlg",""],["nodeMenu",""],["tooltip","matTooltip"],["uiEditor",""],["jsonEditor",""],["myDrop","ngbDropdown"],["class","not-allowed-tooltip",3,"ngStyle",4,"ngIf"],["mode","side","opened","","disableClose","",1,"p-1","bg-light"],[1,"sidenav-header","p-1"],["tabindex","0",1,"btn","border-0","p-0","b-0",3,"matTooltip"],[1,"text-white",3,"icon"],[3,"focusin","mouseover","dragover"],["role","tree",3,"event","nodes","options"],["class","text-danger form-text sr-only","role","alert",4,"ngIf"],["aria-live","polite","aria-atomic","true","id","itemContent",1,"sidenav-header","p-1"],[4,"ngIf"],[1,"mt-1"],["class","float-end font-italic",4,"ngIf"],["class","text-danger list-group-item-warning","role","region","aria-live","assertive",4,"ngIf"],["class","text-danger list-group-item-warning","aria-hidden","true",4,"ngIf"],["role","toolbar","aria-label","Toolbar with item action buttons",1,"btn-toolbar"],["role","group","aria-label","Last group",1,"btn-group-sm"],["type","button","aria-label","Delete this item",1,"btn","btn-primary",3,"click","disabled"],["role","group","aria-label","Last group",1,"btn-group-sm","ms-2","ms-auto"],["type","button","aria-label","Add new item","aria-controls","itemContent",1,"btn","btn-primary",3,"click"],["role","group","aria-label","Last group",1,"btn-group-sm","ms-2"],["type","button","aria-label","Add new item from LOINC","aria-controls","itemContent",1,"btn","btn-primary",3,"click"],[1,"not-allowed-tooltip",3,"ngStyle"],["role","group",1,"node-wrapper"],[3,"node"],["role","treeitem",1,"node-content-wrapper",3,"click","dblclick","contextmenu","treeDrop","treeAllowDrop","treeDrag","treeDragEnabled"],[3,"node","index","template"],[1,"d-flex",3,"ngClass","matTooltip"],["aria-hidden","true",1,"node-display-prefix"],["aria-hidden","true",1,"text-truncate","flex-fill","node-display-field",3,"ngClass"],["id","error","style","color: red","aria-hidden","!!errors",3,"icon",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","error","aria-hidden","!!errors",2,"color","red",3,"icon"],["role","alert",1,"text-danger","form-text","sr-only"],[1,"float-end","font-italic"],["role","region","aria-live","assertive",1,"text-danger","list-group-item-warning"],[3,"show"],[3,"valueChange","errorsChanged","validationErrorsChanged","model"],["aria-hidden","true",1,"text-danger","list-group-item-warning"],[1,"modal-header","btn-primary"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","btn-primary",3,"click"],[1,"modal-body"],[1,"form-group"],["for","loincTypeSelect1","id","loincItemRadioGroupLabel",1,"align-middle"],["id","loincTypeSelect1","role","radiogroup","aria-labelledby","loincItemRadioGroupLabel",1,"btn-group"],["class","btn",4,"ngFor","ngForOf"],["for","acSearchBoxId",1,""],["id","acSearchBoxId","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions","ngbTypeahead","resultFormatter","inputFormatter","editable"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn"],["type","radio","name","loincType",3,"ngModelChange","value","ngModel","ngModelOptions"],["ngbDropdown","","container","body","role","group",1,"d-inline-block",3,"openChange","mouseenter","mouseleave"],["ngbDropdownToggle","","matTooltip","More options",1,"btn","btn-sm","p-0","border","px-1",3,"keydown.arrowDown","keydown.arrowUp","keydown.enter"],[3,"icon"],["ngbDropdownMenu","","role","menu",1,"dropdown-menu",3,"keydown.arrowDown","keydown.arrowUp"],["ngbDropdownItem","","role","menuitem",3,"keyup.enter","click"],["ngbDropdownItem","","role","menuitem",3,"keyup.enter","click",4,"ngIf"],["role","separator",1,"dropdown-divider"]],template:function(i,r){if(1&i){const o=lt();Me(0,bet,2,5,"div",11),ee(1,"mat-sidenav-container")(2,"mat-sidenav",12,0)(4,"div",13),ye(5,"Questions Tree\xa0"),ee(6,"div",14),Ve(7,"fa-icon",15),ie()(),ee(8,"span",16),ze("focusin",function(c){return Se(o),Ee(r.treeInitialFocus(c))})("mouseover",function(c){return Se(o),Ee(r.onMouseOver(c))})("dragover",function(c){return Se(o),Ee(r.onMouseDragOver(c))}),ee(9,"tree-root",17,1),ze("event",function(c){return Se(o),Ee(r.onTreeEvent(c))}),Me(11,yet,4,15,"ng-template",null,2,En)(13,Cet,9,11,"ng-template",null,3,En)(15,Met,1,0,"ng-template",null,4,En),ie(),Me(17,Tet,2,1,"small",18),ie()(),ee(18,"mat-sidenav-content")(19,"div",19),ye(20,"Current Item "),Me(21,Eet,2,1,"span",20),ie(),ee(22,"div",21)(23,"div")(24,"span"),ye(25,"Edit item (question or header)"),ie(),Me(26,Let,2,1,"small",22),ie(),ee(27,"ul")(28,"li"),ye(29," The questions are organized in hierarchical tree on the left side. Select the desired item to edit their properties here. "),ie(),Me(30,Aet,2,1,"li",23),Da(31,"async"),Me(32,Det,2,1,"li",23),ie()(),Ve(33,"hr"),Me(34,Iet,5,4,"ng-container",20)(35,ket,3,0,"ng-container",20),ee(36,"ul"),Me(37,Oet,2,1,"li",24),Da(38,"async"),Me(39,Net,2,1,"li",23),ie(),Ve(40,"hr"),ee(41,"div",25)(42,"div",26)(43,"button",27),ze("click",function(){return Se(o),Ee(r.confirmItemDelete())}),ye(44,"Delete this item"),ie()(),ee(45,"div",28)(46,"button",29),ze("click",function(c){return Se(o),Ee(r.addItem(c))}),ye(47,"Add new item"),ie()(),ee(48,"div",30)(49,"button",31),ze("click",function(){Se(o);const c=Ut(52);return Ee(r.addLoincItem(c))}),ye(50,"Add new item from LOINC"),ie()()()()(),Me(51,Fet,19,8,"ng-template",null,5,En)(53,zet,25,3,"ng-template",null,6,En)}2&i&&(X("ngIf",r.errorTooltip.showDropNotAllowedTooltip),Q(6),X("matTooltip",r.treeHelpMessage),Ye("aria-label","Tooltip for tree: "+r.treeHelpMessage),Q(),X("icon",r.helpIcon),Q(2),X("nodes",r.itemList)("options",r.treeOptions),Q(8),X("ngIf",""!==r.validationErrorsAllItemsErrorStr),Q(4),X("ngIf",null==r.focusNode||null==r.focusNode.data?null:r.focusNode.data.text),Q(5),X("ngIf",r.devMode),Q(4),X("ngIf",Ia(31,16,r.errors$)||r.isTreeNodeError),Q(2),X("ngIf",r.isChildTreeNodeError),Q(2),X("ngIf","ui"===r.editType),Q(),X("ngIf","json"===r.editType),Q(2),X("ngIf",Ia(38,18,r.errors$)||r.isTreeNodeError),Q(2),X("ngIf",r.isChildTreeNodeError),Q(4),X("disabled",!(r.focusNode&&r.focusNode.parent)))},dependencies:[ir,bi,yn,ho,x_,Sf,di,Ls,ei,Cf,ro,Zd,Vs,Wq,Gq,_C,sl,Ff,Qg,tp,ep,Qb,Pf,jJe,zq,pC,$q,Pq,Yq,uet,RY,y4],styles:[".node-content-wrapper[_ngcontent-%COMP%]{width:100%;background-color:#f5f5f5}.node-display-field[_ngcontent-%COMP%]{width:0}.node-content-wrapper-active[_ngcontent-%COMP%], .node-content-wrapper-focused[_ngcontent-%COMP%]{background-color:#d3d3d3}.node-content-wrapper[_ngcontent-%COMP%]:hover{background-color:#fafad2}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;z-index:1000;top:40%;left:0;opacity:.5;filter:alpha(opacity=50)}.sidenav-header[_ngcontent-%COMP%]{background-color:gray;color:#fff}.node-display-prefix[_ngcontent-%COMP%]{font-weight:700;margin-right:1ch}.mat-sidenav[_ngcontent-%COMP%]{width:25%;padding:10px}[_nghost-%COMP%]     .mat-drawer-inner-container{overflow:hidden!important}.mat-sidenav-content[_ngcontent-%COMP%]{padding:5px}.mat-tab-body[_ngcontent-%COMP%]{background-color:#fff}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.json-radio-group[_ngcontent-%COMP%]{display:flex;margin:5px 0}.json-radio-button[_ngcontent-%COMP%]{margin:5px}.search-box[_ngcontent-%COMP%]{font-size:small;width:100%;align-items:end}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]:hover{background-color:#fff}.not-allowed-tooltip[_ngcontent-%COMP%]{position:absolute;padding:5px 10px;background-color:#797272;color:#fff;font-size:12px;border-radius:3px;pointer-events:none;white-space:nowrap;z-index:1500!important}"],changeDetection:0})}return t})();let Uet=(()=>{class t{constructor(){this.service$=new xt}logOut(e){return this.service$.next(null)}service(){return this.service$.asObservable()}login(){return this.service$.next({event:"signedIn",userProfile:{displayName:"Test User",email:"testUser@example.com"}})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vet(t,n){if(1&t&&(ee(0,"div",8),ye(1,"Version: "),ee(2,"a",9),ye(3),ie()()),2&t){const e=oe();Q(3),It(e.appVersion)}}function jet(t,n){if(1&t){const e=lt();ee(0,"div")(1,"button",12),ze("click",function(){return Se(e),Ee(oe(2).showSignInDialog())}),ee(2,"button",13),ye(3,"Sign in"),ie()()()}}function Wet(t,n){if(1&t){const e=lt();ee(0,"div")(1,"span"),ye(2),ie(),ee(3,"button",12),ze("click",function(){return Se(e),Ee(oe(2).signOut())}),ee(4,"button",14),ye(5,"Sign out"),ie()()()}if(2&t){const e=oe(2);Q(2),It(e.userProfile.displayName),Q(2),X("ngbTooltip",e.userProfile.displayName+e.userProfile.email?" : "+e.userProfile.email:"")}}function Get(t,n){if(1&t&&(ee(0,"div"),ye(1),ie()),2&t){const e=oe(2);Q(),It(e.loginError.message)}}function Yet(t,n){if(1&t&&(ee(0,"div",10),Me(1,jet,4,0,"div",11)(2,Wet,6,2,"div",11)(3,Get,2,1,"div",11),ie()),2&t){const e=oe();Q(),X("ngIf",!e.isUserSignedIn),Q(),X("ngIf",e.isUserSignedIn),Q(),X("ngIf",e.loginError)}}let qet=(()=>{class t{constructor(e,i,r){this.loginService=e,this.iconRegistry=i,this.sanitizer=r,this.userProfile={},this.isUserSignedIn=!1,this.isFirebaseEnabled=!1,this.loginError=null,this.iconRegistry.addSvgIcon("home",this.sanitizer.bypassSecurityTrustResourceUrl("../../assets/images/projectLogo.svg"))}ngOnInit(){this.appVersion="9.6.11",this.loginService.service().subscribe(e=>{"signedIn"===e.event?(this.userProfile=e.userProfile,this.isUserSignedIn=!0):"signedOut"===e.event&&(this.userProfile={},this.isUserSignedIn=!1)})}signOut(){this.loginService.logOut(this.userProfile)}showSignInDialog(){}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Uet),ve(uh),ve(xf))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-header"]],inputs:{isFirebaseEnabled:"isFirebaseEnabled"},decls:16,vars:2,consts:[["id","header",1,"ps-0","pe-0","d-flex"],["id","logo","svgIcon","home","aria-label","Home"],["id","siteNameBox",1,"d-flex","flex-column","align-self-baseline","ps-2"],[1,"fs-4"],["id","siteName","href","/",1,"btn","btn-link","p-0"],[1,"fs-6"],["class","float-lg-right version-info align-self-end fw-bold pb-1",4,"ngIf"],["class","float-lg-right",4,"ngIf"],[1,"float-lg-right","version-info","align-self-end","fw-bold","pb-1"],["target","_blank","rel","noopener noreferrer","href","https://github.com/lhncbc/formbuilder-lhcforms/blob/master/CHANGELOG.md"],[1,"float-lg-right"],[4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"click"],["matTooltip","Login with OAuth authenticators",1,"btn","border-0","m-0","p-0"],[1,"btn","border-0","m-0","p-0",3,"ngbTooltip"]],template:function(i,r){1&i&&(ee(0,"nav",0),Ve(1,"mat-icon",1),ee(2,"div",2)(3,"div",3)(4,"a",4),ye(5,"NLM Form Builder"),ie()(),ee(6,"div",5),ye(7,"A tool for building HL7"),ee(8,"sup"),ye(9,"\xae"),ie(),ye(10," FHIR"),ee(11,"sup"),ye(12,"\xae"),ie(),ye(13," Questionnaires"),ie()(),Me(14,Vet,4,1,"div",6)(15,Yet,4,3,"div",7),ie()),2&i&&(Q(14),X("ngIf",r.appVersion),Q(),X("ngIf",r.isFirebaseEnabled))},dependencies:[yn,b5,sl,e8],styles:["#header[_ngcontent-%COMP%]{position:relative;font-family:Droid Sans,Arial,Helvetica,sans-serif;color:#202020;border-top:2px solid #0BACB6;border-bottom:7px solid #17b4e3;height:84px;background:transparent;align-items:center}#header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e4193;text-decoration:none}#logo[_ngcontent-%COMP%]{float:left;width:72px;height:72px}#logo[_ngcontent-%COMP%]{display:block}#logo[_ngcontent-%COMP%]   .site-name-slogan[_ngcontent-%COMP%]{font-size:14px;position:relative;top:10px;left:-2px}#logo[_ngcontent-%COMP%]   .site-name-slogan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:24px;position:relative;left:-2px}#logo[_ngcontent-%COMP%]   .site-name-slogan[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{color:#202020;font-size:12px;position:relative;left:1px}#siteNameBox[_ngcontent-%COMP%]{flex:1 1 auto}#siteName[_ngcontent-%COMP%]{font-size:125%}.version-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}"]})}return t})(),Ket=(()=>{class t{constructor(e,i){this.iconRegistry=e,this.sanitizer=i,this.iconRegistry.addSvgIcon("USAgov",this.sanitizer.bypassSecurityTrustResourceUrl("../../assets/images/USAgov.svg"))}static#e=this.\u0275fac=function(i){return new(i||t)(ve(uh),ve(xf))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-footer"]],decls:30,vars:0,consts:[["role","contentinfo","id","fine-print"],[1,"horz-list"],["title","NLM copyright information","href","http://www.nlm.nih.gov/copyright.html"],["title","NLM privacy policy","href","http://www.nlm.nih.gov/privacy.html"],["title","NLM accessibility","href","http://www.nlm.nih.gov/accessibility.html"],["title","NIH Freedom of Information Act office","href","http://www.nih.gov/icd/od/foia/index.htm"],[1,"last-item"],["href","https://lhncbc.nlm.nih.gov/contact-us"],["title","U.S. National Library of Medicine","href","http://www.nlm.nih.gov/"],["title","U.S. National Institutes of Health","href","http://www.nih.gov/"],["title","U.S. Department of Health and Human\n    Services","href","http://www.hhs.gov/"],["title","USA.gov","href","http://www.usa.gov/"],["svgIcon","USAgov","alt","USA.gov","id","usagov"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"ul",1)(2,"li")(3,"a",2),ye(4,"Copyright"),ie()(),ee(5,"li")(6,"a",3),ye(7,"Privacy"),ie()(),ee(8,"li")(9,"a",4),ye(10,"Accessibility"),ie()(),ee(11,"li")(12,"a",5),ye(13,"Freedom of Information Act"),ie()(),ee(14,"li",6)(15,"a",7),ye(16,"Contact Us"),ie()()(),ee(17,"ul",1)(18,"li")(19,"a",8),ye(20,"U.S. National Library of Medicine"),ie()(),ee(21,"li")(22,"a",9),ye(23,"U.S. National Institutes of Health"),ie()(),ee(24,"li")(25,"a",10),ye(26,"U.S. Department of Health and Human Services"),ie()(),ee(27,"li",6)(28,"a",11),Ve(29,"mat-icon",12),ie()()()())},dependencies:[b5],styles:["#fine-print[_ngcontent-%COMP%]{border-top:2px solid #0BACB6;clear:left;text-align:center;font-size:11px;padding-top:10px;padding-bottom:10px}ul.horz-list[_ngcontent-%COMP%]{margin:auto}#fine-print[_ngcontent-%COMP%]   ul.horz-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;display:inline;padding-left:8px;padding-right:10px;border-right:1px solid #999}#fine-print[_ngcontent-%COMP%]   ul.horz-list[_ngcontent-%COMP%]   li.last-item[_ngcontent-%COMP%]{border-right:none}#usagov[_ngcontent-%COMP%]{margin-bottom:-2px;vertical-align:bottom;width:60px}"]})}return t})();const Zet=["ngxForm"];function Qet(t){return t.formLevelExtensionService}let Xet=(()=>{class t{constructor(e,i,r){this.http=e,this.dataSrv=i,this.modal=r,this.questionsButtonLabel="Create questions",this.qlSchema={properties:{}},this.notHidden=!0,this.acResult=null,this.validators={"/extension":(o,s,c)=>(s!==this.extensionsService.extensionsProp&&this.extensionsService.setExtensions(s),null),"/date":Bt.dateTimeValidator.bind(this),"/approvalDate":Bt.dateValidator.bind(this),"/lastReviewDate":Bt.dateValidator.bind(this)},this.state=new mt,this.questionnaireChange=new mt,this.loading=!1,this.formService=$e(Hn),this.extensionsService=$e(kc),this.qlSchema=this.formService.getFormLevelSchema()}ngAfterViewInit(){this.adjustRootFormProperty()}ngOnChanges(e){e.questionnaire&&(this.loading=!0)}adjustRootFormProperty(){let e=!1;const i=this.ngxForm?.rootProperty;return Bt.isEmpty(i?.searchProperty("/code").value)||(i?.searchProperty("/__$codeYesNo").setValue(!0,!1),e=!0),e}onFormFieldsLoaded(e){this.loading=!1,this.formValue=e.value,this.adjustRootFormProperty()||this.questionnaireChange.emit(Bt.convertToQuestionnaireJSON(e.value))}setGuidingStep(e){this.formService.setGuidingStep(e),this.formService.autoSave("state",e)}valueChanged(e){this.loading||this.questionnaireChange.emit(Bt.convertToQuestionnaireJSON(e.value))}stringify(e){return JSON.stringify(e,null,2)}allFields(){}goToItemEditor(){this.setGuidingStep("item-editor")}static#e=this.\u0275fac=function(i){return new(i||t)(ve(z0),ve(ps),ve(k0))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-form-fields"]],viewQuery:function(i,r){if(1&i&&Ln(Zet,5,Sb),2&i){let o;Et(o=Lt())&&(r.ngxForm=o.first)}},inputs:{questionsButtonLabel:"questionsButtonLabel",questionnaire:"questionnaire"},outputs:{state:"state",questionnaireChange:"questionnaireChange"},features:[Nn([{provide:kc,useFactory:Qet,deps:[Hn]}]),si],decls:14,vars:4,consts:[["ngxForm",""],[1,"card-body","content"],[1,"ms-2"],[1,"ms-4"],[1,"container"],[3,"onChange","modelReset","schema","model","validators"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["type","button",1,"btn","btn-sm","btn-primary","mt-4","me-2","ms-auto",3,"click"]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",1)(1,"div")(2,"h4",2),ye(3,"Form level attributes"),ie(),ee(4,"p",3),ye(5,"Enter basic information about the form."),ie(),Ve(6,"hr"),ee(7,"div",4)(8,"sf-form",5,0),ze("onChange",function(c){return Se(o),Ee(r.valueChanged(c))})("modelReset",function(c){return Se(o),Ee(r.onFormFieldsLoaded(c))}),ie()(),Ve(10,"hr"),ee(11,"div",6)(12,"button",7),ze("click",function(){return Se(o),Ee(r.goToItemEditor())}),ye(13),ie()()()()}2&i&&(Q(8),X("schema",r.qlSchema)("model",r.questionnaire)("validators",r.validators),Q(5),It(r.questionsButtonLabel))},dependencies:[Sb],styles:[".content[_ngcontent-%COMP%]{padding:.5rem}"]})}return t})();const Jet=["fileInput"],ett=["loincSearchDlg"],ttt=["warnFormLoading"],ntt=["confirmCancel"],iu=()=>({standalone:!0});function itt(t,n){if(1&t&&(ee(0,"div",17),ye(1,"Notice: This page is sending changes back to the page that opened it, "),ee(2,"span",18),ye(3),ie()()),2&t){const e=oe();Q(3),It(e.openerUrl)}}function rtt(t,n){if(1&t){const e=lt();ee(0,"div",33)(1,"button",31),ze("click",function(){return Se(e),Ee(oe(2).close())}),ye(2,"Save & Close"),ie()(),ee(3,"div",34)(4,"button",35),ze("click",function(){return Se(e),Ee(oe(2).cancel())}),ye(5,"Cancel"),ie()()}}function ott(t,n){if(1&t){const e=lt();ee(0,"div",36)(1,"button",31),ze("click",function(){return Se(e),Ee(oe(2).close())}),ye(2,"Close"),ie()()}}function stt(t,n){if(1&t){const e=lt();ee(0,"nav",19)(1,"div",20)(2,"button",21),ye(3," Export "),ie(),ee(4,"div",22)(5,"button",23),ze("click",function(){return Se(e),Ee(oe().saveToFile())}),ye(6,"Export to file in FHIR R4 format"),ie(),ee(7,"button",23),ze("click",function(){return Se(e),Ee(oe().saveToFile("STU3"))}),ye(8,"Export to file in FHIR STU3 format"),ie(),ee(9,"button",23),ze("click",function(){return Se(e),Ee(oe().saveToFile("LHC-Forms"))}),ye(10,"Export to file in LHC-Forms internal (and volatile) format"),ie(),ee(11,"button",23),ze("click",function(){return Se(e),Ee(oe().exportToServer("CREATE"))}),ye(12,"Create a new questionnaire on a FHIR server..."),ie(),ee(13,"button",24),ze("click",function(){return Se(e),Ee(oe().exportToServer("UPDATE"))}),ye(14),ie()()(),ee(15,"div",25)(16,"button",21),ye(17," Import "),ie(),ee(18,"div",22)(19,"button",23),ze("click",function(){return Se(e),oe(),Ee(Ut(8).click())}),ye(20,"Import from file..."),ie(),ee(21,"button",23),ze("click",function(){return Se(e),Ee(oe().importFromFHIRServer())}),ye(22,"Import from a FHIR server..."),ie(),Ve(23,"div",26),ee(24,"form",27)(25,"label",28),ye(26,"Import LOINC forms:"),ie(),ee(27,"input",29),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.acResult,r)||(o.acResult=r),Ee(r)}),ze("selectItem",function(r){return Se(e),Ee(oe().getLoincForm(r.item.id))}),ie()()()(),ee(28,"div",30)(29,"button",31),ze("click",function(){return Se(e),Ee(oe().setStep("fl-editor"))}),ye(30,"Edit form attributes"),ie()(),ee(31,"div",32)(32,"button",31),ze("click",function(){return Se(e),Ee(oe().showPreviewDlg())}),ye(33,"Preview"),ie()(),Me(34,rtt,6,0)(35,ott,3,0),ie()}if(2&t){const e=oe();Q(13),X("disabled",!e.questionnaire||!e.questionnaire.id),Q(),Qn("Update the questionnaire on the server (",e.fhirService.getFhirServer().endpoint,")"),Q(13),ki("ngModel",e.acResult),X("ngModelOptions",_i(10,iu))("ngbTypeahead",e.acSearch)("resultFormatter",e.formatter)("inputFormatter",e.formatter)("editable",!1),Q(2),Ye("disabled","fl-editor"===e.guidingStep?"":null),Q(5),$n(34,e.openerUrl?34:35)}}function att(t,n){if(1&t&&(ee(0,"div",37)(1,"div",38)(2,"h6",39),ye(3,"Error"),ie()(),ee(4,"div",40),ye(5),ie()()),2&t){const e=oe();Q(5),It(e.lformsErrorMessage)}}function ctt(t,n){1&t&&wr(0)}function ltt(t,n){if(1&t&&(Fn(0),Me(1,ctt,1,0,"ng-container",41),Pn()),2&t){oe();const e=Ut(15);Q(),X("ngTemplateOutlet",e)}}function dtt(t,n){1&t&&wr(0)}function utt(t,n){if(1&t&&(Fn(0),Me(1,dtt,1,0,"ng-container",41),Pn()),2&t){oe();const e=Ut(17);Q(),X("ngTemplateOutlet",e)}}function ftt(t,n){1&t&&wr(0)}function htt(t,n){if(1&t&&(Fn(0),Me(1,ftt,1,0,"ng-container",41),Pn()),2&t){oe();const e=Ut(19);Q(),X("ngTemplateOutlet",e)}}function ptt(t,n){if(1&t){const e=lt();ee(0,"li")(1,"label",45)(2,"input",53),Oi("ngModelChange",function(r){Se(e);const o=oe(2);return Vi(o.startOption,r)||(o.startOption=r),Ee(r)}),ie(),ye(3," Would you like to start from where you left off before? "),ie()()}if(2&t){const e=oe(2);Q(2),ki("ngModel",e.startOption),X("ngModelOptions",_i(2,iu))}}function mtt(t,n){if(1&t){const e=lt();ee(0,"ul",54)(1,"li")(2,"label",45)(3,"input",55),Oi("ngModelChange",function(r){Se(e);const o=oe(2);return Vi(o.importOption,r)||(o.importOption=r),Ee(r)}),ie(),ye(4," Import from local file "),ie()(),ee(5,"li")(6,"label",45)(7,"input",56),Oi("ngModelChange",function(r){Se(e);const o=oe(2);return Vi(o.importOption,r)||(o.importOption=r),Ee(r)}),ie(),ye(8," Import from FHIR server "),ie()(),ee(9,"li")(10,"label",45)(11,"input",57),Oi("ngModelChange",function(r){Se(e);const o=oe(2);return Vi(o.importOption,r)||(o.importOption=r),Ee(r)}),ie(),ye(12," Import from LOINC "),ie()()()}if(2&t){const e=oe(2);Q(3),ki("ngModel",e.importOption),X("ngModelOptions",_i(6,iu)),Q(4),ki("ngModel",e.importOption),X("ngModelOptions",_i(7,iu)),Q(4),ki("ngModel",e.importOption),X("ngModelOptions",_i(8,iu))}}function gtt(t,n){if(1&t){const e=lt();ee(0,"div",42)(1,"div",40)(2,"p",43),ye(3,"How do you want to create your form?"),ie(),ee(4,"ul",44),Me(5,ptt,4,3,"li",15),ee(6,"li")(7,"label",45)(8,"input",46),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.startOption,r)||(o.startOption=r),Ee(r)}),ie(),ye(9," Start from scratch "),ie()(),ee(10,"li")(11,"label",47)(12,"input",48),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.startOption,r)||(o.startOption=r),Ee(r)}),ie(),ye(13," Start with existing form "),ie(),Me(14,mtt,13,9,"ul",49),ie()(),Ve(15,"hr"),ee(16,"div",50)(17,"div",51)(18,"button",52),ze("click",function(){return Se(e),Ee(oe().onContinue())}),ye(19,"Continue"),ie()()()()()}if(2&t){const e=oe();Q(5),X("ngIf",e.isAutoSaved()&&!e.isDefaultForm()),Q(3),ki("ngModel",e.startOption),X("ngModelOptions",_i(6,iu)),Q(4),ki("ngModel",e.startOption),X("ngModelOptions",_i(7,iu)),Q(2),X("ngIf","existing"===e.startOption)}}function vtt(t,n){if(1&t){const e=lt();ee(0,"lfb-form-fields",58),ze("state",function(r){return Se(e),Ee(oe().setStep(r))})("questionnaireChange",function(r){return Se(e),Ee(oe().formFieldsChanged(r))}),ie()}if(2&t){const e=oe();X("questionnaire",e.formFields)("questionsButtonLabel",e.createButtonLabel())}}function _tt(t,n){if(1&t){const e=lt();ee(0,"button",59),ze("click",function(){return Se(e),Ee(oe().setStep("fl-editor"))}),ye(1),ie(),ee(2,"lfb-item-component",60),ze("itemChange",function(r){return Se(e),Ee(oe().itemComponentChanged(r))}),ie()}if(2&t){const e=oe();Q(),It(e.questionnaire.title),Q(),X("questionnaire",e.questionnaire)}}function btt(t,n){if(1&t){const e=lt();ee(0,"div",61)(1,"h4",62),ye(2,"Import a LOINC Form"),ie(),ee(3,"button",63),ze("click",function(){return Ee(Se(e).$implicit.dismiss())}),ie()(),ee(4,"div",64)(5,"form",27)(6,"label",65)(7,"span",66),ye(8,"Search LOINC form:"),ie()(),ee(9,"input",67),ze("selectItem",function(r){return Ee(Se(e).$implicit.close(r.item.id))}),ie()()()}if(2&t){const e=oe();Q(9),X("ngbTypeahead",e.acSearch)("resultFormatter",e.formatter)("inputFormatter",e.formatter)("editable",!1)}}function ytt(t,n){if(1&t){const e=lt();ee(0,"div",68)(1,"h4",69),ye(2,"Replace existing form?"),ie(),ee(3,"button",63),ze("click",function(){return Ee(Se(e).$implicit.dismiss())}),ie()(),ee(4,"div",64),ye(5," This will overwrite the content currently in the form builder. If you wish to save the form currently in the form builder, select Cancel. Otherwise, select Continue to overwrite the current form. "),ie(),ee(6,"div",70)(7,"button",71),ze("click",function(){return Ee(Se(e).$implicit.close(!0))}),ye(8,"Continue"),ie(),ee(9,"button",71),ze("click",function(){return Ee(Se(e).$implicit.dismiss())}),ye(10,"Cancel"),ie()()}}function wtt(t,n){if(1&t){const e=lt();ee(0,"div",72)(1,"h4",73),ye(2,"Confirm cancel"),ie(),ee(3,"button",63),ze("click",function(){return Ee(Se(e).$implicit.dismiss())}),ie()(),ee(4,"div",64),ye(5," This closes this window without saving your changes. If you are sure, please select Yes. Otherwise, select No to continue the session. "),ie(),ee(6,"div",70)(7,"button",71),ze("click",function(){return Ee(Se(e).$implicit.close(!0))}),ye(8,"Yes"),ie(),ee(9,"button",71),ze("click",function(){return Ee(Se(e).$implicit.dismiss())}),ye(10,"No"),ie()()}}let xtt=(()=>{class t{constructor(e,i,r,o,s,c,v){this.formService=e,this.modelService=i,this.modalService=r,this.dataSrv=o,this.fhirService=s,this.appJsonPipe=c,this.matDlg=v,this.unsubscribe=new xt,this.guidingStep="home",this.startOption="scratch",this.importOption="",this.questionnaire=null,this.formFields=null,this.formSubject=new xt,this.state=new mt,this.acResult=null,this.acceptedTermsOfUse=!1,this.acceptedSnomed=!1,this.lformsErrorMessage=null,this.weekInMilliseconds=6048e5,this.canceledEvent=!1,this.acSearch=G=>G.pipe(ol(200),Tc(),Oa(se=>se.length<2?[]:this.dataSrv.searchLoincForms(se))),this.acResult=null,this.formService.isAutoSaved()&&!this.isDefaultForm()&&(this.startOption="from_autosave");const N=JSON.parse(localStorage.getItem("acceptedTermsOfUse"));N?Date.now()-N.timestamp>this.weekInMilliseconds?localStorage.removeItem("acceptedTermsOfUse"):(this.acceptedTermsOfUse=N.acceptedLoinc,this.acceptedSnomed=N.acceptedSnomed):(this.acceptedTermsOfUse="true"===sessionStorage.acceptedLoinc,this.acceptedSnomed="true"===sessionStorage.acceptedSnomed),this.formService.setSnomedUser(this.acceptedSnomed),this.formSubject.asObservable().pipe(ol(500),Oa(G=>(this.formService.autoSaveForm(Bt.convertToQuestionnaireJSON(G)),Wi(G))),Vn(this.unsubscribe)).subscribe(()=>{console.log("Saved")}),e.guidingStep$.subscribe(G=>{this.guidingStep=G}),Hn.lformsLoaded$.subscribe({error:G=>{this.lformsErrorMessage=`Encountered an error which causes the application not to work properly. Root cause is: ${G.message}`}})}ngOnInit(){window.Cypress&&(window.basePageComponent=this),this.acceptedTermsOfUse||this.modalService.open(VQe,{size:"lg",container:"body > lfb-root",keyboard:!1,backdrop:"static"}).result.then(e=>{this.acceptedTermsOfUse=e.acceptedLoinc,e.acceptedLoinc&&e.acceptedSnomed?localStorage.setItem("acceptedTermsOfUse",JSON.stringify({acceptedLoinc:e.acceptedLoinc,acceptedSnomed:e.acceptedSnomed,timestamp:Date.now()})):(sessionStorage.acceptedLoinc=e.acceptedLoinc,sessionStorage.acceptedSnomed=e.acceptedSnomed),this.formService.setSnomedUser(e.acceptedSnomed)},e=>{console.error(e)}),window.opener&&(this.formService.windowOpenerUrl=this.parseOpenerUrl(window.location)),this.addWindowListeners()}parseOpenerUrl(e){let i=null;return"window-open"===e?.pathname.replace(/^\/+/,"").toLowerCase()&&(i=new URLSearchParams(e.search).get("referrer")),i}get openerUrl(){return this.formService.windowOpenerUrl}addWindowListeners(){this.openerUrl&&(window.addEventListener("message",i=>{let r=null;try{r=JSON.parse(JSON.stringify(i.data))}catch{return void console.error(`Unrecognized input from ${i.origin}`)}const o=this.formService.windowOpenerUrl;if(o.startsWith(i.origin))if("initialQuestionnaire"===r?.type)try{console.log(`Received questionnaire from ${o}`),this.setQuestionnaire(JSON.parse(JSON.stringify(r.questionnaire))),this.setStep("fl-editor")}catch(s){console.error(`Failed to parse questionnaire received from ${o}: ${s}`)}else console.log(`Received a message from ${o}: type = ${r?.type}`)}),window.addEventListener("beforeunload",i=>{const r={};this.canceledEvent?r.type="canceled":(r.type="closed",r.questionnaire=Bt.convertToQuestionnaireJSON(this.formValue)),window.opener.postMessage(r,this.openerUrl)}),window.opener.postMessage({type:"initialized"},this.openerUrl))}notifyChange(e){this.formSubject.next(e)}formFieldsChanged(e){[this.formValue,this.questionnaire,this.formFields].forEach(i=>{const r=i.item;for(const o of Object.keys(i))delete i[o];Object.assign(i,e),i.item=r}),this.notifyChange(this.formValue)}itemComponentChanged(e){this.formValue.item=e,this.notifyChange(this.formValue)}setQuestionnaire(e){this.questionnaire=e,this.modelService.questionnaire=this.questionnaire,this.formValue=Object.assign({},e),this.formFields=Object.assign({},e),delete this.formFields.item,this.notifyChange(this.formValue)}setFieldsAndInvokeChangeDetection(e){const i=Object.assign({},this.questionnaire);Object.keys(e).forEach(r=>{i[r]=e[r]}),this.setQuestionnaire(i)}setStep(e){this.formService.setGuidingStep(e),this.formService.autoSave("state",e)}isAutoSaved(){return this.formService.isAutoSaved()}onContinue(){if("from_autosave"===this.startOption){let e=this.formService.autoLoad("state");e=Bt.isGuidingStep(e)?e:"fl-editor",e="home"===e?"fl-editor":e,this.formService.setGuidingStep(e),this.setQuestionnaire(this.formService.autoLoadForm())}else"scratch"===this.startOption?(this.setStep("fl-editor"),this.setQuestionnaire(Bt.createDefaultForm())):"local"===this.importOption?this.fileInputEl.nativeElement.click():"fhirServer"===this.importOption?this.fetchFormFromFHIRServer$().subscribe(e=>{e&&(this.setQuestionnaire(e),this.setStep("fl-editor"))}):"loinc"===this.importOption&&this.modalService.open(this.loincSearchDlg).result.then(e=>{this.dataSrv.getLoincFormData(e).subscribe(i=>{this.setQuestionnaire(i),this.setStep("fl-editor")})},()=>{})}ngOnDestroy(){this.unsubscribe.next()}onFileSelected(e){const i=()=>{const r=e.target.files[0],o=Bt.validateFile(r);if(!o)return void this.showError(`Invalid file name: ${r?.name}`);e.target.value=null;const s=new FileReader;s.onload=()=>{setTimeout(()=>{this.setStep("fl-editor");try{this.setQuestionnaire(this.formService.parseQuestionnaire(s.result))}catch(c){this.showError(`${c.message}: ${o.name}`)}})},s.onerror=()=>{this.showError(`Error occurred reading file: ${o.name}`)},s.readAsText(o,"UTF-8")};this.questionnaire?this.warnFormLoading(()=>{i()}):i()}showError(e){this.formService.showMessage("Error",e.message||e,rp.DANGER)}showPreviewDlg(){this.matDlg.open(OQe,{data:{questionnaire:Bt.convertToQuestionnaireJSON(this.formValue),lfData:{options:{allowHTML:!0,displayScoreWithAnswerText:!1}}},width:"80vw",height:"80vh"})}formatter(e){return e.id+": "+e.title}saveToFile(e="R4"){const i=this.formService.convertFromR4(Bt.convertToQuestionnaireJSON(this.formValue),e),r=this.toString(i),o=new Blob([r],{type:"application/json;charset=utf-8"}),s=i.title,c=i.name,v=c?c.replace(/\s/g,"-"):s?s.replace(/\s/g,"-"):"form",C=document.getElementById("exportAnchor"),N=URL||webkitURL;null!=this.objectUrl&&(N.revokeObjectURL(this.objectUrl),this.objectUrl=null),this.objectUrl=N.createObjectURL(o),C.setAttribute("href",this.objectUrl),C.setAttribute("download",v+"."+e+".json"),C.dispatchEvent(new MouseEvent("click"))}getLoincForm(e){const i=()=>{e?this.dataSrv.getLoincFormData(e).subscribe(r=>{this.setQuestionnaire(r),this.acResult=null}):this.setQuestionnaire(Bt.createDefaultForm())};this.questionnaire?this.warnFormLoading(r=>{r&&i(),this.acResult=null},()=>{this.acResult=null}):i()}createButtonLabel(){let e="Create questions";return this.questionnaire&&this.questionnaire.item&&this.questionnaire.item.length>0&&(e="Edit questions"),e}close(){this.openerUrl?(this.canceledEvent=!1,window.close()):(this.setStep("home"),this.isDefaultForm()||(this.startOption="from_autosave"))}cancel(){this.openerUrl&&this.modalService.open(this.cancelDlg).result.then(e=>{e&&(this.canceledEvent=!0,window.close())})}importFromFHIRServer(){this.modalService.open(Ax,{size:"lg"}).result.then(e=>{e&&this.modalService.open(LW,{size:"lg",scrollable:!0}).result.then(i=>{!1!==i&&this.warnFormLoading(r=>{r&&this.fhirService.read(i).subscribe(o=>{this.setQuestionnaire(o)})})})},e=>{console.error(e)})}fetchFormFromFHIRServer$(){return qc(this.modalService.open(Ax,{size:"lg"}).result).pipe(Oa(e=>e?qc(this.modalService.open(LW,{size:"lg",scrollable:!0}).result):Wi(!1)),Oa(e=>!1!==e?this.fhirService.read(e):Wi(null)))}exportToServer(e){let i;"CREATE"===e?this.modalService.open(Ax,{size:"lg"}).result.then(r=>{r&&(i=this.fhirService.create(Bt.convertToQuestionnaireJSON(this.formValue),null),this.handleServerResponse(i))},r=>{console.error(r)}):"UPDATE"===e&&(i=this.fhirService.update(Bt.convertToQuestionnaireJSON(this.formValue),null),this.handleServerResponse(i))}handleServerResponse(e){e.pipe(q1(i=>(console.error(i.message),Wi(i))),h8(()=>{})).subscribe(i=>{const r=this.modalService.open(PQe,{size:"lg",scrollable:!0});i instanceof Error?(r.componentInstance.error=i,r.componentInstance.serverResponse=null):(this.setFieldsAndInvokeChangeDetection({id:i.id}),r.componentInstance.error=null,r.componentInstance.serverResponse=i)})}toString(e){return this.appJsonPipe.transform(e)}warnFormLoading(e,i){Bt.isDefaultForm(this.questionnaire)?e(!0):this.modalService.open(this.warnFormLoadingDlg,{size:"lg",scrollable:!0}).result.then(r=>{e(r)},r=>{i&&i(r)})}isDefaultForm(){const e=this.formService.autoLoadForm();return e&&(e.item=e.item||[]),Bt.isDefaultForm(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hn),ve(w5),ve(k0),ve(ps),ve(dh),ve(y5),ve(Gp))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-base-page"]],viewQuery:function(i,r){if(1&i&&(Ln(Jet,5),Ln(ett,5),Ln(ttt,5),Ln(ntt,5)),2&i){let o;Et(o=Lt())&&(r.fileInputEl=o.first),Et(o=Lt())&&(r.loincSearchDlg=o.first),Et(o=Lt())&&(r.warnFormLoadingDlg=o.first),Et(o=Lt())&&(r.cancelDlg=o.first)}},inputs:{guidingStep:"guidingStep"},outputs:{state:"state"},features:[Nn([nl])],decls:26,vars:7,consts:[["fileInput",""],["home",""],["formLevelFields",""],["itemLevelFields",""],["loincSearchDlg",""],["warnFormLoading",""],["confirmCancel",""],["class","bg-warning-subtle border border-black text-center",4,"ngIf"],[1,"page-defaults","container","bg-white","shadow"],["id","fixedTop",3,"isFirebaseEnabled"],["id","resizableMiddle"],["class","navbar navbar-light bg-light ps-2","aria-label","Menu bar",4,"ngIf"],["target","_self","id","exportAnchor",1,"d-none"],["type","file",1,"d-none",3,"change","click"],["class","card bg-danger-subtle m-auto w-75",4,"ngIf"],[4,"ngIf"],["id","fixedBottom"],[1,"bg-warning-subtle","border","border-black","text-center"],[1,"text-primary"],["aria-label","Menu bar",1,"navbar","navbar-light","bg-light","ps-2"],["ngbDropdown","","role","group","aria-label","Export menu",1,"btn-group-sm","me-2"],["ngbDropdownToggle","",1,"btn","btn-sm","btn-secondary"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"click","disabled"],["ngbDropdown","","role","group","aria-label","Import menu",1,"btn-group-sm","me-2"],[1,"dropdown-divider"],[1,"px-4","py-3"],["for","searchLoincBox"],["type","text","id","searchLoincBox","container","body","placeholder","Search LOINC",1,"form-control","form-control-sm",3,"ngModelChange","selectItem","ngModel","ngModelOptions","ngbTypeahead","resultFormatter","inputFormatter","editable"],["role","group","aria-label","Edit form attributes",1,"btn-group-sm","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],["role","group","aria-label","Preview",1,"btn-group-sm","me-2","ms-auto"],["role","group","aria-label","Save and close editor",1,"btn-group-sm","me-2"],["role","group","aria-label","Cancel changes",1,"btn-group-sm","me-2"],["id","cancelButton","type","button",1,"btn","btn-secondary",3,"click"],["role","group","aria-label","Close editor",1,"btn-group-sm","me-2"],[1,"card","bg-danger-subtle","m-auto","w-75"],[1,"card-header","d-flex","justify-content-center"],[1,"card-title"],[1,"card-body"],[4,"ngTemplateOutlet"],[1,"card","border-0","container"],["id","starting_header",1,"lead"],["role","radiogroup","aria-labelledby","starting_header",1,"list-unstyled","ms-5"],[1,"btn"],["type","radio","name","startOption","value","scratch",3,"ngModelChange","ngModel","ngModelOptions"],["id","start_option_existing_label",1,"btn"],["type","radio","name","startOption","value","existing",3,"ngModelChange","ngModel","ngModelOptions"],["class","list-unstyled ms-5","role","radiogroup","aria-labelledby","start_option_existing_label",4,"ngIf"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar","float-end","mb-2"],["role","group","aria-label","Last group",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["type","radio","name","startOption","value","from_autosave",3,"ngModelChange","ngModel","ngModelOptions"],["role","radiogroup","aria-labelledby","start_option_existing_label",1,"list-unstyled","ms-5"],["type","radio","name","importOption","value","local",3,"ngModelChange","ngModel","ngModelOptions"],["type","radio","name","importOption","value","fhirServer",3,"ngModelChange","ngModel","ngModelOptions"],["type","radio","name","importOption","value","loinc",3,"ngModelChange","ngModel","ngModelOptions"],[3,"state","questionnaireChange","questionnaire","questionsButtonLabel"],["type","button",1,"ms-2","fw-bold","btn","btn-link",3,"click"],[3,"itemChange","questionnaire"],[1,"modal-header","btn-primary"],["id","loinc-search-dlg-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],["for","loincSearch"],[1,"p-1"],["type","text","id","loincSearch","placeholder","Search LOINC forms",3,"selectItem","ngbTypeahead","resultFormatter","inputFormatter","editable"],["role","dialog","aria-labelledby","warningDlgTitle",1,"modal-header","bg-primary"],["id","warningDlgTitle",1,"modal-title","text-white"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["role","alertdialog","aria-labelledby","cancelDlgTitle",1,"modal-header","bg-primary"],["id","cancelDlgTitle",1,"modal-title","text-white"]],template:function(i,r){if(1&i){const o=lt();Me(0,itt,4,1,"div",7),ee(1,"div",8),Ve(2,"lfb-header",9),ee(3,"div",10),Me(4,stt,36,11,"nav",11),ee(5,"a",12),ye(6,"Export"),ie(),ee(7,"input",13,0),ze("change",function(c){return Se(o),Ee(r.onFileSelected(c))})("click",function(){return Se(o),Ee(Ut(8).value=null)}),ie(),Me(9,att,6,1,"div",14)(10,ltt,2,1,"ng-container",15)(11,utt,2,1,"ng-container",15)(12,htt,2,1,"ng-container",15),ie(),Ve(13,"lfb-footer",16),ie(),Me(14,gtt,20,8,"ng-template",null,1,En)(16,vtt,1,2,"ng-template",null,2,En)(18,_tt,3,2,"ng-template",null,3,En)(20,btt,10,4,"ng-template",null,4,En)(22,ytt,11,0,"ng-template",null,5,En)(24,wtt,11,0,"ng-template",null,6,En)}2&i&&(X("ngIf",r.openerUrl),Q(2),X("isFirebaseEnabled",!1),Q(2),X("ngIf","home"!==r.guidingStep),Q(5),X("ngIf",r.lformsErrorMessage),Q(),X("ngIf","home"===r.guidingStep),Q(),X("ngIf","fl-editor"===r.guidingStep),Q(),X("ngIf","item-editor"===r.guidingStep))},dependencies:[yn,ho,Sf,di,Ls,ei,Cf,ro,Zd,Ff,Qg,tp,ep,Qb,Pf,Het,qet,Ket,Xet],styles:["#fixedTop[_ngcontent-%COMP%]{top:0;left:0;height:84px;right:0;overflow:hidden}#fixedBottom[_ngcontent-%COMP%]{bottom:0;height:65px;left:0;right:0;overflow:hidden}#resizableMiddle[_ngcontent-%COMP%]{inset:84px 0 65px;overflow:auto}.radio-group[_ngcontent-%COMP%]{border:lightgray 1px solid;vertical-align:center;margin:5px 0}.radio-button[_ngcontent-%COMP%]{margin:5px}.fix-pre[_ngcontent-%COMP%]{margin-top:revert}"]})}return t})(),Ctt=(()=>{class t{constructor(e){this.dateConfig=e,this.title="formbuilder-lhcforms";const i=new Date;e.minDate={year:i.getUTCFullYear()-100,month:i.getUTCMonth()+1,day:i.getUTCDate()},e.maxDate={year:i.getUTCFullYear()+100,month:i.getUTCMonth()+1,day:i.getUTCDate()}}static#e=this.\u0275fac=function(i){return new(i||t)(ve(jg))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-root"]],decls:1,vars:0,template:function(i,r){1&i&&Ve(0,"lfb-base-page")},dependencies:[xtt]})}return t})();function Qq(t){return new et(3e3,!1)}function x2(t){switch(t.length){case 0:return new Np;case 1:return t[0];default:return new rj(t)}}function Xq(t,n,e=new Map,i=new Map){const r=[],o=[];let s=-1,c=null;if(n.forEach(v=>{const C=v.get("offset"),N=C==s,G=N&&c||new Map;v.forEach((se,le)=>{let pe=le,we=se;if("offset"!==le)switch(pe=t.normalizePropertyName(pe,r),we){case"!":we=e.get(le);break;case Z1:we=i.get(le);break;default:we=t.normalizeStyleValue(le,pe,we,r)}G.set(pe,we)}),N||o.push(G),c=G,s=C}),r.length)throw function Gtt(t){return new et(3502,!1)}();return o}function yC(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&wC(e,"start",t)));break;case"done":t.onDone(()=>i(e&&wC(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&wC(e,"destroy",t)))}}function wC(t,n,e){const o=xC(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function xC(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function lc(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function Jq(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const rnt=typeof document>"u"?null:document.documentElement;function CC(t){const n=t.parentNode||t.host||null;return n===rnt?null:n}let ru=null,eK=!1;function tK(t,n){for(;n;){if(n===t)return!0;n=CC(n)}return!1}function nK(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]}let MC=(()=>{class t{validateStyleProperty(e){return function snt(t){ru||(ru=function ant(){return typeof document<"u"?document.body:null}()||{},eK=!!ru.style&&"WebkitAppearance"in ru.style);let n=!0;return ru.style&&!function ont(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in ru.style,!n&&eK&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ru.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return tK(e,i)}getParentElement(e){return CC(e)}query(e,i,r){return nK(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,c=[],v){return new Np(r,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();class SC{static#e=this.NOOP=new MC}class TC{}const lnt=1e3,EC="ng-enter",U5="ng-leave",V5="ng-trigger",j5=".ng-trigger",rK="ng-animating",LC=".ng-animating";function sd(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:AC(parseFloat(n[1]),n[2])}function AC(t,n){return"s"===n?t*lnt:t}function W5(t,n,e){return t.hasOwnProperty("duration")?t:function unt(t,n,e){let r,o=0,s="";if("string"==typeof t){const c=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return n.push(Qq()),{duration:0,delay:0,easing:""};r=AC(parseFloat(c[1]),c[2]);const v=c[3];null!=v&&(o=AC(parseFloat(v),c[4]));const C=c[5];C&&(s=C)}else r=t;if(!e){let c=!1,v=n.length;r<0&&(n.push(function Mtt(){return new et(3100,!1)}()),c=!0),o<0&&(n.push(function Stt(){return new et(3101,!1)}()),c=!0),c&&n.splice(v,0,Qq())}return{duration:r,delay:o,easing:s}}(t,n,e)}function r1(t,n,e){n.forEach((i,r)=>{const o=IC(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function ou(t,n){n.forEach((e,i)=>{const r=IC(i);t.style[r]=""})}function om(t){return Array.isArray(t)?1==t.length?t[0]:function nVe(t,n=null){return{type:Zn.Sequence,steps:t,options:n}}(t):t}const DC=new RegExp("{{\\s*(.+?)\\s*}}","g");function sK(t){let n=[];if("string"==typeof t){let e;for(;e=DC.exec(t);)n.push(e[1]);DC.lastIndex=0}return n}function sm(t,n,e){const i=`${t}`,r=i.replace(DC,(o,s)=>{let c=n[s];return null==c&&(e.push(function Ett(t){return new et(3003,!1)}()),c=""),c.toString()});return r==i?t:r}const pnt=/-+([a-z0-9])/g;function IC(t){return t.replace(pnt,(...n)=>n[1].toUpperCase())}function dc(t,n,e){switch(n.type){case Zn.Trigger:return t.visitTrigger(n,e);case Zn.State:return t.visitState(n,e);case Zn.Transition:return t.visitTransition(n,e);case Zn.Sequence:return t.visitSequence(n,e);case Zn.Group:return t.visitGroup(n,e);case Zn.Animate:return t.visitAnimate(n,e);case Zn.Keyframes:return t.visitKeyframes(n,e);case Zn.Style:return t.visitStyle(n,e);case Zn.Reference:return t.visitReference(n,e);case Zn.AnimateChild:return t.visitAnimateChild(n,e);case Zn.AnimateRef:return t.visitAnimateRef(n,e);case Zn.Query:return t.visitQuery(n,e);case Zn.Stagger:return t.visitStagger(n,e);default:throw function Ltt(t){return new et(3004,!1)}()}}function kC(t,n){return window.getComputedStyle(t)[n]}const vnt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aK extends TC{normalizePropertyName(n,e){return IC(n)}normalizeStyleValue(n,e,i,r){let o="";const s=i.toString().trim();if(vnt.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function Att(t,n){return new et(3005,!1)}())}return s+o}}const G5="*";const Y5=new Set(["true","1"]),q5=new Set(["false","0"]);function cK(t,n){const e=Y5.has(t)||q5.has(t),i=Y5.has(n)||q5.has(n);return(r,o)=>{let s=t==G5||t==r,c=n==G5||n==o;return!s&&e&&"boolean"==typeof r&&(s=r?Y5.has(t):q5.has(t)),!c&&i&&"boolean"==typeof o&&(c=o?Y5.has(n):q5.has(n)),s&&c}}const wnt=new RegExp("s*:selfs*,?","g");function OC(t,n,e,i){return new xnt(t).build(n,e,i)}class xnt{constructor(n){this._driver=n}build(n,e,i){const r=new Snt(e);return this._resetContextStyleTimingState(r),dc(this,om(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function Dtt(){return new et(3006,!1)}()),n.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),c.type==Zn.State){const v=c,C=v.name;C.toString().split(/\s*,\s*/).forEach(N=>{v.name=N,o.push(this.visitState(v,e))}),v.name=C}else if(c.type==Zn.Transition){const v=this.visitTransition(c,e);i+=v.queryCount,r+=v.depCount,s.push(v)}else e.errors.push(function Itt(){return new et(3007,!1)}())}),{type:Zn.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(v=>{sK(v).forEach(C=>{s.hasOwnProperty(C)||o.add(C)})})}),o.size&&e.errors.push(function ktt(t,n){return new et(3008,!1)}(0,o.values()))}return{type:Zn.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=dc(this,om(n.animation),e),r=function _nt(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function bnt(t,n,e){if(":"==t[0]){const v=function ynt(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function Utt(t){return new et(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof v)return void n.push(v);t=v}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Htt(t){return new et(3015,!1)}()),n;const r=i[1],o=i[2],s=i[3];n.push(cK(r,s)),"<"==o[0]&&(r!=G5||s!=G5)&&n.push(cK(s,r))}(i,e,n)):e.push(t),e}(n.expr,e.errors);return{type:Zn.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:su(n.options)}}visitSequence(n,e){return{type:Zn.Sequence,steps:n.steps.map(i=>dc(this,i,e)),options:su(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const o=n.steps.map(s=>{e.currentTime=i;const c=dc(this,s,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:Zn.Group,steps:o,options:su(n.options)}}visitAnimate(n,e){const i=function Ent(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return NC(W5(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=NC(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=W5(e,n);return NC(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:yi({});if(o.type==Zn.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,c=!1;if(!s){c=!0;const C={};i.easing&&(C.easing=i.easing),s=yi(C)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(s,e);v.isEmptyStep=c,r=v}return e.currentAnimateTimings=null,{type:Zn.Animate,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let c of r)"string"==typeof c?c===Z1?i.push(c):e.errors.push(new et(3002,!1)):i.push(new Map(Object.entries(c)));let o=!1,s=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(s=c.get("easing"),c.delete("easing")),!o))for(let v of c.values())if(v.toString().indexOf("{{")>=0){o=!0;break}}),{type:Zn.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,v)=>{const C=e.collectedStyles.get(e.currentQuerySelector),N=C.get(v);let G=!0;N&&(o!=r&&o>=N.startTime&&r<=N.endTime&&(e.errors.push(function Ntt(t,n,e,i,r){return new et(3010,!1)}()),G=!1),o=N.startTime),G&&C.set(v,{startTime:o,endTime:r}),e.options&&function hnt(t,n,e){const i=n.params||{},r=sK(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Ttt(t){return new et(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:Zn.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Rtt(){return new et(3011,!1)}()),i;let o=0;const s=[];let c=!1,v=!1,C=0;const N=n.steps.map(Be=>{const Pe=this._makeStyleAst(Be,e);let Je=null!=Pe.offset?Pe.offset:function Tnt(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Pe.styles),ut=0;return null!=Je&&(o++,ut=Pe.offset=Je),v=v||ut<0||ut>1,c=c||ut<C,C=ut,s.push(ut),Pe});v&&e.errors.push(function Ftt(){return new et(3012,!1)}()),c&&e.errors.push(function Ptt(){return new et(3200,!1)}());const G=n.steps.length;let se=0;o>0&&o<G?e.errors.push(function ztt(){return new et(3202,!1)}()):0==o&&(se=1/(G-1));const le=G-1,pe=e.currentTime,we=e.currentAnimateTimings,Le=we.duration;return N.forEach((Be,Pe)=>{const Je=se>0?Pe==le?1:se*Pe:s[Pe],ut=Je*Le;e.currentTime=pe+we.delay+ut,we.duration=ut,this._validateStyleAst(Be,e),Be.offset=Je,i.styles.push(Be)}),i}visitReference(n,e){return{type:Zn.Reference,animation:dc(this,om(n.animation),e),options:su(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Zn.AnimateChild,options:su(n.options)}}visitAnimateRef(n,e){return{type:Zn.AnimateRef,animation:this.visitReference(n.animation,e),options:su(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[o,s]=function Cnt(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(wnt,"")),t=t.replace(/@\*/g,j5).replace(/@\w+/g,e=>j5+"-"+e.slice(1)).replace(/:animating/g,LC),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,lc(e.collectedStyles,e.currentQuerySelector,new Map);const c=dc(this,om(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Zn.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:c,originalSelector:n.selector,options:su(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function $tt(){return new et(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:W5(n.timings,e.errors,!0);return{type:Zn.Stagger,animation:dc(this,om(n.animation),e),timings:i,options:null}}}class Snt{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function su(t){return t?(t={...t}).params&&(t.params=function Mnt(t){return t?{...t}:null}(t.params)):t={},t}function NC(t,n,e){return{duration:t,delay:n,easing:e}}function RC(t,n,e,i,r,o,s=null,c=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:c}}class K5{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Dnt=new RegExp(":enter","g"),knt=new RegExp(":leave","g");function FC(t,n,e,i,r,o=new Map,s=new Map,c,v,C=[]){return(new Ont).buildKeyframes(t,n,e,i,r,o,s,c,v,C)}class Ont{buildKeyframes(n,e,i,r,o,s,c,v,C,N=[]){C=C||new K5;const G=new PC(n,e,C,r,o,N,[]);G.options=v;const se=v.delay?sd(v.delay):0;G.currentTimeline.delayNextStep(se),G.currentTimeline.setStyles([s],null,G.errors,v),dc(this,i,G);const le=G.timelines.filter(pe=>pe.containsAnimation());if(le.length&&c.size){let pe;for(let we=le.length-1;we>=0;we--){const Le=le[we];if(Le.element===e){pe=Le;break}}pe&&!pe.allowOnlyTimelineStyles()&&pe.setStyles([c],null,G.errors,v)}return le.length?le.map(pe=>pe.buildKeyframes()):[RC(e,[],[],[],0,se,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const o=r?.delay;if(o){const s="number"==typeof o?o:sd(sm(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?sd(i.duration):null,c=null!=i.delay?sd(i.delay):null;return 0!==s&&n.forEach(v=>{const C=e.appendInstructionToTimeline(v,s,c);o=Math.max(o,C.duration+C.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),dc(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Zn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Z5);const s=sd(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>dc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?sd(n.options.delay):0;n.steps.forEach(s=>{const c=e.createSubContext(n.options);o&&c.delayNextStep(o),dc(this,s,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return W5(e.params?sm(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;o.type==Zn.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,n.styles.forEach(v=>{c.forwardTime((v.offset||0)*o),c.setStyles(v.styles,v.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?sd(r.delay):0;o&&(e.previousNode.type===Zn.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Z5);let s=i;const c=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let v=null;c.forEach((C,N)=>{e.currentQueryIndex=N;const G=e.createSubContext(n.options,C);o&&G.delayNextStep(o),C===e.element&&(v=G.currentTimeline),dc(this,n.animation,G),G.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,G.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),c=s*(e.currentQueryTotal-1);let v=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=c-v;break;case"full":v=i.currentStaggerTime}const N=e.currentTimeline;v&&N.delayNextStep(v);const G=N.currentTime;dc(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-G+(r.startTime-i.currentTimeline.startTime)}}const Z5={};class PC{constructor(n,e,i,r,o,s,c,v){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Z5,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Q5(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=sd(i.duration)),null!=i.delay&&(r.delay=sd(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!s.hasOwnProperty(c))&&(s[c]=sm(o[c],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,o=new PC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=Z5,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new Nnt(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let c=[];if(r&&c.push(this.element),n.length>0){n=(n=n.replace(Dnt,"."+this._enterClassName)).replace(knt,"."+this._leaveClassName);let C=this._driver.query(this.element,n,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),c.push(...C)}return!o&&0==c.length&&s.push(function Btt(t){return new et(3014,!1)}()),c}}class Q5{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Q5(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Z1),this._currentKeyframe.set(e,Z1);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Rnt(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i??=n.keys();for(let o of i)e.set(o,Z1)}else for(let[o,s]of r)e.set(o,s)}),e}(n,this._globalTimelineStyles);for(let[c,v]of s){const C=sm(v,o,i);this._pendingStyles.set(c,C),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Z1),this._updateStyle(c,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,v)=>{const C=new Map([...this._backFill,...c]);C.forEach((N,G)=>{"!"===N?n.add(G):N===Z1&&e.add(G)}),i||C.set("offset",v/this.duration),r.push(C)});const o=[...n.values()],s=[...e.values()];if(i){const c=r[0],v=new Map(c);c.set("offset",0),v.set("offset",1),r=[c,v]}return RC(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Nnt extends Q5{constructor(n,e,i,r,o,s,c=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,c=e/s,v=new Map(n[0]);v.set("offset",0),o.push(v);const C=new Map(n[0]);C.set("offset",uK(c)),o.push(C);const N=n.length-1;for(let G=1;G<=N;G++){let se=new Map(n[G]);const le=se.get("offset");se.set("offset",uK((e+le*i)/s)),o.push(se)}i=s,e=0,r="",n=o}return RC(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function uK(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}function fK(t,n,e,i,r,o,s,c,v,C,N,G,se){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:c,queriedElements:v,preStyleProps:C,postStyleProps:N,totalTime:G,errors:se}}const zC={};class hK{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function Fnt(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,c,v,C,N){const G=[],se=this.ast.options&&this.ast.options.params||zC,pe=this.buildStyles(i,c&&c.params||zC,G),we=v&&v.params||zC,Le=this.buildStyles(r,we,G),Be=new Set,Pe=new Map,Je=new Map,ut="void"===r,Dt={params:pK(we,se),delay:this.ast.options?.delay},Ft=N?[]:FC(n,e,this.ast.animation,o,s,pe,Le,Dt,C,G);let en=0;return Ft.forEach(vn=>{en=Math.max(vn.duration+vn.delay,en)}),G.length?fK(e,this._triggerName,i,r,ut,pe,Le,[],[],Pe,Je,en,G):(Ft.forEach(vn=>{const Mi=vn.element,Ti=lc(Pe,Mi,new Set);vn.preStyleProps.forEach(Yr=>Ti.add(Yr));const Gr=lc(Je,Mi,new Set);vn.postStyleProps.forEach(Yr=>Gr.add(Yr)),Mi!==e&&Be.add(Mi)}),fK(e,this._triggerName,i,r,ut,pe,Le,Ft,[...Be.values()],Pe,Je,en))}}function pK(t,n){const e={...n};return Object.entries(t).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Pnt{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=pK(n,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,c)=>{s&&(s=sm(s,r,e));const v=this.normalizer.normalizePropertyName(c,e);s=this.normalizer.normalizeStyleValue(c,v,s,e),i.set(c,s)})}),i}}class $nt{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Pnt(r.style,r.options&&r.options.params||{},i))}),mK(this.states,"true","1"),mK(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new hK(n,r,this.states))}),this.fallbackTransition=function Bnt(t,n,e){return new hK(t,{type:Zn.Transition,animation:{type:Zn.Sequence,steps:[],options:null},matchers:[(s,c)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function mK(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const Hnt=new K5;class Unt{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],o=OC(this._driver,e,i,[]);if(i.length)throw function Ytt(t){return new et(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,i){const r=n.element,o=Xq(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],o=this._animations.get(n);let s;const c=new Map;if(o?(s=FC(this._driver,e,o,EC,U5,new Map,new Map,i,Hnt,r),s.forEach(N=>{const G=lc(c,N.element,new Map);N.postStyleProps.forEach(se=>G.set(se,null))})):(r.push(function qtt(){return new et(3300,!1)}()),s=[]),r.length)throw function Ktt(t){return new et(3504,!1)}();c.forEach((N,G)=>{N.forEach((se,le)=>{N.set(le,this._driver.computeStyle(G,le,Z1))})});const C=x2(s.map(N=>{const G=c.get(N.element);return this._buildPlayer(N,new Map,G)}));return this._playersById.set(n,C),C.onDestroy(()=>this.destroy(n)),this.players.push(C),C}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Ztt(t){return new et(3301,!1)}();return e}listen(n,e,i,r){const o=xC(e,"","","");return yC(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const gK="ng-animate-queued",$C="ng-animate-disabled",Ynt=[],vK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qnt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gl="__ng_removed";class BC{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function Xnt(t){return t??null}(i?n.value:n),i){const{value:o,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const am="void",HC=new BC(am);class Knt{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Oc(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function Qtt(t,n){return new et(3302,!1)}();if(null==i||0==i.length)throw function Xtt(t){return new et(3303,!1)}();if(!function Jnt(t){return"start"==t||"done"==t}(i))throw function Jtt(t,n){return new et(3400,!1)}();const o=lc(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);const c=lc(this._engine.statesByElement,n,new Map);return c.has(e)||(Oc(n,V5),Oc(n,V5+"-"+e),c.set(e,HC)),()=>{this._engine.afterFlush(()=>{const v=o.indexOf(s);v>=0&&o.splice(v,1),this._triggers.has(e)||c.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function ent(t){return new et(3401,!1)}();return e}trigger(n,e,i,r=!0){const o=this._getTrigger(e),s=new UC(this.id,e,n);let c=this._engine.statesByElement.get(n);c||(Oc(n,V5),Oc(n,V5+"-"+e),this._engine.statesByElement.set(n,c=new Map));let v=c.get(e);const C=new BC(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&C.absorbOptions(v.options),c.set(e,C),v||(v=HC),C.value!==am&&v.value===C.value){if(!function nit(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(v.params,C.params)){const we=[],Le=o.matchStyles(v.value,v.params,we),Be=o.matchStyles(C.value,C.params,we);we.length?this._engine.reportError(we):this._engine.afterFlush(()=>{ou(n,Le),r1(n,Be)})}return}const se=lc(this._engine.playersByElement,n,[]);se.forEach(we=>{we.namespaceId==this.id&&we.triggerName==e&&we.queued&&we.destroy()});let le=o.matchTransition(v.value,C.value,n,C.params),pe=!1;if(!le){if(!r)return;le=o.fallbackTransition,pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:le,fromState:v,toState:C,player:s,isFallbackTransition:pe}),pe||(Oc(n,gK),s.onStart(()=>{Mh(n,gK)})),s.onDone(()=>{let we=this.players.indexOf(s);we>=0&&this.players.splice(we,1);const Le=this._engine.playersByElement.get(n);if(Le){let Be=Le.indexOf(s);Be>=0&&Le.splice(Be,1)}}),this.players.push(s),se.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,j5,!0);i.forEach(r=>{if(r[gl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const c=[];if(o.forEach((v,C)=>{if(s.set(C,v.value),this._triggers.has(C)){const N=this.trigger(n,C,am,r);N&&c.push(N)}}),c.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&x2(c).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const v=this._triggers.get(s).fallbackTransition,C=i.get(s)||HC,N=new BC(am),G=new UC(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:v,fromState:C,toState:N,player:G,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const o=n[gl];(!o||o===vK)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Oc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(c=>{if(c.name==i.triggerName){const v=xC(o,i.triggerName,i.fromState.value,i.toState.value);v._data=n,yC(i.player,c.phase,v,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Znt{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i,r){this.bodyNode=n,this.driver=e,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new Knt(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,c=this.driver.getParentElement(e);for(;c;){const v=r.get(c);if(v){const C=i.indexOf(v);i.splice(C+1,0,n),s=!0;break}c=this.driver.getParentElement(c)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(n,e,i,r){if(X5(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!X5(e))return;const o=e[gl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Oc(n,$C)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Mh(n,$C))}removeNode(n,e,i){if(X5(e)){this.scheduler?.notify();const r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[gl]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return X5(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,j5,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,LC,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return x2(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[gl];if(e&&e.setForRemoval){if(n[gl]=vK,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains($C)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?x2(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function tnt(t){return new et(3402,!1)}()}_flushAnimations(n,e){const i=new K5,r=[],o=new Map,s=[],c=new Map,v=new Map,C=new Map,N=new Set;this.disabledNodes.forEach(zt=>{N.add(zt);const nn=this.driver.query(zt,".ng-animate-queued",!0);for(let On=0;On<nn.length;On++)N.add(nn[On])});const G=this.bodyNode,se=Array.from(this.statesByElement.keys()),le=yK(se,this.collectedEnterElements),pe=new Map;let we=0;le.forEach((zt,nn)=>{const On=EC+we++;pe.set(nn,On),zt.forEach(oi=>Oc(oi,On))});const Le=[],Be=new Set,Pe=new Set;for(let zt=0;zt<this.collectedLeaveElements.length;zt++){const nn=this.collectedLeaveElements[zt],On=nn[gl];On&&On.setForRemoval&&(Le.push(nn),Be.add(nn),On.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(oi=>Be.add(oi)):Pe.add(nn))}const Je=new Map,ut=yK(se,Array.from(Be));ut.forEach((zt,nn)=>{const On=U5+we++;Je.set(nn,On),zt.forEach(oi=>Oc(oi,On))}),n.push(()=>{le.forEach((zt,nn)=>{const On=pe.get(nn);zt.forEach(oi=>Mh(oi,On))}),ut.forEach((zt,nn)=>{const On=Je.get(nn);zt.forEach(oi=>Mh(oi,On))}),Le.forEach(zt=>{this.processLeaveNode(zt)})});const Dt=[],Ft=[];for(let zt=this._namespaceList.length-1;zt>=0;zt--)this._namespaceList[zt].drainQueuedTransitions(e).forEach(On=>{const oi=On.player,Kr=On.element;if(Dt.push(oi),this.collectedEnterElements.length){const Br=Kr[gl];if(Br&&Br.setForMove){if(Br.previousTriggersValues&&Br.previousTriggersValues.has(On.triggerName)){const Gi=Br.previousTriggersValues.get(On.triggerName),ci=this.statesByElement.get(On.element);if(ci&&ci.has(On.triggerName)){const _s=ci.get(On.triggerName);_s.value=Gi,ci.set(On.triggerName,_s)}}return void oi.destroy()}}const Ds=!G||!this.driver.containsElement(G,Kr),Zr=Je.get(Kr),sa=pe.get(Kr),Pi=this._buildInstruction(On,i,sa,Zr,Ds);if(Pi.errors&&Pi.errors.length)return void Ft.push(Pi);if(Ds)return oi.onStart(()=>ou(Kr,Pi.fromStyles)),oi.onDestroy(()=>r1(Kr,Pi.toStyles)),void r.push(oi);if(On.isFallbackTransition)return oi.onStart(()=>ou(Kr,Pi.fromStyles)),oi.onDestroy(()=>r1(Kr,Pi.toStyles)),void r.push(oi);const Ba=[];Pi.timelines.forEach(Br=>{Br.stretchStartingKeyframe=!0,this.disabledNodes.has(Br.element)||Ba.push(Br)}),Pi.timelines=Ba,i.append(Kr,Pi.timelines),s.push({instruction:Pi,player:oi,element:Kr}),Pi.queriedElements.forEach(Br=>lc(c,Br,[]).push(oi)),Pi.preStyleProps.forEach((Br,Gi)=>{if(Br.size){let ci=v.get(Gi);ci||v.set(Gi,ci=new Set),Br.forEach((_s,Nc)=>ci.add(Nc))}}),Pi.postStyleProps.forEach((Br,Gi)=>{let ci=C.get(Gi);ci||C.set(Gi,ci=new Set),Br.forEach((_s,Nc)=>ci.add(Nc))})});if(Ft.length){const zt=[];Ft.forEach(nn=>{zt.push(function nnt(t,n){return new et(3505,!1)}())}),Dt.forEach(nn=>nn.destroy()),this.reportError(zt)}const en=new Map,vn=new Map;s.forEach(zt=>{const nn=zt.element;i.has(nn)&&(vn.set(nn,nn),this._beforeAnimationBuild(zt.player.namespaceId,zt.instruction,en))}),r.forEach(zt=>{const nn=zt.element;this._getPreviousPlayers(nn,!1,zt.namespaceId,zt.triggerName,null).forEach(oi=>{lc(en,nn,[]).push(oi),oi.destroy()})});const Mi=Le.filter(zt=>xK(zt,v,C)),Ti=new Map;bK(Ti,this.driver,Pe,C,Z1).forEach(zt=>{xK(zt,v,C)&&Mi.push(zt)});const Yr=new Map;le.forEach((zt,nn)=>{bK(Yr,this.driver,new Set(zt),v,"!")}),Mi.forEach(zt=>{const nn=Ti.get(zt),On=Yr.get(zt);Ti.set(zt,new Map([...nn?.entries()??[],...On?.entries()??[]]))});const qr=[],$a=[],Cr={};s.forEach(zt=>{const{element:nn,player:On,instruction:oi}=zt;if(i.has(nn)){if(N.has(nn))return On.onDestroy(()=>r1(nn,oi.toStyles)),On.disabled=!0,On.overrideTotalTime(oi.totalTime),void r.push(On);let Kr=Cr;if(vn.size>1){let Zr=nn;const sa=[];for(;Zr=Zr.parentNode;){const Pi=vn.get(Zr);if(Pi){Kr=Pi;break}sa.push(Zr)}sa.forEach(Pi=>vn.set(Pi,Kr))}const Ds=this._buildAnimation(On.namespaceId,oi,en,o,Yr,Ti);if(On.setRealPlayer(Ds),Kr===Cr)qr.push(On);else{const Zr=this.playersByElement.get(Kr);Zr&&Zr.length&&(On.parentPlayer=x2(Zr)),r.push(On)}}else ou(nn,oi.fromStyles),On.onDestroy(()=>r1(nn,oi.toStyles)),$a.push(On),N.has(nn)&&r.push(On)}),$a.forEach(zt=>{const nn=o.get(zt.element);if(nn&&nn.length){const On=x2(nn);zt.setRealPlayer(On)}}),r.forEach(zt=>{zt.parentPlayer?zt.syncPlayerEvents(zt.parentPlayer):zt.destroy()});for(let zt=0;zt<Le.length;zt++){const nn=Le[zt],On=nn[gl];if(Mh(nn,U5),On&&On.hasAnimation)continue;let oi=[];if(c.size){let Ds=c.get(nn);Ds&&Ds.length&&oi.push(...Ds);let Zr=this.driver.query(nn,LC,!0);for(let sa=0;sa<Zr.length;sa++){let Pi=c.get(Zr[sa]);Pi&&Pi.length&&oi.push(...Pi)}}const Kr=oi.filter(Ds=>!Ds.destroyed);Kr.length?eit(this,nn,Kr):this.processLeaveNode(nn)}return Le.length=0,qr.forEach(zt=>{this.players.push(zt),zt.onDone(()=>{zt.destroy();const nn=this.players.indexOf(zt);this.players.splice(nn,1)}),zt.play()}),qr}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){const c=this.playersByQueriedElement.get(n);c&&(s=c)}else{const c=this.playersByElement.get(n);if(c){const v=!o||o==am;c.forEach(C=>{C.queued||!v&&C.triggerName!=r||s.push(C)})}}return(i||r)&&(s=s.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),s}_beforeAnimationBuild(n,e,i){const o=e.element,s=e.isRemovalTransition?void 0:n,c=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const C=v.element,N=C!==o,G=lc(i,C,[]);this._getPreviousPlayers(C,N,s,c,e.toState).forEach(le=>{const pe=le.getRealPlayer();pe.beforeDestroy&&pe.beforeDestroy(),le.destroy(),G.push(le)})}ou(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){const c=e.triggerName,v=e.element,C=[],N=new Set,G=new Set,se=e.timelines.map(pe=>{const we=pe.element;N.add(we);const Le=we[gl];if(Le&&Le.removedBeforeQueried)return new Np(pe.duration,pe.delay);const Be=we!==v,Pe=function tit(t){const n=[];return wK(t,n),n}((i.get(we)||Ynt).map(en=>en.getRealPlayer())).filter(en=>!!en.element&&en.element===we),Je=o.get(we),ut=s.get(we),Dt=Xq(this._normalizer,pe.keyframes,Je,ut),Ft=this._buildPlayer(pe,Dt,Pe);if(pe.subTimeline&&r&&G.add(we),Be){const en=new UC(n,c,we);en.setRealPlayer(Ft),C.push(en)}return Ft});C.forEach(pe=>{lc(this.playersByQueriedElement,pe.element,[]).push(pe),pe.onDone(()=>function Qnt(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,pe.element,pe))}),N.forEach(pe=>Oc(pe,rK));const le=x2(se);return le.onDestroy(()=>{N.forEach(pe=>Mh(pe,rK)),r1(v,e.toStyles)}),G.forEach(pe=>{lc(r,pe,[]).push(le)}),le}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Np(n.duration,n.delay)}}class UC{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Np,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>yC(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){lc(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function X5(t){return t&&1===t.nodeType}function _K(t,n){const e=t.style.display;return t.style.display=n??"none",e}function bK(t,n,e,i,r){const o=[];e.forEach(v=>o.push(_K(v)));const s=[];i.forEach((v,C)=>{const N=new Map;v.forEach(G=>{const se=n.computeStyle(C,G,r);N.set(G,se),(!se||0==se.length)&&(C[gl]=qnt,s.push(C))}),t.set(C,N)});let c=0;return e.forEach(v=>_K(v,o[c++])),s}function yK(t,n){const e=new Map;if(t.forEach(c=>e.set(c,[])),0==n.length)return e;const r=new Set(n),o=new Map;function s(c){if(!c)return 1;let v=o.get(c);if(v)return v;const C=c.parentNode;return v=e.has(C)?C:r.has(C)?1:s(C),o.set(c,v),v}return n.forEach(c=>{const v=s(c);1!==v&&e.get(v).push(c)}),e}function Oc(t,n){t.classList?.add(n)}function Mh(t,n){t.classList?.remove(n)}function eit(t,n,e){x2(e).onDone(()=>t.processLeaveNode(n))}function wK(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof rj?wK(i.players,n):n.push(i)}}function xK(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}class cm{constructor(n,e,i,r){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Znt(n.body,e,i,r),this._timelineEngine=new Unt(n.body,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,i,r,o){const s=n+"-"+r;let c=this._triggerCache[s];if(!c){const v=[],N=OC(this._driver,o,v,[]);if(v.length)throw function Wtt(t,n){return new et(3404,!1)}();c=function znt(t,n,e){return new $nt(t,n,e)}(r,N,this._normalizer),this._triggerCache[s]=c}this._transitionEngine.registerTrigger(e,r,c)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[o,s]=Jq(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if("@"==i.charAt(0)){const[s,c]=Jq(i);return this._timelineEngine.listen(s,e,c,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class lm{static#e=this.initialStylesByElement=new WeakMap;constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=lm.initialStylesByElement.get(n);r||lm.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&r1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(r1(this._element,this._initialStyles),this._endStyles&&(r1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(lm.initialStylesByElement.delete(this._element),this._startStyles&&(ou(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ou(this._element,this._endStyles),this._endStyles=null),r1(this._element,this._initialStyles),this._state=3)}}function VC(t){let n=null;return t.forEach((e,i)=>{(function rit(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class CK{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:kC(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class MK{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return tK(n,e)}getParentElement(n){return CC(n)}query(n,e,i){return nK(n,e,i)}computeStyle(n,e,i){return kC(n,e)}animate(n,e,i,r,o,s=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(v.easing=o);const C=new Map,N=s.filter(le=>le instanceof CK);(function mnt(t,n){return 0===t||0===n})(i,r)&&N.forEach(le=>{le.currentSnapshot.forEach((pe,we)=>C.set(we,pe))});let G=function fnt(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}(e).map(le=>new Map(le));G=function gnt(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(c=>s.set(c,kC(t,c)))}}return n}(n,G,C);const se=function iit(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=VC(n[0]),n.length>1&&(i=VC(n[n.length-1]))):n instanceof Map&&(e=VC(n)),e||i?new lm(t,e,i):null}(n,G);return new CK(n,G,v,se)}}const SK="@.disabled";class TK{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==SK?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class oit extends TK{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==SK?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function sit(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function ait(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(n,e,i)}}class cit{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){const r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const C=this._rendererCache;let N=C.get(r);return N||(N=new TK("",r,this.engine,()=>C.delete(r)),C.set(r,N)),N}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const c=C=>{Array.isArray(C)?C.forEach(c):this.engine.registerTrigger(o,s,n,C.name,C)};return e.data.animation.forEach(c),new oit(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,c]=o;s(c)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let lit=(()=>{class t extends cm{constructor(e,i,r){super(e,i,r,$e(b6,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||t)(Xe(zn),Xe(SC),Xe(TC))};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const EK=[{provide:TC,useFactory:function dit(){return new aK}},{provide:cm,useClass:lit},{provide:Wv,useFactory:function uit(t,n,e){return new cit(t,n,e)},deps:[k_,cm,on]}],jC=[{provide:SC,useFactory:()=>new MK},{provide:Js,useValue:"BrowserAnimations"},...EK],LK=[{provide:SC,useClass:MC},{provide:Js,useValue:"NoopAnimations"},...EK];let fit=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?LK:jC}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:jC,imports:[qD]})}return t})(),e7=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,ka,Nw,Ci]})}return t})();const AK=new at("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const t=$e(ms);return()=>t.scrollStrategies.reposition()}}),Mit={provide:AK,deps:[ms],useFactory:function Cit(t){return()=>t.scrollStrategies.reposition()}};let Tit=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[Mit],imports:[ih,Q8,Ci,ka,u2,Q8,Ci]})}return t})(),Oit=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,ka,Ci]})}return t})(),Nit=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),Rit=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,Nit,nh]})}return t})(),Fit=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})(),Pit=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,e7,e7,Fit,Ci]})}return t})(),zit=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,Ci]})}return t})(),Hit=(()=>{class t{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vrt=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Nw,ka,Ci,rh,fj,zit]})}return t})();const brt=new at("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const t=$e(ms);return()=>t.scrollStrategies.reposition()}}),wrt={provide:brt,deps:[ms],useFactory:function yrt(t){return()=>t.scrollStrategies.reposition()}};let xrt=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[wrt],imports:[ka,rh,Ci,ih,u2,Ci]})}return t})();const Crt=["input"],Mrt=["formField"],Srt=["*"];let PK=0;class zK{constructor(n,e){this.source=n,this.value=e}}const $K=new at("MatRadioGroup"),Ert=new at("mat-radio-default-options",{providedIn:"root",factory:function Lrt(){return{color:"accent"}}});let BK=(()=>{class t{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,c,v,C){this._elementRef=i,this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=v,this._uniqueId="mat-radio-"+ ++PK,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new mt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===c,C&&(this.tabIndex=yf(C,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new zK(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){return new(i||t)(ve($K,8),ve(Ht),ve(Si),ve(d2),ve(Hit),ve(Js,8),ve(Ert,8),Ms("tabindex"))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&(Ln(Crt,5),Ln(Mrt,7,Ht)),2&i){let o;Et(o=Lt())&&(r._inputElement=o.first),Et(o=Lt())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&ze("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(Ye("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),At("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[Mt.None,"aria-label","ariaLabel"],ariaLabelledby:[Mt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Mt.None,"aria-describedby","ariaDescribedby"],disableRipple:[Mt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ji],tabIndex:[Mt.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>null==e?0:yf(e)],checked:[Mt.HasDecoratorInputTransform,"checked","checked",Ji],value:"value",labelPosition:"labelPosition",disabled:[Mt.HasDecoratorInputTransform,"disabled","disabled",Ji],required:[Mt.HasDecoratorInputTransform,"required","required",Ji],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[ua,Xn],ngContentSelectors:Srt,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=lt();xr(),ee(0,"div",2,0)(2,"div",3)(3,"div",4),ze("click",function(c){return Se(o),Ee(r._onTouchTargetClick(c))}),ie(),ee(4,"input",5,1),ze("change",function(c){return Se(o),Ee(r._onInputInteraction(c))}),ie(),ee(6,"div",6),Ve(7,"div",7)(8,"div",8),ie(),ee(9,"div",9),Ve(10,"div",10),ie()(),ee(11,"label",11),pi(12),ie()()}2&i&&(X("labelPosition",r.labelPosition),Q(2),At("mdc-radio--disabled",r.disabled),Q(2),X("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Ye("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),Q(5),X("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),Q(2),X("for",r.inputId))},dependencies:[Pp,SVe],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return t})(),Drt=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,ka,rh,BK,Ci]})}return t})();const Irt=["*"];function krt(t,n){1&t&&pi(0)}let HK=(()=>{class t{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}return t})(),UK=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hi))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkStepLabel",""]],standalone:!0})}return t})(),Ort=0;const VK=new at("STEPPER_GLOBAL_OPTIONS");let GC=(()=>{class t{get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new mt,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ie(()=>YC)),ve(VK,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["cdk-step"]],contentQueries:function(i,r,o){if(1&i&&ai(o,UK,5),2&i){let s;Et(s=Lt())&&(r.stepLabel=s.first)}},viewQuery:function(i,r){if(1&i&&Ln(Hi,7),2&i){let o;Et(o=Lt())&&(r.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[Mt.None,"aria-label","ariaLabel"],ariaLabelledby:[Mt.None,"aria-labelledby","ariaLabelledby"],state:"state",editable:[Mt.HasDecoratorInputTransform,"editable","editable",Ji],optional:[Mt.HasDecoratorInputTransform,"optional","optional",Ji],completed:[Mt.HasDecoratorInputTransform,"completed","completed",Ji],hasError:[Mt.HasDecoratorInputTransform,"hasError","hasError",Ji]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[ua,si,Xn],ngContentSelectors:Irt,decls:1,vars:0,template:function(i,r){1&i&&(xr(),Me(0,krt,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),YC=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this.steps&&this._steps?(this._isValidIndex(e),this.selected?._markAsInteracted(),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new xt,this.steps=new Rl,this._sortedHeaders=new Rl,this.linear=!1,this._selectedIndex=0,this.selectionChange=new mt,this.selectedIndexChange=new mt,this._orientation="horizontal",this._groupId=Ort++}ngAfterContentInit(){this._steps.changes.pipe(Na(this._steps),Vn(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Na(this._stepHeader),Vn(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new zw(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Wi()).pipe(Na(this._layoutDirection()),Vn(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,r="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?r:e.editable&&i?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){const i=rl(e),r=e.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==r&&13!==r?o.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this.linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=Lp();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Dc,8),ve(Si),ve(Ht))};static#t=this.\u0275dir=ot({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(i,r,o){if(1&i&&(ai(o,GC,5),ai(o,HK,5)),2&i){let s;Et(s=Lt())&&(r._steps=s),Et(s=Lt())&&(r._stepHeader=s)}},inputs:{linear:[Mt.HasDecoratorInputTransform,"linear","linear",Ji],selectedIndex:[Mt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",yf],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[ua]})}return t})(),Nrt=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Xf]})}return t})();function Rrt(t,n){if(1&t&&wr(0,2),2&t){const e=oe();X("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function Frt(t,n){if(1&t&&(ee(0,"span",7),ye(1),ie()),2&t){const e=oe(2);Q(),It(e._getDefaultTextForState(e.state))}}function Prt(t,n){if(1&t&&(ee(0,"span",8),ye(1),ie()),2&t){const e=oe(3);Q(),It(e._intl.completedLabel)}}function zrt(t,n){if(1&t&&(ee(0,"span",8),ye(1),ie()),2&t){const e=oe(3);Q(),It(e._intl.editableLabel)}}function $rt(t,n){if(1&t&&(Me(0,Prt,2,1,"span",8)(1,zrt,2,1),ee(2,"mat-icon",7),ye(3),ie()),2&t){const e=oe(2);$n(0,"done"===e.state?0:"edit"===e.state?1:-1),Q(3),It(e._getDefaultTextForState(e.state))}}function Brt(t,n){if(1&t&&Me(0,Frt,2,1)(1,$rt,4,2),2&t){let e;$n(0,"number"===(e=oe().state)?0:1)}}function Hrt(t,n){1&t&&(ee(0,"div",4),wr(1,9),ie()),2&t&&(Q(),X("ngTemplateOutlet",n.template))}function Urt(t,n){if(1&t&&(ee(0,"div",4),ye(1),ie()),2&t){const e=oe();Q(),It(e.label)}}function Vrt(t,n){if(1&t&&(ee(0,"div",5),ye(1),ie()),2&t){const e=oe();Q(),It(e._intl.optionalLabel)}}function jrt(t,n){if(1&t&&(ee(0,"div",6),ye(1),ie()),2&t){const e=oe();Q(),It(e.errorMessage)}}const jK=["*"];function Wrt(t,n){}function Grt(t,n){if(1&t&&(pi(0),Me(1,Wrt,0,0,"ng-template",0)),2&t){const e=oe();Q(),X("cdkPortalOutlet",e._portal)}}const WK=(t,n)=>({step:t,i:n}),GK=t=>({animationDuration:t}),YK=(t,n)=>({value:t,params:n});function Yrt(t,n){1&t&&pi(0)}function qrt(t,n){1&t&&Ve(0,"div",6)}function Krt(t,n){if(1&t&&(wr(0,5),Me(1,qrt,1,0,"div",6)),2&t){const e=n.$implicit,i=n.$index,r=n.$index,o=n.$count;oe(2),X("ngTemplateOutlet",Ut(4))("ngTemplateOutletContext",xc(3,WK,e,i)),Q(),$n(1,r!==o-1?1:-1)}}function Zrt(t,n){if(1&t){const e=lt();ee(0,"div",7),ze("@horizontalStepTransition.done",function(r){return Se(e),Ee(oe(2)._animationDone.next(r))}),wr(1,8),ie()}if(2&t){const e=n.$implicit,i=n.$index,r=oe(2);At("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),X("@horizontalStepTransition",xc(8,YK,r._getAnimationDirection(i),Wn(6,GK,r._getAnimationDuration())))("id",r._getStepContentId(i)),Ye("aria-labelledby",r._getStepLabelId(i)),Q(),X("ngTemplateOutlet",e.content)}}function Qrt(t,n){if(1&t&&(ee(0,"div",1)(1,"div",2),Ts(2,Krt,2,6,null,null,$s),ie(),ee(4,"div",3),Ts(5,Zrt,2,11,"div",4,$s),ie()()),2&t){const e=oe();Q(2),Es(e.steps),Q(3),Es(e.steps)}}function Xrt(t,n){if(1&t){const e=lt();ee(0,"div",9),wr(1,5),ee(2,"div",10)(3,"div",11),ze("@verticalStepTransition.done",function(r){return Se(e),Ee(oe(2)._animationDone.next(r))}),ee(4,"div",12),wr(5,8),ie()()()()}if(2&t){const e=n.$implicit,i=n.$index,r=n.$index,o=n.$count,s=oe(2),c=Ut(4);Q(),X("ngTemplateOutlet",c)("ngTemplateOutletContext",xc(10,WK,e,i)),Q(),At("mat-stepper-vertical-line",r!==o-1),Q(),At("mat-vertical-stepper-content-inactive",s.selectedIndex!==i),X("@verticalStepTransition",xc(15,YK,s._getAnimationDirection(i),Wn(13,GK,s._getAnimationDuration())))("id",s._getStepContentId(i)),Ye("aria-labelledby",s._getStepLabelId(i)),Q(2),X("ngTemplateOutlet",e.content)}}function Jrt(t,n){1&t&&Ts(0,Xrt,6,18,"div",9,$s),2&t&&Es(oe().steps)}function eot(t,n){if(1&t){const e=lt();ee(0,"mat-step-header",13),ze("click",function(){return Ee(Se(e).step.select())})("keydown",function(r){return Se(e),Ee(oe()._onKeydown(r))}),ie()}if(2&t){const e=n.step,i=n.i,r=oe();At("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),X("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),Ye("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(i,e)||null)}}let qC=(()=>{class t extends UK{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275dir=ot({type:t,selectors:[["","matStepLabel",""]],standalone:!0,features:[Ct]})}return t})(),t7=(()=>{class t{constructor(){this.changes=new xt,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const not={provide:t7,deps:[[new wl,new ca,t7]],useFactory:function tot(t){return t||new t7}};let KC=(()=>{class t extends HK{constructor(e,i,r,o){super(r),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof qC?null:this.label}_templateLabel(){return this.label instanceof qC?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}static#e=this.\u0275fac=function(i){return new(i||t)(ve(t7),ve(d2),ve(Ht),ve(Si))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,r){2&i&&So("mat-"+(r.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[Ct,Xn],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,r){if(1&i&&(Ve(0,"div",0),ee(1,"div")(2,"div",1),Me(3,Rrt,1,2,"ng-container",2)(4,Brt,2,1),ie()(),ee(5,"div",3),Me(6,Hrt,2,1,"div",4)(7,Urt,2,1)(8,Vrt,2,1,"div",5)(9,jrt,2,1,"div",6),ie()),2&i){let o;X("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disableRipple),Q(),Ko("mat-step-icon-state-",r.state," mat-step-icon"),At("mat-step-icon-selected",r.selected),Q(2),$n(3,r.iconOverrides&&r.iconOverrides[r.state]?3:4),Q(2),At("mat-step-label-active",r.active)("mat-step-label-selected",r.selected)("mat-step-label-error","error"==r.state),Q(),$n(6,(o=r._templateLabel())?6:r._stringLabel()?7:-1,o),Q(2),$n(8,r.optional&&"error"!=r.state?8:-1),Q(),$n(9,"error"===r.state?9:-1)}},dependencies:[Pp,ho,b5],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0})}return t})();const ZK={horizontalStepTransition:Ra("horizontalStepTransition",[so("previous",yi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),so("current",yi({transform:"none",visibility:"inherit"})),so("next",yi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Lo("* => *",Ip([Eo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),Op("@*",kp(),{optional:!0})]),{params:{animationDuration:"500ms"}})]),verticalStepTransition:Ra("verticalStepTransition",[so("previous",yi({height:"0px",visibility:"hidden"})),so("next",yi({height:"0px",visibility:"hidden"})),so("current",yi({height:"*",visibility:"inherit"})),Lo("* <=> current",Ip([Eo("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),Op("@*",kp(),{optional:!0})]),{params:{animationDuration:"225ms"}})])};let iot=(()=>{class t{constructor(e){this.templateRef=e}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hi))};static#t=this.\u0275dir=ot({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[Mt.None,"matStepperIcon","name"]},standalone:!0})}return t})(),rot=(()=>{class t{constructor(e){this._template=e}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hi))};static#t=this.\u0275dir=ot({type:t,selectors:[["ng-template","matStepContent",""]],standalone:!0})}return t})(),oot=(()=>{class t extends GC{constructor(e,i,r,o){super(e,o),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=Ce.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Oa(()=>this._stepper.selectionChange.pipe(Mn(e=>e.selectedStep===this),Na(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new th(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ie(()=>QK)),ve(Yw,4),ve(Vr),ve(VK,8))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-step"]],contentQueries:function(i,r,o){if(1&i&&(ai(o,qC,5),ai(o,rot,5)),2&i){let s;Et(s=Lt())&&(r.stepLabel=s.first),Et(s=Lt())&&(r._lazyContent=s.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[Nn([{provide:Yw,useExisting:t},{provide:GC,useExisting:t}]),Ct,Xn],ngContentSelectors:jK,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(xr(),Me(0,Grt,2,1,"ng-template"))},dependencies:[G0],encapsulation:2,changeDetection:0})}return t})(),QK=(()=>{class t extends YC{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,i,r){super(e,i,r),this._stepHeader=void 0,this._steps=void 0,this.steps=new Rl,this.animationDone=new mt,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new xt,this._animationDuration="",this._isServer=!$e(go).isBrowser;const o=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(Vn(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Tc((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),Vn(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Dc,8),ve(Si),ve(Ht))};static#t=this.\u0275cmp=rt({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,r,o){if(1&i&&(ai(o,oot,5),ai(o,iot,5)),2&i){let s;Et(s=Lt())&&(r._steps=s),Et(s=Lt())&&(r._icons=s)}},viewQuery:function(i,r){if(1&i&&Ln(KC,5),2&i){let o;Et(o=Lt())&&(r._stepHeader=o)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(i,r){2&i&&(Ye("aria-orientation",r.orientation),At("mat-stepper-horizontal","horizontal"===r.orientation)("mat-stepper-vertical","vertical"===r.orientation)("mat-stepper-label-position-end","horizontal"===r.orientation&&"end"==r.labelPosition)("mat-stepper-label-position-bottom","horizontal"===r.orientation&&"bottom"==r.labelPosition)("mat-stepper-header-position-bottom","bottom"===r.headerPosition))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[Nn([{provide:YC,useExisting:t}]),Ct,Xn],ngContentSelectors:jK,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,r){if(1&i&&(xr(),Me(0,Yrt,1,0)(1,Qrt,7,0)(2,Jrt,2,0)(3,eot,1,23,"ng-template",null,0,En)),2&i){let o;$n(0,r._isServer?0:-1),Q(),$n(1,"horizontal"===(o=r.orientation)?1:"vertical"===o?2:-1)}},dependencies:[ho,KC],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[ZK.horizontalStepTransition,ZK.verticalStepTransition]},changeDetection:0})}return t})(),sot=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[not,Yw],imports:[Ci,ka,nh,Nrt,MY,rh,QK,KC,Ci]})}return t})(),aot=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[Ci,Ci]})}return t})();function cot(t,n){if(1&t&&(ee(0,"legend"),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.title)}}function lot(t,n){1&t&&Ve(0,"span",5),2&t&&X("title",oe().$implicit.description)}function dot(t,n){if(1&t&&(ee(0,"div"),Ve(1,"sf-form-element",6),ie()),2&t){const e=n.$implicit,i=oe(2);So(i.gridClass(e)),Q(),X("formProperty",i.getShowFieldProperty(e))}}function uot(t,n){if(1&t&&(ee(0,"div"),Me(1,cot,2,1,"legend",1)(2,lot,1,1,"span",2),ee(3,"div",3),Me(4,dot,2,3,"div",4),ie()()),2&t){const e=n.$implicit,i=oe();Q(),X("ngIf",e.title),Q(),X("ngIf",e.description),Q(2),X("ngForOf",i.getShowFields(e))}}let ZC=(()=>{class t extends vb{getShowFieldProperty(e){const i="string"==typeof e?e:"object"==typeof e?e.field:null,r=this.formProperty.getProperty(i),o=r.schema;return o&&!o.title&&(o.title=Bt.capitalize(i)),r}gridClass(e){return e&&e.col?"col-"+e.col:"col"}getShowFields(e){let i=e.showFields;return i=i||e.fields.map(r=>({field:r})),i=i.filter(r=>Bt.isVisible(this.formProperty,"string"==typeof r?r:"object"==typeof r?r.field:null)),i}getWidgetId(e){const i=this.getShowFieldProperty(e);let r=null;return i&&i.schema&&i.schema.widget&&i.schema.widget.id&&(r=i.schema.widget.id),r}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-grid"]],features:[Ct],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["data-toggle","tooltip","class","glyphicon glyphicon-info",3,"title",4,"ngIf"],[1,"form-row"],[3,"class",4,"ngFor","ngForOf"],["data-toggle","tooltip",1,"glyphicon","glyphicon-info",3,"title"],[3,"formProperty"]],template:function(i,r){1&i&&Me(0,uot,5,3,"div",0),2&i&&X("ngForOf",r.formProperty.schema.fieldsets)},dependencies:[bi,yn,N4],styles:[".grid-border[_ngcontent-%COMP%]{border:lightgray 1px solid}.grid-padding[_ngcontent-%COMP%]{padding:0 5px}"]})}return t})(),fot=(()=>{class t extends bk{constructor(){super(...arguments),this.nolabel=!0,this.booleanControlled=!1}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-element-chooser"]],inputs:{nolabel:"nolabel",layout:"layout",labelWidthClass:"labelWidthClass",controlWidthClass:"controlWidthClass",booleanControlled:"booleanControlled",booleanLabel:"booleanLabel"},features:[Ct],decls:2,vars:0,consts:[["target",""]],template:function(i,r){1&i&&Ve(0,"div",null,0)},encapsulation:2})}return t})();function hot(t,n){if(1&t&&Ve(0,"sf-form-element-action",3),2&t){const e=n.$implicit,i=oe(2);X("button",e)("formProperty",i.formProperty)}}function pot(t,n){if(1&t){const e=lt();ee(0,"div")(1,"lfb-element-chooser",1),ze("widgetInstanciated",function(r){return Se(e),Ee(oe().onWidgetInstanciated(r))}),ie(),Me(2,hot,1,2,"sf-form-element-action",2),ie()}if(2&t){const e=oe();At("has-error",!e.formProperty.valid)("has-success",e.formProperty.valid),Q(),X("nolabel",e.nolabel)("layout",e.layout)("labelWidthClass",e.labelWidthClass)("booleanControlled",e.booleanControlled)("booleanLabel",e.booleanLabel)("widgetInfo",e.formProperty.schema.widget),Q(),X("ngForOf",e.buttons)}}let au=(()=>{class t extends N4{constructor(){super(...arguments),this.nolabel=!1,this.booleanControlled=!1}static#e=this.seqNum=0;onWidgetInstanciated(e){super.onWidgetInstanciated(e),this.setCanonicalId(),this.widget.nolabel=this.nolabel,this.widget.layout=this.layout,this.widget.labelWidthClass=this.labelWidthClass,this.widget.controlWidthClass=this.controlWidthClass}setCanonicalId(){const e=this.formProperty.parent?.canonicalPathNotation;if(e){let i=e+this.formProperty.canonicalPathNotation.replace(/^.*\./,".");i=`${i}_${t.seqNum++}`,this.formProperty.root.rootName&&(i=`${this.formProperty.root.rootName}:${i}`),this.widget.name=i,this.widget.id=i}}static#t=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-form-element"]],inputs:{nolabel:"nolabel",layout:"layout",labelWidthClass:"labelWidthClass",controlWidthClass:"controlWidthClass",booleanControlled:"booleanControlled",booleanLabel:"booleanLabel"},features:[Ct],decls:1,vars:1,consts:[[3,"has-error","has-success",4,"ngIf"],[3,"widgetInstanciated","nolabel","layout","labelWidthClass","booleanControlled","booleanLabel","widgetInfo"],[3,"button","formProperty",4,"ngFor","ngForOf"],[3,"button","formProperty"]],template:function(i,r){1&i&&Me(0,pot,3,11,"div",0),2&i&&X("ngIf",r.formProperty.visible)},dependencies:[bi,yn,_k,fot],encapsulation:2})}return t})();const XK=t=>({hideRow:t});function mot(t,n){if(1&t&&(ee(0,"div",7),Ve(1,"lfb-form-element",8),ie()),2&t){const e=n.$implicit,i=oe(2);So(i.gridClass(e)),X("ngClass",Wn(4,XK,i.isHidden(e))),Q(),X("formProperty",i.getShowFieldProperty(e))}}function got(t,n){if(1&t&&(ee(0,"div"),Me(1,mot,2,6,"div",6),ie()),2&t){const e=n.$implicit,i=oe();Q(),X("ngForOf",i.getShowFields(e))}}function vot(t,n){if(1&t&&(ee(0,"div",7),Ve(1,"lfb-form-element",8),ie()),2&t){const e=n.$implicit,i=oe(2);So(i.gridClass(e)),X("ngClass",Wn(4,XK,i.isHidden(e))),Q(),X("formProperty",i.getShowFieldProperty(e))}}function _ot(t,n){if(1&t&&(ee(0,"div"),Me(1,vot,2,6,"div",6),ie()),2&t){const e=n.$implicit,i=oe();Q(),X("ngForOf",i.getShowFields(e))}}let bot=(()=>{class t extends ZC{constructor(){super(...arguments),this.basicRows=[],this.advancedRows=[],this.collapseAdvanced=!0,this.faUp=rU,this.faDown=uw,this.formService=$e(Hn)}ngOnInit(){this.widgetId=this.formProperty.schema.formLayout.targetPage,this.basicRows=this.formProperty.schema.formLayout.basic,this.advancedRows=this.formProperty.schema.formLayout.advanced,this.collapseAdvanced=!this.formService.isFocusNodeHasError()&&!!this.formService[this.widgetId]}handleAdvPanelCollapse(e){this.collapseAdvanced=e,this.widgetId in this.formService&&(this.formService[this.widgetId]=e)}isHidden(e){return"hidden"===this.getWidgetId(e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-row-layout"]],features:[Ct],decls:9,vars:5,consts:[["collapse","ngbCollapse"],[4,"ngFor","ngForOf"],[1,"d-flex","pt-3"],["type","button","aria-controls","advancedFields",1,"btn","btn-link","text-decoration-none","ps-0","fw-bold",3,"click"],["aria-hidden","true",3,"icon"],["id","advancedFields",3,"ngbCollapseChange","ngbCollapse"],["class","lfb-row",3,"class","ngClass",4,"ngFor","ngForOf"],[1,"lfb-row",3,"ngClass"],[3,"formProperty"]],template:function(i,r){if(1&i){const o=lt();Me(0,got,2,1,"div",1),ee(1,"div",2)(2,"button",3),ze("click",function(){return Se(o),Ee(Ut(6).toggle())}),ye(3,"Advanced fields "),Ve(4,"fa-icon",4),ie()(),ee(5,"div",5,0),Oi("ngbCollapseChange",function(c){return Se(o),Vi(r.collapseAdvanced,c)||(r.collapseAdvanced=c),Ee(c)}),ze("ngbCollapseChange",function(c){return Se(o),Ee(r.handleAdvPanelCollapse(c))}),Ve(7,"hr"),Me(8,_ot,2,1,"div",1),ie()}2&i&&(X("ngForOf",r.basicRows),Q(2),Ye("aria-expanded",!r.collapseAdvanced),Q(2),X("icon",r.collapseAdvanced?r.faDown:r.faUp),Q(),ki("ngbCollapse",r.collapseAdvanced),Q(3),X("ngForOf",r.advancedRows))},dependencies:[ir,bi,Vs,T0,au],styles:[".lfb-row[_ngcontent-%COMP%]{border-bottom:lightgrey solid 1px;padding:2px 0}.lfb-row[_ngcontent-%COMP%]:hover{background-color:#fafad2}.hideRow[_ngcontent-%COMP%]{border:none!important;padding:0!important;display:none}"]})}return t})(),JK=(()=>{class t extends yk{constructor(){super(...arguments),this.subscriptions=[],this.faInfo=Ac,this.nolabel=!1,this.booleanControlled=!1,this.booleanControlledInitial=!0}ngOnInit(){Array.isArray(this.formProperty.properties)&&0===this.formProperty.properties.length&&this.formProperty.addItem();const e=this.formProperty.schema.widget;this.labelClasses=this.labelClasses||e.labelClasses||"",this.controlClasses=this.controlClasses||e.controlClasses||""}ngAfterViewInit(){super.ngAfterViewInit();const e=this.formProperty.valueChanges.subscribe(i=>{this.updateWidget()});this.subscriptions.push(e)}updateWidget(){const e=this.formProperty.schema.widget;this.labelPosition=this.labelPosition||e.labelPosition||"top",this.labelWidthClass="left"===this.labelPosition?this.labelWidthClass||e.labelWidthClass||"col-sm":"",this.controlWidthClass="left"===this.labelPosition?this.controlWidthClass||e.controlWidthClass||"col-sm":"",this.booleanControlled=this.booleanControlled||!!e.booleanControlled,this.booleanLabel=this.booleanLabel||e.booleanLabel,this.booleanControlledInitial=void 0!==e.booleanControlledInitial?e.booleanControlledInitial:this.booleanControlledInitial}ngOnDestroy(){this.subscriptions.forEach(e=>{e?.unsubscribe()})}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-array-widget"]],inputs:{nolabel:"nolabel",labelPosition:"labelPosition",labelWidthClass:"labelWidthClass",controlWidthClass:"controlWidthClass",controlClasses:"controlClasses",labelClasses:"labelClasses",booleanControlled:"booleanControlled",booleanLabel:"booleanLabel",booleanControlledInitial:"booleanControlledInitial"},features:[Ct],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();function yot(t,n){if(1&t&&(ee(0,"div",3),Ve(1,"fa-icon",4),ie()),2&t){const e=oe(2);X("matTooltip",e.helpMessage),Ye("aria-label","Tooltip for "+e.title+": "+e.helpMessage),Q(),X("icon",e.helpIcon)}}function wot(t,n){if(1&t&&(ee(0,"span",1),ye(1),Me(2,yot,2,3,"div",2),ie()),2&t){const e=oe();Q(),Qn(" ",e.title," "),Q(),X("ngIf",e.helpMessage)}}let n7=(()=>{class t{constructor(){this.helpIcon=Ac}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-title"]],inputs:{title:"title",helpMessage:"helpMessage",helpIcon:"helpIcon"},decls:1,vars:1,consts:[["class","horizontal control-label",4,"ngIf"],[1,"horizontal","control-label"],["tabindex","0","class","btn border-0 m-0 p-0",3,"matTooltip",4,"ngIf"],["tabindex","0",1,"btn","border-0","m-0","p-0",3,"matTooltip"],["aria-hidden","true",3,"icon"]],template:function(i,r){1&i&&Me(0,wot,3,2,"span",0),2&i&&X("ngIf",r.title)},dependencies:[yn,Vs,sl],encapsulation:2})}return t})();const xot=t=>({row:t,"m-0":!0}),Cot=()=>["No","Yes"],Mot=()=>({standalone:!0});function Sot(t,n){if(1&t){const e=lt();Fn(0),ee(1,"input",6),ze("ngModelChange",function(r){Se(e);const o=oe(2);return o.bool=r,Ee(o.boolChange.emit(r))}),ie(),ee(2,"label",7),ye(3),ie(),Pn()}if(2&t){const e=n.$implicit,i=oe(2);Q(),B6("name","booleanControlled_",i._id,""),X("ngModel",i.bool)("ngModelOptions",_i(9,Mot))("value","Yes"===e),Ye("id","booleanControlled_"+e+i._id)("disabled",i.disabled?"":null),Q(),Ye("for","booleanControlled_"+e+i._id),Q(),It(e)}}function Tot(t,n){if(1&t&&(ee(0,"div",2),Ve(1,"lfb-label",3),ee(2,"div",4),Me(3,Sot,4,10,"ng-container",5),ie()()),2&t){const e=oe();X("ngClass",Wn(10,xot,"left"===e.labelPosition)),Q(),X("title",e.label)("for","booleanControlled_"+e._id)("helpMessage",e.helpMessage)("ngClass",e.labelClasses)("labelId","label_booleanControlled_"+e._id),Q(),X("ngClass",e.controlClasses),Ye("aria-labelledby","label_booleanControlled_"+e._id)("id","booleanControlled_"+e._id),Q(),X("ngForOf",_i(12,Cot))}}function Eot(t,n){1&t&&wr(0)}let i7=(()=>{class t{constructor(){this._id=t.ID++,this.labelPosition="left",this.disabled=!1,this.boolChange=new mt}static#e=this.ID=0;static#t=this.\u0275fac=function(i){return new(i||t)};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-boolean-controlled"]],inputs:{bool:"bool",label:"label",labelPosition:"labelPosition",helpMessage:"helpMessage",labelClasses:"labelClasses",controlClasses:"controlClasses",disabled:"disabled"},outputs:{boolChange:"boolChange"},decls:3,vars:1,consts:[["controller",""],[4,"ngTemplateOutlet"],[1,"widget",3,"ngClass"],[3,"title","for","helpMessage","ngClass","labelId"],["role","radiogroup",3,"ngClass"],[4,"ngFor","ngForOf"],["autocomplete","off","type","radio",1,"btn-check",3,"ngModelChange","name","ngModel","ngModelOptions","value"],[1,"btn","btn-outline-success"]],template:function(i,r){if(1&i&&Me(0,Tot,4,13,"ng-template",null,0,En)(2,Eot,1,0,"ng-container",1),2&i){const o=Ut(1);Q(2),X("ngTemplateOutlet",o)}},dependencies:[ir,bi,ho,di,Ls,ei,ro,Dr],encapsulation:2})}return t})();const Lot=t=>({row:t}),Aot=t=>({"float-sm-end":t}),Dot=(t,n,e)=>({"col-sm-1":t,"col-sm-half":n,"action-column":e}),Iot=(t,n,e)=>({"d-none":t,"col-sm-1":n,"col-sm-half":e}),kot=()=>({standalone:!0});function Oot(t,n){if(1&t){const e=lt();Fn(0),ee(1,"lfb-boolean-controlled",3),ze("boolChange",function(r){return Se(e),Ee(oe().onBooleanControlledChange(r))}),ie(),Pn()}if(2&t){const e=oe();Q(),X("bool",e.booleanControlledOption)("controlClasses","btn-group btn-group-sm col-auto m-auto ms-0 ps-0")("labelClasses",e.labelClasses)("label",e.booleanLabel)("labelPosition",e.labelPosition)("helpMessage",e.schema.description)}}function Not(t,n){if(1&t){const e=lt();ee(0,"button",10),ze("click",function(){Se(e);const r=oe(2);return Ee(r.isCollapsed=!r.isCollapsed)}),Ve(1,"fa-icon",11),ie()}if(2&t){const e=oe(2);X("ngClass",Wn(4,Aot,"left"===e.labelPosition)),Ye("aria-expanded",!e.isCollapsed)("aria-controls",e.tableId),Q(),X("icon",e.isCollapsed?e.faRight:e.faDown)}}function Rot(t,n){if(1&t&&Ve(0,"lfb-label",12),2&t){const e=oe(2);X("title",e.schema.title)("helpMessage",e.schema.description)("for",e.id)}}function Fot(t,n){if(1&t&&(ee(0,"th",22),Ve(1,"lfb-title",23),ie()),2&t){const e=n.$implicit,i=oe(4);Ko("col-sm",e.col?"-"+e.col:"",""),Q(),X("title",e.title||i.getTitle(i.formProperty.properties[0],e.field))("helpMessage",i.getProperty(i.formProperty.properties[0],e.field).schema.description)}}function Pot(t,n){if(1&t){const e=lt();ee(0,"th",24)(1,"lfb-title",25),ze("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!1))}),ie(),ee(2,"button",26),ze("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!1))})("click",function(){return Se(e),Ee(oe(4).clearSelections())}),ye(3,"\u2326"),ie()()}if(2&t){const e=oe(4);Q(2),Ye("aria-hidden",e.hideHeaderAriaLabel)("aria-label",e.getClearSelectionLabel(e.getShowTableFields().length+1))}}function zot(t,n){if(1&t&&Ve(0,"th",5),2&t){const e=oe(4);X("ngClass",Wc(1,Dot,"answerOption"!==e.id,"answerOption"===e.id,"answerOption"===e.id))}}function $ot(t,n){if(1&t&&(ee(0,"thead",17)(1,"tr",18),Me(2,Fot,2,5,"th",19)(3,Pot,4,2,"th",20)(4,zot,1,5,"th",21),ie()()),2&t){const e=oe(3);Q(2),X("ngForOf",e.getShowTableFields()),Q(),X("ngIf","radio"===e.rowSelectionType||"checkbox"===e.rowSelectionType),Q(),X("ngIf",!e.singleItem)}}function Bot(t,n){if(1&t&&(ee(0,"td"),Ve(1,"lfb-form-element",31),ie()),2&t){const e=n.$implicit,i=oe().$implicit,r=oe(3);Ko("col-sm",e.col?"-"+e.col:"",""),Q(),X("formProperty",r.getProperty(i,e.field))}}function Hot(t,n){if(1&t){const e=lt();ee(0,"td",32)(1,"input",33),ze("ngModelChange",function(r){return Se(e),Ee(oe(4).radioSelection(r))})("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!0))}),ie()()}if(2&t){const e=oe(),i=e.$implicit,r=e.index,o=oe(3);Q(),X("id","radio_"+i.canonicalPathNotation)("ngModel",o.selectionRadio)("value",r)("ngModelOptions",_i(4,kot))}}function Uot(t,n){if(1&t){const e=lt();ee(0,"td",32)(1,"input",34),Oi("ngModelChange",function(r){Se(e);const o=oe().index,s=oe(3);return Vi(s.selectionCheckbox[o],r)||(s.selectionCheckbox[o]=r),Ee(r)}),ze("ngModelChange",function(r){return Se(e),Ee(oe(4).checkboxSelection(r))})("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!0))}),ie()()}if(2&t){const e=oe(),i=e.$implicit,r=e.index,o=oe(3);Q(),X("id","checkbox_"+i.canonicalPathNotation),ki("ngModel",o.selectionCheckbox[r])}}function Vot(t,n){if(1&t){const e=lt();ee(0,"button",35),ze("click",function(){Se(e);const r=oe().$implicit;return Ee(oe(3).removeItem(r))}),Ve(1,"fa-icon",11),ie()}if(2&t){const e=oe(4);Ye("disabled",e.isRemoveButtonDisabled()?"":null),Q(),X("icon",e.faRemove)}}function jot(t,n){if(1&t&&(ee(0,"tr",18),Me(1,Bot,2,4,"td",27)(2,Hot,2,5,"td",28)(3,Uot,2,2,"td",28),ee(4,"td",29),Me(5,Vot,2,2,"button",30),ie()()),2&t){const e=oe(3);Q(),X("ngForOf",e.getShowTableFields()),Q(),X("ngIf","radio"===e.rowSelectionType),Q(),X("ngIf","checkbox"===e.rowSelectionType),Q(),X("ngClass",Wc(5,Iot,1===e.formProperty.properties.length,"answerOption"!==e.id,"answerOption"===e.id)),Q(),X("ngIf",!(e.schema.hasOwnProperty("minItems")&&e.schema.hasOwnProperty("maxItems")&&e.schema.minItems===e.schema.maxItems))}}function Wot(t,n){if(1&t&&(ee(0,"table",13),Me(1,$ot,5,3,"thead",14),ee(2,"tbody",15),Me(3,jot,6,9,"tr",16),ie()()),2&t){const e=oe(2);Q(),X("ngIf",!e.noHeader),Q(),X("ngbCollapse",e.isCollapsed),Q(),X("ngForOf",e.formProperty.properties)}}function Got(t,n){if(1&t){const e=lt();ee(0,"button",36,0),ze("click",function(){Se(e);const r=Ut(1);return Ee(oe(2).addItemWithAlert(r))}),Ve(2,"fa-icon",11),ye(3),ie()}if(2&t){const e=oe(2);X("ngbPopover","Please fill in the above fields before adding a new item"),Ye("disabled",e.isAddButtonDisabled()?"":null),Q(2),X("icon",e.faAdd),Q(),Qn(" ",e.addButtonLabel," ")}}function Yot(t,n){if(1&t&&(ee(0,"div",4)(1,"div",5),Me(2,Not,2,6,"button",6)(3,Rot,1,3,"lfb-label",7),ie(),ee(4,"div"),Me(5,Wot,4,3,"table",8)(6,Got,4,4,"button",9),ie()()),2&t){const e=oe();X("ngClass",Wn(10,Lot,"left"===e.labelPosition)),Q(),X("ngClass",e.labelClasses),Q(),X("ngIf",!e.noCollapseButton),Q(),X("ngIf",!e.noTableLabel),Q(),Ko("p-0 card bg-transparent border-0 m-auto ",e.controlClasses,""),Ye("id",e.tableId),Q(),X("ngIf",+e.formProperty.properties.length>0),Q(),X("ngIf",!(e.singleItem||e.schema.hasOwnProperty("minItems")&&e.schema.hasOwnProperty("maxItems")&&e.schema.minItems===e.schema.maxItems))}}let r7=(()=>{class t extends JK{static#e=this.seqNum=0;constructor(e,i){super(),this.elRef=e,this.cdRef=i,this.faAdd=RU,this.faRemove=rB,this.faRight=vP,this.faDown=uw,this.isCollapsed=!1,this.addButtonLabel="Add",this.noCollapseButton=!1,this.noTableLabel=!1,this.noHeader=!1,this.singleItem=!1,this.keyField="type",this.booleanControlledOption=!1,this.booleanControlled=!1,this.tableId="tableComponent"+t.seqNum++,this.selectionRadio=-1,this.selectionCheckbox=[],this.rowSelectionType=null,this.rowSelection=!1,this.hideHeaderAriaLabel=!0}ngDoCheck(){0===this.formProperty.properties.length&&this.booleanControlledOption&&this.addItem()}ngOnChanges(e){this.booleanControlled&&(this.booleanControlledOption=!Bt.isEmpty(this.formProperty.value))}ngOnInit(){super.ngOnInit();const e=this.formProperty.schema.widget;this.addButtonLabel=e&&e.addButtonLabel?e.addButtonLabel:"Add",this.noTableLabel=!!e.noTableLabel,this.noCollapseButton=!!e.noCollapseButton,this.singleItem=!!e.singleItem,this.booleanControlled=!!e.booleanControlled,e.booleanControlled&&(this.booleanControlledOption=!!e.booleanControlledOption),this.booleanControlledOption=this.booleanControlledOption||!Bt.isEmpty(this.formProperty.value),e.rowSelection&&(this.rowSelection=e.rowSelection,this.rowSelectionType=e.rowSelectionType||"radio"),this.selectionRadio=-1,this.selectionCheckbox=[]}ngAfterViewInit(){super.ngAfterViewInit();const e=this.formProperty.schema.widget?this.formProperty.schema.widget.singleItemEnableSource:null,i=this.formProperty.schema.widget?this.formProperty.schema.widget.multipleSelectionEnableSource:null;let o,r=e?this.formProperty.searchProperty(e):null;r&&(o=r.valueChanges.subscribe(c=>{!1===c&&+this.formProperty.properties.length>1&&(this.formProperty.properties=this.formProperty.properties.slice(0,1),this.formProperty.updateValueAndValidity(!1,!0)),this.singleItem=!c,this.noCollapseButton=this.singleItem,this.rowSelection&&(this.rowSelectionType=this.singleItem?"radio":"checkbox"),this.cdRef.markForCheck()}),this.subscriptions.push(o)),r=i?this.formProperty.searchProperty(i):null,r&&(o=r.valueChanges.subscribe(c=>{!1===c&&this.rowSelection?this.rowSelectionType="radio":c&&this.rowSelection&&(this.rowSelectionType="checkbox"),this.cdRef.markForCheck()}),this.subscriptions.push(o));const s=this.formProperty.findRoot().schema.widget.keyField;s&&(this.keyField=s),o=this.formProperty.searchProperty(this.keyField).valueChanges.subscribe(c=>{const v=this.getShowTableFields();this.noHeader=v.some(C=>C.noHeader),this.cdRef.markForCheck()}),this.subscriptions.push(o),o=this.formProperty.valueChanges.subscribe(c=>{this.booleanControlledOption=this.booleanControlledOption||!Bt.isEmpty(c)}),this.subscriptions.push(o)}onBooleanControlledChange(e){this.booleanControlledOption=e}getShowTableFields(){let e=[];return this.formProperty.schema.widget&&this.formProperty.schema.widget.showFields&&(e=this.formProperty.schema.widget.showFields.filter(r=>this.isVisible(r.field))),e}isVisible(e){let i=!0;return+this.formProperty.properties.length>0&&(i=Bt.isVisible(this.formProperty.properties[0],e)),i}getProperty(e,i){const r=i.split(".");let o=e;for(const s of r)o=o.getProperty(s);return o}getTitle(e,i){const r=this.getProperty(e,i);return r.schema&&r.schema.title?r.schema.title:Bt.capitalize(i)}addItemWithAlert(e){const i=this.formProperty.properties,r=i.length?i[i.length-1]:null;r&&Bt.isEmpty(r.value)?e.open():(this.addItem(),setTimeout(()=>{this.getInputElementInTable(this.formProperty.properties.length-1,0).focus()}))}getInputElementInTable(e,i){return this.elRef.nativeElement.querySelector("tbody").querySelectorAll("tr")[e].querySelectorAll("td")[i].querySelector("input,select")}getCanonicalPath(e,i,r){return this.getPropertyFromTable(e,i,r)?.canonicalPathNotation}getPropertyFromTable(e,i,r){let o=e[i];return this.getShowTableFields()[r].field.split(".").forEach(c=>{o=o.getProperty(c)}),o}removeItem(e){const r=this.formProperty.properties.findIndex(o=>o===e);r>=0&&(this.selectionCheckbox.length>0&&this.selectionCheckbox.splice(r,1),this.selectionRadio>=0&&(this.selectionRadio===r?this.selectionRadio=-1:this.selectionRadio>r&&this.selectionRadio--)),super.removeItem(e)}radioSelection(e){}checkboxSelection(e){}clearSelections(){}getClearSelectionLabel(e){return"radio"===this.rowSelectionType?`Column ${e} Clear Selection button - used to clear Default radio button selection.`:`Column ${e} Clear Selection button - used to clear Default checkbox selections.`}onHideHeaderAriaLabel(e){this.hideHeaderAriaLabel=e}static#t=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(Si))};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-table"]],features:[Ct,si],decls:2,vars:2,consts:[["alertPopover","ngbPopover"],[4,"ngIf"],["class","widget form-group m-0",3,"ngClass",4,"ngIf"],[3,"boolChange","bool","controlClasses","labelClasses","label","labelPosition","helpMessage"],[1,"widget","form-group","m-0",3,"ngClass"],[3,"ngClass"],["href","#","type","button","class","btn btn-sm m-0 btn-default collapse-button",3,"ngClass","click",4,"ngIf"],[3,"title","helpMessage","for",4,"ngIf"],["class","table table-borderless table-sm lfb-table",4,"ngIf"],["class","btn btn-sm btn-light text-primary shadow-sm array-add-button","triggers","manual","placement","bottom top","popoverClass","",3,"ngbPopover","click",4,"ngIf"],["href","#","type","button",1,"btn","btn-sm","m-0","btn-default","collapse-button",3,"click","ngClass"],["aria-hidden","true",3,"icon"],[3,"title","helpMessage","for"],[1,"table","table-borderless","table-sm","lfb-table"],["class","table-active",4,"ngIf"],[3,"ngbCollapse"],["class","d-flex",4,"ngFor","ngForOf"],[1,"table-active"],[1,"d-flex"],["scope","col",3,"class",4,"ngFor","ngForOf"],["class","col-sm-2 default-column",4,"ngIf"],[3,"ngClass",4,"ngIf"],["scope","col"],[3,"title","helpMessage"],[1,"col-sm-2","default-column"],["title","Default","helpMessage","Pick a default item",3,"focus"],["type","button","matTooltip","Clear selection",1,"btn","btn-outline-primary","p-1","unselect",3,"focus","click"],[3,"class",4,"ngFor","ngForOf"],["class","col-sm-2 text-center align-self-center default-column",4,"ngIf"],[1,"align-middle","action-column",3,"ngClass"],["class","btn btn-default btn-link btn-sm array-remove-button","matTooltip","Remove","aria-label","Remove",3,"click",4,"ngIf"],["nolabel","true",3,"formProperty"],[1,"col-sm-2","text-center","align-self-center","default-column"],["type","radio","name","selectionRadio",3,"ngModelChange","focus","id","ngModel","value","ngModelOptions"],["type","checkbox",3,"ngModelChange","focus","id","ngModel"],["matTooltip","Remove","aria-label","Remove",1,"btn","btn-default","btn-link","btn-sm","array-remove-button",3,"click"],["triggers","manual","placement","bottom top","popoverClass","",1,"btn","btn-sm","btn-light","text-primary","shadow-sm","array-add-button",3,"click","ngbPopover"]],template:function(i,r){1&i&&Me(0,Oot,2,6,"ng-container",1)(1,Yot,7,12,"div",2),2&i&&(X("ngIf",r.booleanControlled),Q(),X("ngIf",!r.booleanControlled||r.booleanControlledOption))},dependencies:[ir,bi,yn,di,jl,Ls,ei,ro,Vs,sl,T0,np,Dr,au,n7,i7],styles:[".action-column[_ngcontent-%COMP%]{text-align:end}.collapse-button[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;margin-right:5px;margin-left:2px}.collapse-button.float-sm-right[_ngcontent-%COMP%]{margin-right:0;margin-left:2px}.lfb-table[_ngcontent-%COMP%]{margin-bottom:0}.lfb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.lfb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .lfb-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}.table-header[_ngcontent-%COMP%]{font-weight:400}.add-button-alert-popover[_ngcontent-%COMP%]{background-color:#fafad2}button.unselect[_ngcontent-%COMP%]{margin-top:-3px;border:0px;font-size:20px;width:25px;padding-left:1px!important;line-height:.4;vertical-align:middle;transform:scaleX(-1);font-family:Roboto,sans-serif;border-radius:4px;margin-left:4px!important}th.default-column[_ngcontent-%COMP%]{white-space:nowrap;display:flex;justify-content:center;align-items:center;min-width:100px}td.default-column[_ngcontent-%COMP%]{padding:.25rem .5rem!important;min-width:100px;border-bottom:1px solid var(--bs-border-color)}th.action-column[_ngcontent-%COMP%]{width:30px;min-width:30px}td.action-column[_ngcontent-%COMP%]{border-left:1px solid var(--bs-border-color);border-bottom:1px solid var(--bs-border-color);width:30px;min-width:30px}.col-sm-half[_ngcontent-%COMP%]{width:4.16667%;flex:0 0 4.16667%;max-width:4.16667%}"]})}return t})(),Sh=(()=>{class t{constructor(e){this.ngControl=e}ngOnChanges(e){e.lfbDisableControl&&this.ngControl.control[this.lfbDisableControl?"disable":"enable"]()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Wl))};static#t=this.\u0275dir=ot({type:t,selectors:[["","lfbDisableControl",""]],inputs:{lfbDisableControl:"lfbDisableControl"},standalone:!0,features:[si]})}return t})();const qot=t=>({row:t,"m-0":!0});function Kot(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function Zot(t,n){if(1&t&&Ve(0,"lfb-label",8),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)}}function Qot(t,n){if(1&t&&(ee(0,"small",10),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.modifiedMessage||e.originalMessage)}}function Xot(t,n){if(1&t&&(Fn(0),Me(1,Qot,2,1,"small",9),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(),X("ngIf",i.formProperty.value&&e)}}function Jot(t,n){if(1&t&&(ee(0,"div",3),Me(1,Zot,1,4,"lfb-label",4),ee(2,"div",5),Ve(3,"input",6),Me(4,Xot,2,1,"ng-container",7),ie()()),2&t){const e=oe();X("ngClass",Wn(14,qot,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(2),X("name",e.name)("readonly","color"!==e.schema.widget.id&&e.schema.readOnly)("ngClass",e.controlClasses)("formControl",e.control)("required",e.schema.isRequired)("lfbDisableControl",e.schema.disabled),Ye("type",e.schema.widget.id&&"string"!==e.schema.widget.id?e.schema.widget.id:"text")("id",e.id)("placeholder",e.schema.placeholder)("maxLength",e.schema.maxLength||null)("minLength",e.schema.minLength||null),Q(),X("ngForOf",e.errors)}}let o1=(()=>{class t extends il{constructor(){super(),this.liveAnnouncer=$e(j0),this.modifiedMessages={PATTERN:[{pattern:"^\\S*$",message:"Spaces and other whitespace characters are not allowed in this field."},{pattern:"^[^\\s]+(\\s[^\\s]+)*$",message:"Spaces are not allowed at the beginning or end."},{pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$",message:"Valid format is yyyy-MM-dd."},{pattern:"^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$",message:"Valid format is yyyy-MM-dd hh:mm:ss (AM|PM)."}],MIN_LENGTH:null,MAX_LENGTH:null},this.errors=null,this.Array=Array}ngOnInit(){super.ngOnInit(),this.controlClasses=this.controlClasses||"form-control form-control-sm"}ngAfterViewInit(){super.ngAfterViewInit(),this.formProperty.errorsChanges.subscribe(e=>{if(this.errors=null,e?.length){const i={};e.reduce((r,o)=>(r[o.code]||(r[o.code]=o),r),i),this.errors=Object.values(i).map(r=>{const o="PATTERN"===r.code?this.getModifiedErrorForPatternMismatch(r.params[0]):this.modifiedMessages[r.code];return{code:r.code,originalMessage:r.message,modifiedMessage:o}})}})}getModifiedErrorForPatternMismatch(e){const i=this.modifiedMessages.PATTERN.find(r=>r.pattern===e);return i?i.message:null}announceErrors(){if(this.errors){const e=this.errors.reduce((i,r)=>i+r.originalMessage,"");this.liveAnnouncer.announce(e)}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-string"]],features:[Ct],decls:3,vars:2,consts:[["notHiddenFieldBlock",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],["class","form-label",3,"for","title","helpMessage","ngClass",4,"ngIf"],[1,"col","p-0","position-relative"],[3,"name","readonly","ngClass","formControl","required","lfbDisableControl"],[4,"ngFor","ngForOf"],[1,"form-label",3,"for","title","helpMessage","ngClass"],["class","text-danger form-text","role","alert",4,"ngIf"],["role","alert",1,"text-danger","form-text"]],template:function(i,r){if(1&i&&Me(0,Kot,1,2,"input",1)(1,Jot,5,16,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,bi,yn,di,ei,Qd,Sh,Er,Dr],encapsulation:2})}return t})();const est=t=>({row:t,"m-0":!0}),eZ=t=>({invalid:t});function tst(t,n){if(1&t&&Ve(0,"lfb-label",9),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)}}function nst(t,n){if(1&t&&(ee(0,"option",13),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e.enum[0]),Q(),It(e.description)}}function ist(t,n){if(1&t&&(Fn(0),Me(1,nst,2,2,"option",12),Pn()),2&t){const e=oe(3);Q(),X("ngForOf",e.schema.oneOf)}}function rst(t,n){if(1&t&&(ee(0,"option",13),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e.value),Q(),It(e.label)}}function ost(t,n){1&t&&Me(0,rst,2,2,"option",12),2&t&&X("ngForOf",oe(3).allowedOptions)}function sst(t,n){if(1&t){const e=lt();ee(0,"select",10),ze("focus",function(){return Se(e),Ee(oe(2).announceErrors())}),Me(1,ist,2,1,"ng-container",11)(2,ost,1,1,"ng-template",null,1,En),ie()}if(2&t){const e=Ut(3),i=oe(2);Ui("name",i.name),X("formControl",i.control)("ngClass",Wn(8,eZ,i.errors)),Ye("id",i.id)("aria-invalid",i.errors)("disabled",i.schema.readOnly?"":null),Q(),X("ngIf",i.schema.oneOf)("ngIfElse",e)}}function ast(t,n){if(1&t&&(ee(0,"option",13),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e.enum[0]),Ye("disabled",e.readOnly?"":null),Q(),It(e.description)}}function cst(t,n){if(1&t){const e=lt();ee(0,"select",14),ze("focus",function(){return Se(e),Ee(oe(2).announceErrors())}),Me(1,ast,2,3,"option",12),ie()}if(2&t){const e=oe(2);Ui("name",e.name),X("formControl",e.control)("ngClass",Wn(7,eZ,e.errors)),Ye("id",e.id)("aria-invalid",e.errors)("disabled",e.schema.readOnly?"":null),Q(),X("ngForOf",e.schema.items.oneOf)}}function lst(t,n){if(1&t&&(ee(0,"small",17),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.modifiedMessage||e.originalMessage)}}function dst(t,n){if(1&t&&(Fn(0),Ve(1,"fa-icon",15),Me(2,lst,2,1,"small",16),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(),X("icon",i.errorIcon),Q(),X("ngIf",i.formProperty.value&&e)}}function ust(t,n){if(1&t&&Ve(0,"input",18),2&t){const e=oe(2);Ui("name",e.name),X("formControl",e.control)}}function fst(t,n){if(1&t&&(ee(0,"div",3),Me(1,tst,1,4,"lfb-label",4),ee(2,"div",3),Me(3,sst,4,10,"select",5)(4,cst,2,9,"select",6)(5,dst,3,2,"ng-container",7),ie(),Me(6,ust,1,2,"input",8),ie()),2&t){const e=oe();X("ngClass",Wn(7,est,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(),X("ngClass",e.controlClasses),Q(),X("ngIf","array"!==e.schema.type),Q(),X("ngIf","array"===e.schema.type),Q(),X("ngForOf",e.errors),Q(),X("ngIf",e.schema.readOnly)}}function hst(t,n){1&t&&wr(0)}let tZ=(()=>{class t extends o1{constructor(){super(),this.faInfo=Ac,this.nolabel=!1,this.errorIcon=Mp,this.formService=$e(Hn),this.selectOptionsMap={}}ngAfterViewInit(){super.ngAfterViewInit(),this.selectOptionsMap=this.schema.widget.selectOptionsMap||{};const e=this.schema.enum.map(i=>this.mapOption(i));this.allowedOptions=e.filter(i=>this.isIncluded(i.value)&&this.isTypeAllowed(i.value)),this.schema.widget.addEmptyOption&&this.allowedOptions.unshift({value:null,label:"None"})}mapOption(e){const i={value:e,label:e};return this.selectOptionsMap.map&&this.selectOptionsMap.map[e]&&(i.label=this.selectOptionsMap.map[e]),i}isIncluded(e){return!(this.selectOptionsMap.remove&&this.selectOptionsMap.remove.indexOf(e)>=0)}isTypeAllowed(e){return!this.selectOptionsMap.validateType||"display"!==e||!this.formService.hasSubItems()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-select"]],inputs:{selectOptionsMap:"selectOptionsMap"},features:[Ct],decls:3,vars:1,consts:[["baseSelect",""],["use_enum",""],[4,"ngTemplateOutlet"],[3,"ngClass"],[3,"for","title","helpMessage","ngClass",4,"ngIf"],["class","form-select form-select-sm",3,"formControl","name","ngClass","focus",4,"ngIf"],["multiple","",3,"formControl","name","ngClass","focus",4,"ngIf"],[4,"ngFor","ngForOf"],["type","hidden",3,"name","formControl",4,"ngIf"],[3,"for","title","helpMessage","ngClass"],[1,"form-select","form-select-sm",3,"focus","formControl","name","ngClass"],[4,"ngIf","ngIfElse"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["multiple","",3,"focus","formControl","name","ngClass"],["id","error",2,"color","red",3,"icon"],["class","text-danger form-text","role","alert",4,"ngIf"],["role","alert",1,"text-danger","form-text"],["type","hidden",3,"name","formControl"]],template:function(i,r){if(1&i&&Me(0,fst,7,9,"ng-template",null,0,En)(2,hst,1,0,"ng-container",2),2&i){const o=Ut(1);Q(2),X("ngTemplateOutlet",o)}},dependencies:[ir,bi,yn,ho,B1,H1,di,Kc,k4,ei,Vs,Er,Dr],styles:["select.invalid[_ngcontent-%COMP%]{outline:2px solid red}#error[_ngcontent-%COMP%]{margin-right:5px}"]})}return t})();function pst(t,n){if(1&t&&Ve(0,"input",5),2&t){const e=oe(2);Ui("name",e.name),X("formControl",e.control)}}function mst(t,n){if(1&t&&(ee(0,"div",8),Ve(1,"fa-icon",9),ie()),2&t){const e=oe(3);X("matTooltip",e.schema.description),Ye("aria-label","Tooltip for "+e.schema.title+": "+e.schema.description),Q(),X("icon",e.faInfo)}}function gst(t,n){if(1&t&&(ee(0,"label",6),ye(1),Me(2,mst,2,3,"div",7),ie()),2&t){const e=oe(2);Ye("for",e.id),Q(),Qn(" ",e.schema.title," "),Q(),X("ngIf",e.schema.description)}}function vst(t,n){if(1&t&&(ee(0,"div"),Ve(1,"input",2),Me(2,pst,1,2,"input",3)(3,gst,3,3,"label",4),ie()),2&t){const e=oe();Ye("class","form-check "+e.lfbClass),Q(),Ui("name",e.name),X("formControl",e.control)("indeterminate",!1!==e.control.value&&!0!==e.control.value||null),Ye("id",e.id)("disabled",e.schema.readOnly?"":null),Q(),X("ngIf",e.schema.readOnly),Q(),X("ngIf",!e.nolabel&&e.schema.title)}}function _st(t,n){if(1&t){const e=lt();ee(0,"div",11)(1,"label",12)(2,"input",13),ze("change",function(r){return Se(e),Ee(oe(2).onCheck(r.target))}),ie(),ye(3),ie()()}if(2&t){const e=n.$implicit,i=oe(2);Q(2),Ui("name",i.name),Ui("value",e.enum[0]),Ye("disabled",i.schema.readOnly?"":null)("checked",!!i.checked[e.enum[0]]||null)("id",i.id+"."+e.enum[0]),Q(),Qn(" ",e.description," ")}}function bst(t,n){if(1&t&&(Fn(0),Me(1,_st,4,6,"div",10),Pn()),2&t){const e=oe();Q(),X("ngForOf",e.schema.items.oneOf)}}let nZ=(()=>{class t extends Ag{constructor(){super(...arguments),this.nolabel=!1,this.faInfo=Ac,this.lfbClass="text-center"}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-checkbox"]],inputs:{nolabel:"nolabel",lfbClass:"lfbClass"},features:[Ct],decls:3,vars:2,consts:[[1,"widget"],[4,"ngIf"],["type","checkbox",1,"form-check-input",3,"formControl","name","indeterminate"],["type","hidden",3,"name","formControl",4,"ngIf"],["class","form-check-label control-label",4,"ngIf"],["type","hidden",3,"name","formControl"],[1,"form-check-label","control-label"],["tabindex","0","class","btn border-0 m-0 p-0",3,"matTooltip",4,"ngIf"],["tabindex","0",1,"btn","border-0","m-0","p-0",3,"matTooltip"],[3,"icon"],["class","checkbox",4,"ngFor","ngForOf"],[1,"checkbox"],[1,"horizontal","control-label"],["type","checkbox",3,"change","name","value"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,vst,4,8,"div",1)(2,bst,2,1,"ng-container",1),ie()),2&i&&(Q(),X("ngIf","array"!==r.schema.type),Q(),X("ngIf","array"===r.schema.type))},dependencies:[bi,yn,di,jl,ei,Vs,sl,Er],encapsulation:2})}return t})(),yst=(()=>{class t{constructor(e,i){this.hostEl=e,this.liveAnnouncer=i}OnInput(e){e.target.validity?.valid||(this.liveAnnouncer.announce("The value is invalid"),e.preventDefault())}onKeydown(e){let i=!1;"."===e.key||"e"===e.key.toLowerCase()||"-"===e.key&&e.target.value.startsWith("-")?(i=!0,e.preventDefault()):1===e.key.length&&e.code.startsWith("Key")&&(i=!0),i&&this.liveAnnouncer.announce(e.key+" is not accepted for integer")}onPaste(e){const i=e.clipboardData.getData("text/plain");let r=!0;if(e.target.validity.valid){const o=e.target.value;o.length>0?i.match(/^\d+$/)&&(r=!1):""===o&&i.match(/^[-+]?\d+$/)&&(r=!1)}r&&e.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ht),ve(j0))};static#t=this.\u0275dir=ot({type:t,selectors:[["","lfbInteger",""]],hostBindings:function(i,r){1&i&&ze("keyup",function(s){return r.OnInput(s)})("keydown",function(s){return r.onKeydown(s)})("paste",function(s){return r.onPaste(s)})}})}return t})();const wst=t=>({row:t,"m-0":!0});function xst(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function Cst(t,n){if(1&t&&Ve(0,"lfb-label",6),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelWidthClass+" ps-0 pe-1")}}function Mst(t,n){if(1&t&&(ee(0,"div",3),Me(1,Cst,1,4,"lfb-label",4),Ve(2,"input",5),ie()),2&t){const e=oe();X("ngClass",Wn(14,wst,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(),Ko("form-control ",e.controlWidthClass,""),Ui("name",e.name),X("formControl",e.control),Ye("readonly",!!e.schema.readOnly||null)("id",e.id)("min",e.schema.minimum)("max",e.schema.maximum)("placeholder",e.schema.placeholder)("maxLength",e.schema.maxLength||null)("minLength",e.schema.minLength||null)}}let Sst=(()=>{class t extends il{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-integer-widget"]],features:[Ct],decls:3,vars:2,consts:[["notHiddenFieldBlock",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],[3,"for","title","helpMessage","ngClass",4,"ngIf"],["lfbInteger","","type","number",3,"name","formControl"],[3,"for","title","helpMessage","ngClass"]],template:function(i,r){if(1&i&&Me(0,xst,1,2,"input",1)(1,Mst,3,16,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,yn,di,I4,ei,Er,Dr,yst],encapsulation:2})}return t})();const Tst=["instance"],Est=t=>({row:t,"m-0":!0});function Lst(t,n){if(1&t&&Ve(0,"ngb-highlight",6),2&t){const i=n.term;X("result",n.result.name)("term",i)}}function Ast(t,n){if(1&t&&Ve(0,"lfb-label",7),2&t){const e=oe();X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)}}function Dst(t,n){if(1&t){const e=lt();ee(0,"input",8,1),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.model,r)||(o.model=r),Ee(r)}),ze("focus",function(r){return Se(e),Ee(oe().focus$.next(r.target.value))})("click",function(r){return Se(e),Ee(oe().click$.next(r.target.value))})("selectItem",function(r){return Se(e),Ee(oe().onSelect(r))}),ie()}if(2&t){const e=oe();Ui("name",e.name),ki("ngModel",e.model),X("ngbTypeahead",e.search)("editable",!1)("inputFormatter",e.inputFormatter)("resultFormatter",e.resultListItemFormatter),Ye("id",e.id)("disabled",e.schema.readOnly?"":null)}}function Ist(t,n){if(1&t&&Ve(0,"input",9),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}let kst=(()=>{class t extends il{constructor(e){super(),this.formService=e,this.faInfo=Ac,this.nolabel=!1,this.focus$=new xt,this.click$=new xt,this.search=i=>{const r=i.pipe(ol(100),Tc()),o=this.click$.pipe(er(()=>!this.instance.isPopupOpen()));return ma(r,this.focus$,o).pipe(Mn(c=>""===c?this.sources:this.sources.filter(v=>v.data.text.toLowerCase().indexOf(c.toLowerCase())>-1)))}}ngOnInit(){this.sources=this.formService.getSourcesExcludingFocusedTree();const e=this.formProperty.value;if(this.sources&&this.sources.length>0&&e){const i=this.sources.find(r=>r.data.linkId===e);i&&(this.model=i,this.formProperty.setValue(i.data.linkId,!0),this.formProperty.searchProperty("__$answerType").setValue(i.data.type,!0))}}onSelect(e){this.formProperty.setValue(e.item.data.linkId,!0),this.formProperty.searchProperty("__$answerType").setValue(e.item.data.type,!1)}inputFormatter(e){let i;return e&&e.data&&(i=Bt.getIndexPath(e).join(".")+" - "+e.data.text),i}resultListItemFormatter(e){let r,i="";if(e&&e.data){for(let o=1;o<e.level;o++)i+="  ";r=i+Bt.getIndexPath(e).join(".")+" - "+e.data.text}return r}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hn))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-choice"]],viewQuery:function(i,r){if(1&i&&Ln(Tst,5),2&i){let o;Et(o=Lt())&&(r.instance=o.first)}},features:[Ct],decls:6,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"ngClass"],[3,"for","title","helpMessage",4,"ngIf"],["type","text","class","form-control","popupClass","add-scrolling",3,"name","ngModel","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelChange","focus","click","selectItem",4,"ngIf"],["type","hidden",3,"name","formControl",4,"ngIf"],[3,"result","term"],[3,"for","title","helpMessage"],["type","text","popupClass","add-scrolling",1,"form-control",3,"ngModelChange","focus","click","selectItem","name","ngModel","ngbTypeahead","editable","inputFormatter","resultFormatter"],["type","hidden",3,"name","formControl"]],template:function(i,r){1&i&&(Me(0,Lst,1,2,"ng-template",null,0,En),ee(2,"div",2),Me(3,Ast,1,3,"lfb-label",3)(4,Dst,2,8,"input",4)(5,Ist,1,2,"input",5),ie()),2&i&&(Q(2),X("ngClass",Wn(4,Est,"left"===r.labelPosition)),Q(),X("ngIf",!r.nolabel),Q(),X("ngIf","array"!==r.schema.type),Q(),X("ngIf",r.schema.readOnly))},dependencies:[ir,yn,di,ei,ro,nN,Pf,Er,Dr],encapsulation:2})}return t})();function Ost(t,n){if(1&t&&(ee(0,"option",3),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e.option),Q(),It(e.label)}}let Nst=(()=>{class t extends il{constructor(e){super(),this.formService=e}ngOnInit(){const e=this.formProperty.searchProperty("answerBoolean");this.formProperty.valueChanges.subscribe(i=>{this.myModel="exists"===i&&!1===e.value?"notexists":i}),this.formProperty.searchProperty("__$answerType").valueChanges.subscribe(i=>{this.answerType=i,this.answerType?(this.selectOptionList=this.formService.getEnableWhenOperatorListByAnswerType(this.answerType),this.myModel=this.myModel?this.myModel:this.selectOptionList[0].option,setTimeout(()=>{this.onModelChange(this.myModel)})):this.selectOptionList=[]})}onModelChange(e){const i="notexists"===e?"exists":e,r="exists"===e;"exists"===i&&this.formProperty.searchProperty("answerBoolean").setValue(r,!0),this.control.setValue(i)}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hn))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-enable-operator"]],features:[Ct],decls:4,vars:5,consts:[["mySelect",""],[1,"form-control",3,"ngModelChange","ngModel","name","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(i,r){if(1&i){const o=lt();ee(0,"select",1,0),Oi("ngModelChange",function(c){return Se(o),Vi(r.myModel,c)||(r.myModel=c),Ee(c)}),ze("ngModelChange",function(c){return Se(o),Ee(r.onModelChange(c))}),Fn(2),Me(3,Ost,2,2,"option",2),Pn(),ie()}2&i&&(Ui("name",r.name),ki("ngModel",r.myModel),X("disabled",r.schema.readOnly),Ye("id",r.id),Q(3),X("ngForOf",r.selectOptionList))},dependencies:[bi,B1,H1,Kc,ei,ro],encapsulation:2})}return t})();function Rst(t,n){if(1&t&&(ee(0,"div",1)(1,"div",2),Ve(2,"lfb-label",3),ie(),ee(3,"div"),Ve(4,"lfb-form-element",4),ie()()),2&t){const e=n.$implicit,i=oe();Q(),X("ngClass",i.labelWidthClass+" ps-0 pe-1"),Q(),X("for",i.getShowFieldProperty(e).id)("title",i.getSchema(e).title)("helpMessage",i.getSchema(e).description),Q(),So(i.controlWidthClass),Q(),X("nolabel",!0)("formProperty",i.getShowFieldProperty(e))}}let Fst=(()=>{class t extends ZC{constructor(){super(...arguments),this.label=!0}ngOnInit(){const e=this.formProperty.schema.widget;this.labelWidthClass=e&&e.labelWidth?"col-sm-"+e.labelWidth:"col-sm",this.controlWidthClass=e&&e.controlWidth?"col-sm-"+e.controlWidth:"col-sm",this.label=e.label}getShowFields(){return super.getShowFields(this.formProperty.schema.widget)}getSchema(e){return this.getShowFieldProperty(e).schema}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-left-label-form-group"]],features:[Ct],decls:1,vars:1,consts:[["class","form-group row",4,"ngFor","ngForOf"],[1,"form-group","row"],[3,"ngClass"],[3,"for","title","helpMessage"],[3,"nolabel","formProperty"]],template:function(i,r){1&i&&Me(0,Rst,5,8,"div",0),2&i&&X("ngForOf",r.getShowFields())},dependencies:[ir,bi,Dr,au],styles:[".form-group[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     .col, .col-1[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px}"]})}return t})();function Pst(t,n){if(1&t&&(ee(0,"div",5),Ve(1,"fa-icon",6),ie()),2&t){const e=oe(3);X("matTooltip",e.schema.description),Ye("aria-label","Tooltip for "+e.schema.title+": "+e.schema.description),Q(),X("icon",e.faInfo)}}function zst(t,n){if(1&t&&(ee(0,"label"),ye(1),Me(2,Pst,2,3,"div",4),ie()),2&t){const e=oe(2);Ko("form-check-label ",e.labelWidthClass,""),Ye("for",e.id),Q(),Qn(" ",e.schema.title," "),Q(),X("ngIf",e.schema.description)}}function $st(t,n){if(1&t&&(ee(0,"div",1),Me(1,zst,3,6,"label",2),Ve(2,"input",3),ie()),2&t){const e=oe();Q(),X("ngIf",!e.nolabel&&e.schema.title),Q(),Ui("name",e.name),X("formControl",e.control)("indeterminate",!1!==e.control.value&&!0!==e.control.value||null),Ye("id",e.id)("disabled",e.schema.readOnly?"":null)}}let Bst=(()=>{class t extends Ag{constructor(){super(...arguments),this.nolabel=!1,this.faInfo=Ac}ngOnInit(){const e=this.formProperty.schema.widget;this.labelWidthClass=this.labelWidthClass?this.labelWidthClass:e.labelWidthClass?e.labelWidthClass:"col-sm"}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-side-label-checkbox"]],inputs:{labelWidthClass:"labelWidthClass",nolabel:"nolabel"},features:[Ct],decls:1,vars:1,consts:[["class","widget row m-0",4,"ngIf"],[1,"widget","row","m-0"],[3,"class",4,"ngIf"],["type","checkbox",3,"formControl","name","indeterminate"],["tabindex","0","class","btn border-0 m-0 p-0",3,"matTooltip",4,"ngIf"],["tabindex","0",1,"btn","border-0","m-0","p-0",3,"matTooltip"],[3,"icon"]],template:function(i,r){1&i&&Me(0,$st,3,6,"div",0),2&i&&X("ngIf","array"!==r.schema.type)},dependencies:[yn,jl,ei,Vs,sl,Er],styles:["input[_ngcontent-%COMP%]{margin-top:.5rem}"]})}return t})();const Hst=["ac"];let Ust=(()=>{class t{static#e=this._serialNumber=0;constructor(){this.subscriptions=[],this.removed=new mt,this.selected=new mt,this.elId="lfb-auto-complete-"+t._serialNumber++}ngOnChanges(e){e.options&&!e.options.firstChange&&this.resetAutocomplete()}ngAfterViewInit(){this.el=this.acElementRef.nativeElement,this.resetAutocomplete()}resetAutocomplete(){this.destroyAutocomplete(),this.options?.fhirOptions&&(this.options.acOptions.fhir=!0,this.options.acOptions.url=this.createValueSetUrl(this.options.fhirOptions)),this.autoComp=new LForms.Def.Autocompleter.Search(this.el.id,this.options.acOptions.url,this.options.acOptions),this.model&&(this.model.display||this.model.code)&&(this.autoComp.setFieldVal(this.model.display,!1),this.autoComp.storeSelectedItem(this.model.display,this.model.code)),this.autoCompleteEventsUnsubscribe=LForms.Def.Autocompleter.Event.observeListSelections(this.el.id,e=>{let i=null;if(e.removed)this.removed.emit(this.autoComp.getItemData(e.final_val));else if(1!==this.options.acOptions.maxSelect||e.final_val?.trim())if(e.used_list)i=this.autoComp.getItemData(e.final_val),this.selected.emit(this.convertLHCCoding(i));else{const r=this.model?.display;if(r&&r!==e.final_val.trim()){const o=e.final_val?.trim();i=null,o&&(i={code:o.replace(/\s+/g,"_"),display:o}),this.selected.emit(i)}}else this.removed.emit(null)})}convertLHCCoding(e){if(!e)return null;const i={};return e.code&&(i.code=e.code),e.text&&(i.display=e.text),e.code_system&&(i.system=e.code_system),i}createValueSetUrl(e){let i=null;if(e.fhirServer){const r=e.fhirServer.endsWith("/")?e.fhirServer:e.fhirServer+"/",o=new URL("ValueSet/"+e.operation,r);e.valueSetUri&&o.searchParams.set("url",decodeURIComponent(e.valueSetUri)),i=o.toString()}return i}destroyAutocomplete(){this.autoCompleteEventsUnsubscribe&&(this.autoCompleteEventsUnsubscribe(),this.autoCompleteEventsUnsubscribe=null),this.autoComp&&(this.autoComp.setFieldVal("",!1),this.autoComp.destroy(),this.autoComp=null)}ngOnDestroy(){this.destroyAutocomplete(),this.subscriptions.forEach(e=>{e&&e.unsubscribe()})}static#t=this.\u0275fac=function(i){return new(i||t)};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-auto-complete"]],viewQuery:function(i,r){if(1&i&&Ln(Hst,5),2&i){let o;Et(o=Lt())&&(r.acElementRef=o.first)}},inputs:{model:"model",options:"options"},outputs:{removed:"removed",selected:"selected"},standalone:!0,features:[si,Xn],decls:2,vars:1,consts:[["ac",""],["type","text","autocomplete","off",1,"form-control"]],template:function(i,r){1&i&&Ve(0,"input",1,0),2&i&&Ye("id",r.elId)},encapsulation:2})}return t})();function Vst(t,n){if(1&t){const e=lt();Fn(0),ee(1,"lfb-auto-complete",3),ze("selected",function(r){return Se(e),Ee(oe().modelChanged(r))})("removed",function(){return Se(e),Ee(oe().modelChanged(null))}),ie(),Pn()}if(2&t){const e=oe();Q(),X("options",e.acOptions)("model",e.model)}}function jst(t,n){if(1&t&&(ee(0,"option",6),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",e.valueCoding),Q(),F9("",e.valueCoding.display," (",e.valueCoding.code,")")}}function Wst(t,n){if(1&t){const e=lt();ee(0,"select",4),ze("ngModelChange",function(r){return Se(e),Ee(oe().modelChanged(r))}),Fn(1),Me(2,jst,2,3,"option",5),Pn(),ie()}if(2&t){const e=oe();Ui("name",e.name),X("ngModel",e.model)("compareWith",e.compareFn),Ye("id",e.id),Q(2),X("ngForOf",e.answerOptions)}}let Gst=(()=>{class t extends vb{constructor(e){super(),this.formService=e,this.subscriptions=[],this.answerOptions=[],this.autoComplete=!1,this.acOptions={acOptions:{matchListValue:!0,maxSelect:1,suggestionMode:LForms.Def.Autocompleter.NO_COMPLETION_SUGGESTIONS,autocomp:!0,showListOnFocusIfEmpty:!0,sort:!1},fhirOptions:{fhirServer:null,valueSetUri:null,operation:"$expand",count:7}}}ngOnInit(){const e=this.formProperty.value;e&&(this.model=e),this.init(this.formProperty.searchProperty("question").value)}ngAfterViewInit(){super.ngAfterViewInit();let e=this.formProperty.valueChanges.subscribe(i=>{this.model=i});this.subscriptions.push(e),e=this.formProperty.searchProperty("question").valueChanges.subscribe(i=>{this.init(i)}),this.subscriptions.push(e)}init(e){if(this.answerOptions=[],this.autoComplete=!1,!e)return;const i=this.formProperty.searchProperty("__$answerType").value;if("choice"===i||"open-choice"===i){const r=this.formService.getTreeNodeByLinkId(e),o=r?.data?.answerValueSet?.trim();this.autoComplete=!!o,o?(this.acOptions.fhirOptions.valueSetUri=decodeURI(o),this.acOptions.fhirOptions.fhirServer=this.formService.getPreferredTerminologyServer(r)):this.answerOptions=this.processSourceAnswers(r?.data)}this.model=!this.model&&this.answerOptions?.length>0?this.answerOptions[0]:this.model}processSourceAnswers(e){let i=[];return e?.answerOption?.length&&(i=e?.answerOption?e.answerOption:[],i=i.filter(r=>!!r?.valueCoding?.code||!!r?.valueCoding?.display)),i}modelChanged(e){this.model=e||{},this.formProperty.reset(this.model,!1)}compareFn(e,i){return e&&i?e.code&&i.code?e.code===i.code:e.display===i.display:e===i}ngOnDestroy(){this.subscriptions.forEach(e=>{e?.unsubscribe()})}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hn))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-enablewhen-answer-coding"]],features:[Ct],decls:4,vars:2,consts:[["answerOption",""],[1,"widget","form-group","form-group-sm","m-0","p-0"],[4,"ngIf","ngIfElse"],[3,"selected","removed","options","model"],[1,"form-control",3,"ngModelChange","ngModel","compareWith","name"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(i,r){if(1&i&&(ee(0,"div",1),Me(1,Vst,2,2,"ng-container",2),ie(),Me(2,Wst,3,5,"ng-template",null,0,En)),2&i){const o=Ut(3);Q(),X("ngIf",r.autoComplete)("ngIfElse",o)}},dependencies:[bi,yn,B1,H1,Kc,ei,ro,Ust],encapsulation:2})}return t})();const Yst=t=>({row:t,"m-0":!0});function qst(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function Kst(t,n){if(1&t&&Ve(0,"lfb-label",7),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)("labelId","label_rg_"+e.id)}}function Zst(t,n){if(1&t&&(Fn(0),Ve(1,"input",8),ee(2,"label",9),ye(3),ie(),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(),Ui("name",i.id),X("formControl",i.control)("value",e.enum[0]),Ye("id",i.id+"_"+e.enum[0])("disabled",i.schema.readOnly||e.readOnly?"":null),Q(),Ye("for",i.id+"_"+e.enum[0]),Q(),It(e.title||e.description)}}function Qst(t,n){if(1&t&&(Fn(0),Ve(1,"input",8),ee(2,"label",10)(3,"span",11),ye(4),ie()(),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(),Ui("name",i.id),X("formControl",i.control)("value",e),Ye("id",i.id+"_"+e)("disabled",i.schema.readOnly?"":null),Q(),Ye("for",i.id+"_"+e),Q(2),It(e)}}function Xst(t,n){if(1&t&&(ee(0,"div",3),Me(1,Kst,1,5,"lfb-label",4),ee(2,"div",5),Me(3,Zst,4,7,"ng-container",6)(4,Qst,5,7,"ng-container",6),ie()()),2&t){const e=oe();X("ngClass",Wn(7,Yst,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(),X("ngClass",e.controlClasses+" m-auto ms-0"),Ye("aria-labelledby","label_rg_"+e.id)("id",e.id),Q(),X("ngForOf",e.schema.oneOf),Q(),X("ngForOf",e.schema.enum)}}let iZ=(()=>{class t extends il{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-label-radio"]],features:[Ct],decls:3,vars:2,consts:[["notHiddenFieldBlock",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],[3,"for","title","helpMessage","ngClass","labelId",4,"ngIf"],["role","radiogroup",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"for","title","helpMessage","ngClass","labelId"],["type","radio","autocomplete","off",1,"btn-check",3,"formControl","name","value"],[1,"btn","btn-sm","btn-outline-success"],[1,"btn","btn-outline-success"],[1,"ms-1","me-3"]],template:function(i,r){if(1&i&&Me(0,qst,1,2,"input",1)(1,Xst,5,9,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,bi,yn,di,Ls,ei,Er,Dr],encapsulation:2})}return t})();const Jst=t=>({row:t}),eat=t=>({col:t});function tat(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function nat(t,n){if(1&t&&(ee(0,"div")(1,"label",9),Ve(2,"input",10),ye(3),ie()()),2&t){const e=n.$implicit,i=oe(2);Q(2),Ui("value",e.enum[0]),X("formControl",i.control),Ye("id",i.id+"."+e.enum[0])("disabled",i.schema.readOnly||e.readOnly?"":null),Q(),Qn(" ",e.description," ")}}function iat(t,n){if(1&t&&(ee(0,"div",4),Ve(1,"input",11)(2,"lfb-label",12),ie()),2&t){const e=n.$implicit,i=oe(2);X("ngClass",Wn(8,eat,"row"===i.schema.widget.layout)),Q(),Ui("name",i.id),Ui("value",e),X("formControl",i.control),Ye("id",i.id+"."+e)("disabled",i.schema.readOnly||e.readOnly?"":null),Q(),X("for",i.id+"."+e)("title",i.displayTexts[e])}}function rat(t,n){if(1&t&&(ee(0,"div",3),Ve(1,"div",4),ee(2,"div",4),Ve(3,"lfb-label",5),ee(4,"div",6),Me(5,nat,4,5,"div",7)(6,iat,3,10,"div",8),ie()()()),2&t){const e=oe();Q(),X("ngClass",e.schema.widget.labelWidthClass),Q(),X("ngClass",e.schema.widget.controlWidthClass),Q(),X("helpMessage",e.schema.description)("title",e.schema.title)("labelId","label_"+e.id)("for",e.id),Q(),X("ngClass",Wn(11,Jst,"row"===e.schema.widget.layout)),Ye("aria-labelledby","label_"+e.id)("id",e.id),Q(),X("ngForOf",e.schema.oneOf),Q(),X("ngForOf",e.schema.enum)}}let oat=(()=>{class t extends il{constructor(){super(...arguments),this.displayTexts={all:"All conditions are true",any:"Any condition is true"}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-enable-behavior"]],features:[Ct],decls:3,vars:2,consts:[["displayTemplate",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[1,"row"],[3,"ngClass"],[3,"helpMessage","title","labelId","for"],["role","radiogroup",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"horizontal","control-label"],["type","radio",3,"formControl","value"],["type","radio",3,"formControl","name","value"],[1,"horizontal","control-label","ms-sm-2",3,"for","title"]],template:function(i,r){if(1&i&&Me(0,tat,1,2,"input",1)(1,rat,7,13,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,bi,yn,di,Ls,ei,Er,Dr],encapsulation:2})}return t})();const sat=t=>({row:t,"m-0":!0});function aat(t,n){if(1&t&&Ve(0,"lfb-label",6),2&t){const e=oe(2);X("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)("labelId","label"+e._id)}}function cat(t,n){if(1&t&&(Fn(0),Ve(1,"input",7),ee(2,"label",8),ye(3),ie(),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(),X("name",i._id)("formControl",i.control)("value","true"===e||!0===e||"false"!==e&&!1!==e&&null),Ye("id","booleanRadio_"+e+i._id)("disabled",i.schema.readOnly?"":null),Q(),Ye("for","booleanRadio_"+e+i._id),Q(),It(i.options.get(e))}}function lat(t,n){if(1&t&&(ee(0,"div",2),Me(1,aat,1,4,"lfb-label",3),ee(2,"div",4),Me(3,cat,4,7,"ng-container",5),ie()()),2&t){const e=oe();X("ngClass",Wn(5,sat,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(),X("ngClass",e.controlClasses+" m-auto ms-0"),Ye("aria-labelledby","label"+e._id),Q(),X("ngForOf",e.optionsKeys)}}function dat(t,n){1&t&&wr(0)}let rZ=(()=>{class t extends il{constructor(){super(...arguments),this._id=""+t.ID++,this.options=new Map([["false","No"],["true","Yes"],["null","Unspecified"]]),this.optionsKeys=[]}static#e=this.ID=0;ngAfterViewInit(){this.formProperty.schema.widget?.optionLabels&&(this.options=new Map(this.formProperty.schema.widget.optionLabels)),this.optionsKeys=Array.from(this.options.keys()),this.labelPosition="left",super.ngAfterViewInit()}static#t=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-boolean-radio"]],features:[Ct],decls:3,vars:1,consts:[["controller",""],[4,"ngTemplateOutlet"],[1,"widget",3,"ngClass"],[3,"title","helpMessage","ngClass","labelId",4,"ngIf"],["role","radiogroup",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"title","helpMessage","ngClass","labelId"],["type","radio",1,"btn-check",3,"name","formControl","value"],[1,"btn","btn-outline-success","m-0"]],template:function(i,r){if(1&i&&Me(0,lat,4,7,"ng-template",null,0,En)(2,dat,1,0,"ng-container",1),2&i){const o=Ut(1);Q(2),X("ngTemplateOutlet",o)}},dependencies:[ir,bi,yn,ho,di,Ls,ei,Er,Dr],encapsulation:2})}return t})();const uat=t=>({row:t,"m-0":!0});function fat(t,n){if(1&t&&Ve(0,"lfb-label",3),2&t){const e=oe();X("for",e.elementId)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelWidthClass+" ps-0 pe-1")}}class Do extends JK{static#e=this.seqNum=0;static#t=this.questionUnitExtUrl="http://hl7.org/fhir/StructureDefinition/questionnaire-unit";static#n=this.questionUnitOptionExtUrl="http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption";static#i=this.ucumSystemUrl="http://unitsofmeasure.org";static#r=this.unitsExtUrl={quantity:Do.questionUnitOptionExtUrl,decimal:Do.questionUnitExtUrl,integer:Do.questionUnitExtUrl};constructor(n){super(),this.extensionsService=n,this.unitsSearchUrl="https://clinicaltables.nlm.nih.gov/api/ucum/v3/search?df=cs_code,name,guidance",this.options={matchListValue:!1,maxSelect:1,suggestionMode:LForms.Def.Autocompleter.USE_STATISTICS,autocomp:!0,tableFormat:!0,colHeaders:["Unit","Name","Guidance"],valueCols:[1]},this.dataType="string",this.elementId="units"+Do.seqNum++,this.subscriptions=[]}ngAfterViewInit(){super.ngAfterViewInit(),this.options.toolTip=this.schema.placeholder;let n=this.formProperty.searchProperty("/type").valueChanges.subscribe(e=>{this.dataType!==e&&("quantity"===e?this.extensionsService.removeExtensionsByUrl(Do.unitsExtUrl.decimal):("decimal"===e||"integer"===e||this.extensionsService.removeExtensionsByUrl(Do.unitsExtUrl.decimal),this.extensionsService.removeExtensionsByUrl(Do.unitsExtUrl.quantity)),this.options.maxSelect="quantity"===e?"*":1,("quantity"===e||"decimal"===e||"integer"===e)&&this.resetAutocomplete(),this.dataType=e)});this.subscriptions.push(n),n=this.formProperty.valueChanges.subscribe(()=>{this.resetAutocomplete();const e=this.extensionsService.getExtensionsByUrl(Do.unitsExtUrl[this.dataType])||[];for(let i=0,r=e.length;i<r;++i){const o=e[i].valueCoding.display||e[i].valueCoding.code;if(this.autoComp.storeSelectedItem(o,e[i].valueCoding.code),"*"!==this.options.maxSelect){this.autoComp.setFieldVal(o);break}this.autoComp.addToSelectedArea(o)}}),this.subscriptions.push(n),LForms.Def.Autocompleter.Event.observeListSelections(this.elementId,e=>{if(e.removed)this.extensionsService.removeExtension(i=>{const r=i.value;return r.url===Do.unitsExtUrl[this.dataType]&&(r.valueCoding.code&&e.item_code?r.valueCoding.code===e.item_code:r.valueCoding.display===e.final_val)});else if(1!==this.options.maxSelect||e.final_val?.trim())if(e.used_list){const i=e.list.find(r=>r[0]===e.item_code);this.updateUnits(this.createUnitExt(Do.unitsExtUrl[this.dataType],Do.ucumSystemUrl,e.item_code,i[1]))}else this.getUnitExtension()?.valueCoding?.display!==e.final_val&&this.updateUnits(this.createUnitExt(Do.unitsExtUrl[this.dataType],null,e.final_val,e.final_val));else this.extensionsService.removeExtension(i=>i.value.url===Do.unitsExtUrl[this.dataType])})}getUnitExtension(){return this.extensionsService.getFirstExtensionByUrl(Do.unitsExtUrl[this.dataType])}updateUnits(n){"integer"===this.dataType||"decimal"===this.dataType?this.extensionsService.resetExtension(n.url,n,"valueCoding",!1):"quantity"===this.dataType&&this.extensionsService.addExtension(n,"valueCoding")}destroyAutocomplete(){this.autoComp&&(this.autoComp.setFieldVal("",!1),this.autoComp.destroy(),this.autoComp=null)}resetAutocomplete(){this.destroyAutocomplete(),this.autoComp=new LForms.Def.Autocompleter.Search(this.elementId,this.unitsSearchUrl,this.options)}createUnitExt(n,e,i,r){const o={url:n,valueCoding:{code:i}};return e&&(o.valueCoding.system=e),r&&(o.valueCoding.display=r),o}ngOnDestroy(){this.destroyAutocomplete(),this.subscriptions.forEach(n=>{n&&n.unsubscribe()})}static#o=this.\u0275fac=function(e){return new(e||Do)(ve(kc))};static#s=this.\u0275cmp=rt({type:Do,selectors:[["lfb-units"]],features:[Ct],decls:4,vars:8,consts:[[3,"ngClass"],[3,"for","title","helpMessage","ngClass",4,"ngIf"],["autocomplete","off","type","text","placeholder","Search for UCUM units or type your own",1,"form-control"],[3,"for","title","helpMessage","ngClass"]],template:function(e,i){1&e&&(ee(0,"div",0),Me(1,fat,1,4,"lfb-label",1),ee(2,"div"),Ve(3,"input",2),ie()()),2&e&&(X("ngClass",Wn(6,uat,"left"===i.labelPosition)),Q(),X("ngIf",!i.nolabel),Q(),Ko("",i.controlWidthClass," p-0"),Q(),Ye("id",i.elementId))},dependencies:[ir,yn,Dr],styles:["[_nghost-%COMP%]     .autocomp_selected{width:100%;border:0;padding:0}[_nghost-%COMP%]     .autocomp_selected ul{margin:0}"]})}const hat=t=>({row:t}),pat=t=>({"float-sm-end":t}),mat=(t,n,e)=>({"col-sm-1":t,"col-sm-half":n,"action-column":e}),gat=(t,n,e)=>({"d-none":t,"col-sm-1":n,"col-sm-half":e}),vat=()=>({standalone:!0});function _at(t,n){if(1&t){const e=lt();Fn(0),ee(1,"lfb-boolean-controlled",3),ze("boolChange",function(r){return Se(e),Ee(oe().onBooleanControlledChange(r))}),ie(),Pn()}if(2&t){const e=oe();Q(),X("bool",e.booleanControlledOption)("controlClasses","btn-group btn-group-sm col-auto m-auto ms-0 ps-0")("labelClasses",e.labelClasses)("label",e.booleanLabel)("labelPosition",e.labelPosition)("helpMessage",e.schema.description)}}function bat(t,n){if(1&t){const e=lt();ee(0,"button",10),ze("click",function(){Se(e);const r=oe(2);return Ee(r.isCollapsed=!r.isCollapsed)}),Ve(1,"fa-icon",11),ie()}if(2&t){const e=oe(2);X("ngClass",Wn(4,pat,"left"===e.labelPosition)),Ye("aria-expanded",!e.isCollapsed)("aria-controls",e.tableId),Q(),X("icon",e.isCollapsed?e.faRight:e.faDown)}}function yat(t,n){if(1&t&&Ve(0,"lfb-label",12),2&t){const e=oe(2);X("title",e.schema.title)("helpMessage",e.schema.description)("for",e.id)}}function wat(t,n){if(1&t&&(ee(0,"th",22),Ve(1,"lfb-title",23),ie()),2&t){const e=n.$implicit,i=oe(4);Ko("col-sm",e.col?"-"+e.col:"",""),Q(),X("title",e.title||i.getTitle(i.formProperty.properties[0],e.field))("helpMessage",i.getProperty(i.formProperty.properties[0],e.field).schema.description)}}function xat(t,n){if(1&t){const e=lt();ee(0,"th",24)(1,"lfb-title",25),ze("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!1))}),ie(),ee(2,"button",26),ze("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!1))})("click",function(){return Se(e),Ee(oe(4).clearSelections())}),ye(3,"\u2326"),ie()()}if(2&t){const e=oe(4);Q(2),Ye("aria-hidden",e.hideHeaderAriaLabel)("aria-label",e.getClearSelectionLabel(e.getShowTableFields().length+1))}}function Cat(t,n){if(1&t&&Ve(0,"th",5),2&t){const e=oe(4);X("ngClass",Wc(1,mat,"answerOption"!==e.id,"answerOption"===e.id,"answerOption"===e.id))}}function Mat(t,n){if(1&t&&(ee(0,"thead",17)(1,"tr",18),Me(2,wat,2,5,"th",19)(3,xat,4,2,"th",20)(4,Cat,1,5,"th",21),ie()()),2&t){const e=oe(3);Q(2),X("ngForOf",e.getShowTableFields()),Q(),X("ngIf","radio"===e.rowSelectionType||"checkbox"===e.rowSelectionType),Q(),X("ngIf",!e.singleItem)}}function Sat(t,n){if(1&t&&(ee(0,"td"),Ve(1,"lfb-form-element",31),ie()),2&t){const e=n.$implicit,i=oe().$implicit,r=oe(3);Ko("col-sm",e.col?"-"+e.col:"",""),Q(),X("formProperty",r.getProperty(i,e.field))}}function Tat(t,n){if(1&t){const e=lt();ee(0,"td",32)(1,"input",33),ze("ngModelChange",function(r){return Se(e),Ee(oe(4).radioSelection(r))})("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!0))}),ie()()}if(2&t){const e=oe(),i=e.$implicit,r=e.index,o=oe(3);Q(),X("id","radio_"+i.canonicalPathNotation)("ngModel",o.selectionRadio)("value",r)("ngModelOptions",_i(4,vat))}}function Eat(t,n){if(1&t){const e=lt();ee(0,"td",32)(1,"input",34),Oi("ngModelChange",function(r){Se(e);const o=oe().index,s=oe(3);return Vi(s.selectionCheckbox[o],r)||(s.selectionCheckbox[o]=r),Ee(r)}),ze("ngModelChange",function(r){return Se(e),Ee(oe(4).checkboxSelection(r))})("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!0))}),ie()()}if(2&t){const e=oe(),i=e.$implicit,r=e.index,o=oe(3);Q(),X("id","checkbox_"+i.canonicalPathNotation),ki("ngModel",o.selectionCheckbox[r])}}function Lat(t,n){if(1&t){const e=lt();ee(0,"button",35),ze("click",function(){Se(e);const r=oe().$implicit;return Ee(oe(3).removeItem(r))}),Ve(1,"fa-icon",11),ie()}if(2&t){const e=oe(4);Ye("disabled",e.isRemoveButtonDisabled()?"":null),Q(),X("icon",e.faRemove)}}function Aat(t,n){if(1&t&&(ee(0,"tr",18),Me(1,Sat,2,4,"td",27)(2,Tat,2,5,"td",28)(3,Eat,2,2,"td",28),ee(4,"td",29),Me(5,Lat,2,2,"button",30),ie()()),2&t){const e=oe(3);Q(),X("ngForOf",e.getShowTableFields()),Q(),X("ngIf","radio"===e.rowSelectionType),Q(),X("ngIf","checkbox"===e.rowSelectionType),Q(),X("ngClass",Wc(5,gat,1===e.formProperty.properties.length,"answerOption"!==e.id,"answerOption"===e.id)),Q(),X("ngIf",!(e.schema.hasOwnProperty("minItems")&&e.schema.hasOwnProperty("maxItems")&&e.schema.minItems===e.schema.maxItems))}}function Dat(t,n){if(1&t&&(ee(0,"table",13),Me(1,Mat,5,3,"thead",14),ee(2,"tbody",15),Me(3,Aat,6,9,"tr",16),ie()()),2&t){const e=oe(2);Q(),X("ngIf",!e.noHeader),Q(),X("ngbCollapse",e.isCollapsed),Q(),X("ngForOf",e.formProperty.properties)}}function Iat(t,n){if(1&t){const e=lt();ee(0,"button",36,0),ze("click",function(){Se(e);const r=Ut(1);return Ee(oe(2).addItemWithAlert(r))}),Ve(2,"fa-icon",11),ye(3),ie()}if(2&t){const e=oe(2);X("ngbPopover","Please fill in the above fields before adding a new item"),Ye("disabled",e.isAddButtonDisabled()?"":null),Q(2),X("icon",e.faAdd),Q(),Qn(" ",e.addButtonLabel," ")}}function kat(t,n){if(1&t&&(ee(0,"div",4)(1,"div",5),Me(2,bat,2,6,"button",6)(3,yat,1,3,"lfb-label",7),ie(),ee(4,"div"),Me(5,Dat,4,3,"table",8)(6,Iat,4,4,"button",9),ie()()),2&t){const e=oe();X("ngClass",Wn(10,hat,"left"===e.labelPosition)),Q(),X("ngClass",e.labelClasses),Q(),X("ngIf",!e.noCollapseButton),Q(),X("ngIf",!e.noTableLabel),Q(),Ko("p-0 card bg-transparent border-0 m-auto ",e.controlClasses,""),Ye("id",e.tableId),Q(),X("ngIf",+e.formProperty.properties.length>0),Q(),X("ngIf",!(e.singleItem||e.schema.hasOwnProperty("minItems")&&e.schema.hasOwnProperty("maxItems")&&e.schema.minItems===e.schema.maxItems))}}let oZ=(()=>{class t extends r7{static#e=this.ORDINAL_URI="http://hl7.org/fhir/StructureDefinition/ordinalValue";constructor(e,i,r,o){super(i,r),this.treeService=e,this.elementRef=i,this.cdr=r,this.formService=o,this.initializing=!1}ngOnInit(){super.ngOnInit(),this.initializing=!0,this.init(),this.initializing=!1}init(){this.selectionRadio=-1,this.selectionCheckbox=[];const e=this.formProperty.findRoot().getProperty("repeats");this.setSelectionType(e.value);const i=this.formProperty.value;this.updateDefaultSelections(i||[]),this.setAnswerOptions(i),this.cdr.markForCheck()}setSelectionType(e){this.rowSelectionType=e?"checkbox":"radio"}ngAfterViewInit(){let e;super.ngAfterViewInit(),e=this.formProperty.valueChanges.subscribe(r=>{this.initializing||this.updateScoreExtensions(r)}),this.subscriptions.push(e),e=this.formService.formReset$.subscribe(()=>{this.initializing=!0,this.init(),this.initializing=!1}),this.subscriptions.push(e),e=this.formProperty.findRoot().getProperty("repeats").valueChanges.subscribe(r=>{if(this.setSelectionType(r),!this.initializing){const o=this.selectionCheckbox.findIndex(s=>s);r?(o<0&&this.selectionRadio>=0&&(this.selectionCheckbox[this.selectionRadio]=!0),this.updateWithCheckboxSelections()):(this.selectionRadio<0&&o>=0&&(this.selectionRadio=o),this.updateWithRadioSelection())}this.cdr.markForCheck()}),this.subscriptions.push(e),e=this.formService.formChanged$.subscribe(()=>{this.initializing=!0}),this.subscriptions.push(e)}setAnswerOptions(e){let i=!1;return e?.forEach(r=>{if(r.valueCoding){const o=r.extension?.find(v=>v.url===t.ORDINAL_URI),c=o&&void 0!==o.valueDecimal?o.valueDecimal:null;(void 0!==r.valueCoding.__$score?r.valueCoding.__$score:null)!==c&&(r.valueCoding.__$score=c,i=!0)}}),i&&this.formProperty.setValue(e,!1),i}updateDefaultSelections(e){"radio"===this.rowSelectionType?(this.selectionRadio=-1,e.some((i,r)=>(i.initialSelected&&(this.selectionRadio=r),this.selectionRadio>=0))):"checkbox"===this.rowSelectionType&&e.forEach((i,r)=>{this.selectionCheckbox[r]=!!i.initialSelected})}updateScoreExtensions(e){let i=!1;return e?.forEach(r=>{const o=r.extension?.findIndex(C=>C.url===t.ORDINAL_URI),s=o>=0?r.extension[o].valueDecimal:null,c=void 0!==r.valueCoding?.__$score?r.valueCoding?.__$score:null;let v=!1;if(s!==c){const C=null!==c;if(C&&o<0){const N={url:t.ORDINAL_URI,valueDecimal:c};r.extension=r.extension||[],r.extension.push(N),v=!0}else C&&o>=0?(r.extension[o].valueDecimal=c,v=!0):o>=0&&(r.extension.splice(o,1),v=!0)}v&&(i=!0)}),i}radioSelection(e){this.selectionRadio=e,this.updateWithRadioSelection()}updateWithRadioSelection(){const e=this.formProperty.value;let i=!1;e?.forEach((r,o)=>{o===this.selectionRadio?r.initialSelected||(r.initialSelected=!0,i=!0):r.initialSelected&&(delete r.initialSelected,i=!0)}),i&&this.formProperty.updateValueAndValidity()}updateWithCheckboxSelections(){const e=this.formProperty.value;let i=!1;e?.forEach((r,o)=>{this.selectionCheckbox[o]?r.initialSelected||(r.initialSelected=!0,i=!0):r.initialSelected&&(delete r.initialSelected,i=!0)}),i&&this.formProperty.updateValueAndValidity()}checkboxSelection(e){this.updateWithCheckboxSelections()}clearSelections(){this.selectionRadio=-1,this.updateWithRadioSelection(),this.selectionCheckbox=[],this.updateWithCheckboxSelections()}static#t=this.\u0275fac=function(i){return new(i||t)(ve(Hq),ve(Ht),ve(Si),ve(Hn))};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-answer-option"]],features:[Ct],decls:2,vars:2,consts:[["alertPopover","ngbPopover"],[4,"ngIf"],["class","widget form-group m-0",3,"ngClass",4,"ngIf"],[3,"boolChange","bool","controlClasses","labelClasses","label","labelPosition","helpMessage"],[1,"widget","form-group","m-0",3,"ngClass"],[3,"ngClass"],["href","#","type","button","class","btn btn-sm m-0 btn-default collapse-button",3,"ngClass","click",4,"ngIf"],[3,"title","helpMessage","for",4,"ngIf"],["class","table table-borderless table-sm lfb-table",4,"ngIf"],["class","btn btn-sm btn-light text-primary shadow-sm array-add-button","triggers","manual","placement","bottom top","popoverClass","",3,"ngbPopover","click",4,"ngIf"],["href","#","type","button",1,"btn","btn-sm","m-0","btn-default","collapse-button",3,"click","ngClass"],["aria-hidden","true",3,"icon"],[3,"title","helpMessage","for"],[1,"table","table-borderless","table-sm","lfb-table"],["class","table-active",4,"ngIf"],[3,"ngbCollapse"],["class","d-flex",4,"ngFor","ngForOf"],[1,"table-active"],[1,"d-flex"],["scope","col",3,"class",4,"ngFor","ngForOf"],["class","col-sm-2 default-column",4,"ngIf"],[3,"ngClass",4,"ngIf"],["scope","col"],[3,"title","helpMessage"],[1,"col-sm-2","default-column"],["title","Default","helpMessage","Pick a default item",3,"focus"],["type","button","matTooltip","Clear selection",1,"btn","btn-outline-primary","p-1","unselect",3,"focus","click"],[3,"class",4,"ngFor","ngForOf"],["class","col-sm-2 text-center align-self-center default-column",4,"ngIf"],[1,"align-middle","action-column",3,"ngClass"],["class","btn btn-default btn-link btn-sm array-remove-button","matTooltip","Remove","aria-label","Remove",3,"click",4,"ngIf"],["nolabel","true",3,"formProperty"],[1,"col-sm-2","text-center","align-self-center","default-column"],["type","radio","name","selectionRadio",3,"ngModelChange","focus","id","ngModel","value","ngModelOptions"],["type","checkbox",3,"ngModelChange","focus","id","ngModel"],["matTooltip","Remove","aria-label","Remove",1,"btn","btn-default","btn-link","btn-sm","array-remove-button",3,"click"],["triggers","manual","placement","bottom top","popoverClass","",1,"btn","btn-sm","btn-light","text-primary","shadow-sm","array-add-button",3,"click","ngbPopover"]],template:function(i,r){1&i&&Me(0,_at,2,6,"ng-container",1)(1,kat,7,12,"div",2),2&i&&(X("ngIf",r.booleanControlled),Q(),X("ngIf",!r.booleanControlled||r.booleanControlledOption))},dependencies:[ir,bi,yn,di,jl,Ls,ei,ro,Vs,sl,T0,np,Dr,au,n7,i7],styles:[".action-column[_ngcontent-%COMP%]{text-align:end}.collapse-button[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;margin-right:5px;margin-left:2px}.collapse-button.float-sm-right[_ngcontent-%COMP%]{margin-right:0;margin-left:2px}.lfb-table[_ngcontent-%COMP%]{margin-bottom:0}.lfb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.lfb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .lfb-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}.table-header[_ngcontent-%COMP%]{font-weight:400}.add-button-alert-popover[_ngcontent-%COMP%]{background-color:#fafad2}button.unselect[_ngcontent-%COMP%]{margin-top:-3px;border:0px;font-size:20px;width:25px;padding-left:1px!important;line-height:.4;vertical-align:middle;transform:scaleX(-1);font-family:Roboto,sans-serif;border-radius:4px;margin-left:4px!important}th.default-column[_ngcontent-%COMP%]{white-space:nowrap;display:flex;justify-content:center;align-items:center;min-width:100px}td.default-column[_ngcontent-%COMP%]{padding:.25rem .5rem!important;min-width:100px;border-bottom:1px solid var(--bs-border-color)}th.action-column[_ngcontent-%COMP%]{width:30px;min-width:30px}td.action-column[_ngcontent-%COMP%]{border-left:1px solid var(--bs-border-color);border-bottom:1px solid var(--bs-border-color);width:30px;min-width:30px}.col-sm-half[_ngcontent-%COMP%]{width:4.16667%;flex:0 0 4.16667%;max-width:4.16667%}",".lfb-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}"],changeDetection:0})}return t})();const Oat=["eclTooltip"],Nat=t=>({row:t,"m-0":!0}),sZ=()=>({standalone:!0});function Rat(t,n){if(1&t&&Ve(0,"input",7),2&t){const e=oe();X("name",e.name)("formControl",e.control)}}function Fat(t,n){if(1&t&&Ve(0,"lfb-label",13),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)}}function Pat(t,n){1&t&&wr(0)}function zat(t,n){if(1&t&&(ee(0,"div",8),Me(1,Fat,1,4,"lfb-label",9),ee(2,"div",10)(3,"p",11,4)(5,"small")(6,"em"),ye(7),ie()()(),Me(8,Pat,1,0,"ng-container",12),ie()()),2&t){const e=oe(),i=Ut(4),r=Ut(6);X("ngClass",Wn(5,Nat,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(2),Ye("id","hint_"+e.id),Q(4),It(e.tsHint),Q(),X("ngTemplateOutlet","snomed-value-set"===e.valueSetType?i:r)}}function $at(t,n){if(1&t&&(ee(0,"option",27),ye(1),ie()),2&t){const e=n.$implicit,i=oe(2);X("value",e),Q(),It(i.snomedEditions.get(e).title+" ("+e+")")}}function Bat(t,n){if(1&t&&(ee(0,"option",27),ye(1),ie()),2&t){const e=n.$implicit;X("value",e),Q(),It(e)}}function Hat(t,n){if(1&t){const e=lt();ee(0,"div",15)(1,"label",22),ye(2,"Select SNOMED version:"),ie(),ee(3,"select",23),ze("ngModelChange",function(r){return Se(e),Ee(oe(2).onVersionUpdate(r))}),ee(4,"option",28),ye(5,"Default"),ie(),Me(6,Bat,2,2,"option",24),ie()()}if(2&t){let e;const i=oe(2);Q(),X("for",i.id+"_version"),Q(2),X("ngModel",i.snomedVersion)("ngModelOptions",_i(5,sZ)),Ye("id",i.id+"_version"),Q(3),X("ngForOf",null==i.snomedEditions||null==(e=i.snomedEditions.get(i.snomedEdition))?null:e.versions)}}function Uat(t,n){if(1&t&&(Fn(0),ee(1,"div",29),ye(2,"Formatted answerValueSet URI:"),ie(),ee(3,"span",30),ye(4),ie(),Pn()),2&t){const e=oe(2);Q(4),It(e.formProperty.value)}}function Vat(t,n){if(1&t){const e=lt();ee(0,"div",14)(1,"div",15)(2,"label",16),ye(3,"Enter SNOMED ECL "),ee(4,"div",17,5),ze("mouseover",function(){return Se(e),Ee(oe().eclTooltipOpen())})("focus",function(){return Se(e),Ee(oe().eclTooltipOpen())})("blur",function(r){return Se(e),Ee(oe().eclTooltipClose(r))}),Ve(6,"fa-icon",18),ie(),ye(7,":"),ie(),ee(8,"div",19)(9,"span",20),ye(10,"ecl/"),ie(),ee(11,"input",21),ze("ngModelChange",function(r){return Se(e),Ee(oe().onEclUpdate(r))})("change",function(r){return Se(e),Ee(oe().onEclChange(r))}),ie()()(),ee(12,"div",15)(13,"label",22),ye(14,"Select SNOMED edition:"),ie(),ee(15,"select",23),ze("ngModelChange",function(r){return Se(e),Ee(oe().onEditionUpdate(r))}),Me(16,$at,2,2,"option",24),ie()(),Me(17,Hat,7,6,"div",25)(18,Uat,5,1,"ng-container",26),ie()}if(2&t){const e=oe(),i=Ut(8);Q(4),X("ngbTooltip",i),Ye("aria-label",e.getURLFreeAriaLabel("Tooltip for ECL: "+e.eclHelpContent)),Q(2),X("icon",e.faInfo),Q(5),X("name",e.name+"_ecl")("ngModel",e.snomedFhirVS),Ye("id",e.id+"_ecl"),Q(2),X("for",e.id+"_edition"),Q(2),X("ngModel",e.snomedEdition)("ngModelOptions",_i(13,sZ)),Ye("id",e.id+"_edition"),Q(),X("ngForOf",e.snomedEditions.keys()),Q(),X("ngIf",e.snomedEdition),Q(),X("ngIf",e.formProperty.value)}}function jat(t,n){if(1&t&&Ve(0,"input",31),2&t){const e=oe();X("name",e.name)("readonly",e.schema.readOnly)("ngClass",e.controlClasses)("formControl",e.control)("lfbDisableControl","snomed-value-set"===e.valueSetType||e.schema.disabled),Ye("id",e.id+"_non-snomed")("placeholder",e.schema.placeholder)}}function Wat(t,n){if(1&t){const e=lt();ee(0,"div",32),ze("mouseleave",function(r){return Se(e),Ee(oe().eclTooltipClose(r))}),ie()}2&t&&X("innerHtml",oe().eclHelpContent,pv)}let aZ=(()=>{class t extends o1{constructor(){super(...arguments),this.eclHelpContent='See the <a class="lfb-ngb-tooltip-link" target="_blank" (click)="eclTooltipClose($event)" href="https://confluence.ihtsdotools.org/display/DOCECL">ECL documentation</a> for more information, or try the ECL Builder in the <a class="lfb-ngb-tooltip-link" target="_blank" (click)="eclTooltipClose($event)" href="https://browser.ihtsdotools.org/?perspective=full&languages=en">SNOMED CT Browser</a>. In the browser, under the \'Expression Constraint Queries\' tab, click the \'ECL Builder\' button.',this.faInfo=Ac,this.snomedEditions=null,this.snomedEdition="900000000000207008",this.snomedVersion="",this.snomedUrl="",this.nonSnomedUrl="",this.snomedFhirVS="",this.url=new URL(t.snomedBaseUri),this.subscriptions=[],this.eclPrefixRE=/^ecl\s*\//i,this.parseEditionRE=/sct\/([^\/]+)?(\/version\/([^\/]+))?/,this.fetchService=$e(ps),this.formService=$e(Hn),this.extensionService=$e(kc),this.valueSetType="value-set",this.tsHint=t.nonSnomedTSHint,this.eclHelp="",this.tooltipOpen=!1}static#e=this.snomedBaseUri="http://snomed.info/sct";static#t=this.snomedTerminologyServer="https://snowstorm.ihtsdotools.org/fhir";static#n=this.snomedTSHint='Note that this option also sets the terminology server option below (under "Advanced fields").';static#i=this.nonSnomedTSHint="Make sure that you provide a valid URL for a supporting terminology server below (under Advanced fields).";ngOnInit(){super.ngOnInit(),this.snomedEditions=this.fetchService.snomedEditions;const e=this.formProperty.searchProperty("__$answerOptionMethods").value;this.valueSetType=e||this.valueSetType,this.updateUI(this.formProperty.value);const i=this.formService.formReset$.subscribe(()=>{const r=this.formProperty.searchProperty("__$answerOptionMethods").value;this.valueSetType=r||this.valueSetType,this.updateUI(this.formProperty.value)});this.subscriptions.push(i)}ngAfterViewInit(){super.ngAfterViewInit();const i=this.formProperty.searchProperty("__$answerOptionMethods").valueChanges.subscribe(r=>{switch(this.valueSetType=r,this.valueSetType){case"snomed-value-set":this.tsHint=t.snomedTSHint;break;case"value-set":this.tsHint=t.nonSnomedTSHint}this.updateUI(this.formProperty.value)});this.subscriptions.push(i)}updateUI(e){"snomed-value-set"===this.valueSetType?e?(this.updateSnomedFields(e),this.snomedUrl=e):this.snomedUrl="":"value-set"===this.valueSetType&&e&&(this.nonSnomedUrl=e)}updateUrl(){let e="";if(this.url.pathname="/sct/",this.url.pathname+=this.snomedEdition?this.snomedEdition:"",this.url.pathname+=this.snomedVersion?"/version/"+this.snomedVersion:"",this.snomedFhirVS&&this.snomedEdition){const i=this.eclPrefixRE.test(this.snomedFhirVS)?this.snomedFhirVS:"ecl/"+this.snomedFhirVS;this.url.searchParams.set("fhir_vs",i),e=this.url.toString()}this.snomedUrl=e,this.formProperty.setValue(e,!1)}onEclChange(e){this.setSNOMEDTerminologyServer(!!this.snomedUrl)}setSNOMEDTerminologyServer(e){e?this.extensionService.getFirstExtensionByUrl(lh.PREFERRED_TERMINOLOGY_SERVER_URI)||this.extensionService.addExtension({url:lh.PREFERRED_TERMINOLOGY_SERVER_URI,valueUrl:t.snomedTerminologyServer},"valueUrl"):this.extensionService.removeExtension(i=>i.value.url===lh.PREFERRED_TERMINOLOGY_SERVER_URI&&i.value.valueUrl===t.snomedTerminologyServer)}onEclUpdate(e){this.snomedFhirVS=e,this.updateUrl()}onEditionUpdate(e){this.snomedEdition=e,this.snomedVersion="",this.updateUrl()}onVersionUpdate(e){this.snomedVersion=e,this.updateUrl()}updateSnomedFields(e){if(e&&e.startsWith(t.snomedBaseUri)){const i=new URL(e);let r=i.searchParams.get("fhir_vs")||"";r=r.replace(this.eclPrefixRE,""),this.snomedFhirVS=r;const o=i.pathname.match(this.parseEditionRE);o&&(this.snomedEdition=o[1]?o[1]:"",this.snomedVersion=o[3]?o[3]:"")}else this.snomedFhirVS="",this.snomedEdition="",this.snomedVersion=""}eclTooltipClose(e){!this.tooltipOpen||!e.relatedTarget||(this.eclTooltip.close(),this.tooltipOpen=!1)}eclTooltipOpen(){this.eclTooltip.open(),this.tooltipOpen=!0}ngOnDestroy(){this.subscriptions.forEach(e=>{e&&e.unsubscribe()})}getURLFreeAriaLabel(e){return Bt.removeAnchorTagFromString(e,"Link:","before")}static#r=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#o=this.\u0275cmp=rt({type:t,selectors:[["lfb-answer-value-set"]],viewQuery:function(i,r){if(1&i&&Ln(Oat,5,e8),2&i){let o;Et(o=Lt())&&(r.eclTooltip=o.first)}},features:[Ct],decls:9,vars:2,consts:[["notHiddenFieldBlock",""],["snomed",""],["vsInput",""],["eclHelp",""],["hint",""],["eclTooltip",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],[3,"for","title","helpMessage","ngClass",4,"ngIf"],[1,"col","p-0","m-0"],[1,"mb-1","ps-0"],[4,"ngTemplateOutlet"],[3,"for","title","helpMessage","ngClass"],[1,"p-0"],[1,"row","m-0","align-items-center"],[1,"col-3","ps-0","col-form-label"],["tabindex","0","tooltipClass","custom-tooltip-class","container","body","triggers","manual","tablindex","0",1,"btn","border-0","p-0","b-0",3,"mouseover","focus","blur","ngbTooltip"],["aria-hidden","true",3,"icon"],[1,"col","input-group","input-group-sm","px-0"],[1,"input-group-text"],["type","text","placeholder","Enter SNOMED ECL",1,"col","form-control","form-control-sm",3,"ngModelChange","change","name","ngModel"],[1,"col-3","ps-0","col-form-label",3,"for"],[1,"col","form-select","form-select-sm",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],["class","row m-0 align-items-center",4,"ngIf"],[4,"ngIf"],[3,"value"],["value",""],[1,"fst-italic","text-decoration-underline","text-black-50"],[1,"text-break","text-black-50"],["type","url",3,"name","readonly","ngClass","formControl","lfbDisableControl"],["id","eclHelpContent",3,"mouseleave","innerHtml"]],template:function(i,r){if(1&i&&Me(0,Rat,1,2,"input",6)(1,zat,9,7,"ng-template",null,0,En)(3,Vat,19,14,"ng-template",null,1,En)(5,jat,1,7,"ng-template",null,2,En)(7,Wat,1,1,"ng-template",null,3,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,bi,yn,ho,B1,H1,di,Kc,ei,ro,Vs,Sh,e8,Er,Dr],styles:['.tooltip-inner a:link{color:#00f;text-decoration:underline}.tooltip-inner a:visited{color:purple;text-decoration:underline}.tooltip-inner a:hover{color:red;text-decoration:underline}.tooltip-inner{text-align:left}.custom-tooltip-class{font-size:13px;font-weight:400;border:1px black solid}.tooltip.show{opacity:1;border-radius:5px}.tooltip-inner{background-color:#ffffe0;color:#000}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow:before,.bs-tooltip-bottom .tooltip-arrow:before{border-bottom-color:#000!important}.bs-tooltip-bottom .tooltip-arrow{top:-8px}.bs-tooltip-top .tooltip-arrow:before{border-top-color:#000!important}.bs-tooltip-top .tooltip-arrow{bottom:-8px}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.bs-tooltip-bottom .tooltip-arrow:after{content:"";position:absolute;bottom:0;border-width:0 .4rem .4rem;transform:translateY(2px);border-color:transparent;border-style:solid;border-bottom-color:#ffffe0}.bs-tooltip-top .tooltip-arrow:after{content:"";position:absolute;bottom:0;border-width:0 .4rem .4rem;transform:translateY(-2px) rotate(180deg);border-color:transparent;border-style:solid;border-bottom-color:#ffffe0}\n'],encapsulation:2})}return t})();const Gat=["answerOption"],Yat=["answerValueSet"],qat=t=>({row:t,"m-0":!0});function Kat(t,n){if(1&t&&Ve(0,"lfb-label",4),2&t){const e=oe();X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)("labelId","label_"+e.id)}}function Zat(t,n){if(1&t){const e=lt();Fn(0),ee(1,"input",6),ze("change",function(){return Se(e),Ee(oe(2).handleChange())}),ie(),ee(2,"label",7),ye(3),ie(),Pn()}if(2&t){const e=oe().$implicit,i=oe();Q(),X("formControl",i.control)("value",e.enum[0]),Ye("id",i.id+"_"+e.enum[0])("name",i.id),Q(),Ye("for",i.id+"_"+e.enum[0]),Q(),It(e.title||e.description)}}function Qat(t,n){if(1&t&&(Fn(0),Me(1,Zat,4,6,"ng-container",5),Pn()),2&t){const e=n.$implicit,i=oe();Q(),X("ngIf",i.isSnomedUser||"snomed-value-set"!==e.enum[0])}}let Xat=(()=>{class t extends iZ{constructor(e,i){super(),this.formService=e,this.liveAnnouncer=i,this.subscriptions=[],this.isSnomedUser=!1}ngOnInit(){super.ngOnInit(),this.isSnomedUser=this.formService.isSnomedUser(),this.updateUI()}ngAfterViewInit(){super.ngAfterViewInit()}handleChange(){let e="";switch(this.formProperty.value){case"answer-option":e="Fields for answer options are displayed below.";break;case"snomed-value-set":e="Fields for a SNOMED CT answer value set are displayed below.";break;case"value-set":e="A field for an answer value set URI is displayed below."}this.liveAnnouncer.announce(e).then(i=>{})}updateUI(){const e=this.formProperty.searchProperty("answerValueSet").value;if(e?.length>0){let i="value-set";this.isSnomedUser&&e.startsWith(aZ.snomedBaseUri)&&(i="snomed-value-set"),this.formProperty.setValue(i,!1)}}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Hn),ve(j0))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-answer-option-methods"]],viewQuery:function(i,r){if(1&i&&(Ln(Gat,7,oZ),Ln(Yat,7,o1)),2&i){let o;Et(o=Lt())&&(r.answerOption=o.first),Et(o=Lt())&&(r.answerValueSet=o.first)}},features:[Ct],decls:4,vars:8,consts:[[3,"ngClass"],[3,"for","title","helpMessage","ngClass","labelId",4,"ngIf"],["role","radiogroup",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"for","title","helpMessage","ngClass","labelId"],[4,"ngIf"],["type","radio","autocomplete","off",1,"btn-check",3,"change","formControl","value"],[1,"btn","btn-sm","btn-outline-success"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,Kat,1,5,"lfb-label",1),ee(2,"div",2),Me(3,Qat,2,1,"ng-container",3),ie()()),2&i&&(X("ngClass",Wn(6,qat,"left"===r.labelPosition)),Q(),X("ngIf",!r.nolabel),Q(),X("ngClass",r.controlClasses+" m-auto ms-0"),Ye("id",r.id)("aria-labelledby","label_"+r.id),Q(),X("ngForOf",r.schema.oneOf))},dependencies:[ir,bi,yn,di,Ls,ei,Er,Dr],encapsulation:2})}return t})();const Jat=t=>({row:t,"m-0":!0}),ect=()=>({"max-width":"400px",width:"20vw"}),tct=()=>({"max-width":"500px",width:"30vw"});function nct(t,n){if(1&t&&Ve(0,"input",4),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function ict(t,n){if(1&t&&Ve(0,"lfb-label",18),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses+" ps-0 pe-1")}}function rct(t,n){if(1&t){const e=lt();ee(0,"div",5),Me(1,ict,1,4,"lfb-label",6),ee(2,"div",5)(3,"div",7),Ve(4,"input",8),ee(5,"div",9,1)(7,"button",10),ye(8,"CSS Styles"),ie(),ee(9,"div",11)(10,"div",12)(11,"label",13),ye(12,"Specify CSS Styles:"),ie(),ee(13,"textarea",14),ze("change",function(r){Se(e);const o=oe();return Ee(o.extChanged(r.target.value,o.Util.RENDERING_STYLE_EXT_URL))}),ye(14),ie()(),ee(15,"button",15),ze("click",function(){return Se(e),Ee(Ut(6).close())}),ye(16,"Close"),ie()()(),ee(17,"div",9,2)(19,"button",16),ye(20,"XHTML"),ie(),ee(21,"div",11)(22,"div",12)(23,"label",13),ye(24,"Specify XHTML:"),ie(),ee(25,"textarea",17),ze("change",function(r){Se(e);const o=oe();return Ee(o.extChanged(r.target.value,o.Util.RENDERING_XHTML_EXT_URL))}),ye(26),ie()(),ee(27,"button",15),ze("click",function(){return Se(e),Ee(Ut(18).close())}),ye(28,"Close"),ie()()()()()()}if(2&t){const e=oe();X("ngClass",Wn(25,Jat,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(),X("ngClass",e.controlClasses),Q(2),X("name",e.name)("formControl",e.control)("lfbDisableControl",e.schema.disabled),Ye("readonly",!("color"===e.schema.widget.id||!e.schema.readOnly)||null)("type",e.schema.widget.id&&"string"!==e.schema.widget.id?e.schema.widget.id:"text")("id",e.id)("placeholder",e.schema.placeholder)("maxLength",e.schema.maxLength||null)("minLength",e.schema.minLength||null)("required",e.schema.isRequired?"":null),Q(3),Ye("id",e.id+"cssDropdownButton"),Q(2),X("ngStyle",_i(27,ect)),Ye("aria-labelledby",e.id+"cssDropdownButton"),Q(2),Ye("for",e.id+"css"),Q(2),Ye("id",e.id+"css"),Q(),It(e.extValObj[e.Util.RENDERING_STYLE_EXT_URL]),Q(5),Ye("id",e.id+"xhtmlDropdownButton"),Q(2),X("ngStyle",_i(28,tct)),Ye("aria-labelledby",e.id+"xhtmlDropdownButton"),Q(2),Ye("for",e.id+"xhtml"),Q(2),Ye("id",e.id+"xhtml"),Q(),It(e.extValObj[e.Util.RENDERING_XHTML_EXT_URL])}}let oct=(()=>{class t extends o1{constructor(){super(),this.Util=Bt,this.extValObj={},this.extValObj[Bt.RENDERING_STYLE_EXT_URL]="",this.extValObj[Bt.RENDERING_XHTML_EXT_URL]=""}ngOnInit(){super.ngOnInit(),this.name=this.formProperty.canonicalPathNotation,this.elName="_"+this.name.replace(/^.*\./,""),this.elementTypeField=this.formProperty.parent.getProperty(this.elName)?.value,this.elementTypeField&&[Bt.RENDERING_STYLE_EXT_URL,Bt.RENDERING_XHTML_EXT_URL].forEach(e=>{const i=Bt.findExtensionByUrl(this.elementTypeField.extension,e);this.extValObj[e]=i?.valueString||""})}extChanged(e,i){const r=Bt.findExtensionIndexByUrl(this.elementTypeField.extension,i);let o;this.extValObj[i]=e.trim(),this.extValObj[i]?(r<0?(o={url:i},this.elementTypeField.extension.push(o)):o=this.elementTypeField.extension[r],o.valueString=this.extValObj[i]):r>=0&&this.elementTypeField.extension.splice(r,1),this.formProperty.parent.getProperty(this.elName)?.reset(this.elementTypeField,!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-string-with-css"]],features:[Ct],decls:3,vars:2,consts:[["notHiddenFieldBlock",""],["cssDropdown","ngbDropdown"],["xhtmlDropdown","ngbDropdown"],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],[3,"for","title","helpMessage","ngClass",4,"ngIf"],[1,"input-group"],[1,"form-control","form-control-sm",3,"name","formControl","lfbDisableControl"],["ngbDropdown","","placement","bottom-right",1,""],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","rounded-0"],["ngbDropdownMenu","",3,"ngStyle"],[1,"p-1"],[1,"text-nowrap"],["rows","3",1,"form-control","h-auto",3,"change"],[1,"btn","btn-sm","btn-primary","float-end","m-1","mb-0",3,"click"],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","rounded-0","rounded-end"],["rows","5",1,"form-control","h-auto",3,"change"],[3,"for","title","helpMessage","ngClass"]],template:function(i,r){if(1&i&&Me(0,nct,1,2,"input",3)(1,rct,29,29,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,yn,x_,di,ei,Sh,Ff,Qg,tp,Er,Dr],encapsulation:2})}return t})(),QC=(()=>{class t{constructor(){this.rejectChange=new mt}next(e){this.rejectChange.next(e)}subscribe(e){return this.rejectChange.subscribe(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const sct=t=>({row:t}),act=t=>({"float-sm-end":t}),cct=(t,n,e)=>({"col-sm-1":t,"col-sm-half":n,"action-column":e}),lct=(t,n,e)=>({"d-none":t,"col-sm-1":n,"col-sm-half":e}),dct=()=>({standalone:!0});function uct(t,n){if(1&t){const e=lt();Fn(0),ee(1,"lfb-boolean-controlled",3),ze("boolChange",function(r){return Se(e),Ee(oe().onBooleanControlledChange(r))}),ie(),Pn()}if(2&t){const e=oe();Q(),X("bool",e.booleanControlledOption)("controlClasses","btn-group btn-group-sm col-auto m-auto ms-0 ps-0")("labelClasses",e.labelClasses)("label",e.booleanLabel)("labelPosition",e.labelPosition)("helpMessage",e.schema.description)}}function fct(t,n){if(1&t){const e=lt();ee(0,"button",10),ze("click",function(){Se(e);const r=oe(2);return Ee(r.isCollapsed=!r.isCollapsed)}),Ve(1,"fa-icon",11),ie()}if(2&t){const e=oe(2);X("ngClass",Wn(4,act,"left"===e.labelPosition)),Ye("aria-expanded",!e.isCollapsed)("aria-controls",e.tableId),Q(),X("icon",e.isCollapsed?e.faRight:e.faDown)}}function hct(t,n){if(1&t&&Ve(0,"lfb-label",12),2&t){const e=oe(2);X("title",e.schema.title)("helpMessage",e.schema.description)("for",e.id)}}function pct(t,n){if(1&t&&(ee(0,"th",22),Ve(1,"lfb-title",23),ie()),2&t){const e=n.$implicit,i=oe(4);Ko("col-sm",e.col?"-"+e.col:"",""),Q(),X("title",e.title||i.getTitle(i.formProperty.properties[0],e.field))("helpMessage",i.getProperty(i.formProperty.properties[0],e.field).schema.description)}}function mct(t,n){if(1&t){const e=lt();ee(0,"th",24)(1,"lfb-title",25),ze("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!1))}),ie(),ee(2,"button",26),ze("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!1))})("click",function(){return Se(e),Ee(oe(4).clearSelections())}),ye(3,"\u2326"),ie()()}if(2&t){const e=oe(4);Q(2),Ye("aria-hidden",e.hideHeaderAriaLabel)("aria-label",e.getClearSelectionLabel(e.getShowTableFields().length+1))}}function gct(t,n){if(1&t&&Ve(0,"th",5),2&t){const e=oe(4);X("ngClass",Wc(1,cct,"answerOption"!==e.id,"answerOption"===e.id,"answerOption"===e.id))}}function vct(t,n){if(1&t&&(ee(0,"thead",17)(1,"tr",18),Me(2,pct,2,5,"th",19)(3,mct,4,2,"th",20)(4,gct,1,5,"th",21),ie()()),2&t){const e=oe(3);Q(2),X("ngForOf",e.getShowTableFields()),Q(),X("ngIf","radio"===e.rowSelectionType||"checkbox"===e.rowSelectionType),Q(),X("ngIf",!e.singleItem)}}function _ct(t,n){if(1&t&&(ee(0,"td"),Ve(1,"lfb-form-element",31),ie()),2&t){const e=n.$implicit,i=oe().$implicit,r=oe(3);Ko("col-sm",e.col?"-"+e.col:"",""),Q(),X("formProperty",r.getProperty(i,e.field))}}function bct(t,n){if(1&t){const e=lt();ee(0,"td",32)(1,"input",33),ze("ngModelChange",function(r){return Se(e),Ee(oe(4).radioSelection(r))})("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!0))}),ie()()}if(2&t){const e=oe(),i=e.$implicit,r=e.index,o=oe(3);Q(),X("id","radio_"+i.canonicalPathNotation)("ngModel",o.selectionRadio)("value",r)("ngModelOptions",_i(4,dct))}}function yct(t,n){if(1&t){const e=lt();ee(0,"td",32)(1,"input",34),Oi("ngModelChange",function(r){Se(e);const o=oe().index,s=oe(3);return Vi(s.selectionCheckbox[o],r)||(s.selectionCheckbox[o]=r),Ee(r)}),ze("ngModelChange",function(r){return Se(e),Ee(oe(4).checkboxSelection(r))})("focus",function(){return Se(e),Ee(oe(4).onHideHeaderAriaLabel(!0))}),ie()()}if(2&t){const e=oe(),i=e.$implicit,r=e.index,o=oe(3);Q(),X("id","checkbox_"+i.canonicalPathNotation),ki("ngModel",o.selectionCheckbox[r])}}function wct(t,n){if(1&t){const e=lt();ee(0,"button",35),ze("click",function(){Se(e);const r=oe().$implicit;return Ee(oe(3).removeItem(r))}),Ve(1,"fa-icon",11),ie()}if(2&t){const e=oe(4);Ye("disabled",e.isRemoveButtonDisabled()?"":null),Q(),X("icon",e.faRemove)}}function xct(t,n){if(1&t&&(ee(0,"tr",18),Me(1,_ct,2,4,"td",27)(2,bct,2,5,"td",28)(3,yct,2,2,"td",28),ee(4,"td",29),Me(5,wct,2,2,"button",30),ie()()),2&t){const e=oe(3);Q(),X("ngForOf",e.getShowTableFields()),Q(),X("ngIf","radio"===e.rowSelectionType),Q(),X("ngIf","checkbox"===e.rowSelectionType),Q(),X("ngClass",Wc(5,lct,1===e.formProperty.properties.length,"answerOption"!==e.id,"answerOption"===e.id)),Q(),X("ngIf",!(e.schema.hasOwnProperty("minItems")&&e.schema.hasOwnProperty("maxItems")&&e.schema.minItems===e.schema.maxItems))}}function Cct(t,n){if(1&t&&(ee(0,"table",13),Me(1,vct,5,3,"thead",14),ee(2,"tbody",15),Me(3,xct,6,9,"tr",16),ie()()),2&t){const e=oe(2);Q(),X("ngIf",!e.noHeader),Q(),X("ngbCollapse",e.isCollapsed),Q(),X("ngForOf",e.formProperty.properties)}}function Mct(t,n){if(1&t){const e=lt();ee(0,"button",36,0),ze("click",function(){Se(e);const r=Ut(1);return Ee(oe(2).addItemWithAlert(r))}),Ve(2,"fa-icon",11),ye(3),ie()}if(2&t){const e=oe(2);X("ngbPopover","Please fill in the above fields before adding a new item"),Ye("disabled",e.isAddButtonDisabled()?"":null),Q(2),X("icon",e.faAdd),Q(),Qn(" ",e.addButtonLabel," ")}}function Sct(t,n){if(1&t&&(ee(0,"div",4)(1,"div",5),Me(2,fct,2,6,"button",6)(3,hct,1,3,"lfb-label",7),ie(),ee(4,"div"),Me(5,Cct,4,3,"table",8)(6,Mct,4,4,"button",9),ie()()),2&t){const e=oe();X("ngClass",Wn(10,sct,"left"===e.labelPosition)),Q(),X("ngClass",e.labelClasses),Q(),X("ngIf",!e.noCollapseButton),Q(),X("ngIf",!e.noTableLabel),Q(),Ko("p-0 card bg-transparent border-0 m-auto ",e.controlClasses,""),Ye("id",e.tableId),Q(),X("ngIf",+e.formProperty.properties.length>0),Q(),X("ngIf",!(e.singleItem||e.schema.hasOwnProperty("minItems")&&e.schema.hasOwnProperty("maxItems")&&e.schema.minItems===e.schema.maxItems))}}class vo extends r7{static#e=this.optionsDef={maxLength:{extUrl:"http://hl7.org/fhir/StructureDefinition/maxLength",display:"Maximum length"},minLength:{extUrl:"http://hl7.org/fhir/StructureDefinition/minLength",display:"Minimum length"},regex:{extUrl:"http://hl7.org/fhir/StructureDefinition/regex",display:"Regex pattern"},minValue:{extUrl:"http://hl7.org/fhir/StructureDefinition/minValue",display:"Minimum value"},maxValue:{extUrl:"http://hl7.org/fhir/StructureDefinition/maxValue",display:"Maximum value"},maxSize:{extUrl:"http://hl7.org/fhir/StructureDefinition/maxSize",display:"Maximum size"},mimeType:{extUrl:"http://hl7.org/fhir/StructureDefinition/mimeType",display:"Mime type"}};static#t=this.stringOptions=vo.getOptions(["maxLength","minLength","regex"]);static#n=this.numberOptions=vo.getOptions(["maxValue","minValue","maxLength","minLength"]);static#i=this.attachOptions=vo.getOptions(["maxSize","mimeType"]);static#r=this.typeToOptions={decimal:vo.numberOptions,integer:vo.numberOptions,string:vo.stringOptions,text:vo.stringOptions,attachment:vo.attachOptions};static#o=this.extUrlToOptionsMap=(()=>{const n={};return Object.keys(vo.optionsDef).forEach(e=>{n[vo.optionsDef[e].extUrl]=e}),n})();static getOptions(n){return n.map(e=>vo.optionsDef[e])}constructor(n,e,i,r,o){super(r,o),this.restrictionOperatorService=n,this.extensionsService=e,this.formService=i,this.elementRef=r,this.cdr=o,this.appliedOptions=[],this.selectedOptions=new Set}ngOnInit(){super.ngOnInit();let n=this.formProperty.root.getProperty("type").valueChanges.subscribe(r=>{this.dataType=r,this.appliedOptions=vo.typeToOptions[r];const o=this.getRestrictions(this.formProperty.root,this.appliedOptions);this.updateSelectedOptions(o),this.formProperty.setValue(o,!0)});this.subscriptions.push(n);let e=!1,i=!1;n=this.extensionsService.extensionsObservable.subscribe(r=>{if(!i){const o=this.getRestrictions(this.formProperty.root,this.appliedOptions);this.updateSelectedOptions(o),e=!0,this.formProperty.setValue(o,!0),e=!1}}),this.subscriptions.push(n),n=this.formProperty.valueChanges.subscribe(r=>{if(!e){this.updateSelectedOptions(r);const o=this.formProperty.root.getProperty("extension");this.updateRelevantExtensions(o.value,r),i=!0,o.setValue(o.value,!0),i=!1}}),this.subscriptions.push(n),n=this.restrictionOperatorService.subscribe(r=>{this.selectedOptions.has(r.newValue)&&(r.reject=!0)}),this.subscriptions.push(n)}updateSelectedOptions(n){this.selectedOptions.clear(),n?.forEach(e=>{this.selectedOptions.add(e.operator)})}onBooleanControlledChange(n){super.onBooleanControlledChange(n),this.booleanControlledOption&&this.formProperty.reset(null,!1)}getRestrictions(n,e){const i=[];this.selectedOptions.clear();const r=n.getProperty("maxLength").value;return r&&(i.push({operator:"maxLength",value:`${r}`}),this.selectedOptions.add("maxLength")),n.getProperty("extension").value?.filter(c=>!!e?.find(v=>v.extUrl===c.url))?.forEach(c=>{const v=this.getRestrictionValue(c);v&&(i.push(v),this.selectedOptions.add(v.operator))}),i}getRelevantExtensionIndices(n){let e=null;return Object.keys(vo.optionsDef).forEach(i=>{const r=n?.findIndex(o=>o.url===vo.optionsDef[i].extUrl);r>=0&&(e||(e={}),e[n[r].url]=r)}),e}updateMaxLength(n){const e=n?parseInt(n,0):null;this.formProperty.root.getProperty("maxLength").setValue(e)}updateRelevantExtensions(n,e){const i=this.getRelevantExtensionIndices(n);Object.keys(vo.optionsDef).forEach(r=>{let o;const s=vo.optionsDef[r].extUrl,c=e.find(v=>v.operator===r);if("maxLength"===r)this.updateMaxLength(c?.value||null);else if(c?.value){if(i&&null!=i[s]){o=n[i[s]];for(const C in o)/^value/.test(C)&&delete o[C]}else o={url:s},n.push(o);const v=this.getValueFieldName(r,this.dataType);o[v.fieldName]=this.getValue(c.value,v.fieldType)}else i&&null!=i[s]&&n.splice(i[s],1)})}getValue(n,e){let i=n;switch(e){case"integer":i=parseInt(n,10);break;case"decimal":i=parseFloat(n);break;case"date":case"dateTime":case"time":i=new Date(n).toISOString()}return i}getRestrictionValue(n){let e=null;const i=vo.extUrlToOptionsMap[n.url],r=this.getValueFieldName(i,this.dataType);return r.fieldName&&(e={operator:i,value:`${n[r.fieldName]}`}),e}getValueFieldName(n,e){const i={fieldName:"",fieldType:""};switch(n){case"minLength":case"maxSize":i.fieldName="valueInteger",i.fieldType="integer";break;case"regex":i.fieldName="valueString",i.fieldType="string";break;case"mimeType":i.fieldName="valueCode",i.fieldType="string";break;case"minValue":case"maxValue":i.fieldName=e?"value"+e.charAt(0).toUpperCase()+e.slice(1):"",i.fieldType=e}return i}static#s=this.\u0275fac=function(e){return new(e||vo)(ve(QC),ve(kc),ve(Hn),ve(Ht),ve(Si))};static#a=this.\u0275cmp=rt({type:vo,selectors:[["lfb-restrictions"]],features:[Nn([QC]),Ct],decls:2,vars:2,consts:[["alertPopover","ngbPopover"],[4,"ngIf"],["class","widget form-group m-0",3,"ngClass",4,"ngIf"],[3,"boolChange","bool","controlClasses","labelClasses","label","labelPosition","helpMessage"],[1,"widget","form-group","m-0",3,"ngClass"],[3,"ngClass"],["href","#","type","button","class","btn btn-sm m-0 btn-default collapse-button",3,"ngClass","click",4,"ngIf"],[3,"title","helpMessage","for",4,"ngIf"],["class","table table-borderless table-sm lfb-table",4,"ngIf"],["class","btn btn-sm btn-light text-primary shadow-sm array-add-button","triggers","manual","placement","bottom top","popoverClass","",3,"ngbPopover","click",4,"ngIf"],["href","#","type","button",1,"btn","btn-sm","m-0","btn-default","collapse-button",3,"click","ngClass"],["aria-hidden","true",3,"icon"],[3,"title","helpMessage","for"],[1,"table","table-borderless","table-sm","lfb-table"],["class","table-active",4,"ngIf"],[3,"ngbCollapse"],["class","d-flex",4,"ngFor","ngForOf"],[1,"table-active"],[1,"d-flex"],["scope","col",3,"class",4,"ngFor","ngForOf"],["class","col-sm-2 default-column",4,"ngIf"],[3,"ngClass",4,"ngIf"],["scope","col"],[3,"title","helpMessage"],[1,"col-sm-2","default-column"],["title","Default","helpMessage","Pick a default item",3,"focus"],["type","button","matTooltip","Clear selection",1,"btn","btn-outline-primary","p-1","unselect",3,"focus","click"],[3,"class",4,"ngFor","ngForOf"],["class","col-sm-2 text-center align-self-center default-column",4,"ngIf"],[1,"align-middle","action-column",3,"ngClass"],["class","btn btn-default btn-link btn-sm array-remove-button","matTooltip","Remove","aria-label","Remove",3,"click",4,"ngIf"],["nolabel","true",3,"formProperty"],[1,"col-sm-2","text-center","align-self-center","default-column"],["type","radio","name","selectionRadio",3,"ngModelChange","focus","id","ngModel","value","ngModelOptions"],["type","checkbox",3,"ngModelChange","focus","id","ngModel"],["matTooltip","Remove","aria-label","Remove",1,"btn","btn-default","btn-link","btn-sm","array-remove-button",3,"click"],["triggers","manual","placement","bottom top","popoverClass","",1,"btn","btn-sm","btn-light","text-primary","shadow-sm","array-add-button",3,"click","ngbPopover"]],template:function(e,i){1&e&&Me(0,uct,2,6,"ng-container",1)(1,Sct,7,12,"div",2),2&e&&(X("ngIf",i.booleanControlled),Q(),X("ngIf",!i.booleanControlled||i.booleanControlledOption))},dependencies:[ir,bi,yn,di,jl,Ls,ei,ro,Vs,sl,T0,np,Dr,au,n7,i7],styles:[".action-column[_ngcontent-%COMP%]{text-align:end}.collapse-button[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;margin-right:5px;margin-left:2px}.collapse-button.float-sm-right[_ngcontent-%COMP%]{margin-right:0;margin-left:2px}.lfb-table[_ngcontent-%COMP%]{margin-bottom:0}.lfb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.lfb-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .lfb-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}.table-header[_ngcontent-%COMP%]{font-weight:400}.add-button-alert-popover[_ngcontent-%COMP%]{background-color:#fafad2}button.unselect[_ngcontent-%COMP%]{margin-top:-3px;border:0px;font-size:20px;width:25px;padding-left:1px!important;line-height:.4;vertical-align:middle;transform:scaleX(-1);font-family:Roboto,sans-serif;border-radius:4px;margin-left:4px!important}th.default-column[_ngcontent-%COMP%]{white-space:nowrap;display:flex;justify-content:center;align-items:center;min-width:100px}td.default-column[_ngcontent-%COMP%]{padding:.25rem .5rem!important;min-width:100px;border-bottom:1px solid var(--bs-border-color)}th.action-column[_ngcontent-%COMP%]{width:30px;min-width:30px}td.action-column[_ngcontent-%COMP%]{border-left:1px solid var(--bs-border-color);border-bottom:1px solid var(--bs-border-color);width:30px;min-width:30px}.col-sm-half[_ngcontent-%COMP%]{width:4.16667%;flex:0 0 4.16667%;max-width:4.16667%}"],changeDetection:0})}const Tct=["mySelect"];function Ect(t,n){if(1&t&&(ee(0,"option",3),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",oe().getOption(e.extUrl)),Q(),It(e.display)}}let Lct=(()=>{class t extends tZ{constructor(e){super(),this.operatorService=e,this.disable=!1,this.rejectChange=new mt}ngOnInit(){super.ngOnInit(),this.formProperty.valueChanges.subscribe(e=>{this.model=e}),this.formProperty.root.getProperty("type").valueChanges.subscribe(e=>{this.options=vo.typeToOptions[e]})}modelChanged(e,i){const r={newValue:e,oldValue:this.model,reject:!1};return this.operatorService.next(r),r.reject?(this.mySelect.nativeElement.value=this.model,i.open()):(this.model=e,this.formProperty.setValue(this.model,!1)),this.model}getOption(e){return vo.extUrlToOptionsMap[e]}static#e=this.\u0275fac=function(i){return new(i||t)(ve(QC))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-restrictions-operator"]],viewQuery:function(i,r){if(1&i&&Ln(Tct,7),2&i){let o;Et(o=Lt())&&(r.mySelect=o.first)}},outputs:{rejectChange:"rejectChange"},features:[Ct],decls:5,vars:6,consts:[["mySelect","","alertSelected","ngbPopover"],["triggers","manual","placement","bottom top",1,"form-control",3,"ngModelChange","ngModel","name","disabled","ngbPopover"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(i,r){if(1&i){const o=lt();ee(0,"select",1,0),ze("ngModelChange",function(c){Se(o);const v=Ut(2);return Ee(r.modelChanged(c,v))}),Fn(3),Me(4,Ect,2,2,"option",2),Pn(),ie()}2&i&&(Ui("name",r.name),X("ngModel",r.model)("disabled",r.schema.readOnly)("ngbPopover","That restriction is already selected."),Ye("id",r.id),Q(4),X("ngForOf",r.options))},dependencies:[bi,B1,H1,Kc,ei,ro,np]})}return t})();const Act=t=>({row:t,"m-0":!0}),Dct=()=>["No","Yes"],Ict=()=>({standalone:!0});function kct(t,n){if(1&t&&Ve(0,"lfb-label",6),2&t){const e=oe();X("for","rg_"+e.elementId)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)("labelId","label_rg_"+e.elementId)}}function Oct(t,n){if(1&t){const e=lt();Fn(0),ee(1,"input",7),ze("ngModelChange",function(r){return Se(e),Ee(oe().onBooleanChange(r))}),ie(),ee(2,"label",8),ye(3),ie(),Pn()}if(2&t){const e=n.$implicit,i=oe();Q(),X("ngModelOptions",_i(8,Ict))("ngModel",i.showOlp)("value","Yes"===e),Ye("id","radio_"+e+"_"+i.elementId)("disabled",i.schema.readOnly?"":null)("aria-controls","timeWindowGroup_"+i.elementId),Q(),Ye("for","radio_"+e+"_"+i.elementId),Q(),It(e)}}function Nct(t,n){if(1&t&&(ee(0,"option",16),ye(1),ie()),2&t){const e=n.$implicit;X("ngValue",n.index),Q(),It(e.unit)}}function Rct(t,n){if(1&t){const e=lt();Fn(0),ee(1,"div",10)(2,"span",11),ye(3,"Time window"),ie(),ee(4,"input",12),ze("change",function(r){return Se(e),Ee(oe(2).onValueChange(r))}),ie(),ee(5,"div",13)(6,"select",14),ze("ngModelChange",function(r){return Se(e),Ee(oe(2).onUnitChange(r))}),Fn(7),Me(8,Nct,2,2,"option",15),Pn(),ie()()(),Pn()}if(2&t){const e=oe(2);Q(),Ye("id","timeWindowGroup_"+e.elementId),Q(),Ye("id","timeWindow_"+e.elementId),Q(2),X("ngModel",e.value),Ye("id",e.elementId)("aria-labelledby","timeWindow_"+e.elementId),Q(2),X("ngModel",e.unitIndex),Ye("id","select_"+e.elementId),Q(2),X("ngForOf",e.unitOptions)}}function Fct(t,n){if(1&t&&(ee(0,"div"),Me(1,Rct,9,8,"ng-container",9),ie()),2&t){const e=oe(),i=Ut(7);Q(),X("ngIf",e.isCodePresent())("ngIfElse",i)}}function Pct(t,n){1&t&&(ee(0,"p",17),ye(1,"Linking to FHIR Observation requires a code assigned to this item. Please enter a code before entering the time window."),ie())}let zct=(()=>{class t extends o1{static#e=this.extUrl="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod";static#t=this.seqNum=0;constructor(e){super(),this.extensionsService=e,this.unitIndex=0,this.adjustVAlignClass="d-flex",this.showOlp=!1,this.unitOptions=[{code:"a",unit:"years"},{code:"mo",unit:"months"},{code:"wk",unit:"weeks"},{code:"d",unit:"days"},{code:"h",unit:"hours"},{code:"min",unit:"minutes"},{code:"s",unit:"seconds"},{code:"ms",unit:"milliseconds"}],this.elementId="observationLinkPeriod_"+t.seqNum++,this.subscriptions=[]}ngOnInit(){super.ngOnInit(),this.setOlp(),this.extensionsService.extensionsObservable.subscribe(()=>{this.setOlp()})}setOlp(){const e=this.getExtension();e&&(this.showOlp=!0,this.adjustVAlignClass="",this.setUnitIndex(e),this.value=""+e.valueDuration.value)}getExtension(){const e=this.extensionsService.getExtensionsByUrl(t.extUrl);return e&&e.length>0?e[0]:null}isCodePresent(){const e=this.formProperty.root.getProperty("code").value;return e?.length>0&&e[0]?.code?.trim().length>0}setUnitIndex(e){let i=-1;["code","unit"].some(o=>{const s=e.valueDuration[o];return s&&(i=this.unitOptions.findIndex(c=>c[o]===s)),i>=0}),this.unitIndex=i>0?i:0}onBooleanChange(e){this.showOlp=e,this.adjustVAlignClass=e?"":"d-flex",e?this.updateExtension():this.extensionsService.removeExtensionsByUrl(t.extUrl)}onUnitChange(e){this.unitIndex=e,this.updateExtension()}onValueChange(e){this.value=e.target.value,this.updateExtension()}updateExtension(){this.reset(this.createExtension(this.value,this.unitOptions[this.unitIndex].code,this.unitOptions[this.unitIndex].unit))}reset(e){e?.valueDuration?.value?this.extensionsService.resetExtension(t.extUrl,e,"valueDuration",!1):this.extensionsService.removeExtensionsByUrl(e.url)}createExtension(e,i,r){const o={url:t.extUrl,valueDuration:{value:parseFloat(e)}};return o.valueDuration.system=Do.ucumSystemUrl,i&&(o.valueDuration.code=i),r&&(o.valueDuration.unit=r),o}static#n=this.\u0275fac=function(i){return new(i||t)(ve(kc))};static#i=this.\u0275cmp=rt({type:t,selectors:[["lfb-observation-link-period"]],features:[Ct],decls:8,vars:10,consts:[["warning",""],[3,"ngClass"],[3,"for","title","helpMessage","ngClass","labelId",4,"ngIf"],["role","radiogroup",1,"btn-group","btn-group-sm"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"for","title","helpMessage","ngClass","labelId"],["type","radio","name","showOlp",1,"btn-check",3,"ngModelChange","ngModelOptions","ngModel","value"],[1,"btn","btn-outline-success","m-auto"],[4,"ngIf","ngIfElse"],["role","region","aria-live","polite",1,"input-group","input-group-sm","mt-1"],[1,"input-group-text","py-0"],["autocomplete","off","type","number","placeholder","",1,"form-control",3,"change","ngModel"],[1,"btn-group","btn-group-sm"],["aria-label","Time window units",1,"form-control","form-select","form-select-sm","rounded-0","rounded-end",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["role","alert",1,"alert","alert-warning","mt-1"]],template:function(i,r){1&i&&(ee(0,"div",1),Me(1,kct,1,5,"lfb-label",2),ee(2,"div",1)(3,"div",3),Me(4,Oct,4,9,"ng-container",4),ie(),Me(5,Fct,2,2,"div",5)(6,Pct,2,0,"ng-template",null,0,En),ie()()),2&i&&(X("ngClass",Wn(7,Act,"left"===r.labelPosition)),Q(),X("ngIf",!r.nolabel),Q(),X("ngClass",r.controlClasses),Q(),Ye("id","rg_"+r.elementId)("aria-labelledby","label_rg_"+r.elementId),Q(),X("ngForOf",_i(9,Dct)),Q(),X("ngIf",r.showOlp))},dependencies:[ir,bi,yn,B1,H1,di,I4,Kc,Ls,ei,ro,Dr],encapsulation:2})}return t})();const $ct=t=>({row:t,"m-0":!0}),Bct=()=>["No","Yes"],Hct=()=>({standalone:!0});function Uct(t,n){if(1&t&&Ve(0,"lfb-label",5),2&t){const e=oe();X("for",e.elementId)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)("labelId","label_rg_"+e.elementId)}}function Vct(t,n){if(1&t){const e=lt();Fn(0),ee(1,"input",6),ze("ngModelChange",function(r){return Se(e),Ee(oe().onBooleanChange(r))}),ie(),ee(2,"label",7),ye(3),ie(),Pn()}if(2&t){const e=n.$implicit,i=oe();Q(),X("value","Yes"===e)("ngModelOptions",_i(7,Hct))("ngModel",i.value),Ye("id","radio_"+e+"_"+i.elementId)("disabled",i.schema.readOnly?"":null),Q(),Ye("for","radio_"+e+"_"+i.elementId),Q(),Qn(" ",e," ")}}function jct(t,n){1&t&&(ee(0,"div",9)(1,"p",10),ye(2,"Extraction to FHIR Observations requires a code assigned to this item. Please enter a code before setting this field."),ie()())}function Wct(t,n){if(1&t&&(ee(0,"div"),Me(1,jct,3,0,"div",8),ie()),2&t){const e=oe();Q(),X("ngIf",!e.codePresent)}}let Gct=(()=>{class t extends rZ{static#e=this.extUrl="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract";static#t=this.seqNum=0;constructor(e){super(),this.extensionsService=e,this.adjustVAlignClass="d-flex",this.elementId="observationExtract_"+t.seqNum++,this.subscriptions=[]}ngOnInit(){super.ngOnInit(),this.setValue(),this.extensionsService.extensionsObservable.subscribe(()=>{this.setValue()}),this.formProperty.root.getProperty("code").valueChanges.subscribe(e=>{this.codePresent=e?.length>0&&e[0]?.code?.trim().length>0,this.adjustVAlignClass=!this.codePresent&&this.value?"":"d-flex",this.updateExtension()})}setValue(){const e=this.getExtension();this.value=!!e&&e.valueBoolean}getExtension(){const e=this.extensionsService.getExtensionsByUrl(t.extUrl);return e&&e.length>0?e[0]:null}onBooleanChange(e){this.value=e,this.adjustVAlignClass=!this.codePresent&&this.value?"":"d-flex",this.value&&this.codePresent?this.updateExtension():this.extensionsService.removeExtensionsByUrl(t.extUrl)}updateExtension(){this.reset(this.createExtension(this.value))}reset(e){e.valueBoolean?this.extensionsService.resetExtension(t.extUrl,e,"valueBoolean",!1):this.extensionsService.removeExtensionsByUrl(e.url)}createExtension(e){return{valueBoolean:e,url:t.extUrl}}static#n=this.\u0275fac=function(i){return new(i||t)(ve(kc))};static#i=this.\u0275cmp=rt({type:t,selectors:[["lfb-observation-extract"]],features:[Ct],decls:6,vars:12,consts:[[3,"ngClass"],[3,"for","title","helpMessage","ngClass","labelId",4,"ngIf"],["role","radiogroup",1,"btn-group","btn-group-sm"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"for","title","helpMessage","ngClass","labelId"],["type","radio","name","value",1,"btn-check",3,"ngModelChange","value","ngModelOptions","ngModel"],[1,"btn","btn-sm","btn-outline-success","m-auto"],["class","row mt-1 ms-auto me-auto",4,"ngIf"],[1,"row","mt-1","ms-auto","me-auto"],["role","alert",1,"alert","alert-warning","mt-1"]],template:function(i,r){1&i&&(ee(0,"div",0),Me(1,Uct,1,5,"lfb-label",1),ee(2,"div")(3,"div",2),Me(4,Vct,4,8,"ng-container",3),ie(),Me(5,Wct,2,1,"div",4),ie()()),2&i&&(X("ngClass",Wn(9,$ct,"left"===r.labelPosition)),Q(),X("ngIf",!r.nolabel),Q(),So(r.controlClasses),Q(),Ye("aria-labelledby","label_rg_"+r.elementId)("id",r.elementId),Q(),X("ngForOf",_i(11,Bct)),Q(),X("ngIf",r.value))},dependencies:[ir,bi,yn,di,Ls,ei,ro,Dr],encapsulation:2})}return t})(),Yct=(()=>{class t{constructor(){this.isError=new mt,this.subscriptions=[]}ngOnChanges(e){this.unsubscribe();const i=e.formProperty.currentValue.errorsChanges.subscribe(()=>{this.validate()});this.subscriptions.push(i)}validate(){let e=this.formProperty?._errors?.reduce((i,r)=>(r.code?.startsWith("ENABLEWHEN")&&i.push(r.message),i),[]);e=e?.length?e:null,this.isError.emit(!e)}unsubscribe(){this.subscriptions.forEach(e=>{e.unsubscribe()}),this.subscriptions=[]}ngOnDestroy(){this.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=ot({type:t,selectors:[["","lfbEWValidate",""]],inputs:{formProperty:"formProperty"},outputs:{isError:"isError"},features:[si]})}return t})();const qct=t=>({row:t}),Kct=t=>({"float-sm-right":t}),Zct=t=>({invalid:t});function Qct(t,n){if(1&t){const e=lt();Fn(0),ee(1,"lfb-boolean-controlled",3),Oi("boolChange",function(r){Se(e);const o=oe();return Vi(o.booleanControlledOption,r)||(o.booleanControlledOption=r),Ee(r)}),ie(),Pn()}if(2&t){const e=oe();Q(),ki("bool",e.booleanControlledOption),X("controlWidthClass",e.controlWidthClass)("labelWidthClass",e.labelWidthClass)("label",e.booleanLabel)("labelPosition",e.labelPosition)("helpMessage",e.schema.description)}}function Xct(t,n){if(1&t){const e=lt();ee(0,"button",10),ze("click",function(){Se(e);const r=oe(2);return Ee(r.isCollapsed=!r.isCollapsed)}),Ve(1,"fa-icon",11),ie()}if(2&t){const e=oe(2);X("ngClass",Wn(4,Kct,"left"===e.labelPosition)),Ye("aria-expanded",!e.isCollapsed)("aria-controls",e.tableId),Q(),X("icon",e.isCollapsed?e.faRight:e.faDown)}}function Jct(t,n){if(1&t&&Ve(0,"lfb-label",12),2&t){const e=oe(2);X("title",e.schema.title)("helpMessage",e.schema.description)("for",e.id)}}function elt(t,n){if(1&t&&(ee(0,"th",21),Ve(1,"lfb-title",22),ie()),2&t){const e=n.$implicit,i=oe(4);Ko("col-sm",e.col?"-"+e.col:"",""),Q(),X("title",e.title)("helpMessage",i.getProperty(i.formProperty.properties[0],"answerString").schema.description)}}function tlt(t,n){1&t&&Ve(0,"th",23)}function nlt(t,n){if(1&t&&(ee(0,"thead",17)(1,"tr",18),Me(2,elt,2,5,"th",19)(3,tlt,1,0,"th",20),ie()()),2&t){const e=oe(3);Q(2),X("ngForOf",e.showHeaderFields),Q(),X("ngIf",!e.singleItem)}}function ilt(t,n){if(1&t&&Ve(0,"lfb-form-element",31),2&t){const e=oe().$implicit,i=oe().$implicit;X("formProperty",oe(3).getProperty(i,e.field))}}function rlt(t,n){if(1&t){const e=lt();ee(0,"td",29),ze("isError",function(){const r=Se(e),o=r.$implicit,s=r.index,c=oe(),v=c.$implicit,C=c.index,N=oe(3);return Ee(N.onError(C,s,N.getProperty(v,o.field)))}),Me(1,ilt,1,1,"lfb-form-element",30),ie()}if(2&t){const e=n.$implicit,i=oe().$implicit,r=oe(3);Ko("col-sm",e.col?"-"+e.col:""," pl-1 pb-1 m-0 align-self-center"),X("ngClass",Wn(6,Zct,!r.isValid(i,e.field)))("formProperty",r.getProperty(i,e.field)),Q(),X("ngIf",r.isShow(i,e.field))}}function olt(t,n){if(1&t&&(ee(0,"small",35),ye(1),ie()),2&t){const e=oe().ngIf,i=oe().index,r=oe(3);Q(),Qn(" ",r.composeAccessibleErrorMessage(e,i)," ")}}function slt(t,n){if(1&t&&(ee(0,"div",32),Ve(1,"fa-icon",33),Me(2,olt,2,1,"small",34),ie()),2&t){const e=n.ngIf,i=oe().$implicit,r=oe(3);X("matTooltip",e),Ye("id",i.canonicalPathNotation+"_err"),Q(),X("icon",r.warningIcon),Q(),X("ngIf",!r.awaitingValidation)}}function alt(t,n){if(1&t){const e=lt();ee(0,"tr",24),Me(1,rlt,2,8,"td",25),ee(2,"td",26)(3,"button",27),ze("click",function(){const r=Se(e).$implicit;return Ee(oe(3).removeItem(r))}),Ve(4,"fa-icon",11),ie(),Me(5,slt,3,4,"div",28),Da(6,"async"),ie()()}if(2&t){const e=n.$implicit,i=oe(3);Q(),X("ngForOf",i.getFields(e)),Q(2),Ye("id",e.canonicalPathNotation+"_remove")("disabled",i.isRemoveButtonDisabled()?"":null),Q(),X("icon",i.faRemove),Q(),X("ngIf",Ia(6,5,i.getEnableWhenFieldErrors(e)))}}function clt(t,n){if(1&t&&(ee(0,"table",13),Me(1,nlt,4,2,"thead",14),ee(2,"tbody",15),Me(3,alt,7,7,"tr",16),ie()()),2&t){const e=oe(2);Q(),X("ngIf",!e.noHeader),Q(),X("ngbCollapse",e.isCollapsed),Q(),X("ngForOf",e.rowProperties)}}function llt(t,n){if(1&t){const e=lt();ee(0,"button",36,0),ze("click",function(){Se(e);const r=Ut(1);return Ee(oe(2).addItemWithAlert(r))}),Ve(2,"fa-icon",11),ye(3),ie()}if(2&t){const e=oe(2);X("ngbPopover","Please fill in the above fields before adding a new item"),Ye("disabled",e.isAddButtonDisabled()?"":null),Q(2),X("icon",e.faAdd),Q(),Qn(" ",e.addButtonLabel," ")}}function dlt(t,n){if(1&t&&(ee(0,"div",4)(1,"div",5),Me(2,Xct,2,6,"button",6)(3,Jct,1,3,"lfb-label",7),ie(),ee(4,"div"),Me(5,clt,4,3,"table",8)(6,llt,4,4,"button",9),ie()()),2&t){const e=oe();X("ngClass",Wn(10,qct,"left"===e.labelPosition)),Q(),X("ngClass",e.labelWidthClass+" ps-0 pe-1"),Q(),X("ngIf",!e.noCollapseButton),Q(),X("ngIf",!e.noTableLabel),Q(),Ko("p-0 card ",e.controlWidthClass,""),Ye("id",e.tableId),Q(),X("ngIf",+e.formProperty.properties.length>0),Q(),X("ngIf",!(e.singleItem||e.schema.hasOwnProperty("minItems")&&e.schema.hasOwnProperty("maxItems")&&e.schema.minItems===e.schema.maxItems))}}let ult=(()=>{class t extends r7{constructor(e,i,r,o){super(i,r),this.renderer=e,this.elementRef=i,this.cdr=r,this.formService=o,this.showFieldNames=["question","operator","answerString"],this.warningIcon=Mp,this.viewChecked$=new xt}ngOnInit(){super.ngOnInit(),this.awaitingValidation=!0;const e=this.formProperty.schema.widget.showFields;this.showHeaderFields=this.showFieldNames.map(i=>{const r=e.find(o=>o.field===i);return r&&(r.description=this.formProperty.schema.items.properties[i].description),r}),this.viewChecked$.pipe(ol(300)).subscribe(()=>{this.awaitingValidation=!1,this.cdr.detectChanges()})}ngDoCheck(){0===this.formProperty.properties.length&&this.addItem()}ngAfterViewChecked(){this.viewChecked$.next()}get rowProperties(){return this.formProperty.properties}isShow(e,i){let r=!1;if("question"===i)r=!0;else if("operator"===i)r=!!e.getProperty("question").value;else if(Bt.isAnswerField(i)){const o=e.getProperty("operator").value;r=!!o&&"exists"!==o}return r}isValid(e,i){const r=e.getProperty(i);return!r._errors?.some(c=>c.code?.startsWith("ENABLEWHEN"))}getEnableWhenFieldErrors(e){let i=[];const r=["question","operator","__$answerType"];for(const o of r){const s=e.getProperty(o)?.value;if(s){const c="__$answerType"===o?Bt.getAnswerFieldName(s):o,v=this.getFieldErrors(e.getProperty(c));if(v){i.push(...v);break}}}return Wi(i.length?i.join():null)}getFieldErrors(e){const i=e?._errors?.reduce((r,o)=>(o.code?.startsWith("ENABLEWHEN")&&r.push(o.message),r),[]);return i?.length?i:null}getFields(e){let i=[];const r=e.getProperty("__$answerType").value;return i=this.formProperty.schema.widget.showFields.filter(o=>this.includeField(r,o.field)),i}includeField(e,i){return!e&&"answerString"===i||!Bt.isAnswerField(i)||Bt.getAnswerFieldName(e)===i}onError(e,i,r){const o=this.getFieldErrors(r);setTimeout(()=>{this.setErrorState(!!o,e,i)})}setErrorState(e,i,r){const o=this.elementRef.nativeElement.querySelector(`tbody tr:nth-child(${i+1}) td:nth-child(${r+1})`),s=o.querySelector("input,textarea,select");if(s){const c=o.nextElementSibling.querySelector("button.answerXErrors");e?(this.renderer.setAttribute(s,"aria-invalid","true"),this.renderer.setAttribute(s,"aria-errormessage",c?c.getAttribute("id"):null)):(this.renderer.removeAttribute(s,"aria-invalid"),this.renderer.removeAttribute(s,"aria-errormessage"))}}removeItem(e){const r=this.formProperty.properties.findIndex(s=>s===e),o=this.formProperty.searchProperty(Hn.TREE_NODE_ID).value;super.removeItem(e),this.formService.deleteErrorAndAdjustEnableWhenIndexes(o,r)}composeAccessibleErrorMessage(e,i){return`${e.slice(0,-1)} for enableWhen condition ${i+1}.`}ngOnDestroy(){this.viewChecked$.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(ve(Ja),ve(Ht),ve(Si),ve(Hn))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-enable-when"]],features:[Ct],decls:2,vars:2,consts:[["alertPopover","ngbPopover"],[4,"ngIf"],["class","widget form-group m-0",3,"ngClass",4,"ngIf"],[3,"boolChange","bool","controlWidthClass","labelWidthClass","label","labelPosition","helpMessage"],[1,"widget","form-group","m-0",3,"ngClass"],[3,"ngClass"],["href","#","type","button","class","btn btn-default collapse-button",3,"ngClass","click",4,"ngIf"],[3,"title","helpMessage","for",4,"ngIf"],["class","table table-borderless table-sm lfb-table",4,"ngIf"],["class","btn btn-sm btn-light text-primary shadow-sm array-add-button","triggers","manual","placement","bottom top","popoverClass","",3,"ngbPopover","click",4,"ngIf"],["href","#","type","button",1,"btn","btn-default","collapse-button",3,"click","ngClass"],["aria-hidden","true",3,"icon"],[3,"title","helpMessage","for"],[1,"table","table-borderless","table-sm","lfb-table"],["class","table-active",4,"ngIf"],[3,"ngbCollapse"],["class","d-flex p-0 m-0",4,"ngFor","ngForOf"],[1,"table-active"],[1,"d-flex"],["scope","col",3,"class",4,"ngFor","ngForOf"],["class","col-sm-1",4,"ngIf"],["scope","col"],[3,"title","helpMessage"],[1,"col-sm-1"],[1,"d-flex","p-0","m-0"],["lfbEWValidate","",3,"class","ngClass","formProperty","isError",4,"ngFor","ngForOf"],[1,"col-sm-1","align-middle","action-column","p-0","m-0","align-self-center"],["matTooltip","Remove","aria-label","Remove",1,"btn","btn-default","btn-link","btn-sm","array-remove-button",3,"click"],["tabindex","0","class","btn border-0 p-0 b-0 enable-when-errors",3,"matTooltip",4,"ngIf"],["lfbEWValidate","",3,"isError","ngClass","formProperty"],["nolabel","true",3,"formProperty",4,"ngIf"],["nolabel","true",3,"formProperty"],["tabindex","0",1,"btn","border-0","p-0","b-0","enable-when-errors",3,"matTooltip"],["aria-hidden","true",2,"color","red",3,"icon"],["class","text-danger form-text sr-only","role","alert",4,"ngIf"],["role","alert",1,"text-danger","form-text","sr-only"],["triggers","manual","placement","bottom top","popoverClass","",1,"btn","btn-sm","btn-light","text-primary","shadow-sm","array-add-button",3,"click","ngbPopover"]],template:function(i,r){1&i&&Me(0,Qct,2,6,"ng-container",1)(1,dlt,7,12,"div",2),2&i&&(X("ngIf",r.booleanControlled),Q(),X("ngIf",!r.booleanControlled||r.booleanControlledOption))},dependencies:[ir,bi,yn,Vs,sl,T0,np,Dr,au,n7,i7,Yct,y4],styles:["lfb-enable-when td.invalid input,lfb-enable-when td.invalid textarea,lfb-enable-when td.invalid select{outline:2px solid red}\n"],encapsulation:2})}return t})(),flt=(()=>{class t extends Do{ngAfterViewInit(){this.options.toolTip=this.schema.placeholder,this.elementId=this.id,this.options.valueCols=[1],this.resetAutocomplete();const e=this.formProperty.valueChanges.subscribe(i=>{this.autoComp.element.value=i});this.subscriptions.push(e),LForms.Def.Autocompleter.Event.observeListSelections(this.elementId,i=>{if(i.used_list){const r=i.list.find(o=>o[0]===i.item_code);this.formProperty.parent.getProperty("code").setValue(i.item_code,!0),this.formProperty.parent.getProperty("system").setValue(Do.ucumSystemUrl,!0),this.formProperty.setValue(r[1],!1)}else this.formProperty.parent.getProperty("code").setValue(null,!0),this.formProperty.parent.getProperty("system").setValue(null,!0),this.formProperty.setValue(i.final_val,!1)})}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-quantity-unit"]],features:[Ct],decls:2,vars:4,consts:[["autocomplete","off","type","text","placeholder","Search for UCUM units or type your own",1,"form-control"]],template:function(i,r){1&i&&(ee(0,"div"),Ve(1,"input",0),ie()),2&i&&(Ko("",r.controlWidthClass," p-0 width-content"),Q(),Ye("id",r.id))},styles:[".width-content[_ngcontent-%COMP%]{max-width:inherit}"]})}return t})();const hlt=t=>({row:t,"m-0":!0});function plt(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function mlt(t,n){if(1&t&&Ve(0,"lfb-label",6),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelWidthClass+" ps-0 pe-1")}}function glt(t,n){if(1&t&&(ee(0,"div",3),Me(1,mlt,1,4,"lfb-label",4),Ve(2,"input",5),ie()),2&t){const e=oe();X("ngClass",Wn(14,hlt,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(),Ko("form-control ",e.controlWidthClass,""),Ui("name",e.name),X("formControl",e.control),Ye("readonly",!!e.schema.readOnly||null)("id",e.id)("min",e.schema.minimum)("max",e.schema.maximum)("placeholder",e.schema.placeholder)("maxLength",e.schema.maxLength||null)("minLength",e.schema.minLength||null)}}let vlt=(()=>{class t extends il{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-number-widget"]],features:[Ct],decls:3,vars:2,consts:[["notHiddenFieldBlock",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],[3,"for","title","helpMessage","ngClass",4,"ngIf"],["type","number","step","any",3,"name","formControl"],[3,"for","title","helpMessage","ngClass"]],template:function(i,r){if(1&i&&Me(0,plt,1,2,"input",1)(1,glt,3,16,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,yn,di,I4,ei,Er,Dr],encapsulation:2})}return t})();const _lt=t=>({row:t,"m-0":!0});function blt(t,n){if(1&t&&Ve(0,"lfb-label",5),2&t){const e=oe();X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)("labelId","label_"+e.id)}}function ylt(t,n){1&t&&(ee(0,"sup"),ye(1,"(1)"),ie())}function wlt(t,n){if(1&t){const e=lt();Fn(0),ee(1,"div",10)(2,"input",11),Oi("ngModelChange",function(r){Se(e);const o=oe(2);return Vi(o.option,r)||(o.option=r),Ee(r)}),ze("ngModelChange",function(r){return Se(e),Ee(oe(2).updateItemControlExt(r))}),ie(),ee(3,"label",12),ye(4),Me(5,ylt,2,0,"sup",13),ie()(),Pn()}if(2&t){const e=n.$implicit,i=oe(2);Q(2),Ui("value",e.enum[0]),X("name",i.id),ki("ngModel",i.option),Ye("id",i.id+"."+e.enum[0])("aria-label",i.composeGroupItemControlLabel(e)),Q(),X("matTooltip",(e.support?"":"(not supported in LHC-Forms): ")+e.description),Ye("for",i.id+"."+e.enum[0]),Q(),Qn(" ",e.display," "),Q(),X("ngIf",!e.support)}}function xlt(t,n){if(1&t&&(ee(0,"div",1)(1,"div",6),Me(2,wlt,6,9,"ng-container",7),ie(),ee(3,"div",8)(4,"p",9,0)(6,"small")(7,"em"),ye(8),ie()()()()()),2&t){const e=oe();X("ngClass",e.controlClasses+" m-auto ms-0 vertical-container d-flex flex-wrap"),Q(),Ye("id",e.id)("aria-labelledby","label_"+e.id),Q(),X("ngForOf",e.schema.oneOf),Q(2),Ye("id","hint_"+e.id),Q(4),It(null==e.formProperty.schema.widget?null:e.formProperty.schema.widget.note)}}function Clt(t,n){if(1&t){const e=lt();ee(0,"div",14)(1,"button",15),ze("click",function(){return Se(e),Ee(oe().clearGroupItemControlSelection())}),ye(2,"\u2326"),ie()()}2&t&&(Q(),Ye("aria-label","Clear group item control selection button is used for clearing the selection."))}function Mlt(t,n){if(1&t){const e=lt();Fn(0),ee(1,"input",17),Oi("ngModelChange",function(r){Se(e);const o=oe(2);return Vi(o.option,r)||(o.option=r),Ee(r)}),ze("ngModelChange",function(r){return Se(e),Ee(oe(2).updateItemControlExt(r))}),ie(),ee(2,"label",18),ye(3),ie(),Pn()}if(2&t){const e=n.$implicit,i=oe(2);Q(),Ui("value",e),X("name",i.id),ki("ngModel",i.option),Ye("id",i.id+"."+e),Q(),Ye("for",i.id+"."+e),Q(),It(i.optionsObj[e])}}function Slt(t,n){if(1&t&&(ee(0,"div",1)(1,"div",16),Me(2,Mlt,4,6,"ng-container",7),ie()()),2&t){const e=oe();X("ngClass",e.controlClasses),Q(),X("ngClass",e.controlClasses+" m-auto ms-0"),Ye("aria-labelledby","label_"+e.id),Q(),X("ngForOf",e.getOptions())}}class M2 extends il{static#e=this.itemControlUrl=Bt.ITEM_CONTROL_EXT_URL;constructor(n,e,i,r){super(),this.extensionsService=n,this.formService=e,this.cdr=i,this.liveAnnouncer=r,this.optionsObj={"drop-down":"Drop down",autocomplete:"Auto-complete","radio-button":"Radio Button","check-box":"Check-box"},this.option="drop-down",this.isRepeat=!1,this.answerMethod="answer-option",this.subscriptions=[]}ngOnInit(){super.ngOnInit(),this.init()}composeGroupItemControlObject(){this.formProperty?.schema?.oneOf&&this.formProperty.schema.oneOf.forEach(n=>{this.optionsObj[n.enum[0]]=n.display})}getItemControl(n=!1){const e=this.getItemControlExtension(),i="group"===this.dataType?"":"drop-down";return n?i:e?e.valueCodeableConcept.coding[0].code:i}init(){this.dataType=this.formProperty.searchProperty("/type").value,this.option=this.getItemControl(!1),this.isRepeat=!!this.formProperty.searchProperty("/repeats").value,this.answerMethod=this.formProperty.searchProperty("/__$answerOptionMethods").value,this.composeGroupItemControlObject()}ngAfterViewInit(){super.ngAfterViewInit();let n=this.formProperty.searchProperty("/repeats").valueChanges.subscribe(e=>{this.isRepeat=!!e,this.updateItemControlExt(this.option),this.cdr.markForCheck()});this.subscriptions.push(n),n=this.formProperty.searchProperty("/type").valueChanges.subscribe(e=>{const i=this.dataType!==e;this.dataType=e,"choice"!==e&&"open-choice"!==e&&"group"!==e?this.extensionsService.removeExtensionsByUrl(M2.itemControlUrl):(this.option=this.getItemControl(i),this.updateItemControlExt(this.option)),this.cdr.markForCheck()}),this.subscriptions.push(n),n=this.formProperty.searchProperty("/__$answerOptionMethods").valueChanges.subscribe(e=>{this.answerMethod=e,this.updateItemControlExt(this.option),this.cdr.markForCheck()}),this.subscriptions.push(n)}getItemControlExtension(){const n=this.extensionsService.getExtensionsByUrl(M2.itemControlUrl);return n?n[0]:null}updateItemControlExt(n){this.option="answer-option"===this.answerMethod&&"autocomplete"===n?"drop-down":this.isRepeat&&"radio-button"===this.option?"check-box":this.isRepeat||"check-box"!==this.option?n:"radio-button";const e=this.getItemControlExtension();n&&(e?(delete e.valueCodeableConcept.text,e.valueCodeableConcept.coding[0].code=n,e.valueCodeableConcept.coding[0].display=this.optionsObj[n]):this.extensionsService.addExtension(this.createExtension(n),"valueCodeableConcept"))}getOptions(){return Object.keys(this.optionsObj).filter(n=>{let e=!0;return(this.isRepeat&&"radio-button"===n||!this.isRepeat&&"check-box"===n)&&(e=!1),"answer-option"===this.answerMethod&&"autocomplete"===n&&(e=!1),e})}createExtension(n){return{url:M2.itemControlUrl,valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/questionnaire-item-control",code:n,display:this.optionsObj[n]}]}}}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}composeGroupItemControlLabel(n){let e=`Group item control ${n.display}. ${n.description}  `;return n.support||(e+="Please note that this item control is not supported by the LHC-Forms preview."),e}clearGroupItemControlSelection(){this.option="",this.extensionsService.removeExtensionsByUrl(M2.itemControlUrl),this.liveAnnouncer.announce("Group item control selection has been cleared.")}static#t=this.\u0275fac=function(e){return new(e||M2)(ve(kc),ve(Hn),ve(Si),ve(j0))};static#n=this.\u0275cmp=rt({type:M2,selectors:[["lfb-item-control"]],features:[Ct],decls:5,vars:7,consts:[["hint",""],[3,"ngClass"],[3,"for","title","helpMessage","ngClass","labelId",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","col-1 action-column",4,"ngIf"],[3,"for","title","helpMessage","ngClass","labelId"],["role","radiogroup",1,"m-auto","ms-0","btn-container","d-flex","flex-wrap"],[4,"ngFor","ngForOf"],[1,"text-container"],[1,"mb-1","ps-0"],[1,"btn-wrapper"],["autocomplete","off","type","radio","tabindex","0",1,"btn-check",3,"ngModelChange","name","value","ngModel"],[1,"btn","btn-sm","btn-outline-success",3,"matTooltip"],[4,"ngIf"],[1,"col-1","action-column"],["type","button","matTooltip","Clear selection",1,"btn","btn-outline-primary","p-1","group-item-control-unselect",3,"click"],["role","radiogroup",3,"ngClass"],["autocomplete","off","type","radio",1,"btn-check",3,"ngModelChange","name","value","ngModel"],[1,"btn","btn-sm","btn-outline-success"]],template:function(e,i){1&e&&(ee(0,"div",1),Me(1,blt,1,5,"lfb-label",2)(2,xlt,9,6,"div",3)(3,Clt,3,1,"div",4)(4,Slt,3,4,"div",3),ie()),2&e&&(X("ngClass",Wn(5,_lt,"left"===i.labelPosition)),Q(),X("ngIf",!i.nolabel),Q(),X("ngIf","group"===i.dataType),Q(),X("ngIf","group"===i.dataType),Q(),X("ngIf","group"!==i.dataType))},dependencies:[ir,bi,yn,di,Ls,ei,ro,sl,Dr],styles:[".btn-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-1px}.btn-wrapper[_ngcontent-%COMP%]{display:inline-flex;margin:0;border:none;padding:0}.btn-wrapper[_ngcontent-%COMP%]:first-child   label[_ngcontent-%COMP%]{border-top-left-radius:5px;border-bottom-left-radius:5px}.btn-wrapper[_ngcontent-%COMP%]:last-child   label[_ngcontent-%COMP%]{border-top-right-radius:5px;border-bottom-right-radius:5px}.text-container[_ngcontent-%COMP%]{margin:0;padding:0}.vertical-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0;padding:0}label.btn[_ngcontent-%COMP%]{margin:0;border-radius:0}.btn[_ngcontent-%COMP%]   span.not-supported[_ngcontent-%COMP%]{font-weight:700}button.group-item-control-unselect[_ngcontent-%COMP%]{padding-right:2px!important;border:0;font-size:24px;width:35px;height:30px;line-height:.4;vertical-align:middle;transform:scaleX(-1);font-family:Roboto,sans-serif;border-radius:4px}.action-column[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0})}const Tlt=["d"],Elt=t=>({row:t,"m-0":!0});function Llt(t,n){if(1&t&&Ve(0,"input",4),2&t){const e=oe();X("name",e.name)("formControl",e.control)}}function Alt(t,n){if(1&t&&Ve(0,"lfb-label",13),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)}}function Dlt(t,n){if(1&t&&(ee(0,"small",15),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.modifiedMessage||e.originalMessage)}}function Ilt(t,n){if(1&t&&(Fn(0),Me(1,Dlt,2,1,"small",14),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(),X("ngIf",i.formProperty.value&&e)}}function klt(t,n){if(1&t){const e=lt();ee(0,"div",16)(1,"button",17),ze("click",function(){Se(e),oe();const r=Ut(5),o=oe();return r.navigateTo(),Ee(o.today())}),ye(2,"Today"),ie()()}}function Olt(t,n){if(1&t){const e=lt();ee(0,"div",5),Me(1,Alt,1,4,"lfb-label",6),ee(2,"div",7)(3,"div",8)(4,"input",9,1),ze("blur",function(r){return Se(e),Ee(oe().suppressInvalidDate(r))}),ie(),ee(6,"button",10),ze("click",function(){return Se(e),Ee(Ut(5).toggle())}),Ve(7,"fa-icon",11),ie()(),Me(8,Ilt,2,1,"ng-container",12),ie()(),Me(9,klt,3,0,"ng-template",null,2,En)}if(2&t){const e=Ut(10),i=oe();X("ngClass",Wn(14,Elt,"left"===i.labelPosition)),Q(),X("ngIf",!i.nolabel),Q(),X("ngClass",i.controlClasses),Q(2),X("name",i.name)("readonly","color"!==i.schema.widget.id&&i.schema.readOnly)("formControl",i.control)("required",i.schema.widget.required)("lfbDisableControl",i.schema.disabled)("footerTemplate",e),Ye("id",i.id)("placeholder",i.schema.widget.placeholder),Q(2),Ye("aria-label","Date picker for "+i.schema.title),Q(),X("icon",i.dateIcon),Q(),X("ngForOf",i.errors?i.Array.from(i.errors).reverse():null)}}let Nlt=(()=>{class t extends r2{fromModel(e){return sc.parseISOToDateTime(e,!0).dateStruct}toModel(e){let i=null;return e&&(i=sc.formatToISO({dateStruct:e,timeStruct:null,millis:NaN})),i}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Rlt=(()=>{class t extends L0{parse(e){return sc.parseLocalToDateTime(e,!0).dateStruct}format(e){return sc.formatToLocal({dateStruct:e,timeStruct:null,millis:NaN})}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),cZ=(()=>{class t extends o1{static#e=this.id=0;constructor(){super(),this.dateIcon=kU,this.calendar=$e(Of),t.id++}ngAfterViewInit(){super.ngAfterViewInit();const e=this.inputEl.nativeElement;this.formProperty.valueChanges.subscribe(i=>{e.value!==i&&/^([0-9]{4}(-[0-9]{2})?)?$/.test(i?.trim())&&(e.value=i)})}today(){const e=this.calendar.getToday();let i=sc.formatToISO({dateStruct:e,timeStruct:null,millis:NaN});i=i.length>0?i:null,this.formProperty.setValue(i,!1)}suppressInvalidDate(e){e.target.classList.contains("ng-invalid")&&this.formProperty.setValue(null,!1)}static#t=this.\u0275fac=function(i){return new(i||t)};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-date"]],viewQuery:function(i,r){if(1&i&&Ln(Tlt,5,Ht),2&i){let o;Et(o=Lt())&&(r.inputEl=o.first)}},features:[Nn([{provide:r2,useClass:Nlt},{provide:L0,useClass:Rlt}]),Ct],decls:3,vars:2,consts:[["dateBlock",""],["d","ngbDatepicker"],["footerTemplate",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],["class","form-label",3,"for","title","helpMessage","ngClass",4,"ngIf"],[1,"position-relative","input-group-sm","px-0",3,"ngClass"],[1,"input-group","input-group-sm"],["ngbDatepicker","",1,"form-control",3,"blur","name","readonly","formControl","required","lfbDisableControl","footerTemplate"],[1,"btn","btn-outline-secondary","py-0",3,"click"],["aria-hidden","true",3,"icon"],[4,"ngFor","ngForOf"],[1,"form-label",3,"for","title","helpMessage","ngClass"],["class","text-danger form-text pe-1","role","alert",4,"ngIf"],["role","alert",1,"text-danger","form-text","pe-1"],[1,"text-center"],[1,"btn","btn-sm","btn-link",3,"click"]],template:function(i,r){if(1&i&&Me(0,Llt,1,2,"input",3)(1,Olt,11,16,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,bi,yn,di,ei,Qd,Vs,Sh,Gg,Er,Dr]})}return t})();const Flt=t=>({row:t,"m-0":!0});function Plt(t,n){if(1&t&&Ve(0,"input",2),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function zlt(t,n){if(1&t&&Ve(0,"lfb-label",8),2&t){const e=oe(2);X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)}}function $lt(t,n){if(1&t&&(ee(0,"small",10),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.modifiedMessage||e.originalMessage)}}function Blt(t,n){if(1&t&&(Fn(0),Me(1,$lt,2,1,"small",9),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(),X("ngIf",i.formProperty.value&&e)}}function Hlt(t,n){if(1&t&&(ee(0,"div",3),Me(1,zlt,1,4,"lfb-label",4),ee(2,"div",5),Ve(3,"textarea",6),Me(4,Blt,2,1,"ng-container",7),ie()()),2&t){const e=oe();X("ngClass",Wn(14,Flt,"left"===e.labelPosition)),Q(),X("ngIf",!e.nolabel),Q(2),X("name",e.name)("readonly",e.schema.readOnly)("ngClass",e.controlClasses)("formControl",e.control)("required",e.schema.isRequired)("lfbDisableControl",e.schema.disabled),Ye("type",e.schema.widget.id)("id",e.id)("placeholder",e.schema.placeholder)("maxLength",e.schema.maxLength||null)("minLength",e.schema.minLength||null),Q(),X("ngForOf",e.errors)}}let Ult=(()=>{class t extends o1{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-textarea"]],features:[Ct],decls:3,vars:2,consts:[["notHiddenFieldBlock",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],["class","form-label",3,"for","title","helpMessage","ngClass",4,"ngIf"],[1,"col","p-0","position-relative"],[3,"name","readonly","ngClass","formControl","required","lfbDisableControl"],[4,"ngFor","ngForOf"],[1,"form-label",3,"for","title","helpMessage","ngClass"],["class","text-danger form-text","role","alert",4,"ngIf"],["role","alert",1,"text-danger","form-text"]],template:function(i,r){if(1&i&&Me(0,Plt,1,2,"input",1)(1,Hlt,5,16,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,bi,yn,di,ei,Qd,Sh,Er,Dr]})}return t})();const Vlt=["inputBox"],jlt=["d"],Wlt=t=>({row:t,"m-0":!0});function Glt(t,n){if(1&t&&Ve(0,"lfb-label",10),2&t){const e=oe();X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses)}}function Ylt(t,n){if(1&t&&(ee(0,"small",12),ye(1),ie()),2&t){const e=oe().$implicit;Q(),It(e.modifiedMessage||e.originalMessage)}}function qlt(t,n){if(1&t&&(Fn(0),Me(1,Ylt,2,1,"small",11),Pn()),2&t){const e=n.$implicit,i=oe();Q(),X("ngIf",i.formProperty.value&&e)}}function Klt(t,n){if(1&t){const e=lt();ee(0,"div",13)(1,"button",14),ze("click",function(){Se(e);const r=oe();return Ut(5).navigateTo(),Ee(r.today())}),ye(2,"Today"),ie()(),Ve(3,"hr",15),ee(4,"div",16)(5,"span",17),ye(6,"Time"),ie(),ee(7,"div",18)(8,"div",19)(9,"input",20),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.includeTime,r)||(o.includeTime=r),Ee(r)}),ze("click",function(){return Se(e),Ee(oe().updateValue())}),ie(),ee(10,"label",21),ye(11,"Include time"),ie()(),ee(12,"div")(13,"button",14),ze("click",function(){Se(e);const r=oe();return Ut(5).navigateTo(),Ee(r.now())}),ye(14,"Now"),ie()()(),ee(15,"ngb-timepicker",22),Oi("ngModelChange",function(r){Se(e);const o=oe();return Vi(o.dateTime.timeStruct,r)||(o.dateTime.timeStruct=r),Ee(r)}),ze("ngModelChange",function(r){return Se(e),Ee(oe().updateValue(r))}),ie()()}if(2&t){const e=oe();Q(9),ki("ngModel",e.includeTime),Q(6),X("disabled",!e.includeTime),ki("ngModel",e.dateTime.timeStruct),X("seconds",!0)("meridian",!0)("size","small")}}let Zlt=(()=>{class t extends ip{static#e=this.id=0;static#t=this.DELIMITER="-";constructor(){super(),this.dateTime=null,t.id++}setDateTime(e){this.dateTime=e}fromModel(e){return this.dateTime.timeStruct=e,this.dateTime.timeStruct}toModel(e){return this.dateTime.timeStruct=e,this.dateTime.timeStruct}static#n=this.\u0275fac=function(i){return new(i||t)};static#i=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Qlt=(()=>{class t extends r2{static#e=this.id=0;static#t=this.DELIMITER="-";constructor(){super(),this.dateTime=null,t.id++}setDateTime(e){this.dateTime=e}fromModel(e){const i=sc.parseISOToDateTime(e);return Object.assign(this.dateTime,i),this.dateTime.dateStruct}toModel(e){this.dateTime.dateStruct=e;const i=sc.formatToISO(this.dateTime);return i.length>0?i:null}static#n=this.\u0275fac=function(i){return new(i||t)};static#i=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Xlt=(()=>{class t extends L0{static#e=this.id=0;constructor(){super(),this.dateTime=null,t.id++}setDateTime(e){this.dateTime=e}parse(e){const i=sc.parseLocalToDateTime(e);return Object.assign(this.dateTime,i),this.dateTime.dateStruct}format(e){return this.dateTime.dateStruct=e,sc.formatToLocal(this.dateTime)}static#t=this.\u0275fac=function(i){return new(i||t)};static#n=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})(),Jlt=(()=>{class t extends cZ{static#e=this.id=0;constructor(e,i,r){super(),this.dateAdapter=e,this.parserFormatter=i,this.timeAdapter=r,this.dateTime={dateStruct:null,timeStruct:null,millis:NaN},this.includeTime=!0,this.calendar=$e(Of),t.id++}ngOnInit(){super.ngOnInit();const e=sc.parseISOToDateTime(this.formProperty.value);this.dateTime.dateStruct=e.dateStruct,this.dateTime.timeStruct=e.timeStruct,this.dateTime.millis=e.millis,this.includeTime=!(e.dateStruct&&!e.timeStruct),this.parserFormatter.setDateTime(this.dateTime),this.dateAdapter.setDateTime(this.dateTime),this.timeAdapter.setDateTime(this.dateTime)}updateValue(e){this.dateTime.timeStruct=e||null;let i=sc.formatToISO(this.dateTime);i=i.length>0?i:null,this.formProperty.setValue(i,!1)}onDateSelected(e){this.dateTime.dateStruct={year:e.year,month:e.month,day:e.day}}now(){this.includeTime=!0,this.dateTime.dateStruct=this.calendar.getToday();const e=new Date;this.dateTime.timeStruct={hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()},this.dateTime.millis=e.getMilliseconds(),this.updateValue(this.dateTime.timeStruct)}today(){this.dateTime.dateStruct=this.calendar.getToday(),this.updateValue(this.dateTime.timeStruct)}handleInput(){const e=this.inputRef.nativeElement,i=e?.value;if(e?.classList.contains("ng-valid")&&i?.trim().length>0){const r=new Date(i.trim());sc.isValidDate(r)&&this.dp.navigateTo({year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate()})}}static#t=this.\u0275fac=function(i){return new(i||t)(ve(r2),ve(L0),ve(ip))};static#n=this.\u0275cmp=rt({type:t,selectors:[["lfb-datetime"]],viewQuery:function(i,r){if(1&i&&(Ln(Vlt,5,Ht),Ln(jlt,5,Gg)),2&i){let o;Et(o=Lt())&&(r.inputRef=o.first),Et(o=Lt())&&(r.dp=o.first)}},features:[Nn([{provide:r2,useClass:Qlt},{provide:L0,useClass:Xlt},{provide:ip,useClass:Zlt}]),Ct],decls:12,vars:17,consts:[["d","ngbDatepicker","inputBox",""],["timeTemplate",""],[3,"ngClass"],["class","form-label",3,"for","title","helpMessage","ngClass",4,"ngIf"],[1,"position-relative","input-group-sm","px-0",3,"ngClass"],[1,"input-group","input-group-sm"],["ngbDatepicker","","autoClose","false",1,"form-control",3,"dateSelect","keyup","blur","name","readonly","formControl","required","lfbDisableControl","footerTemplate","startDate"],[1,"btn","btn-outline-secondary","py-0",3,"click"],["aria-hidden","true",3,"icon"],[4,"ngFor","ngForOf"],[1,"form-label",3,"for","title","helpMessage","ngClass"],["class","text-danger form-text pe-1","role","alert",4,"ngIf"],["role","alert",1,"text-danger","form-text","pe-1"],[1,"text-center"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"my-0"],[1,"container"],[1,"d-block","text-center"],[1,"d-flex"],[1,"flex-grow-1"],["id","ignoreTimeCheckBox","type","checkbox",1,"me-1","form-check-input","form-check-inline",3,"ngModelChange","click","ngModel"],["for","ignoreTimeCheckBox"],[1,"form-control-sm","p-0",3,"ngModelChange","disabled","ngModel","seconds","meridian","size"]],template:function(i,r){if(1&i){const o=lt();ee(0,"div",2),Me(1,Glt,1,4,"lfb-label",3),ee(2,"div",4)(3,"div",5)(4,"input",6,0),ze("dateSelect",function(c){return Se(o),Ee(r.onDateSelected(c))})("keyup",function(){return Se(o),Ee(r.handleInput())})("blur",function(c){return Se(o),Ee(r.suppressInvalidDate(c))}),ie(),ee(7,"button",7),ze("click",function(){return Se(o),Ee(Ut(5).toggle())}),Ve(8,"fa-icon",8),ie()(),Me(9,qlt,2,1,"ng-container",9),ie()(),Me(10,Klt,16,6,"ng-template",null,1,En)}if(2&i){const o=Ut(11);X("ngClass",Wn(15,Wlt,"left"===r.labelPosition)),Q(),X("ngIf",!r.nolabel),Q(),X("ngClass",r.controlClasses),Q(2),X("name",r.name)("readonly","color"!==r.schema.widget.id&&r.schema.readOnly)("formControl",r.control)("required",r.schema.widget.required)("lfbDisableControl",r.schema.disabled)("footerTemplate",o)("startDate",r.dateTime.dateStruct),Ye("id",r.id)("placeholder",r.schema.widget.placeholder),Q(3),Ye("aria-label","Date time picker for "+r.schema.title),Q(),X("icon",r.dateIcon),Q(),X("ngForOf",r.errors?r.Array.from(r.errors).reverse():null)}},dependencies:[ir,bi,yn,di,jl,ei,Qd,ro,Vs,Sh,Gg,Pfe,Er,Dr]})}return t})();const e1t=t=>({row:t,"m-0":!0}),t1t=t=>({invalid:t});function n1t(t,n){if(1&t&&Ve(0,"input",3),2&t){const e=oe();Ui("name",e.name),X("formControl",e.control)}}function i1t(t,n){if(1&t&&(ee(0,"small",13),ye(1),ie()),2&t){const e=oe().$implicit;Q(),Qn(" ",e.modifiedMessage||e.originalMessage," ")}}function r1t(t,n){if(1&t&&(Fn(0,10),ee(1,"li"),Ve(2,"fa-icon",11),Me(3,i1t,2,1,"small",12),ie(),Pn()),2&t){const e=n.$implicit,i=oe(2);Q(2),X("icon",i.errorIcon),Q(),X("ngIf",e)}}function o1t(t,n){if(1&t){const e=lt();ee(0,"div",4),Ve(1,"lfb-label",5),ee(2,"div",6)(3,"input",7),ze("focus",function(){return Se(e),Ee(oe().announceErrors())}),ie(),ee(4,"ul"),Me(5,r1t,4,2,"ng-container",8),ie(),ee(6,"p",9,1)(8,"small")(9,"em"),ye(10),ie()()()()()}if(2&t){const e=oe();X("ngClass",Wn(18,e1t,"left"===e.labelPosition)),Q(),X("for",e.id)("title",e.schema.title)("helpMessage",e.schema.description)("ngClass",e.labelClasses),Q(),At("has-error",e.errors)("has-success",e.formProperty.valid),Q(),X("name",e.name)("ngClass",Wn(20,t1t,e.errors))("formControl",e.control),Ye("type","text")("id",e.id)("aria-invalid",e.errors),Q(2),X("ngForOf",e.errors),Q(),Ye("id","note_"+e.id),Q(4),It(null==e.formProperty.schema.widget?null:e.formProperty.schema.widget.note)}}let s1t=(()=>{class t extends o1{constructor(){super(),this.subscriptions=[],this.errorIcon=Mp}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit();const e=this.formProperty.errorsChanges.subscribe(i=>{if(this.errors=null,i?.length){const r={};i.reduce((o,s)=>("#linkId"===s.path&&"OBJECT_MISSING_REQUIRED_PROPERTY"!==s.code&&("PATTERN"!==s.code||"PATTERN"===s.code&&this.formProperty.value)&&(o[s.code]||(o[s.code]=s)),o),r),this.errors=Object.values(r).map(o=>({code:o.code,originalMessage:o.message,modifiedMessage:null}))}});this.subscriptions.push(e)}unsubscribe(){this.subscriptions.forEach(e=>{e.unsubscribe()}),this.subscriptions=[]}ngOnDestroy(){this.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-editable-link-id"]],features:[Ct],decls:3,vars:2,consts:[["editableLinkId",""],["note",""],["type","hidden",3,"name","formControl",4,"ngIf","ngIfElse"],["type","hidden",3,"name","formControl"],[3,"ngClass"],[1,"form-label",3,"for","title","helpMessage","ngClass"],[1,"col","p-0"],["maxlength","255",1,"form-control","form-control-sm",3,"focus","name","ngClass","formControl"],["id","errorMessages","role","alert",4,"ngFor","ngForOf"],[1,"mb-1","ps-0"],["id","errorMessages","role","alert"],["id","error",2,"color","red",3,"icon"],["class","text-danger form-text","role","alert",4,"ngIf"],["role","alert",1,"text-danger","form-text"]],template:function(i,r){if(1&i&&Me(0,n1t,1,2,"input",2)(1,o1t,11,22,"ng-template",null,0,En),2&i){const o=Ut(2);X("ngIf","hidden"===r.schema.widget.id)("ngIfElse",o)}},dependencies:[ir,bi,yn,di,ei,rb,Vs,Er,Dr],styles:["#error[_ngcontent-%COMP%]{margin-right:5px}input.invalid[_ngcontent-%COMP%]{outline:2px solid red}div.has-error[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}div.has-error[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]:empty{display:none}"]})}return t})(),a1t=(()=>{class t extends il{ngOnInit(){super.ngOnInit();const e=this.formProperty.value;e.linkId=e.linkId?.trim()||this.formProperty.parent?.value.linkId+"_helpText",e.type="display",e.extension=e.extension||[],e.extension.findIndex(r=>r.url===Bt.ITEM_CONTROL_EXT_URL&&r.valueCodeableConcept.coding.some(o=>"help"===o.code))<0&&e.extension.push({url:Bt.ITEM_CONTROL_EXT_URL,valueCodeableConcept:{text:"Help-Button",coding:[{code:"help",display:"Help-Button",system:"http://hl7.org/fhir/questionnaire-item-control"}]}}),this.formProperty.setValue(e,!1)}ngAfterViewInit(){super.ngAfterViewInit()}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Vt(t)))(r||t)}})();static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-help-text"]],features:[Ct],decls:1,vars:1,consts:[[3,"formProperty"]],template:function(i,r){1&i&&Ve(0,"lfb-form-element",0),2&i&&X("formProperty",r.formProperty.searchProperty("/__$helpText/text"))},dependencies:[au],encapsulation:2})}return t})(),c1t=(()=>{class t extends xk{constructor(){super(),this.register("answer-value-set",aZ),this.register("row-layout",bot),this.register("grid",ZC),this.register("table",r7),this.register("string",o1),this.register("textarea",Ult),this.register("date",cZ),this.register("datetime",Jlt),this.register("url",o1),this.register("select",tZ),this.register("checkbox",nZ),this.register("boolean",nZ),this.register("integer",Sst),this.register("number",vlt),this.register("lb-radio",iZ),this.register("enable-when",ult),this.register("enable-when-source",kst),this.register("enable-operator",Nst),this.register("left-label-form-group",Fst),this.register("left-label-checkbox",Bst),this.register("enable-when-answer-choice",Gst),this.register("enable-behavior",oat),this.register("boolean-radio",rZ),this.register("units",Do),this.register("answer-option",oZ),this.register("answer-option-methods",Xat),this.register("item-control",M2),this.register("help-text",a1t),this.register("string-with-css",oct),this.register("restrictions",vo),this.register("restrictions-operator",Lct),this.register("observation-link-period",zct),this.register("observation-extract",Gct),this.register("quantity-unit",flt),this.register("terminology-server",lh),this.register("editable-link-id",s1t)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=tt({token:t,factory:t.\u0275fac})}return t})();const u1t=new at("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const t=$e(ms);return()=>t.scrollStrategies.reposition()}}),h1t={provide:u1t,deps:[ms],useFactory:function f1t(t){return()=>t.scrollStrategies.reposition()}};let p1t=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[h1t],imports:[ka,ih,Q8,Ci,u2,e7,Q8,Ci]})}return t})();const m1t=["itemForm"],g1t=t=>({"d-none":t});function v1t(t,n){1&t&&(ee(0,"div",3)(1,"p"),ye(2,"No items in the form. Add an item to continue."),ie()())}let _1t=(()=>{class t{constructor(e,i,r,o){this.extensionsService=e,this.formService=i,this.validationService=r,this.modelService=o,this.validators={"/__$start":(s,c,v)=>(this.formService.loading=!0,null),"/__$end":(s,c,v)=>{const C=v.getProperty("extension");return C!==this.extensionsService.extensionsProp&&this.extensionsService.setExtensions(C),this.formService.loading=!1,null},"/type":this.validateType.bind(this),"/enableWhen":this.validateEnableWhenAll.bind(this),"/enableWhen/*":this.validateEnableWhenSingle.bind(this),"/linkId":this.validateLinkId.bind(this)},this.mySchema={properties:{}},this.setLinkId=new mt,this.valueChange=new mt,this.errorsChanged=new mt,this.validationErrorsChanged=new mt,this.linkIdCollection=new Kq,this.loading=!1,this.mySchema=i.getItemSchema()}ngOnInit(){this.modelService.questionnaire$.subscribe(e=>{this.questionnaire=e})}ngOnChanges(e){e.model&&(this.loading=!0,this.formService.formChanged(e.model),this.formService.resetForm())}ngAfterViewInit(){this.adjustRootFormProperty()}updateValue(e){this.loading||this.valueChange.emit(e)}onModelReset(e){this.loading=!1,this.adjustRootFormProperty()||this.valueChange.emit(e)}adjustRootFormProperty(){let e=!1;const i=this.itemForm?.rootProperty;return Bt.isEmpty(i?.searchProperty("/code").value)||(i?.searchProperty("/__$codeYesNo").setValue(!0,!1),e=!0),e}createValidationObj(e,i,r,o){return{id:e,linkId:i,value:r,canonicalPath:o._canonicalPath,canonicalPathNotation:o.canonicalPathNotation}}createEnableWhenValidationObj(e){const i=e.getProperty("question"),r=this.formService.getTreeNodeByLinkId(i.value);let o="";r&&(o=r.data.type);let s="";if(i._canonicalPath){const se=i._canonicalPath.match(/enableWhen\/(.*?)\/question/);s=se?se[1]:""}const c=e.getProperty("operator"),v=Bt.getAnswerFieldName(o||"string"),C=e.getProperty(v),N=e.findRoot().getProperty("linkId");return{id:this.model?.[Hn.TREE_NODE_ID],linkId:N.value,conditionKey:s,q:i,aType:o,op:c,aField:v,answerX:C,operatorOptions:this.formService.getEnableWhenOperatorListByAnswerType(o)}}validateType(e,i,r){let o=[];if(!this.model)return null;const s=this.model?.[Hn.TREE_NODE_ID];if(!s)return null;const v=this.formService.getTreeNodeById(s).data.linkId,C=this.createValidationObj(s,v,e,i);return o=this.validationService.validateType(C),o?.length&&i.extendErrors(o),o}validateEnableWhenAll(e,i,r){let o=null;return i.forEachChild(s=>{const c=this.validateEnableWhenSingle(s.value,s,r);c&&(o=o||[],o.push(c))}),this.errorsChanged.next(o),o}validateEnableWhenSingle(e,i,r){let o=[];if(!this.model)return null;const s=this.createEnableWhenValidationObj(i);return s&&"*"!==s.conditionKey?(o=this.validationService.validateEnableWhenSingle(s),o&&o.length&&i.extendErrors(o),o):null}validateLinkId(e,i,r){let o=[];if(!this.model)return null;const s=this.model?.[Hn.TREE_NODE_ID],c=r.value.linkId;if(!s)return null;const v=this.validationService.getLastPathSegment(i.canonicalPathNotation);if(!c&&""===e)return o=this.formService.getTreeNodeStatusById(s)?.errors?.[v]??null,o;if(e!==c){const N=this.createValidationObj(s,e,e,i);N.prevLinkId=c,o=this.validationService.validateLinkId(N),o?.length&&i.extendErrors(o)}else o=this.formService.getTreeNodeStatusById(s)?.errors?.[v]??null;return this.validationErrorsChanged.next(o),o}static#e=this.\u0275fac=function(i){return new(i||t)(ve(kc),ve(Hn),ve(gC),ve(w5))};static#t=this.\u0275cmp=rt({type:t,selectors:[["lfb-sf-form-wrapper"]],viewQuery:function(i,r){if(1&i&&Ln(m1t,5),2&i){let o;Et(o=Lt())&&(r.itemForm=o.first)}},inputs:{model:"model",linkIdCollection:"linkIdCollection"},outputs:{setLinkId:"setLinkId",valueChange:"valueChange",errorsChanged:"errorsChanged",validationErrorsChanged:"validationErrorsChanged"},features:[Nn([kc]),si],decls:3,vars:7,consts:[["itemForm",""],["class","container-fluid",4,"ngIf"],[3,"onChange","modelReset","schema","ngClass","model","validators"],[1,"container-fluid"]],template:function(i,r){if(1&i){const o=lt();Me(0,v1t,3,0,"div",1),ee(1,"sf-form",2,0),ze("onChange",function(c){return Se(o),Ee(r.updateValue(c.value))})("modelReset",function(c){return Se(o),Ee(r.onModelReset(c.value))}),ie()}2&i&&(X("ngIf",!r.model),Q(),X("schema",r.mySchema)("ngClass",Wn(5,g1t,!r.model))("model",r.model)("validators",r.validators))},dependencies:[ir,yn,Sb],changeDetection:0})}return t})(),b1t=(()=>{class t{ngDoBootstrap(e){e.bootstrap(Ctt),window.Cypress&&(window.appRef=e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[{provide:Eg,useClass:c1t},y5],imports:[qD,fit,ob,EW,Y8e,qHe,sZe,Oit,Rit,e7,MY,Pit,vrt,xrt,Drt,aet,sot,QZe,aot,yj,qfe,sde.forRoot(),WJe,uk,Tit,p1t,WGe,Dr,rQe]})}return t})();!function PL(t,n,e){const i=t.\u0275cmp;i.directiveDefs=_1(n,!1),i.pipeDefs=_1(e,!0)}(Yq,function(){return[yn,_1t]},[]),T(6092),T(5374),T(1255),T(8401),Hae().bootstrapModule(b1t).catch(t=>console.error(t))},2634:()=>{},4149:(q,z,T)=>{"use strict";var L=T(830),I=typeof globalThis>"u"?global:globalThis;q.exports=function(){for(var S=[],x=0;x<L.length;x++)"function"==typeof I[L[x]]&&(S[S.length]=L[x]);return S}},7504:(q,z,T)=>{"use strict";var L=T(9327),I=T(5961),$=T(8905),S=T(8337);q.exports=function(M,u){if("Object"!==S(M))throw new L("Assertion failed: `O` must be an Object");if(!$(u))throw new L("Assertion failed: `P` must be a Property Key");return I(M,u)}},4117:(q,z,T)=>{"use strict";q.exports=T(6460)},8905:q=>{"use strict";q.exports=function(T){return"string"==typeof T||"symbol"==typeof T}},8337:(q,z,T)=>{"use strict";var L=T(8595);q.exports=function($){return"symbol"==typeof $?"Symbol":"bigint"==typeof $?"BigInt":L($)}},9905:(q,z,T)=>{"use strict";var L=T(9327),I=T(2290),$=T(9186),S=T(1810),x=T(4835);q.exports=function(m,d){var f=S(m);if(!$(m)&&!f)throw new L("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if("SEQ-CST"!==d&&"UNORDERED"!==d)throw new L("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");if(I(m))throw new L("Assertion failed: `arrayBuffer` must not be detached");return x(m)}},8333:(q,z,T)=>{"use strict";var I=T(9249)("%BigInt%",!0),$=T(1486),S=T(9327),x=I&&I(0);q.exports=function(u,m){if("bigint"!=typeof u||"bigint"!=typeof m)throw new S("Assertion failed: `n` and `d` arguments must be BigInts");if(m===x)throw new $("Division by zero");return u===x?x:u%m}},1209:(q,z,T)=>{"use strict";var L=T(9327),I=T(7737),$=T(461),S=T(6202),x=T(4359),M=T(4468),u=T(5079),m=T(4943),d=T(854);q.exports=function(p,g,h){if("Object"!==d(p))throw new L("Assertion failed: Type(O) is not Object");if(!M(g))throw new L("Assertion failed: IsPropertyKey(P) is not true");var _=I(h)?h:m(h);if(!I(_))throw new L("Assertion failed: Desc is not a valid Property Descriptor");return $(x,u,S,p,g,_)}},6202:(q,z,T)=>{"use strict";var L=T(9327),I=T(7737),$=T(1521);q.exports=function(x){if(typeof x<"u"&&!I(x))throw new L("Assertion failed: `Desc` must be a Property Descriptor");return $(x)}},4492:(q,z,T)=>{"use strict";var L=T(9327),I=T(9711),$=T(4468),S=T(854);q.exports=function(M,u){if("Object"!==S(M))throw new L("Assertion failed: Type(O) is not Object");if(!$(u))throw new L("Assertion failed: IsPropertyKey(P) is not true, got "+I(u));return M[u]}},9665:(q,z,T)=>{"use strict";var L=T(9249),I=T(1144),$=T(9327),S=L("%Uint8Array%",!0),M=T(4831)("Array.prototype.slice"),u=T(1995),m=T(2290),d=T(7691),f=T(9186),p=T(1810),g=T(859),h=T(8037),_=T(2848);q.exports=function(D,O,P,U,j){var K=p(D);if(!f(D)&&!K)throw new $("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if(!u(O))throw new $("Assertion failed: `byteIndex` must be an integer");if("string"!=typeof P||"number"!=typeof h.size["$"+P])throw new $("Assertion failed: `type` must be a Typed Array element type");if("boolean"!=typeof U)throw new $("Assertion failed: `isTypedArray` must be a boolean");if("SEQ-CST"!==j&&"UNORDERED"!==j)throw new $("Assertion failed: `order` must be either `SEQ-CST` or `UNORDERED`");if(arguments.length>5&&"boolean"!=typeof arguments[5])throw new $("Assertion failed: `isLittleEndian` must be a boolean, if present");if(m(D))throw new $("Assertion failed: `arrayBuffer` is detached");if(O<0)throw new $("Assertion failed: `byteIndex` must be non-negative");var Z,B=h.size["$"+P];if(!B)throw new $('Assertion failed: `type` must be one of "INT8", "UINT8", "UINT8C", "INT16", "UINT16", "INT32", "UINT32", "BIGINT64", "BIGUINT64", "FLOAT32", or "FLOAT64"');if(K)throw new I("SharedArrayBuffer is not supported by this implementation");Z=M(new S(D,O),0,B);var Y=arguments.length>5?arguments[5]:"little"===_,W=Y?M(g([0,0,0,0,0,0,0,0],Z),-B):M(g(Z,[0,0,0,0,0,0,0,0]),0,B);return d(P,W,Y)}},6991:(q,z,T)=>{"use strict";var L=T(9327),I=T(5961),$=T(4468),S=T(854);q.exports=function(M,u){if("Object"!==S(M))throw new L("Assertion failed: `O` must be an Object");if(!$(u))throw new L("Assertion failed: `P` must be a Property Key");return I(M,u)}},1505:(q,z,T)=>{"use strict";q.exports=T(616)},2581:q=>{"use strict";q.exports=function(T){return"BIGUINT64"===T||"BIGINT64"===T}},1802:(q,z,T)=>{"use strict";q.exports=T(6460)},9020:(q,z,T)=>{"use strict";var I=T(9596)("%Reflect.construct%",!0),$=T(1209);try{$({},"",{"[[Get]]":function(){}})}catch{$=null}if($&&I){var S={},x={};$(x,"length",{"[[Get]]":function(){throw S},"[[Enumerable]]":!0}),q.exports=function(u){try{I(u,x)}catch(m){return m===S}}}else q.exports=function(u){return"function"==typeof u&&!!u.prototype}},4359:(q,z,T)=>{"use strict";var L=T(9327),I=T(5961),$=T(7737);q.exports=function(x){if(typeof x>"u")return!1;if(!$(x))throw new L("Assertion failed: `Desc` must be a Property Descriptor");return!(!I(x,"[[Value]]")&&!I(x,"[[Writable]]"))}},2290:(q,z,T)=>{"use strict";var L=T(9327),I=T(4835),$=T(4149)(),S=T(4831),x=T(9186),M=T(1810),u=S("SharedArrayBuffer.prototype.byteLength",!0);q.exports=function(d){var f=M(d);if(!x(d)&&!f)throw new L("Assertion failed: `arrayBuffer` must be an Object with an [[ArrayBufferData]] internal slot");if(0===(f?u:I)(d))try{new global[$[0]](d)}catch(p){return!!p&&"TypeError"===p.name}return!1}},7875:(q,z,T)=>{"use strict";var L=T(9327),I=T(4831),$=I("%ArrayBuffer.prototype.resizable%",!0),S=I("%SharedArrayBuffer.prototype.growable%",!0),x=T(9186),M=T(1810);q.exports=function(m){var d=x(m),f=M(m);if(!d&&!f)throw new L("Assertion failed: `arrayBuffer` must be an ArrayBuffer or SharedArrayBuffer");return d&&$?!$(m):!f||!S||!S(m)}},4468:q=>{"use strict";q.exports=function(T){return"string"==typeof T||"symbol"==typeof T}},3479:(q,z,T)=>{"use strict";var L=T(9327),I=T(2290),$=T(8762),S=T(2182),x=T(280),M=T(2912),u=T(9318);q.exports=function(d){if(!S(d))throw new L("Assertion failed: `taRecord` must be a TypedArray With Buffer Witness Record");var f=d["[[Object]]"],p=d["[[CachedBufferByteLength]]"];if(I(x(f))&&"DETACHED"!==p)throw new L("Assertion failed: typed array is detached only if the byte length is ~DETACHED~");if("DETACHED"===p)return!0;var h,g=M(f),_=u(f);return h="AUTO"===_?p:g+_*$(f),g>p||h>p}},2065:q=>{"use strict";q.exports=function(T){return"UINT8"===T||"UINT8C"===T||"UINT16"===T||"UINT32"===T||"BIGUINT64"===T}},4453:(q,z,T)=>{"use strict";var L=T(9327),I=T(9905),$=T(2290),S=T(6468),x=T(280);q.exports=function(u,m){if(!S(u))throw new L("Assertion failed: `obj` must be a Typed Array");if("SEQ-CST"!==m&&"UNORDERED"!==m)throw new L("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");var d=x(u);return{"[[Object]]":u,"[[CachedBufferByteLength]]":$(d)?"DETACHED":I(d,m)}}},6251:(q,z,T)=>{"use strict";var L=T(9327),I=T(6991),$=T(3586),S=T(9224),x=T(1257),M=T(6439),u=T(2084),m=T(1600),d=T(3358),f=T(9403),p=T(7272),g=T(1391),h=T(2322),_=T(1555),w=T(241),D={__proto__:null,INT8:1,UINT8:1,UINT8C:1,INT16:2,UINT16:2,INT32:4,UINT32:4,BIGINT64:8,BIGUINT64:8,FLOAT32:4,FLOAT64:8},O={__proto__:null,INT8:u,UINT8:f,UINT8C:p,INT16:x,UINT16:m,INT32:M,UINT32:d,BIGINT64:$,BIGUINT64:S};q.exports=function(U,j,K){if("string"!=typeof U||!I(D,U))throw new L("Assertion failed: `type` must be a TypedArray element type: "+w(D));if("number"!=typeof j&&"bigint"!=typeof j)throw new L("Assertion failed: `value` must be a Number or a BigInt");if("boolean"!=typeof K)throw new L("Assertion failed: `isLittleEndian` must be a Boolean");if("FLOAT32"===U)return g(j,K);if("FLOAT64"===U)return h(j,K);var B=D[U],Y=(0,O[U])(j);return _(Y,B,K)}},7691:(q,z,T)=>{"use strict";var L=T(9249),I=T(4831),$=T(1486),S=T(1144),x=T(9327),M=L("%BigInt%",!0),u=T(6991),m=T(1505),d=T(2581),f=T(2065),p=T(5087),g=T(980),h=T(5806),_=T(2662),w=T(3330),D=I("Array.prototype.reverse"),O=I("Array.prototype.slice"),P=T(241),U={__proto__:null,INT8:1,UINT8:1,UINT8C:1,INT16:2,UINT16:2,INT32:4,UINT32:4,BIGINT64:8,BIGUINT64:8,FLOAT32:4,FLOAT64:8};q.exports=function(K,B,Z){if(!u(U,K))throw new x("Assertion failed: `type` must be a TypedArray element type: "+P(U));if(!m(B)||!_(B,w))throw new x("Assertion failed: `rawBytes` must be an Array of bytes");if("boolean"!=typeof Z)throw new x("Assertion failed: `isLittleEndian` must be a Boolean");var Y=U[K];if(B.length!==Y)throw new $("Assertion failed: `rawBytes` must have a length of "+Y+" for type "+K);var W=d(K);if(W&&!M)throw new S("this environment does not support BigInts");return B=O(B,0,Y),Z||D(B),"FLOAT32"===K?p(B):"FLOAT64"===K?g(B):h(B,Y,f(K),W)}},5079:(q,z,T)=>{"use strict";var L=T(5496);q.exports=function($,S){return $===S?0!==$||1/$==1/S:L($)&&L(S)}},8152:(q,z,T)=>{"use strict";var L=T(9327),I=T(4468),$=T(5079),S=T(854),x=function(){try{return delete[].length,!0}catch{return!1}}();q.exports=function(u,m,d,f){if("Object"!==S(u))throw new L("Assertion failed: `O` must be an Object");if(!I(m))throw new L("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof f)throw new L("Assertion failed: `Throw` must be a Boolean");if(f){if(u[m]=d,x&&!$(u[m],d))throw new L("Attempted to assign to readonly property.");return!0}try{return u[m]=d,!x||$(u[m],d)}catch{return!1}}},1654:(q,z,T)=>{"use strict";var L=T(9249),I=T(1144),$=T(9327),S=L("%Uint8Array%",!0),x=T(1995),M=T(2581),u=T(2290),m=T(6251),d=T(9186),f=T(1810),p=T(5961),g=T(8037),h=T(2848),_=T(6079);q.exports=function(D,O,P,U,j,K){var B=f(D);if(!d(D)&&!B)throw new $("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if(!x(O)||O<0)throw new $("Assertion failed: `byteIndex` must be a non-negative integer");if("string"!=typeof P||!p(g.size,"$"+P))throw new $("Assertion failed: `type` must be a Typed Array Element Type");if("number"!=typeof U&&"bigint"!=typeof U)throw new $("Assertion failed: `value` must be a Number or a BigInt");if("boolean"!=typeof j)throw new $("Assertion failed: `isTypedArray` must be a boolean");if("SEQ-CST"!==K&&"UNORDERED"!==K&&"INIT"!==K)throw new $('Assertion failed: `order` must be `"SEQ-CST"`, `"UNORDERED"`, or `"INIT"`');if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new $("Assertion failed: `isLittleEndian` must be a boolean, if present");if(u(D))throw new $("Assertion failed: ArrayBuffer is detached");if(M(P)?"bigint"!=typeof U:"number"!=typeof U)throw new $("Assertion failed: `value` must be a BigInt if type is ~BIGINT64~ or ~BIGUINT64~, otherwise a Number");var Z=g.size["$"+P],W=m(P,U,arguments.length>6?arguments[6]:"little"===h);if(B)throw new I("SharedArrayBuffer is not supported by this implementation");var re=new S(D,O,Z);_(W,function(H,k){re[k]=H})}},2600:(q,z,T)=>{"use strict";var I=T(9249)("%Symbol.species%",!0),$=T(9327),S=T(9020),x=T(854);q.exports=function(u,m){if("Object"!==x(u))throw new $("Assertion failed: Type(O) is not Object");var d=u.constructor;if(typeof d>"u")return m;if("Object"!==x(d))throw new $("O.constructor is not an Object");var f=I?d[I]:void 0;if(null==f)return m;if(S(f))return f;throw new $("no constructor found")}},2337:(q,z,T)=>{"use strict";var I=T(9249)("%BigInt%",!0),$=T(9327),S=T(1144);q.exports=function(M){if("string"!=typeof M)throw new $("`argument` must be a string");if(!I)throw new S("BigInts are not supported in this environment");try{return I(M)}catch{return}}},3811:(q,z,T)=>{"use strict";var L=T(9249),I=L("%Number%"),$=L("%RegExp%"),S=T(9327),x=L("%parseInt%"),M=T(4831),u=T(6749),m=M("String.prototype.slice"),d=u(/^0b[01]+$/i),f=u(/^0o[0-7]+$/i),p=u(/^[-+]0x[0-9a-f]+$/i),_=u(new $("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),w=T(6730);q.exports=function D(O){if("string"!=typeof O)throw new S("Assertion failed: `argument` is not a String");if(d(O))return I(x(m(O,2),2));if(f(O))return I(x(m(O,2),8));if(_(O)||p(O))return NaN;var P=w(O);return P!==O?D(P):I(O)}},9776:(q,z,T)=>{"use strict";var L=T(9249),I=L("%BigInt%",!0),$=L("%Number%"),S=T(9327),x=T(1144),M=T(2337),u=T(1598);q.exports=function(d){if(!I)throw new x("BigInts are not supported in this environment");var f=u(d,$);if(null==f)throw new S("Cannot convert null or undefined to a BigInt");if("boolean"==typeof f)return I(f?1:0);if("number"==typeof f)throw new S("Cannot convert a Number value to a BigInt");if("string"==typeof f){var p=M(f);if(typeof p>"u")throw new S("Failed to parse String to BigInt");return p}if("symbol"==typeof f)throw new S("Cannot convert a Symbol value to a BigInt");if("bigint"!=typeof f)throw new x("Assertion failed: unknown primitive type");return f}},3586:(q,z,T)=>{"use strict";var L=T(9249),I=L("%BigInt%",!0),$=L("%Math.pow%"),S=T(9776),x=T(8333),M=T(2974),u=I&&BigInt($(2,32))*BigInt($(2,31)),m=I&&BigInt($(2,32))*BigInt($(2,32));q.exports=function(f){var p=S(f),g=M(x,p,m);return g>=u?g-m:g}},9224:(q,z,T)=>{"use strict";var L=T(9249),I=L("%BigInt%",!0),$=L("%Math.pow%"),S=T(9776),x=T(8333),M=T(2974),u=I&&BigInt($(2,32))*BigInt($(2,32));q.exports=function(d){var f=S(d);return M(x,f,u)}},919:q=>{"use strict";q.exports=function(T){return!!T}},1257:(q,z,T)=>{"use strict";var L=T(9444),I=T(3230),$=T(2644),S=T(3474);q.exports=function(u){var m=I(u);if(!S(m)||0===m)return 0;var d=$(m),f=L(d,65536);return f>=32768?f-65536:f}},6439:(q,z,T)=>{"use strict";var L=T(9444),I=T(3230),$=T(2644),S=T(3474),M=4294967296;q.exports=function(m){var d=I(m);if(!S(d)||0===d)return 0;var f=$(d),p=L(f,M),g=p>=2147483648?p-M:p;return 0===g?0:g}},2084:(q,z,T)=>{"use strict";var L=T(9444),I=T(3230),$=T(2644),S=T(3474);q.exports=function(M){var u=I(M);if(!S(u)||0===u)return 0;var m=$(u),d=L(m,256);return d>=128?d-256:d}},2888:(q,z,T)=>{"use strict";var L=T(3230),I=T(2644),$=T(5496),S=T(3474);q.exports=function(M){var u=L(M);return $(u)||0===u?0:S(u)?I(u):u}},3230:(q,z,T)=>{"use strict";var L=T(9249),I=T(9327),$=L("%Number%"),S=T(4316),x=T(1598),M=T(3811);q.exports=function(m){var d=S(m)?m:x(m,$);if("symbol"==typeof d)throw new I("Cannot convert a Symbol value to a number");if("bigint"==typeof d)throw new I("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof d?M(d):$(d)}},1598:(q,z,T)=>{"use strict";var L=T(2297);q.exports=function($){return arguments.length>1?L($,arguments[1]):L($)}},4943:(q,z,T)=>{"use strict";var L=T(5961),I=T(9327),$=T(854),S=T(919),x=T(1802);q.exports=function(u){if("Object"!==$(u))throw new I("ToPropertyDescriptor requires an object");var m={};if(L(u,"enumerable")&&(m["[[Enumerable]]"]=S(u.enumerable)),L(u,"configurable")&&(m["[[Configurable]]"]=S(u.configurable)),L(u,"value")&&(m["[[Value]]"]=u.value),L(u,"writable")&&(m["[[Writable]]"]=S(u.writable)),L(u,"get")){var d=u.get;if(typeof d<"u"&&!x(d))throw new I("getter must be a function");m["[[Get]]"]=d}if(L(u,"set")){var f=u.set;if(typeof f<"u"&&!x(f))throw new I("setter must be a function");m["[[Set]]"]=f}if((L(m,"[[Get]]")||L(m,"[[Set]]"))&&(L(m,"[[Value]]")||L(m,"[[Writable]]")))throw new I("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m}},454:(q,z,T)=>{"use strict";var I=T(9249)("%String%"),$=T(9327);q.exports=function(x){if("symbol"==typeof x)throw new $("Cannot convert a Symbol value to a string");return I(x)}},1600:(q,z,T)=>{"use strict";var L=T(9444),I=T(3230),$=T(2644),S=T(3474);q.exports=function(u){var m=I(u);if(!S(m)||0===m)return 0;var d=$(m),f=L(d,65536);return 0===f?0:f}},3358:(q,z,T)=>{"use strict";var L=T(9444),I=T(3230),$=T(2644),S=T(3474);q.exports=function(u){var m=I(u);if(!S(m)||0===m)return 0;var d=$(m),f=L(d,4294967296);return 0===f?0:f}},9403:(q,z,T)=>{"use strict";var L=T(3474),I=T(9444),$=T(3230),S=T(2644);q.exports=function(M){var u=$(M);if(!L(u)||0===u)return 0;var m=S(u);return I(m,256)}},7272:(q,z,T)=>{"use strict";var L=T(323),I=T(3230),$=T(3662),S=T(5496);q.exports=function(M){var u=I(M);if(S(u))return 0;var m=L(u,0,255),d=$(m);return m<d+.5?d:m>d+.5?d+1:d%2==0?d:d+1}},854:(q,z,T)=>{"use strict";var L=T(8595);q.exports=function($){return"symbol"==typeof $?"Symbol":"bigint"==typeof $?"BigInt":L($)}},4239:(q,z,T)=>{"use strict";var L=T(1144),I=T(9327),$=T(1505),S=T(9020),x=T(3479),M=T(3323),u=T(1929),m=T(4149)();q.exports=function(f,p){if(!S(f))throw new I("Assertion failed: `constructor` must be a constructor");if(!$(p))throw new I("Assertion failed: `argumentList` must be a List");if(0===m.length)throw new L("Assertion failed: Typed Arrays are not supported in this environment");var g;g=0===p.length?new f:1===p.length?new f(p[0]):2===p.length?new f(p[0],p[1]):new f(p[0],p[1],p[2]);var h=u(g,"SEQ-CST");if(1===p.length&&"number"==typeof p[0]){if(x(h))throw new I("new Typed Array is out of bounds");if(M(h)<p[0])throw new I("`argumentList[0]` must be <= `newTypedArray.length`")}return g}},8762:(q,z,T)=>{"use strict";var L=T(1144),I=T(9327),$=T(1995),S=T(7323),x=T(8037);q.exports=function(u){var m=S(u);if(!1===m)throw new I("Assertion failed: `O` must be a TypedArray");var d=x.size["$"+x.name["$"+m]];if(!$(d)||d<0)throw new L("Assertion failed: Unknown TypedArray type `"+m+"`");return d}},5135:(q,z,T)=>{"use strict";var L=T(1144),I=T(9327),$=T(7323),S=T(8037);q.exports=function(M){var u=$(M);if(!1===u)throw new I("Assertion failed: `O` must be a TypedArray");var m=S.name["$"+u];if("string"!=typeof m)throw new L("Assertion failed: Unknown TypedArray type `"+u+"`");return m}},3323:(q,z,T)=>{"use strict";var L=T(9327),I=T(3662),$=T(7875),S=T(3479),x=T(8762),M=T(2182),u=T(280),m=T(2912),d=T(9318);q.exports=function(p){if(!M(p))throw new L("Assertion failed: `taRecord` must be a TypedArray With Buffer Witness Record");if(S(p))throw new L("Assertion failed: `taRecord` is out of bounds");var g=p["[[Object]]"],h=d(g);if("AUTO"!==h)return h;if($(u(g)))throw new L("Assertion failed: array buffer is not fixed length");var _=m(g),w=x(g),D=p["[[CachedBufferByteLength]]"];if("DETACHED"===D)throw new L("Assertion failed: typed array is detached");return I((D-_)/w)}},4621:(q,z,T)=>{"use strict";var L=T(1144),I=T(9327),$=T(7323),S=T(4149)(),x=T(1505),M=T(2600),u=T(4239),m=T(9485);q.exports=function(f,p){if(0===S.length)throw new L("Assertion failed: Typed Arrays are not supported in this environment");var g=$(f);if(!g)throw new I("Assertion failed: exemplar must be a TypedArray");if(!x(p))throw new I("Assertion failed: `argumentList` must be a List");var h=m(g);if("function"!=typeof h)throw new L("Assertion failed: `constructor` of `exemplar` ("+g+") must exist. Please report this!");var _=M(f,h);return u(_,p)}},1929:(q,z,T)=>{"use strict";var L=T(9327),I=T(3479),$=T(4453),S=T(854),x=T(6468);q.exports=function(u,m){if("SEQ-CST"!==m&&"UNORDERED"!==m)throw new L("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");if("Object"!==S(u))throw new L("Assertion failed: `O` must be an Object");if(!x(u))throw new L("Assertion failed: `O` must be a Typed Array");var d=$(u,m);if(I(d))throw new L("`O` must be in-bounds and backed by a non-detached buffer");return d}},323:(q,z,T)=>{"use strict";var L=T(9249),I=T(9327),$=L("%Math.max%"),S=L("%Math.min%");q.exports=function(M,u,m){if("number"!=typeof M||"number"!=typeof u||"number"!=typeof m||!(u<=m))throw new I("Assertion failed: all three arguments must be MVs, and `lower` must be `<= upper`");return S($(u,M),m)}},3662:q=>{"use strict";var z=Math.floor;q.exports=function(L){return"bigint"==typeof L?L:z(L)}},8442:(q,z,T)=>{"use strict";var L=T(9249);q.exports=L("%Math.max%")},5620:(q,z,T)=>{"use strict";var L=T(9249);q.exports=L("%Math.min%")},9444:(q,z,T)=>{"use strict";var L=T(5565);q.exports=function($,S){return L($,S)}},8037:q=>{"use strict";q.exports={__proto__:null,name:{__proto__:null,$Int8Array:"INT8",$Uint8Array:"UINT8",$Uint8ClampedArray:"UINT8C",$Int16Array:"INT16",$Uint16Array:"UINT16",$Int32Array:"INT32",$Uint32Array:"UINT32",$BigInt64Array:"BIGINT64",$BigUint64Array:"BIGUINT64",$Float32Array:"FLOAT32",$Float64Array:"FLOAT64"},size:{__proto__:null,$INT8:1,$UINT8:1,$UINT8C:1,$INT16:2,$UINT16:2,$INT32:4,$UINT32:4,$BIGINT64:8,$BIGUINT64:8,$FLOAT32:4,$FLOAT64:8}}},2644:(q,z,T)=>{"use strict";var L=T(3662),I=T(9327);q.exports=function(S){if("number"!=typeof S&&"bigint"!=typeof S)throw new I("argument must be a Number or a BigInt");var x=S<0?-L(-S):L(S);return 0===x?0:x}},8595:q=>{"use strict";q.exports=function(T){return null===T?"Null":typeof T>"u"?"Undefined":"function"==typeof T||"object"==typeof T?"Object":"number"==typeof T?"Number":"boolean"==typeof T?"Boolean":"string"==typeof T?"String":void 0}},9596:(q,z,T)=>{"use strict";q.exports=T(9249)},461:(q,z,T)=>{"use strict";var L=T(4052),I=T(4688),$=L.hasArrayLengthDefineBug(),S=$&&T(616),M=T(4831)("Object.prototype.propertyIsEnumerable");q.exports=function(m,d,f,p,g,h){if(!I){if(!m(h)||!h["[[Configurable]]"]||!h["[[Writable]]"]||g in p&&M(p,g)!==!!h["[[Enumerable]]"])return!1;var _=h["[[Value]]"];return p[g]=_,d(p[g],_)}return $&&"length"===g&&"[[Value]]"in h&&S(p)&&p.length!==h["[[Value]]"]?(p.length=h["[[Value]]"],p.length===h["[[Value]]"]):(I(p,g,f(h)),!0)}},616:(q,z,T)=>{"use strict";var I=T(9249)("%Array%"),$=!I.isArray&&T(4831)("Object.prototype.toString");q.exports=I.isArray||function(x){return"[object Array]"===$(x)}},5087:(q,z,T)=>{"use strict";var I=T(9249)("%Math.pow%");q.exports=function(S){var x=128&S[3]?-1:1,M=(127&S[3])<<1|S[2]>>7,u=(127&S[2])<<16|S[1]<<8|S[0];return 0===M&&0===u?1===x?0:-0:255===M&&0===u?1===x?1/0:-1/0:255===M&&0!==u?NaN:-127==(M-=127)?x*u*I(2,-149):x*(1+u*I(2,-23))*I(2,M)}},980:(q,z,T)=>{"use strict";var I=T(9249)("%Math.pow%");q.exports=function(S){var x=128&S[7]?-1:1,M=(127&S[7])<<4|(240&S[6])>>4,u=281474976710656*(15&S[6])+1099511627776*S[5]+4294967296*S[4]+16777216*S[3]+65536*S[2]+256*S[1]+S[0];return 0===M&&0===u?0*x:2047===M&&0!==u?NaN:2047===M&&0===u?x*(1/0):-1023==(M-=1023)?x*u*5e-324:x*(1+u/4503599627370496)*I(2,M)}},5806:(q,z,T)=>{"use strict";var L=T(9249),I=L("%Math.pow%"),$=L("%Number%"),S=L("%BigInt%",!0);q.exports=function(M,u,m,d){for(var f=d?S:$,p=f(0),g=0;g<M.length;g++)p+=f(M[g]*I(2,8*g));return m||128&M[u-1]&&(p-=f(I(2,8*u))),p}},2848:(q,z,T)=>{"use strict";var L=T(9249),I=L("%Uint8Array%",!0),$=L("%Uint32Array%",!0),S=T(280),x=$&&new $([305419896]),M=x&&new I(S(x));q.exports=M?120===M[0]?"little":18===M[0]?"big":52===M[0]?"mixed":"unknown":"indeterminate"},2662:q=>{"use strict";q.exports=function(T,L){for(var I=0;I<T.length;I+=1)if(!L(T[I],I,T))return!1;return!0}},6079:q=>{"use strict";q.exports=function(T,L){for(var I=0;I<T.length;I+=1)L(T[I],I,T)}},7022:q=>{"use strict";var z=1075;q.exports=function(I){var $="";if(0===I)return $;for(var x,S=z,M=0;M<z;M+=1)if((x=2*I)>=1?(I=x-1,$+="1",S===z&&(S=M)):(I=x,$+="0"),1===x||M-S>54)return $;return $}},1521:q=>{"use strict";q.exports=function(T){if(typeof T>"u")return T;var L={};return"[[Value]]"in T&&(L.value=T["[[Value]]"]),"[[Writable]]"in T&&(L.writable=!!T["[[Writable]]"]),"[[Get]]"in T&&(L.get=T["[[Get]]"]),"[[Set]]"in T&&(L.set=T["[[Set]]"]),"[[Enumerable]]"in T&&(L.enumerable=!!T["[[Enumerable]]"]),"[[Configurable]]"in T&&(L.configurable=!!T["[[Configurable]]"]),L}},39:(q,z,T)=>{"use strict";var I=T(9249)("%Object.getPrototypeOf%",!0),$=T(908)();q.exports=I||($?function(S){return S.__proto__}:null)},6297:(q,z,T)=>{"use strict";var I=T(9249)("%Math.floor%");q.exports=function(S){for(var M,x="";S>0;)x=(M=S/2)===(S=I(M))?"0"+x:"1"+x;return x}},1555:(q,z,T)=>{"use strict";var L=T(9249),I=L("%Number%"),$=L("%BigInt%",!0);q.exports=function(x,M,u){var m="bigint"==typeof x?$:I;x<0&&(x>>>=0);for(var d=[],f=0;f<M;f++)d[u?f:M-1-f]=I(x&m(255)),x>>=m(8);return d}},3330:q=>{"use strict";q.exports=function(T){return"number"==typeof T&&T>=0&&T<=255&&(0|T)===T}},3474:(q,z,T)=>{"use strict";var L=T(5496);q.exports=function(I){return("number"==typeof I||"bigint"==typeof I)&&!L(I)&&I!==1/0&&I!==-1/0}},1995:(q,z,T)=>{"use strict";var L=T(9249),I=L("%Math.abs%"),$=L("%Math.floor%"),S=T(5496),x=T(3474);q.exports=function(u){if("number"!=typeof u||S(u)||!x(u))return!1;var m=I(u);return $(m)===m}},5496:q=>{"use strict";q.exports=Number.isNaN||function(T){return T!=T}},4544:q=>{"use strict";q.exports=function(T){return 0===T&&1/T==-1/0}},4316:q=>{"use strict";q.exports=function(T){return null===T||"function"!=typeof T&&"object"!=typeof T}},5565:q=>{"use strict";var z=Math.floor;q.exports=function(L,I){var $=L%I;return z($>=0?$:$+I)}},2974:q=>{"use strict";q.exports=function(T,L,I){var $=T(L,I);return $>=0?$:$+I}},7737:(q,z,T)=>{"use strict";var L=T(9327),I=T(5961),$={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};q.exports=function(x){if(!x||"object"!=typeof x)return!1;for(var M in x)if(I(x,M)&&!$[M])return!1;var u=I(x,"[[Value]]")||I(x,"[[Writable]]"),m=I(x,"[[Get]]")||I(x,"[[Set]]");if(u&&m)throw new L("Property Descriptors may not be both accessor and data descriptors");return!0}},2182:(q,z,T)=>{"use strict";var L=T(5961),I=T(6468),$=T(1995);q.exports=function(x){return!!x&&"object"==typeof x&&L(x,"[[Object]]")&&L(x,"[[CachedBufferByteLength]]")&&($(x["[[CachedBufferByteLength]]"])&&x["[[CachedBufferByteLength]]"]>=0||"DETACHED"===x["[[CachedBufferByteLength]]"])&&I(x["[[Object]]"])}},9485:(q,z,T)=>{"use strict";var L=T(9249),I={__proto__:null,$Int8Array:L("%Int8Array%",!0),$Uint8Array:L("%Uint8Array%",!0),$Uint8ClampedArray:L("%Uint8ClampedArray%",!0),$Int16Array:L("%Int16Array%",!0),$Uint16Array:L("%Uint16Array%",!0),$Int32Array:L("%Int32Array%",!0),$Uint32Array:L("%Uint32Array%",!0),$BigInt64Array:L("%BigInt64Array%",!0),$BigUint64Array:L("%BigUint64Array%",!0),$Float32Array:L("%Float32Array%",!0),$Float64Array:L("%Float64Array%",!0)};q.exports=function(S){return I["$"+S]}},1391:(q,z,T)=>{"use strict";var L=T(9249),I=L("%Math.abs%"),$=L("%Math.floor%"),S=L("%Math.pow%"),x=T(3474),M=T(5496),u=T(4544);q.exports=function(f,p){if(M(f))return p?[0,0,192,127]:[127,192,0,0];var g;if(0===f)return g=u(f)?128:0,p?[0,0,0,g]:[g,0,0,0];if(I(f)>34028234663852886e22||!x(f))return g=f<0?255:127,p?[0,0,128,g]:[g,128,0,0];var h=f<0?1:0;f=I(f);for(var _=0;f>=2;)_+=1,f/=2;for(;f<1;)_-=1,f*=2;var w=f-1;w*=S(2,23)+.5,_+=127;var D=h<<31|(_<<=23)|(w=$(w)),O=255&D,P=255&(D>>=8),U=255&(D>>=8),j=255&(D>>=8);return p?[O,P,U,j]:[j,U,P,O]}},2322:(q,z,T)=>{"use strict";var L=T(9249),I=L("%parseInt%"),$=L("%Math.abs%"),S=L("%Math.floor%"),x=T(4831),M=x("String.prototype.indexOf"),u=x("String.prototype.slice"),m=T(7022),d=T(6297),f=T(4544),p=1023,g="11111111111",h="00000000000",_=h+h+h+h+"0000000";q.exports=function(D,O){var U,j,P=D<0||f(D)?"1":"0";if(isNaN(D))U=g,j="1"+_;else if(isFinite(D))if(0===D)U=h,j="0"+_;else{D=$(D);var Y,K=S(D),B=d(K),Z=m(D-K);if(B)U=B.length-1;else{var W=M(Z,"1");W>-1&&(Y=W+1),U=-Y}j=B+Z,U<0?(U<=-p&&(Y=p-1),j=u(j,Y)):j=u(j,1),U=u(h+d(U+p),-11),j=u(j+_+"0",0,52)}else U=g,j="0"+_;for(var re=P+U+j,H=[],k=0;k<8;k++)H[O?8-k-1:k]=I(u(re,8*k,8*(k+1)),2);return H}},3616:(q,z,T)=>{"use strict";var L=T(9249),I=T(1802),$=T(854),S=T(2015),x=T(9327),M=T(9475),u=T(1031),m=L("%Object.getPrototypeOf%",!0),d=L("%Object.prototype%"),p=!m&&[].__proto__===Array.prototype&&u&&u(Object.prototype,"__proto__"),g=p&&p.get&&M(p.get);q.exports=function(_){if("Object"!==$(_))throw new x("Reflect.getPrototypeOf called on non-object");if(m)return m(_);if(g){var w=g(_);if(w||null===w)return w}var D=S(_);if(D){var O=L("%"+D+".prototype%",!0);if(O)return O}return I(_.constructor)?_.constructor.prototype:_ instanceof Object?d:null}},1733:(q,z,T)=>{"use strict";var L=T(854),I=T(9327),$=T(9475),S=T(1031),x=T(3616),M=[].__proto__===Array.prototype,u=M&&S&&S(Object.prototype,"__proto__"),m=u&&u.get&&$(u.get),d=function(p){if("Object"!==L(p))throw new I("Reflect.getPrototypeOf called on non-object");return m?m(p):p.__proto__};q.exports=function(){return"object"==typeof Reflect&&Reflect&&Reflect.getPrototypeOf?Reflect.getPrototypeOf:M?d:x}},5736:q=>{q.exports=function z(T,L){(null==L||L>T.length)&&(L=T.length);for(var I=0,$=new Array(L);I<L;I++)$[I]=T[I];return $},q.exports.__esModule=!0,q.exports.default=q.exports},4344:(q,z,T)=>{var L=T(5736);q.exports=function I($){if(Array.isArray($))return L($)},q.exports.__esModule=!0,q.exports.default=q.exports},4510:q=>{function z(L,I,$,S,x,M,u){try{var m=L[M](u),d=m.value}catch(f){return void $(f)}m.done?I(d):Promise.resolve(d).then(S,x)}q.exports=function T(L){return function(){var I=this,$=arguments;return new Promise(function(S,x){var M=L.apply(I,$);function u(d){z(M,S,x,u,m,"next",d)}function m(d){z(M,S,x,u,m,"throw",d)}u(void 0)})}},q.exports.__esModule=!0,q.exports.default=q.exports},5276:q=>{q.exports=function z(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")},q.exports.__esModule=!0,q.exports.default=q.exports},9506:(q,z,T)=>{var L=T(5377);function I(S,x){for(var M=0;M<x.length;M++){var u=x[M];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(S,L(u.key),u)}}q.exports=function $(S,x,M){return x&&I(S.prototype,x),M&&I(S,M),Object.defineProperty(S,"prototype",{writable:!1}),S},q.exports.__esModule=!0,q.exports.default=q.exports},1529:(q,z,T)=>{var L=T(5377);q.exports=function I($,S,x){return(S=L(S))in $?Object.defineProperty($,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):$[S]=x,$},q.exports.__esModule=!0,q.exports.default=q.exports},3999:q=>{q.exports=function z(T){return T&&T.__esModule?T:{default:T}},q.exports.__esModule=!0,q.exports.default=q.exports},610:q=>{q.exports=function z(T){if(typeof Symbol<"u"&&null!=T[Symbol.iterator]||null!=T["@@iterator"])return Array.from(T)},q.exports.__esModule=!0,q.exports.default=q.exports},8764:q=>{q.exports=function z(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},q.exports.__esModule=!0,q.exports.default=q.exports},3205:(q,z,T)=>{var L=T(4344),I=T(610),$=T(2133),S=T(8764);q.exports=function x(M){return L(M)||I(M)||$(M)||S()},q.exports.__esModule=!0,q.exports.default=q.exports},7028:(q,z,T)=>{var L=T(5429).default;q.exports=function I($,S){if("object"!=L($)||!$)return $;var x=$[Symbol.toPrimitive];if(void 0!==x){var M=x.call($,S||"default");if("object"!=L(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)($)},q.exports.__esModule=!0,q.exports.default=q.exports},5377:(q,z,T)=>{var L=T(5429).default,I=T(7028);q.exports=function $(S){var x=I(S,"string");return"symbol"==L(x)?x:String(x)},q.exports.__esModule=!0,q.exports.default=q.exports},5429:q=>{function z(T){return q.exports=z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},q.exports.__esModule=!0,q.exports.default=q.exports,z(T)}q.exports=z,q.exports.__esModule=!0,q.exports.default=q.exports},2133:(q,z,T)=>{var L=T(5736);q.exports=function I($,S){if($){if("string"==typeof $)return L($,S);var x=Object.prototype.toString.call($).slice(8,-1);if("Object"===x&&$.constructor&&(x=$.constructor.name),"Map"===x||"Set"===x)return Array.from($);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return L($,S)}},q.exports.__esModule=!0,q.exports.default=q.exports},4881:(q,z,T)=>{"use strict";var $,S;T.d(z,{A:()=>I}),$=typeof self<"u"?self:void 0,S=function($){if("function"!=typeof Promise)throw"Promise support required";var S=$.crypto||$.msCrypto;if(S){var x=S.subtle||S.webkitSubtle;if(x){var M=$.Crypto||S.constructor||Object,u=$.SubtleCrypto||x.constructor||Object,d=$.navigator.userAgent.indexOf("Edge/")>-1,f=!!$.msCrypto&&!d,p=!S.subtle&&!!S.webkitSubtle;if(f||p){var B={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},Z={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(R){var ne=x[R];x[R]=function(te,ce,fe){var ue,xe,ge,Ne,me=[].slice.call(arguments);switch(R){case"generateKey":ue=D(te),xe=ce,ge=fe;break;case"importKey":ue=D(fe),xe=me[3],ge=me[4],"jwk"===te&&((ce=P(ce)).alg||(ce.alg=O(ue)),ce.key_ops||(ce.key_ops="oct"!==ce.kty?ge.filter("d"in ce?k:H):ge.slice()),me[1]=function U(R){var ne=P(R);return f&&(ne.extractable=ne.ext,delete ne.ext),_(unescape(encodeURIComponent(JSON.stringify(ne)))).buffer}(ce));break;case"unwrapKey":ue=me[4],xe=me[5],ge=me[6],me[2]=fe._key}if("generateKey"===R&&"HMAC"===ue.name&&ue.hash)return ue.length=ue.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[ue.hash.name],x.importKey("raw",S.getRandomValues(new Uint8Array(ue.length+7>>3)),ue,xe,ge);if(p&&"generateKey"===R&&"RSASSA-PKCS1-v1_5"===ue.name&&(!ue.modulusLength||ue.modulusLength>=2048))return(te=D(te)).name="RSAES-PKCS1-v1_5",delete te.hash,x.generateKey(te,!0,["encrypt","decrypt"]).then(function(Ae){return Promise.all([x.exportKey("jwk",Ae.publicKey),x.exportKey("jwk",Ae.privateKey)])}).then(function(Ae){return Ae[0].alg=Ae[1].alg=O(ue),Ae[0].key_ops=ge.filter(H),Ae[1].key_ops=ge.filter(k),Promise.all([x.importKey("jwk",Ae[0],ue,!0,Ae[0].key_ops),x.importKey("jwk",Ae[1],ue,xe,Ae[1].key_ops)])}).then(function(Ae){return{publicKey:Ae[0],privateKey:Ae[1]}});if((p||f&&"SHA-1"===(ue.hash||{}).name)&&"importKey"===R&&"jwk"===te&&"HMAC"===ue.name&&"oct"===ce.kty)return x.importKey("raw",_(h(ce.k)),fe,me[3],me[4]);if(p&&"importKey"===R&&("spki"===te||"pkcs8"===te))return x.importKey("jwk",function j(R){var ne=Y(R),te=!1;ne.length>2&&(te=!0,ne.shift());var ce={ext:!0};if("1.2.840.113549.1.1.1"!==ne[0][0])throw new TypeError("Unsupported key type");var fe=["n","e","d","p","q","dp","dq","qi"],me=Y(ne[1]);te&&me.shift();for(var ue=0;ue<me.length;ue++)me[ue][0]||(me[ue]=me[ue].subarray(1)),ce[fe[ue]]=g(w(me[ue]));return ce.kty="RSA",ce}(ce),fe,me[3],me[4]);if(f&&"unwrapKey"===R)return x.decrypt(me[3],fe,ce).then(function(Ae){return x.importKey(te,Ae,me[4],me[5],me[6])});try{Ne=ne.apply(x,me)}catch(Ae){return Promise.reject(Ae)}return f&&(Ne=new Promise(function(Ae,He){Ne.onabort=Ne.onerror=function(qe){He(qe)},Ne.oncomplete=function(qe){Ae(qe.target.result)}})),Ne=Ne.then(function(Ae){return"HMAC"===ue.name&&(ue.length||(ue.length=8*Ae.algorithm.length)),0==ue.name.search("RSA")&&(ue.modulusLength||(ue.modulusLength=(Ae.publicKey||Ae).algorithm.modulusLength),ue.publicExponent||(ue.publicExponent=(Ae.publicKey||Ae).algorithm.publicExponent)),Ae.publicKey&&Ae.privateKey?{publicKey:new re(Ae.publicKey,ue,xe,ge.filter(H)),privateKey:new re(Ae.privateKey,ue,xe,ge.filter(k))}:new re(Ae,ue,xe,ge)})}}),["exportKey","wrapKey"].forEach(function(R){var ne=x[R];x[R]=function(te,ce,fe){var ue,me=[].slice.call(arguments);switch(R){case"exportKey":me[1]=ce._key;break;case"wrapKey":me[1]=ce._key,me[2]=fe._key}if((p||f&&"SHA-1"===(ce.algorithm.hash||{}).name)&&"exportKey"===R&&"jwk"===te&&"HMAC"===ce.algorithm.name&&(me[0]="raw"),p&&"exportKey"===R&&("spki"===te||"pkcs8"===te)&&(me[0]="jwk"),f&&"wrapKey"===R)return x.exportKey(te,ce).then(function(xe){return"jwk"===te&&(xe=_(unescape(encodeURIComponent(JSON.stringify(P(xe)))))),x.encrypt(me[3],fe,xe)});try{ue=ne.apply(x,me)}catch(xe){return Promise.reject(xe)}return f&&(ue=new Promise(function(xe,ge){ue.onabort=ue.onerror=function(Ne){ge(Ne)},ue.oncomplete=function(Ne){xe(Ne.target.result)}})),"exportKey"===R&&"jwk"===te&&(ue=ue.then(function(xe){return(p||f&&"SHA-1"===(ce.algorithm.hash||{}).name)&&"HMAC"===ce.algorithm.name?{kty:"oct",alg:O(ce.algorithm),key_ops:ce.usages.slice(),ext:!0,k:g(w(xe))}:((xe=P(xe)).alg||(xe.alg=O(ce.algorithm)),xe.key_ops||(xe.key_ops="public"===ce.type?ce.usages.filter(H):"private"===ce.type?ce.usages.filter(k):ce.usages.slice()),xe)})),p&&"exportKey"===R&&("spki"===te||"pkcs8"===te)&&(ue=ue.then(function(xe){return xe=function K(R){var te=[["",null]],ce=!1;if("RSA"!==R.kty)throw new TypeError("Unsupported key type");for(var fe=["n","e","d","p","q","dp","dq","qi"],me=[],ue=0;ue<fe.length&&fe[ue]in R;ue++){var xe=me[ue]=_(h(R[fe[ue]]));128&xe[0]&&(me[ue]=new Uint8Array(xe.length+1),me[ue].set(xe,1))}return me.length>2&&(ce=!0,me.unshift(new Uint8Array([0]))),te[0][0]="1.2.840.113549.1.1.1",te.push(new Uint8Array(W(me)).buffer),ce?te.unshift(new Uint8Array([0])):te[1]={tag:3,value:te[1]},new Uint8Array(W(te)).buffer}(P(xe)),xe})),ue}}),["encrypt","decrypt","sign","verify"].forEach(function(R){var ne=x[R];x[R]=function(te,ce,fe,me){if(f&&(!fe.byteLength||me&&!me.byteLength))throw new Error("Empy input is not allowed");var Ne,ue=[].slice.call(arguments),xe=D(te);if(f&&"decrypt"===R&&"AES-GCM"===xe.name){var ge=te.tagLength>>3;ue[2]=(fe.buffer||fe).slice(0,fe.byteLength-ge),te.tag=(fe.buffer||fe).slice(fe.byteLength-ge)}ue[1]=ce._key;try{Ne=ne.apply(x,ue)}catch(Ae){return Promise.reject(Ae)}return f&&(Ne=new Promise(function(Ae,He){Ne.onabort=Ne.onerror=function(qe){He(qe)},Ne.oncomplete=function(Qe){if(Qe=Qe.target.result,"encrypt"===R&&Qe instanceof AesGcmEncryptResult){var ct=Qe.ciphertext,ht=Qe.tag;(Qe=new Uint8Array(ct.byteLength+ht.byteLength)).set(new Uint8Array(ct),0),Qe.set(new Uint8Array(ht),ct.byteLength),Qe=Qe.buffer}Ae(Qe)}})),Ne}}),f){var F=x.digest;x.digest=function(R,ne){if(!ne.byteLength)throw new Error("Empy input is not allowed");var te;try{te=F.call(x,R,ne)}catch(ce){return Promise.reject(ce)}return te=new Promise(function(ce,fe){te.onabort=te.onerror=function(me){fe(me)},te.oncomplete=function(me){ce(me.target.result)}})},$.crypto=Object.create(S,{getRandomValues:{value:function(R){return S.getRandomValues(R)}},subtle:{value:x}}),$.CryptoKey=re}p&&(S.subtle=x,$.Crypto=M,$.SubtleCrypto=u,$.CryptoKey=re)}}}function g(R){return btoa(R).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(R){return R=(R+="===").slice(0,-R.length%4),atob(R.replace(/-/g,"+").replace(/_/g,"/"))}function _(R){for(var ne=new Uint8Array(R.length),te=0;te<R.length;te++)ne[te]=R.charCodeAt(te);return ne}function w(R){return R instanceof ArrayBuffer&&(R=new Uint8Array(R)),String.fromCharCode.apply(String,R)}function D(R){var ne={name:(R.name||R||"").toUpperCase().replace("V","v")};switch(ne.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":R.length&&(ne.length=R.length);break;case"HMAC":R.hash&&(ne.hash=D(R.hash)),R.length&&(ne.length=R.length);break;case"RSAES-PKCS1-v1_5":R.publicExponent&&(ne.publicExponent=new Uint8Array(R.publicExponent)),R.modulusLength&&(ne.modulusLength=R.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":R.hash&&(ne.hash=D(R.hash)),R.publicExponent&&(ne.publicExponent=new Uint8Array(R.publicExponent)),R.modulusLength&&(ne.modulusLength=R.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return ne}function O(R){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[R.name][(R.hash||{}).name||R.length||""]}function P(R){(R instanceof ArrayBuffer||R instanceof Uint8Array)&&(R=JSON.parse(decodeURIComponent(escape(w(R)))));var ne={kty:R.kty,alg:R.alg,ext:R.ext||R.extractable};switch(ne.kty){case"oct":ne.k=R.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(te){te in R&&(ne[te]=R[te])});break;default:throw new TypeError("Unsupported key type")}return ne}function Y(R,ne){if(R instanceof ArrayBuffer&&(R=new Uint8Array(R)),ne||(ne={pos:0,end:R.length}),ne.end-ne.pos<2||ne.end>R.length)throw new RangeError("Malformed DER");var me,te=R[ne.pos++],ce=R[ne.pos++];if(ce>=128){if(ne.end-ne.pos<(ce&=127))throw new RangeError("Malformed DER");for(var fe=0;ce--;)fe<<=8,fe|=R[ne.pos++];ce=fe}if(ne.end-ne.pos<ce)throw new RangeError("Malformed DER");switch(te){case 2:me=R.subarray(ne.pos,ne.pos+=ce);break;case 3:if(R[ne.pos++])throw new Error("Unsupported bit string");ce--;case 4:me=new Uint8Array(R.subarray(ne.pos,ne.pos+=ce)).buffer;break;case 5:me=null;break;case 6:var ue=btoa(w(R.subarray(ne.pos,ne.pos+=ce)));if(!(ue in B))throw new Error("Unsupported OBJECT ID "+ue);me=B[ue];break;case 48:me=[];for(var xe=ne.pos+ce;ne.pos<xe;)me.push(Y(R,ne));break;default:throw new Error("Unsupported DER tag 0x"+te.toString(16))}return me}function W(R,ne){ne||(ne=[]);var te=0,ce=0,fe=ne.length+2;if(ne.push(0,0),R instanceof Uint8Array){te=2,ce=R.length;for(var me=0;me<ce;me++)ne.push(R[me])}else if(R instanceof ArrayBuffer)for(te=4,ce=R.byteLength,R=new Uint8Array(R),me=0;me<ce;me++)ne.push(R[me]);else if(null===R)te=5,ce=0;else if("string"==typeof R&&R in Z){var ue=_(atob(Z[R]));for(te=6,ce=ue.length,me=0;me<ce;me++)ne.push(ue[me])}else if(R instanceof Array){for(me=0;me<R.length;me++)W(R[me],ne);te=48,ce=ne.length-fe}else{if(!("object"==typeof R&&3===R.tag&&R.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+R);for(te=3,ce=(R=new Uint8Array(R.value)).byteLength,ne.push(0),me=0;me<ce;me++)ne.push(R[me]);ce++}if(ce>=128){var xe=ce;for(ce=4,ne.splice(fe,0,xe>>24&255,xe>>16&255,xe>>8&255,255&xe);ce>1&&!(xe>>24);)xe<<=8,ce--;ce<4&&ne.splice(fe,4-ce),ce|=128}return ne.splice(fe-2,2,te,ce),ne}function re(R,ne,te,ce){Object.defineProperties(this,{_key:{value:R},type:{value:R.type,enumerable:!0},extractable:{value:void 0===te?R.extractable:te,enumerable:!0},algorithm:{value:void 0===ne?R.algorithm:ne,enumerable:!0},usages:{value:void 0===ce?R.usages:ce,enumerable:!0}})}function H(R){return"verify"===R||"encrypt"===R||"wrapKey"===R}function k(R){return"sign"===R||"decrypt"===R||"unwrapKey"===R}},"function"==typeof define&&define.amd?define([],function(){return S($)}):"object"==typeof module&&module.exports?module.exports=S($):S($);const I=window.crypto},8140:q=>{"use strict";q.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/hyper-schema#","id":"http://json-schema.org/draft-04/hyper-schema#","title":"JSON Hyper-Schema","allOf":[{"$ref":"http://json-schema.org/draft-04/schema#"}],"properties":{"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}]},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}]},"dependencies":{"additionalProperties":{"anyOf":[{"$ref":"#"},{"type":"array"}]}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}]},"definitions":{"additionalProperties":{"$ref":"#"}},"patternProperties":{"additionalProperties":{"$ref":"#"}},"properties":{"additionalProperties":{"$ref":"#"}},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"},"links":{"type":"array","items":{"$ref":"#/definitions/linkDescription"}},"fragmentResolution":{"type":"string"},"media":{"type":"object","properties":{"type":{"description":"A media type, as described in RFC 2046","type":"string"},"binaryEncoding":{"description":"A content encoding scheme, as described in RFC 2045","type":"string"}}},"pathStart":{"description":"Instances\' URIs must start with this value for this schema to apply to them","type":"string","format":"uri"}},"definitions":{"schemaArray":{"type":"array","items":{"$ref":"#"}},"linkDescription":{"title":"Link Description Object","type":"object","required":["href","rel"],"properties":{"href":{"description":"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing","type":"string"},"rel":{"description":"relation to the target resource of the link","type":"string"},"title":{"description":"a title for the link","type":"string"},"targetSchema":{"description":"JSON Schema describing the link target","$ref":"#"},"mediaType":{"description":"media type (as defined by RFC 2046) describing the link target","type":"string"},"method":{"description":"method for requesting the target of the link (e.g. for HTTP this might be \\"GET\\" or \\"DELETE\\")","type":"string"},"encType":{"description":"The media type in which to submit data along with the request","type":"string","default":"application/json"},"schema":{"description":"Schema describing the data to submit along with the request","$ref":"#"}}}}}')},3953:q=>{"use strict";q.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"$schema":{"type":"string","format":"uri"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')}},q=>{q(q.s=3643)}]);